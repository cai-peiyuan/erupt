{"version":3,"sources":["webpack:///./src/views/common/form/ComponentMinxins.js","webpack:///./src/views/common/form/components/ImageUpload.vue?7233","webpack:///./src/views/common/form/components/ImageUpload.vue","webpack:///src/views/common/form/components/ImageUpload.vue","webpack:///./src/views/common/form/components/ImageUpload.vue?78e1","webpack:///./src/views/common/form/components/ImageUpload.vue?3d6b"],"names":["props","mode","type","String","default","formDisable","Boolean","required","data","watch","_value","newValue","oldValue","this","$emit","computed","get","value","set","val","methods","_opValue","op","_opLabel","label","render","_vm","_c","_self","_m","_v","_s","placeholder","sizeTip","attrs","maxSize","uploadParams","beforeUpload","scopedSlots","_u","key","fn","file","staticClass","url","on","$event","handlePictureCardPreview","_e","handleDownload","handleRemove","slot","staticRenderFns","mixins","componentMinxins","name","components","Array","Number","maxNumber","enableZip","disabled","alows","indexOf","$message","warning","size","fileList","console","log","component"],"mappings":"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","file":"js/chunk-63081f7a.0137a702.js","sourcesContent":["//混入组件数据\nexport default{\n  props:{\n    mode:{\n      type: String,\n      default: 'DESIGN'\n    },\n    formDisable:{\n      type: Boolean,\n      default: false\n    },\n    required:{\n      type: Boolean,\n      default: false\n    },\n  },\n  data(){\n    return {}\n  },\n  watch: {\n    _value(newValue, oldValue) {\n      this.$emit(\"change\", newValue);\n    }\n  },\n  computed: {\n    _value: {\n      get() {\n        return this.value;\n      },\n      set(val) {\n        this.$emit(\"input\", val);\n      }\n    }\n  },\n  methods: {\n    _opValue(op) {\n      if(typeof(op)==='object') {\n        return op.value;\n      }else {\n        return op;\n      }\n    },\n    _opLabel(op) {\n      if(typeof(op)==='object') {\n        return op.label;\n      }else {\n        return op;\n      }\n    }\n  }\n}\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageUpload.vue?vue&type=style&index=0&id=8a1f9b5c&prod&lang=less&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(_vm.mode === 'DESIGN')?_c('div',[_vm._m(0),_c('p',[_vm._v(_vm._s(_vm.placeholder)+\" \"+_vm._s(_vm.sizeTip))])]):_c('div',[_c('el-upload',{attrs:{\"file-list\":_vm._value,\"action\":\"#\",\"limit\":_vm.maxSize,\"with-credentials\":\"\",\"multiple\":_vm.maxSize > 0,\"data\":_vm.uploadParams,\"list-type\":\"picture-card\",\"auto-upload\":false,\"before-upload\":_vm.beforeUpload},scopedSlots:_vm._u([{key:\"file\",fn:function({file}){return _c('div',{},[_c('img',{staticClass:\"el-upload-list__item-thumbnail\",attrs:{\"src\":file.url,\"alt\":\"\"}}),_c('span',{staticClass:\"el-upload-list__item-actions\"},[_c('span',{staticClass:\"el-upload-list__item-preview\",on:{\"click\":function($event){return _vm.handlePictureCardPreview(file)}}},[_c('i',{staticClass:\"el-icon-zoom-in\"})]),(!_vm.formDisable)?_c('span',{staticClass:\"el-upload-list__item-delete\",on:{\"click\":function($event){return _vm.handleDownload(file)}}},[_c('i',{staticClass:\"el-icon-download\"})]):_vm._e(),(!_vm.formDisable)?_c('span',{staticClass:\"el-upload-list__item-delete\",on:{\"click\":function($event){return _vm.handleRemove(file)}}},[_c('i',{staticClass:\"el-icon-delete\"})]):_vm._e()])])}}])},[_c('i',{staticClass:\"el-icon-plus\",attrs:{\"slot\":\"default\"},slot:\"default\"}),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(_vm._s(_vm.placeholder)+\" \"+_vm._s(_vm.sizeTip))])])],1)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"design\"},[_c('i',{staticClass:\"el-icon-plus\"})])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div v-if=\"mode === 'DESIGN'\">\n      <div class=\"design\">\n        <i class=\"el-icon-plus\"></i>\n      </div>\n      <p>{{ placeholder }} {{ sizeTip }}</p>\n    </div>\n    <div v-else>\n      <el-upload :file-list=\"_value\" action=\"#\" :limit=\"maxSize\" with-credentials :multiple=\"maxSize > 0\" :data=\"uploadParams\"\n                 list-type=\"picture-card\" :auto-upload=\"false\" :before-upload=\"beforeUpload\">\n        <i slot=\"default\" class=\"el-icon-plus\"></i>\n        <div slot=\"file\" slot-scope=\"{file}\">\n          <img class=\"el-upload-list__item-thumbnail\" :src=\"file.url\" alt=\"\">\n          <span class=\"el-upload-list__item-actions\">\n            <span class=\"el-upload-list__item-preview\" @click=\"handlePictureCardPreview(file)\">\n              <i class=\"el-icon-zoom-in\"></i>\n            </span>\n            <span v-if=\"!formDisable\" class=\"el-upload-list__item-delete\" @click=\"handleDownload(file)\">\n              <i class=\"el-icon-download\"></i>\n            </span>\n            <span v-if=\"!formDisable\" class=\"el-upload-list__item-delete\" @click=\"handleRemove(file)\">\n              <i class=\"el-icon-delete\"></i>\n            </span>\n          </span>\n        </div>\n        <div slot=\"tip\" class=\"el-upload__tip\">{{ placeholder }} {{ sizeTip }}</div>\n      </el-upload>\n    </div>\n  </div>\n</template>\n\n<script>\nimport componentMinxins from '../ComponentMinxins'\n\nexport default {\n  mixins: [componentMinxins],\n  name: \"ImageUpload\",\n  components: {},\n  props: {\n    value:{\n      type: Array,\n      default: () => {\n        return []\n      }\n    },\n    placeholder: {\n      type: String,\n      default: '请选择图片'\n    },\n    maxSize: {\n      type: Number,\n      default: 5\n    },\n    maxNumber:{\n      type: Number,\n      default: 10\n    },\n    enableZip: {\n      type: Boolean,\n      default: true\n    }\n  },\n  computed: {\n    sizeTip() {\n      return this.maxSize > 0 ? `| 每张图不超过${this.maxSize}MB` : ''\n    }\n  },\n  data() {\n    return {\n      disabled: false,\n      uploadParams: {}\n    }\n  },\n  methods: {\n    beforeUpload(file){\n      const alows = ['image/jpeg', 'image/png', 'image/gif', 'image/jpg'];\n      if (alows.indexOf(file.type) === -1){\n        this.$message.warning(\"存在不支持的图片格式\")\n      }else if(this.maxSize > 0 && file.size / 1024 / 1024 > this.maxSize){\n        this.$message.warning(`单张图片最大不超过 ${this.maxSize}MB`)\n      }else {\n        return true\n      }\n      return false\n    },\n    handleRemove(file, fileList) {\n      console.log(file, fileList);\n    },\n    handlePictureCardPreview(file) {\n      console.log(file)\n    },\n    handleDownload(file) {\n      console.log(file);\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.design {\n  i {\n    padding: 10px;\n    font-size: xx-large;\n    background: white;\n    border: 1px dashed #8c8c8c;\n  }\n}\n/deep/ .el-upload--picture-card{\n  width: 80px;\n  height: 80px;\n  line-height: 87px;\n}\n/deep/ .el-upload-list__item{\n  width: 80px;\n  height: 80px;\n  .el-upload-list__item-actions{\n    &> span+span{\n      margin: 1px;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageUpload.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageUpload.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImageUpload.vue?vue&type=template&id=8a1f9b5c&scoped=true&\"\nimport script from \"./ImageUpload.vue?vue&type=script&lang=js&\"\nexport * from \"./ImageUpload.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ImageUpload.vue?vue&type=style&index=0&id=8a1f9b5c&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8a1f9b5c\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}