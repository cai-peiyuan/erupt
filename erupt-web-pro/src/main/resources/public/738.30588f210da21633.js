(self.webpackChunkerupt=self.webpackChunkerupt||[]).push([[738],{378:(fr,ke,ut)=>{"use strict";ut.d(ke,{Z:()=>Ee});var he="*";const Ee=function(){function fe(){this._events={}}return fe.prototype.on=function(le,qt,ne){return this._events[le]||(this._events[le]=[]),this._events[le].push({callback:qt,once:!!ne}),this},fe.prototype.once=function(le,qt){return this.on(le,qt,!0)},fe.prototype.emit=function(le){for(var qt=this,ne=[],kt=1;kt<arguments.length;kt++)ne[kt-1]=arguments[kt];var Ce=this._events[he]||[],ee=function(_e){for(var Ot=_e.length,St=0;St<Ot;St++)if(_e[St]){var mt=_e[St],pt=mt.callback;mt.once&&(_e.splice(St,1),0===_e.length&&delete qt._events[le],Ot--,St--),pt.apply(qt,ne)}};ee(this._events[le]||[]),ee(Ce)},fe.prototype.off=function(le,qt){if(le)if(qt){for(var ne=this._events[le]||[],kt=ne.length,Ut=0;Ut<kt;Ut++)ne[Ut].callback===qt&&(ne.splice(Ut,1),kt--,Ut--);0===ne.length&&delete this._events[le]}else delete this._events[le];else this._events={};return this},fe.prototype.getEvents=function(){return this._events},fe}()},3583:(fr,ke,ut)=>{"use strict";ut.d(ke,{Z:()=>le});var he=ut(7582),te=ut(378),Ee=ut(5998);const le=function(qt){function ne(kt){var Ut=qt.call(this)||this;Ut.destroyed=!1;var Ce=Ut.getDefaultCfg();return Ut.cfg=(0,Ee.CD)(Ce,kt),Ut}return(0,he.ZT)(ne,qt),ne.prototype.getDefaultCfg=function(){return{}},ne.prototype.get=function(kt){return this.cfg[kt]},ne.prototype.set=function(kt,Ut){this.cfg[kt]=Ut},ne.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},ne}(te.Z)},1370:(fr,ke,ut)=>{"use strict";ut.d(ke,{Z:()=>Xn});var Ce,ee,he=ut(7582),te=ut(2260),Ee=ut(3213),fe=ut(5998),le=ut(8250),qt=0,ne=0,kt=0,Ut=1e3,_e=0,Ot=0,St=0,mt="object"==typeof performance&&performance.now?performance:Date,pt="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(st){setTimeout(st,17)};function Jt(){return Ot||(pt(jt),Ot=mt.now()+St)}function jt(){Ot=0}function Kt(){this._call=this._time=this._next=null}function Rt(st,rt,ht){var Tt=new Kt;return Tt.restart(st,rt,ht),Tt}function C(){Ot=(_e=mt.now())+St,qt=ne=0;try{!function dt(){Jt(),++qt;for(var rt,st=Ce;st;)(rt=Ot-st._time)>=0&&st._call.call(null,rt),st=st._next;--qt}()}finally{qt=0,function Xt(){for(var st,ht,rt=Ce,Tt=1/0;rt;)rt._call?(Tt>rt._time&&(Tt=rt._time),st=rt,rt=rt._next):(ht=rt._next,rt._next=null,rt=st?st._next=ht:Ce=ht);ee=st,Se(Tt)}(),Ot=0}}function Bt(){var st=mt.now(),rt=st-_e;rt>Ut&&(St-=rt,_e=st)}function Se(st){qt||(ne&&(ne=clearTimeout(ne)),st-Ot>24?(st<1/0&&(ne=setTimeout(C,st-mt.now()-St)),kt&&(kt=clearInterval(kt))):(kt||(_e=mt.now(),kt=setInterval(Bt,Ut)),qt=1,pt(C)))}function be(st,rt,ht){st.prototype=rt.prototype=ht,ht.constructor=st}function Mt(st,rt){var ht=Object.create(st.prototype);for(var Tt in rt)ht[Tt]=rt[Tt];return ht}function zt(){}Kt.prototype=Rt.prototype={constructor:Kt,restart:function(st,rt,ht){if("function"!=typeof st)throw new TypeError("callback is not a function");ht=(null==ht?Jt():+ht)+(null==rt?0:+rt),!this._next&&ee!==this&&(ee?ee._next=this:Ce=this,ee=this),this._call=st,this._time=ht,Se()},stop:function(){this._call&&(this._call=null,this._time=1/0,Se())}};var Vt=1/.7,Nt="\\s*([+-]?\\d+)\\s*",Dt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",W="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",at=/^#([0-9a-f]{3,8})$/,Ht=new RegExp(`^rgb\\(${Nt},${Nt},${Nt}\\)$`),ue=new RegExp(`^rgb\\(${W},${W},${W}\\)$`),xe=new RegExp(`^rgba\\(${Nt},${Nt},${Nt},${Dt}\\)$`),Fe=new RegExp(`^rgba\\(${W},${W},${W},${Dt}\\)$`),et=new RegExp(`^hsl\\(${Dt},${W},${W}\\)$`),ct=new RegExp(`^hsla\\(${Dt},${W},${W},${Dt}\\)$`),ft={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Q(){return this.rgb().formatHex()}function J(){return this.rgb().formatRgb()}function K(st){var rt,ht;return st=(st+"").trim().toLowerCase(),(rt=at.exec(st))?(ht=rt[1].length,rt=parseInt(rt[1],16),6===ht?N(rt):3===ht?new tt(rt>>8&15|rt>>4&240,rt>>4&15|240&rt,(15&rt)<<4|15&rt,1):8===ht?$(rt>>24&255,rt>>16&255,rt>>8&255,(255&rt)/255):4===ht?$(rt>>12&15|rt>>8&240,rt>>8&15|rt>>4&240,rt>>4&15|240&rt,((15&rt)<<4|15&rt)/255):null):(rt=Ht.exec(st))?new tt(rt[1],rt[2],rt[3],1):(rt=ue.exec(st))?new tt(255*rt[1]/100,255*rt[2]/100,255*rt[3]/100,1):(rt=xe.exec(st))?$(rt[1],rt[2],rt[3],rt[4]):(rt=Fe.exec(st))?$(255*rt[1]/100,255*rt[2]/100,255*rt[3]/100,rt[4]):(rt=et.exec(st))?Te(rt[1],rt[2]/100,rt[3]/100,1):(rt=ct.exec(st))?Te(rt[1],rt[2]/100,rt[3]/100,rt[4]):ft.hasOwnProperty(st)?N(ft[st]):"transparent"===st?new tt(NaN,NaN,NaN,0):null}function N(st){return new tt(st>>16&255,st>>8&255,255&st,1)}function $(st,rt,ht,Tt){return Tt<=0&&(st=rt=ht=NaN),new tt(st,rt,ht,Tt)}function ot(st,rt,ht,Tt){return 1===arguments.length?function Z(st){return st instanceof zt||(st=K(st)),st?new tt((st=st.rgb()).r,st.g,st.b,st.opacity):new tt}(st):new tt(st,rt,ht,Tt??1)}function tt(st,rt,ht,Tt){this.r=+st,this.g=+rt,this.b=+ht,this.opacity=+Tt}function xt(){return`#${Be(this.r)}${Be(this.g)}${Be(this.b)}`}function Yt(){const st=ye(this.opacity);return`${1===st?"rgb(":"rgba("}${ie(this.r)}, ${ie(this.g)}, ${ie(this.b)}${1===st?")":`, ${st})`}`}function ye(st){return isNaN(st)?1:Math.max(0,Math.min(1,st))}function ie(st){return Math.max(0,Math.min(255,Math.round(st)||0))}function Be(st){return((st=ie(st))<16?"0":"")+st.toString(16)}function Te(st,rt,ht,Tt){return Tt<=0?st=rt=ht=NaN:ht<=0||ht>=1?st=rt=NaN:rt<=0&&(st=NaN),new lt(st,rt,ht,Tt)}function pe(st){if(st instanceof lt)return new lt(st.h,st.s,st.l,st.opacity);if(st instanceof zt||(st=K(st)),!st)return new lt;if(st instanceof lt)return st;var rt=(st=st.rgb()).r/255,ht=st.g/255,Tt=st.b/255,re=Math.min(rt,ht,Tt),Oe=Math.max(rt,ht,Tt),Ue=NaN,De=Oe-re,xr=(Oe+re)/2;return De?(Ue=rt===Oe?(ht-Tt)/De+6*(ht<Tt):ht===Oe?(Tt-rt)/De+2:(rt-ht)/De+4,De/=xr<.5?Oe+re:2-Oe-re,Ue*=60):De=xr>0&&xr<1?0:Ue,new lt(Ue,De,xr,st.opacity)}function lt(st,rt,ht,Tt){this.h=+st,this.s=+rt,this.l=+ht,this.opacity=+Tt}function wt(st){return(st=(st||0)%360)<0?st+360:st}function Et(st){return Math.max(0,Math.min(1,st||0))}function Qt(st,rt,ht){return 255*(st<60?rt+(ht-rt)*st/60:st<180?ht:st<240?rt+(ht-rt)*(240-st)/60:rt)}function ce(st,rt,ht,Tt,re){var Oe=st*st,Ue=Oe*st;return((1-3*st+3*Oe-Ue)*rt+(4-6*Oe+3*Ue)*ht+(1+3*st+3*Oe-3*Ue)*Tt+Ue*re)/6}be(zt,K,{copy(st){return Object.assign(new this.constructor,this,st)},displayable(){return this.rgb().displayable()},hex:Q,formatHex:Q,formatHex8:function bt(){return this.rgb().formatHex8()},formatHsl:function It(){return pe(this).formatHsl()},formatRgb:J,toString:J}),be(tt,ot,Mt(zt,{brighter(st){return st=null==st?Vt:Math.pow(Vt,st),new tt(this.r*st,this.g*st,this.b*st,this.opacity)},darker(st){return st=null==st?.7:Math.pow(.7,st),new tt(this.r*st,this.g*st,this.b*st,this.opacity)},rgb(){return this},clamp(){return new tt(ie(this.r),ie(this.g),ie(this.b),ye(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xt,formatHex:xt,formatHex8:function Ct(){return`#${Be(this.r)}${Be(this.g)}${Be(this.b)}${Be(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Yt,toString:Yt})),be(lt,function nt(st,rt,ht,Tt){return 1===arguments.length?pe(st):new lt(st,rt,ht,Tt??1)},Mt(zt,{brighter(st){return st=null==st?Vt:Math.pow(Vt,st),new lt(this.h,this.s,this.l*st,this.opacity)},darker(st){return st=null==st?.7:Math.pow(.7,st),new lt(this.h,this.s,this.l*st,this.opacity)},rgb(){var st=this.h%360+360*(this.h<0),rt=isNaN(st)||isNaN(this.s)?0:this.s,ht=this.l,Tt=ht+(ht<.5?ht:1-ht)*rt,re=2*ht-Tt;return new tt(Qt(st>=240?st-240:st+120,re,Tt),Qt(st,re,Tt),Qt(st<120?st+240:st-120,re,Tt),this.opacity)},clamp(){return new lt(wt(this.h),Et(this.s),Et(this.l),ye(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const st=ye(this.opacity);return`${1===st?"hsl(":"hsla("}${wt(this.h)}, ${100*Et(this.s)}%, ${100*Et(this.l)}%${1===st?")":`, ${st})`}`}}));const Zt=st=>()=>st;function ze(st,rt){var ht=rt-st;return ht?function Le(st,rt){return function(ht){return st+ht*rt}}(st,ht):Zt(isNaN(st)?rt:st)}const je=function st(rt){var ht=function Je(st){return 1==(st=+st)?ze:function(rt,ht){return ht-rt?function we(st,rt,ht){return st=Math.pow(st,ht),rt=Math.pow(rt,ht)-st,ht=1/ht,function(Tt){return Math.pow(st+Tt*rt,ht)}}(rt,ht,st):Zt(isNaN(rt)?ht:rt)}}(rt);function Tt(re,Oe){var Ue=ht((re=ot(re)).r,(Oe=ot(Oe)).r),De=ht(re.g,Oe.g),xr=ht(re.b,Oe.b),nn=ze(re.opacity,Oe.opacity);return function(Qn){return re.r=Ue(Qn),re.g=De(Qn),re.b=xr(Qn),re.opacity=nn(Qn),re+""}}return Tt.gamma=st,Tt}(1);function qe(st){return function(rt){var Ue,De,ht=rt.length,Tt=new Array(ht),re=new Array(ht),Oe=new Array(ht);for(Ue=0;Ue<ht;++Ue)De=ot(rt[Ue]),Tt[Ue]=De.r||0,re[Ue]=De.g||0,Oe[Ue]=De.b||0;return Tt=st(Tt),re=st(re),Oe=st(Oe),De.opacity=1,function(xr){return De.r=Tt(xr),De.g=re(xr),De.b=Oe(xr),De+""}}}function tr(st,rt){rt||(rt=[]);var re,ht=st?Math.min(rt.length,st.length):0,Tt=rt.slice();return function(Oe){for(re=0;re<ht;++re)Tt[re]=st[re]*(1-Oe)+rt[re]*Oe;return Tt}}function pr(st){return ArrayBuffer.isView(st)&&!(st instanceof DataView)}function sr(st,rt){return(pr(rt)?tr:dr)(st,rt)}function dr(st,rt){var Ue,ht=rt?rt.length:0,Tt=st?Math.min(ht,st.length):0,re=new Array(Tt),Oe=new Array(ht);for(Ue=0;Ue<Tt;++Ue)re[Ue]=ji(st[Ue],rt[Ue]);for(;Ue<ht;++Ue)Oe[Ue]=rt[Ue];return function(De){for(Ue=0;Ue<Tt;++Ue)Oe[Ue]=re[Ue](De);return Oe}}function Or(st,rt){var ht=new Date;return st=+st,rt=+rt,function(Tt){return ht.setTime(st*(1-Tt)+rt*Tt),ht}}function Ar(st,rt){return st=+st,rt=+rt,function(ht){return st*(1-ht)+rt*ht}}function gn(st,rt){var re,ht={},Tt={};for(re in(null===st||"object"!=typeof st)&&(st={}),(null===rt||"object"!=typeof rt)&&(rt={}),rt)re in st?ht[re]=ji(st[re],rt[re]):Tt[re]=rt[re];return function(Oe){for(re in ht)Tt[re]=ht[re](Oe);return Tt}}qe(function oe(st){var rt=st.length-1;return function(ht){var Tt=ht<=0?ht=0:ht>=1?(ht=1,rt-1):Math.floor(ht*rt),re=st[Tt],Oe=st[Tt+1];return ce((ht-Tt/rt)*rt,Tt>0?st[Tt-1]:2*re-Oe,re,Oe,Tt<rt-1?st[Tt+2]:2*Oe-re)}}),qe(function se(st){var rt=st.length;return function(ht){var Tt=Math.floor(((ht%=1)<0?++ht:ht)*rt);return ce((ht-Tt/rt)*rt,st[(Tt+rt-1)%rt],st[Tt%rt],st[(Tt+1)%rt],st[(Tt+2)%rt])}});var Si=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Hn=new RegExp(Si.source,"g");function jo(st,rt){var Tt,re,Oe,ht=Si.lastIndex=Hn.lastIndex=0,Ue=-1,De=[],xr=[];for(st+="",rt+="";(Tt=Si.exec(st))&&(re=Hn.exec(rt));)(Oe=re.index)>ht&&(Oe=rt.slice(ht,Oe),De[Ue]?De[Ue]+=Oe:De[++Ue]=Oe),(Tt=Tt[0])===(re=re[0])?De[Ue]?De[Ue]+=re:De[++Ue]=re:(De[++Ue]=null,xr.push({i:Ue,x:Ar(Tt,re)})),ht=Hn.lastIndex;return ht<rt.length&&(Oe=rt.slice(ht),De[Ue]?De[Ue]+=Oe:De[++Ue]=Oe),De.length<2?xr[0]?function qo(st){return function(rt){return st(rt)+""}}(xr[0].x):function yo(st){return function(){return st}}(rt):(rt=xr.length,function(nn){for(var pa,Qn=0;Qn<rt;++Qn)De[(pa=xr[Qn]).i]=pa.x(nn);return De.join("")})}function ji(st,rt){var Tt,ht=typeof rt;return null==rt||"boolean"===ht?Zt(rt):("number"===ht?Ar:"string"===ht?(Tt=K(rt))?(rt=Tt,je):jo:rt instanceof K?je:rt instanceof Date?Or:pr(rt)?tr:Array.isArray(rt)?dr:"function"!=typeof rt.valueOf&&"function"!=typeof rt.toString||isNaN(rt)?gn:Ar)(st,rt)}var mo=ut(9730),An=ut(994),xo=function(st){return["fill","stroke","fillStyle","strokeStyle"].includes(st)},Ka=function(st){return/^[r,R,L,l]{1}[\s]*\(/.test(st)},Jo=[1,0,0,0,1,0,0,0,1];function Co(st,rt,ht){var Tt=rt.startTime;if(ht<Tt+rt.delay||rt._paused)return!1;var Oe,Ue=rt.duration,xr=(0,mo._)(rt.easing);if(ht=ht-Tt-rt.delay,rt.repeat)Oe=xr(Oe=ht%Ue/Ue);else{if(!((Oe=ht/Ue)<1))return st.attr(rt.onFrame?rt.onFrame(1):rt.toAttrs),!0;Oe=xr(Oe)}if(rt.onFrame){var nn=rt.onFrame(Oe);st.attr(nn)}else!function Ko(st,rt,ht){var Tt={},re=rt.fromAttrs,Oe=rt.toAttrs;if(!st.destroyed){var Ue;for(var De in Oe)if(!(0,le.Xy)(re[De],Oe[De]))if("path"===De){var xr=Oe[De],nn=re[De];xr.length>nn.length?(xr=An.parsePathString(Oe[De]),nn=An.parsePathString(re[De]),nn=An.fillPathByDiff(nn,xr),nn=An.formatPath(nn,xr),rt.fromAttrs.path=nn,rt.toAttrs.path=xr):rt.pathFormatted||(xr=An.parsePathString(Oe[De]),nn=An.parsePathString(re[De]),nn=An.formatPath(nn,xr),rt.fromAttrs.path=nn,rt.toAttrs.path=xr,rt.pathFormatted=!0),Tt[De]=[];for(var Qn=0;Qn<xr.length;Qn++){for(var pa=xr[Qn],Ia=nn[Qn],Qa=[],Oa=0;Oa<pa.length;Oa++)(0,le.hj)(pa[Oa])&&Ia&&(0,le.hj)(Ia[Oa])?(Ue=ji(Ia[Oa],pa[Oa]),Qa.push(Ue(ht))):Qa.push(pa[Oa]);Tt[De].push(Qa)}}else if("matrix"===De){var Qc=sr(re[De]||Jo,Oe[De]||Jo)(ht);Tt[De]=Qc}else xo(De)&&Ka(Oe[De])?Tt[De]=Oe[De]:(0,le.mf)(Oe[De])||(Ue=ji(re[De],Oe[De]),Tt[De]=Ue(ht));st.attr(Tt)}}(st,rt,Oe);return!1}const Du=function(){function st(rt){this.animators=[],this.current=0,this.timer=null,this.canvas=rt}return st.prototype.initTimer=function(){var Tt,re,Oe,rt=this;this.timer=Rt(function(Ue){if(rt.current=Ue,rt.animators.length>0){for(var De=rt.animators.length-1;De>=0;De--)if((Tt=rt.animators[De]).destroyed)rt.removeAnimator(De);else{if(!Tt.isAnimatePaused())for(var xr=(re=Tt.get("animations")).length-1;xr>=0;xr--)Co(Tt,Oe=re[xr],Ue)&&(re.splice(xr,1),Oe.callback&&Oe.callback());0===re.length&&rt.removeAnimator(De)}rt.canvas.get("autoDraw")||rt.canvas.draw()}})},st.prototype.addAnimator=function(rt){this.animators.push(rt)},st.prototype.removeAnimator=function(rt){this.animators.splice(rt,1)},st.prototype.isAnimating=function(){return!!this.animators.length},st.prototype.stop=function(){this.timer&&this.timer.stop()},st.prototype.stopAllAnimations=function(rt){void 0===rt&&(rt=!0),this.animators.forEach(function(ht){ht.stopAnimate(rt)}),this.animators=[],this.canvas.draw()},st.prototype.getTime=function(){return this.current},st}();var $c=ut(3128),Ns=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function Rl(st,rt,ht){ht.name=rt,ht.target=st,ht.currentTarget=st,ht.delegateTarget=st,st.emit(rt,ht)}function Zc(st,rt,ht){if(ht.bubbles){var Tt=void 0,re=!1;if("mouseenter"===rt?(Tt=ht.fromShape,re=!0):"mouseleave"===rt&&(re=!0,Tt=ht.toShape),st.isCanvas()&&re)return;if(Tt&&(0,fe.UY)(st,Tt))return void(ht.bubbles=!1);ht.name=rt,ht.currentTarget=st,ht.delegateTarget=st,st.emit(rt,ht)}}const jc=function(){function st(rt){var ht=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(Tt){ht._triggerEvent(Tt.type,Tt)},this._onDocumentMove=function(Tt){if(ht.canvas.get("el")!==Tt.target&&(ht.dragging||ht.currentShape)){var Ue=ht._getPointInfo(Tt);ht.dragging&&ht._emitEvent("drag",Tt,Ue,ht.draggingShape)}},this._onDocumentMouseUp=function(Tt){if(ht.canvas.get("el")!==Tt.target&&ht.dragging){var Ue=ht._getPointInfo(Tt);ht.draggingShape&&ht._emitEvent("drop",Tt,Ue,null),ht._emitEvent("dragend",Tt,Ue,ht.draggingShape),ht._afterDrag(ht.draggingShape,Ue,Tt)}},this.canvas=rt.canvas}return st.prototype.init=function(){this._bindEvents()},st.prototype._bindEvents=function(){var rt=this,ht=this.canvas.get("el");(0,fe.S6)(Ns,function(Tt){ht.addEventListener(Tt,rt._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},st.prototype._clearEvents=function(){var rt=this,ht=this.canvas.get("el");(0,fe.S6)(Ns,function(Tt){ht.removeEventListener(Tt,rt._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},st.prototype._getEventObj=function(rt,ht,Tt,re,Oe,Ue){var De=new $c.Z(rt,ht);return De.fromShape=Oe,De.toShape=Ue,De.x=Tt.x,De.y=Tt.y,De.clientX=Tt.clientX,De.clientY=Tt.clientY,De.propagationPath.push(re),De},st.prototype._getShape=function(rt,ht){return this.canvas.getShape(rt.x,rt.y,ht)},st.prototype._getPointInfo=function(rt){var ht=this.canvas,Tt=ht.getClientByEvent(rt),re=ht.getPointByEvent(rt);return{x:re.x,y:re.y,clientX:Tt.x,clientY:Tt.y}},st.prototype._triggerEvent=function(rt,ht){var Tt=this._getPointInfo(ht),re=this._getShape(Tt,ht),Oe=this["_on"+rt],Ue=!1;if(Oe)Oe.call(this,Tt,re,ht);else{var De=this.currentShape;"mouseenter"===rt||"dragenter"===rt||"mouseover"===rt?(this._emitEvent(rt,ht,Tt,null,null,re),re&&this._emitEvent(rt,ht,Tt,re,null,re),"mouseenter"===rt&&this.draggingShape&&this._emitEvent("dragenter",ht,Tt,null)):"mouseleave"===rt||"dragleave"===rt||"mouseout"===rt?(Ue=!0,De&&this._emitEvent(rt,ht,Tt,De,De,null),this._emitEvent(rt,ht,Tt,null,De,null),"mouseleave"===rt&&this.draggingShape&&this._emitEvent("dragleave",ht,Tt,null)):this._emitEvent(rt,ht,Tt,re,null,null)}if(Ue||(this.currentShape=re),re&&!re.get("destroyed")){var xr=this.canvas;xr.get("el").style.cursor=re.attr("cursor")||xr.get("cursor")}},st.prototype._onmousedown=function(rt,ht,Tt){0===Tt.button&&(this.mousedownShape=ht,this.mousedownPoint=rt,this.mousedownTimeStamp=Tt.timeStamp),this._emitEvent("mousedown",Tt,rt,ht,null,null)},st.prototype._emitMouseoverEvents=function(rt,ht,Tt,re){var Oe=this.canvas.get("el");Tt!==re&&(Tt&&(this._emitEvent("mouseout",rt,ht,Tt,Tt,re),this._emitEvent("mouseleave",rt,ht,Tt,Tt,re),(!re||re.get("destroyed"))&&(Oe.style.cursor=this.canvas.get("cursor"))),re&&(this._emitEvent("mouseover",rt,ht,re,Tt,re),this._emitEvent("mouseenter",rt,ht,re,Tt,re)))},st.prototype._emitDragoverEvents=function(rt,ht,Tt,re,Oe){re?(re!==Tt&&(Tt&&this._emitEvent("dragleave",rt,ht,Tt,Tt,re),this._emitEvent("dragenter",rt,ht,re,Tt,re)),Oe||this._emitEvent("dragover",rt,ht,re)):Tt&&this._emitEvent("dragleave",rt,ht,Tt,Tt,re),Oe&&this._emitEvent("dragover",rt,ht,re)},st.prototype._afterDrag=function(rt,ht,Tt){rt&&(rt.set("capture",!0),this.draggingShape=null),this.dragging=!1;var re=this._getShape(ht,Tt);re!==rt&&this._emitMouseoverEvents(Tt,ht,rt,re),this.currentShape=re},st.prototype._onmouseup=function(rt,ht,Tt){if(0===Tt.button){var re=this.draggingShape;this.dragging?(re&&this._emitEvent("drop",Tt,rt,ht),this._emitEvent("dragend",Tt,rt,re),this._afterDrag(re,rt,Tt)):(this._emitEvent("mouseup",Tt,rt,ht),ht===this.mousedownShape&&this._emitEvent("click",Tt,rt,ht),this.mousedownShape=null,this.mousedownPoint=null)}},st.prototype._ondragover=function(rt,ht,Tt){Tt.preventDefault(),this._emitDragoverEvents(Tt,rt,this.currentShape,ht,!0)},st.prototype._onmousemove=function(rt,ht,Tt){var re=this.canvas,Oe=this.currentShape,Ue=this.draggingShape;if(this.dragging)Ue&&this._emitDragoverEvents(Tt,rt,Oe,ht,!1),this._emitEvent("drag",Tt,rt,Ue);else{var De=this.mousedownPoint;if(De){var xr=this.mousedownShape,pa=De.clientX-rt.clientX,Ia=De.clientY-rt.clientY;Tt.timeStamp-this.mousedownTimeStamp>120||pa*pa+Ia*Ia>40?xr&&xr.get("draggable")?((Ue=this.mousedownShape).set("capture",!1),this.draggingShape=Ue,this.dragging=!0,this._emitEvent("dragstart",Tt,rt,Ue),this.mousedownShape=null,this.mousedownPoint=null):!xr&&re.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",Tt,rt,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(Tt,rt,Oe,ht),this._emitEvent("mousemove",Tt,rt,ht)):(this._emitMouseoverEvents(Tt,rt,Oe,ht),this._emitEvent("mousemove",Tt,rt,ht))}else this._emitMouseoverEvents(Tt,rt,Oe,ht),this._emitEvent("mousemove",Tt,rt,ht)}},st.prototype._emitEvent=function(rt,ht,Tt,re,Oe,Ue){var De=this._getEventObj(rt,ht,Tt,re,Oe,Ue);if(re){De.shape=re,Rl(re,rt,De);for(var xr=re.getParent();xr;)xr.emitDelegation(rt,De),De.propagationStopped||Zc(xr,rt,De),De.propagationPath.push(xr),xr=xr.getParent()}else Rl(this.canvas,rt,De)},st.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},st}();var Bu=(0,te.qY)(),Kc=Bu&&"firefox"===Bu.name;const Xn=function(st){function rt(ht){var Tt=st.call(this,ht)||this;return Tt.initContainer(),Tt.initDom(),Tt.initEvents(),Tt.initTimeline(),Tt}return(0,he.ZT)(rt,st),rt.prototype.getDefaultCfg=function(){var ht=st.prototype.getDefaultCfg.call(this);return ht.cursor="default",ht.supportCSSTransform=!1,ht},rt.prototype.initContainer=function(){var ht=this.get("container");(0,fe.HD)(ht)&&(ht=document.getElementById(ht),this.set("container",ht))},rt.prototype.initDom=function(){var ht=this.createDom();this.set("el",ht),this.get("container").appendChild(ht),this.setDOMSize(this.get("width"),this.get("height"))},rt.prototype.initEvents=function(){var ht=new jc({canvas:this});ht.init(),this.set("eventController",ht)},rt.prototype.initTimeline=function(){var ht=new Du(this);this.set("timeline",ht)},rt.prototype.setDOMSize=function(ht,Tt){var re=this.get("el");fe.jU&&(re.style.width=ht+"px",re.style.height=Tt+"px")},rt.prototype.changeSize=function(ht,Tt){this.setDOMSize(ht,Tt),this.set("width",ht),this.set("height",Tt),this.onCanvasChange("changeSize")},rt.prototype.getRenderer=function(){return this.get("renderer")},rt.prototype.getCursor=function(){return this.get("cursor")},rt.prototype.setCursor=function(ht){this.set("cursor",ht);var Tt=this.get("el");fe.jU&&Tt&&(Tt.style.cursor=ht)},rt.prototype.getPointByEvent=function(ht){if(this.get("supportCSSTransform")){if(Kc&&!(0,fe.kK)(ht.layerX)&&ht.layerX!==ht.offsetX)return{x:ht.layerX,y:ht.layerY};if(!(0,fe.kK)(ht.offsetX))return{x:ht.offsetX,y:ht.offsetY}}var re=this.getClientByEvent(ht);return this.getPointByClient(re.x,re.y)},rt.prototype.getClientByEvent=function(ht){var Tt=ht;return ht.touches&&(Tt="touchend"===ht.type?ht.changedTouches[0]:ht.touches[0]),{x:Tt.clientX,y:Tt.clientY}},rt.prototype.getPointByClient=function(ht,Tt){var Oe=this.get("el").getBoundingClientRect();return{x:ht-Oe.left,y:Tt-Oe.top}},rt.prototype.getClientByPoint=function(ht,Tt){var Oe=this.get("el").getBoundingClientRect();return{x:ht+Oe.left,y:Tt+Oe.top}},rt.prototype.draw=function(){},rt.prototype.removeDom=function(){var ht=this.get("el");ht.parentNode.removeChild(ht)},rt.prototype.clearEvents=function(){this.get("eventController").destroy()},rt.prototype.isCanvas=function(){return!0},rt.prototype.getParent=function(){return null},rt.prototype.destroy=function(){var ht=this.get("timeline");this.get("destroyed")||(this.clear(),ht&&ht.stop(),this.clearEvents(),this.removeDom(),st.prototype.destroy.call(this))},rt}(Ee.Z)},3213:(fr,ke,ut)=>{"use strict";ut.d(ke,{Z:()=>_e});var he=ut(7582),te=ut(9642),Ee=ut(5998),fe={},le="_INDEX";function qt(Ot,St){if(Ot.set("canvas",St),Ot.isGroup()){var mt=Ot.get("children");mt.length&&mt.forEach(function(pt){qt(pt,St)})}}function ne(Ot,St){if(Ot.set("timeline",St),Ot.isGroup()){var mt=Ot.get("children");mt.length&&mt.forEach(function(pt){ne(pt,St)})}}const _e=function(Ot){function St(){return null!==Ot&&Ot.apply(this,arguments)||this}return(0,he.ZT)(St,Ot),St.prototype.isCanvas=function(){return!1},St.prototype.getBBox=function(){var mt=1/0,pt=-1/0,Jt=1/0,jt=-1/0,Kt=this.getChildren().filter(function(dt){return dt.get("visible")&&(!dt.isGroup()||dt.isGroup()&&dt.getChildren().length>0)});return Kt.length>0?(0,Ee.S6)(Kt,function(dt){var C=dt.getBBox(),Bt=C.minX,Xt=C.maxX,Se=C.minY,be=C.maxY;Bt<mt&&(mt=Bt),Xt>pt&&(pt=Xt),Se<Jt&&(Jt=Se),be>jt&&(jt=be)}):(mt=0,pt=0,Jt=0,jt=0),{x:mt,y:Jt,minX:mt,minY:Jt,maxX:pt,maxY:jt,width:pt-mt,height:jt-Jt}},St.prototype.getCanvasBBox=function(){var mt=1/0,pt=-1/0,Jt=1/0,jt=-1/0,Kt=this.getChildren().filter(function(dt){return dt.get("visible")&&(!dt.isGroup()||dt.isGroup()&&dt.getChildren().length>0)});return Kt.length>0?(0,Ee.S6)(Kt,function(dt){var C=dt.getCanvasBBox(),Bt=C.minX,Xt=C.maxX,Se=C.minY,be=C.maxY;Bt<mt&&(mt=Bt),Xt>pt&&(pt=Xt),Se<Jt&&(Jt=Se),be>jt&&(jt=be)}):(mt=0,pt=0,Jt=0,jt=0),{x:mt,y:Jt,minX:mt,minY:Jt,maxX:pt,maxY:jt,width:pt-mt,height:jt-Jt}},St.prototype.getDefaultCfg=function(){var mt=Ot.prototype.getDefaultCfg.call(this);return mt.children=[],mt},St.prototype.onAttrChange=function(mt,pt,Jt){if(Ot.prototype.onAttrChange.call(this,mt,pt,Jt),"matrix"===mt){var jt=this.getTotalMatrix();this._applyChildrenMarix(jt)}},St.prototype.applyMatrix=function(mt){var pt=this.getTotalMatrix();Ot.prototype.applyMatrix.call(this,mt);var Jt=this.getTotalMatrix();Jt!==pt&&this._applyChildrenMarix(Jt)},St.prototype._applyChildrenMarix=function(mt){var pt=this.getChildren();(0,Ee.S6)(pt,function(Jt){Jt.applyMatrix(mt)})},St.prototype.addShape=function(){for(var mt=[],pt=0;pt<arguments.length;pt++)mt[pt]=arguments[pt];var Jt=mt[0],jt=mt[1];(0,Ee.Kn)(Jt)?jt=Jt:jt.type=Jt;var Kt=fe[jt.type];Kt||(Kt=(0,Ee.jC)(jt.type),fe[jt.type]=Kt);var dt=new(this.getShapeBase()[Kt])(jt);return this.add(dt),dt},St.prototype.addGroup=function(){for(var mt=[],pt=0;pt<arguments.length;pt++)mt[pt]=arguments[pt];var Kt,Jt=mt[0],jt=mt[1];if((0,Ee.mf)(Jt))Kt=new Jt(jt||{parent:this});else{var Rt=Jt||{};Kt=new(this.getGroupBase())(Rt)}return this.add(Kt),Kt},St.prototype.getCanvas=function(){return this.isCanvas()?this:this.get("canvas")},St.prototype.getShape=function(mt,pt,Jt){if(!(0,Ee.pP)(this))return null;var Kt,jt=this.getChildren();if(this.isCanvas())Kt=this._findShape(jt,mt,pt,Jt);else{var Rt=[mt,pt,1];Rt=this.invertFromMatrix(Rt),this.isClipped(Rt[0],Rt[1])||(Kt=this._findShape(jt,Rt[0],Rt[1],Jt))}return Kt},St.prototype._findShape=function(mt,pt,Jt,jt){for(var Kt=null,Rt=mt.length-1;Rt>=0;Rt--){var dt=mt[Rt];if((0,Ee.pP)(dt)&&(dt.isGroup()?Kt=dt.getShape(pt,Jt,jt):dt.isHit(pt,Jt)&&(Kt=dt)),Kt)break}return Kt},St.prototype.add=function(mt){var pt=this.getCanvas(),Jt=this.getChildren(),jt=this.get("timeline"),Kt=mt.getParent();Kt&&function Ut(Ot,St,mt){void 0===mt&&(mt=!0),mt?St.destroy():(St.set("parent",null),St.set("canvas",null)),(0,Ee.As)(Ot.getChildren(),St)}(Kt,mt,!1),mt.set("parent",this),pt&&qt(mt,pt),jt&&ne(mt,jt),Jt.push(mt),mt.onCanvasChange("add"),this._applyElementMatrix(mt)},St.prototype._applyElementMatrix=function(mt){var pt=this.getTotalMatrix();pt&&mt.applyMatrix(pt)},St.prototype.getChildren=function(){return this.get("children")},St.prototype.sort=function(){var mt=this.getChildren();(0,Ee.S6)(mt,function(pt,Jt){return pt[le]=Jt,pt}),mt.sort(function Ce(Ot){return function(St,mt){var pt=Ot(St,mt);return 0===pt?St[le]-mt[le]:pt}}(function(pt,Jt){return pt.get("zIndex")-Jt.get("zIndex")})),this.onCanvasChange("sort")},St.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var mt=this.getChildren(),pt=mt.length-1;pt>=0;pt--)mt[pt].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},St.prototype.destroy=function(){this.get("destroyed")||(this.clear(),Ot.prototype.destroy.call(this))},St.prototype.getFirst=function(){return this.getChildByIndex(0)},St.prototype.getLast=function(){var mt=this.getChildren();return this.getChildByIndex(mt.length-1)},St.prototype.getChildByIndex=function(mt){return this.getChildren()[mt]},St.prototype.getCount=function(){return this.getChildren().length},St.prototype.contain=function(mt){return this.getChildren().indexOf(mt)>-1},St.prototype.removeChild=function(mt,pt){void 0===pt&&(pt=!0),this.contain(mt)&&mt.remove(pt)},St.prototype.findAll=function(mt){var pt=[],Jt=this.getChildren();return(0,Ee.S6)(Jt,function(jt){mt(jt)&&pt.push(jt),jt.isGroup()&&(pt=pt.concat(jt.findAll(mt)))}),pt},St.prototype.find=function(mt){var pt=null,Jt=this.getChildren();return(0,Ee.S6)(Jt,function(jt){if(mt(jt)?pt=jt:jt.isGroup()&&(pt=jt.find(mt)),pt)return!1}),pt},St.prototype.findById=function(mt){return this.find(function(pt){return pt.get("id")===mt})},St.prototype.findByClassName=function(mt){return this.find(function(pt){return pt.get("className")===mt})},St.prototype.findAllByName=function(mt){return this.findAll(function(pt){return pt.get("name")===mt})},St}(te.Z)},9642:(fr,ke,ut)=>{"use strict";ut.d(ke,{Z:()=>jt});var he=ut(7582),te=ut(8250),Ee=ut(3882),fe=ut(5998),le=ut(1343),qt=ut(3583),ne=Ee.vs,kt="matrix",Ut=["zIndex","capture","visible","type"],Ce=["repeat"];function St(Kt,Rt){var dt={},C=Rt.attrs;for(var Bt in Kt)dt[Bt]=C[Bt];return dt}const jt=function(Kt){function Rt(dt){var C=Kt.call(this,dt)||this;C.attrs={};var Bt=C.getDefaultAttrs();return(0,te.CD)(Bt,dt.attrs),C.attrs=Bt,C.initAttrs(Bt),C.initAnimate(),C}return(0,he.ZT)(Rt,Kt),Rt.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},Rt.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},Rt.prototype.onCanvasChange=function(dt){},Rt.prototype.initAttrs=function(dt){},Rt.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},Rt.prototype.isGroup=function(){return!1},Rt.prototype.getParent=function(){return this.get("parent")},Rt.prototype.getCanvas=function(){return this.get("canvas")},Rt.prototype.attr=function(){for(var dt,C=[],Bt=0;Bt<arguments.length;Bt++)C[Bt]=arguments[Bt];var Xt=C[0],Se=C[1];if(!Xt)return this.attrs;if((0,te.Kn)(Xt)){for(var be in Xt)this.setAttr(be,Xt[be]);return this.afterAttrsChange(Xt),this}return 2===C.length?(this.setAttr(Xt,Se),this.afterAttrsChange(((dt={})[Xt]=Se,dt)),this):this.attrs[Xt]},Rt.prototype.isClipped=function(dt,C){var Bt=this.getClip();return Bt&&!Bt.isHit(dt,C)},Rt.prototype.setAttr=function(dt,C){var Bt=this.attrs[dt];Bt!==C&&(this.attrs[dt]=C,this.onAttrChange(dt,C,Bt))},Rt.prototype.onAttrChange=function(dt,C,Bt){"matrix"===dt&&this.set("totalMatrix",null)},Rt.prototype.afterAttrsChange=function(dt){if(this.cfg.isClipShape){var C=this.cfg.applyTo;C&&C.onCanvasChange("clip")}else this.onCanvasChange("attr")},Rt.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},Rt.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},Rt.prototype.setZIndex=function(dt){this.set("zIndex",dt);var C=this.getParent();return C&&C.sort(),this},Rt.prototype.toFront=function(){var dt=this.getParent();if(dt){var C=dt.getChildren(),Xt=(this.get("el"),C.indexOf(this));C.splice(Xt,1),C.push(this),this.onCanvasChange("zIndex")}},Rt.prototype.toBack=function(){var dt=this.getParent();if(dt){var C=dt.getChildren(),Xt=(this.get("el"),C.indexOf(this));C.splice(Xt,1),C.unshift(this),this.onCanvasChange("zIndex")}},Rt.prototype.remove=function(dt){void 0===dt&&(dt=!0);var C=this.getParent();C?((0,fe.As)(C.getChildren(),this),C.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),dt&&this.destroy()},Rt.prototype.resetMatrix=function(){this.attr(kt,this.getDefaultMatrix()),this.onCanvasChange("matrix")},Rt.prototype.getMatrix=function(){return this.attr(kt)},Rt.prototype.setMatrix=function(dt){this.attr(kt,dt),this.onCanvasChange("matrix")},Rt.prototype.getTotalMatrix=function(){var dt=this.cfg.totalMatrix;if(!dt){var C=this.attr("matrix"),Bt=this.cfg.parentMatrix;dt=Bt&&C?(0,le.xq)(Bt,C):C||Bt,this.set("totalMatrix",dt)}return dt},Rt.prototype.applyMatrix=function(dt){var Bt,C=this.attr("matrix");Bt=dt&&C?(0,le.xq)(dt,C):C||dt,this.set("totalMatrix",Bt),this.set("parentMatrix",dt)},Rt.prototype.getDefaultMatrix=function(){return null},Rt.prototype.applyToMatrix=function(dt){var C=this.attr("matrix");return C?(0,le.rG)(C,dt):dt},Rt.prototype.invertFromMatrix=function(dt){var C=this.attr("matrix");if(C){var Bt=(0,le.U_)(C);if(Bt)return(0,le.rG)(Bt,dt)}return dt},Rt.prototype.setClip=function(dt){var C=this.getCanvas(),Bt=null;if(dt){var be=this.getShapeBase()[(0,te.jC)(dt.type)];be&&(Bt=new be({type:dt.type,isClipShape:!0,applyTo:this,attrs:dt.attrs,canvas:C}))}return this.set("clipShape",Bt),this.onCanvasChange("clip"),Bt},Rt.prototype.getClip=function(){return this.cfg.clipShape||null},Rt.prototype.clone=function(){var dt=this,C=this.attrs,Bt={};(0,te.S6)(C,function(be,Mt){Bt[Mt]=(0,te.kJ)(C[Mt])?function Ot(Kt){for(var Rt=[],dt=0;dt<Kt.length;dt++)(0,te.kJ)(Kt[dt])?Rt.push([].concat(Kt[dt])):Rt.push(Kt[dt]);return Rt}(C[Mt]):C[Mt]});var Se=new(0,this.constructor)({attrs:Bt});return(0,te.S6)(Ut,function(be){Se.set(be,dt.get(be))}),Se},Rt.prototype.destroy=function(){this.destroyed||(this.attrs={},Kt.prototype.destroy.call(this))},Rt.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},Rt.prototype.animate=function(){for(var dt=[],C=0;C<arguments.length;C++)dt[C]=arguments[C];if(this.get("timeline")||this.get("canvas")){this.set("animating",!0);var Bt=this.get("timeline");Bt||(Bt=this.get("canvas").get("timeline"),this.set("timeline",Bt));var Xt=this.get("animations")||[];Bt.timer||Bt.initTimer();var W,at,Ht,ue,xe,Se=dt[0],be=dt[1],Mt=dt[2],zt=void 0===Mt?"easeLinear":Mt,ve=dt[3],Vt=void 0===ve?te.ZT:ve,Nt=dt[4],Dt=void 0===Nt?0:Nt;(0,te.mf)(Se)?(W=Se,Se={}):(0,te.Kn)(Se)&&Se.onFrame&&(W=Se.onFrame,at=Se.repeat),(0,te.Kn)(be)?(be=(xe=be).duration,zt=xe.easing||"easeLinear",Dt=xe.delay||0,at=xe.repeat||at||!1,Vt=xe.callback||te.ZT,Ht=xe.pauseCallback||te.ZT,ue=xe.resumeCallback||te.ZT):((0,te.hj)(Vt)&&(Dt=Vt,Vt=null),(0,te.mf)(zt)?(Vt=zt,zt="easeLinear"):zt=zt||"easeLinear");var Fe=function mt(Kt,Rt){var dt={},C=Rt.attr();return(0,te.S6)(Kt,function(Bt,Xt){-1===Ce.indexOf(Xt)&&!(0,te.Xy)(C[Xt],Bt)&&(dt[Xt]=Bt)}),dt}(Se,this),et={fromAttrs:St(Fe,this),toAttrs:Fe,duration:be,easing:zt,repeat:at,callback:Vt,pauseCallback:Ht,resumeCallback:ue,delay:Dt,startTime:Bt.getTime(),id:(0,te.EL)(),onFrame:W,pathFormatted:!1};Xt.length>0?Xt=function pt(Kt,Rt){if(Rt.onFrame)return Kt;var dt=Rt.startTime,C=Rt.delay,Bt=Rt.duration,Xt=Object.prototype.hasOwnProperty;return(0,te.S6)(Kt,function(Se){dt+C<Se.startTime+Se.delay+Se.duration&&Bt>Se.delay&&(0,te.S6)(Rt.toAttrs,function(be,Mt){Xt.call(Se.toAttrs,Mt)&&(delete Se.toAttrs[Mt],delete Se.fromAttrs[Mt])})}),Kt}(Xt,et):Bt.addAnimator(this),Xt.push(et),this.set("animations",Xt),this.set("_pause",{isPaused:!1})}},Rt.prototype.stopAnimate=function(dt){var C=this;void 0===dt&&(dt=!0);var Bt=this.get("animations");(0,te.S6)(Bt,function(Xt){dt&&C.attr(Xt.onFrame?Xt.onFrame(1):Xt.toAttrs),Xt.callback&&Xt.callback()}),this.set("animating",!1),this.set("animations",[])},Rt.prototype.pauseAnimate=function(){var dt=this.get("timeline"),C=this.get("animations"),Bt=dt.getTime();return(0,te.S6)(C,function(Xt){Xt._paused=!0,Xt._pauseTime=Bt,Xt.pauseCallback&&Xt.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:Bt}),this},Rt.prototype.resumeAnimate=function(){var C=this.get("timeline").getTime(),Bt=this.get("animations"),Xt=this.get("_pause").pauseTime;return(0,te.S6)(Bt,function(Se){Se.startTime=Se.startTime+(C-Xt),Se._paused=!1,Se._pauseTime=null,Se.resumeCallback&&Se.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",Bt),this},Rt.prototype.emitDelegation=function(dt,C){var be,Bt=this,Xt=C.propagationPath;this.getEvents(),"mouseenter"===dt?be=C.fromShape:"mouseleave"===dt&&(be=C.toShape);for(var Mt=function(Nt){var Dt=Xt[Nt],W=Dt.get("name");if(W){if((Dt.isGroup()||Dt.isCanvas&&Dt.isCanvas())&&be&&(0,fe.UY)(Dt,be))return"break";(0,te.kJ)(W)?(0,te.S6)(W,function(at){Bt.emitDelegateEvent(Dt,at,C)}):zt.emitDelegateEvent(Dt,W,C)}},zt=this,ve=0;ve<Xt.length&&"break"!==Mt(ve);ve++);},Rt.prototype.emitDelegateEvent=function(dt,C,Bt){var Xt=this.getEvents(),Se=C+":"+Bt.type;(Xt[Se]||Xt["*"])&&(Bt.name=Se,Bt.currentTarget=dt,Bt.delegateTarget=this,Bt.delegateObject=dt.get("delegateObject"),this.emit(Se,Bt))},Rt.prototype.translate=function(dt,C){void 0===dt&&(dt=0),void 0===C&&(C=0);var Bt=this.getMatrix(),Xt=ne(Bt,[["t",dt,C]]);return this.setMatrix(Xt),this},Rt.prototype.move=function(dt,C){var Bt=this.attr("x")||0,Xt=this.attr("y")||0;return this.translate(dt-Bt,C-Xt),this},Rt.prototype.moveTo=function(dt,C){return this.move(dt,C)},Rt.prototype.scale=function(dt,C){var Bt=this.getMatrix(),Xt=ne(Bt,[["s",dt,C||dt]]);return this.setMatrix(Xt),this},Rt.prototype.rotate=function(dt){var C=this.getMatrix(),Bt=ne(C,[["r",dt]]);return this.setMatrix(Bt),this},Rt.prototype.rotateAtStart=function(dt){var C=this.attr(),Bt=C.x,Xt=C.y,Se=this.getMatrix(),be=ne(Se,[["t",-Bt,-Xt],["r",dt],["t",Bt,Xt]]);return this.setMatrix(be),this},Rt.prototype.rotateAtPoint=function(dt,C,Bt){var Xt=this.getMatrix(),Se=ne(Xt,[["t",-dt,-C],["r",Bt],["t",dt,C]]);return this.setMatrix(Se),this},Rt}(qt.Z)},6147:(fr,ke,ut)=>{"use strict";ut.d(ke,{Z:()=>fe});var he=ut(7582);const fe=function(le){function qt(){return null!==le&&le.apply(this,arguments)||this}return(0,he.ZT)(qt,le),qt.prototype.isGroup=function(){return!0},qt.prototype.isEntityGroup=function(){return!1},qt.prototype.clone=function(){for(var ne=le.prototype.clone.call(this),kt=this.getChildren(),Ut=0;Ut<kt.length;Ut++)ne.add(kt[Ut].clone());return ne},qt}(ut(3213).Z)},6389:(fr,ke,ut)=>{"use strict";ut.d(ke,{Z:()=>le});var he=ut(7582),te=ut(9642),Ee=ut(1343);const le=function(qt){function ne(kt){return qt.call(this,kt)||this}return(0,he.ZT)(ne,qt),ne.prototype._isInBBox=function(kt,Ut){var Ce=this.getBBox();return Ce.minX<=kt&&Ce.maxX>=kt&&Ce.minY<=Ut&&Ce.maxY>=Ut},ne.prototype.afterAttrsChange=function(kt){qt.prototype.afterAttrsChange.call(this,kt),this.clearCacheBBox()},ne.prototype.getBBox=function(){var kt=this.cfg.bbox;return kt||(kt=this.calculateBBox(),this.set("bbox",kt)),kt},ne.prototype.getCanvasBBox=function(){var kt=this.cfg.canvasBBox;return kt||(kt=this.calculateCanvasBBox(),this.set("canvasBBox",kt)),kt},ne.prototype.applyMatrix=function(kt){qt.prototype.applyMatrix.call(this,kt),this.set("canvasBBox",null)},ne.prototype.calculateCanvasBBox=function(){var kt=this.getBBox(),Ut=this.getTotalMatrix(),Ce=kt.minX,ee=kt.minY,_e=kt.maxX,Ot=kt.maxY;if(Ut){var St=(0,Ee.rG)(Ut,[kt.minX,kt.minY]),mt=(0,Ee.rG)(Ut,[kt.maxX,kt.minY]),pt=(0,Ee.rG)(Ut,[kt.minX,kt.maxY]),Jt=(0,Ee.rG)(Ut,[kt.maxX,kt.maxY]);Ce=Math.min(St[0],mt[0],pt[0],Jt[0]),_e=Math.max(St[0],mt[0],pt[0],Jt[0]),ee=Math.min(St[1],mt[1],pt[1],Jt[1]),Ot=Math.max(St[1],mt[1],pt[1],Jt[1])}var jt=this.attrs;if(jt.shadowColor){var Kt=jt.shadowBlur,Rt=void 0===Kt?0:Kt,dt=jt.shadowOffsetX,C=void 0===dt?0:dt,Bt=jt.shadowOffsetY,Xt=void 0===Bt?0:Bt,be=_e+Rt+C,Mt=ee-Rt+Xt,zt=Ot+Rt+Xt;Ce=Math.min(Ce,Ce-Rt+C),_e=Math.max(_e,be),ee=Math.min(ee,Mt),Ot=Math.max(Ot,zt)}return{x:Ce,y:ee,minX:Ce,minY:ee,maxX:_e,maxY:Ot,width:_e-Ce,height:Ot-ee}},ne.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},ne.prototype.isClipShape=function(){return this.get("isClipShape")},ne.prototype.isInShape=function(kt,Ut){return!1},ne.prototype.isOnlyHitBox=function(){return!1},ne.prototype.isHit=function(kt,Ut){var Ce=this.get("startArrowShape"),ee=this.get("endArrowShape"),_e=[kt,Ut,1],Ot=(_e=this.invertFromMatrix(_e))[0],St=_e[1],mt=this._isInBBox(Ot,St);return this.isOnlyHitBox()?mt:!(!mt||this.isClipped(Ot,St)||!(this.isInShape(Ot,St)||Ce&&Ce.isHit(Ot,St)||ee&&ee.isHit(Ot,St)))},ne}(te.Z)},9730:(fr,ke,ut)=>{"use strict";ut.d(ke,{_:()=>Z,C:()=>ot});var he={};function te(tt){return+tt}function Ee(tt){return tt*tt}function fe(tt){return tt*(2-tt)}function le(tt){return((tt*=2)<=1?tt*tt:--tt*(2-tt)+1)/2}function qt(tt){return tt*tt*tt}function ne(tt){return--tt*tt*tt+1}function kt(tt){return((tt*=2)<=1?tt*tt*tt:(tt-=2)*tt*tt+2)/2}ut.r(he),ut.d(he,{easeBack:()=>ft,easeBackIn:()=>et,easeBackInOut:()=>ft,easeBackOut:()=>ct,easeBounce:()=>ue,easeBounceIn:()=>Ht,easeBounceInOut:()=>xe,easeBounceOut:()=>ue,easeCircle:()=>Xt,easeCircleIn:()=>C,easeCircleInOut:()=>Xt,easeCircleOut:()=>Bt,easeCubic:()=>kt,easeCubicIn:()=>qt,easeCubicInOut:()=>kt,easeCubicOut:()=>ne,easeElastic:()=>K,easeElasticIn:()=>J,easeElasticInOut:()=>N,easeElasticOut:()=>K,easeExp:()=>dt,easeExpIn:()=>Kt,easeExpInOut:()=>dt,easeExpOut:()=>Rt,easeLinear:()=>te,easePoly:()=>_e,easePolyIn:()=>Ce,easePolyInOut:()=>_e,easePolyOut:()=>ee,easeQuad:()=>le,easeQuadIn:()=>Ee,easeQuadInOut:()=>le,easeQuadOut:()=>fe,easeSin:()=>Jt,easeSinIn:()=>mt,easeSinInOut:()=>Jt,easeSinOut:()=>pt});var Ce=function tt(xt){function Ct(Yt){return Math.pow(Yt,xt)}return xt=+xt,Ct.exponent=tt,Ct}(3),ee=function tt(xt){function Ct(Yt){return 1-Math.pow(1-Yt,xt)}return xt=+xt,Ct.exponent=tt,Ct}(3),_e=function tt(xt){function Ct(Yt){return((Yt*=2)<=1?Math.pow(Yt,xt):2-Math.pow(2-Yt,xt))/2}return xt=+xt,Ct.exponent=tt,Ct}(3),Ot=Math.PI,St=Ot/2;function mt(tt){return 1==+tt?1:1-Math.cos(tt*St)}function pt(tt){return Math.sin(tt*St)}function Jt(tt){return(1-Math.cos(Ot*tt))/2}function jt(tt){return 1.0009775171065494*(Math.pow(2,-10*tt)-.0009765625)}function Kt(tt){return jt(1-+tt)}function Rt(tt){return 1-jt(tt)}function dt(tt){return((tt*=2)<=1?jt(1-tt):2-jt(tt-1))/2}function C(tt){return 1-Math.sqrt(1-tt*tt)}function Bt(tt){return Math.sqrt(1- --tt*tt)}function Xt(tt){return((tt*=2)<=1?1-Math.sqrt(1-tt*tt):Math.sqrt(1-(tt-=2)*tt)+1)/2}var Se=4/11,be=6/11,Mt=8/11,zt=3/4,ve=9/11,Vt=10/11,Nt=15/16,Dt=21/22,W=63/64,at=1/Se/Se;function Ht(tt){return 1-ue(1-tt)}function ue(tt){return(tt=+tt)<Se?at*tt*tt:tt<Mt?at*(tt-=be)*tt+zt:tt<Vt?at*(tt-=ve)*tt+Nt:at*(tt-=Dt)*tt+W}function xe(tt){return((tt*=2)<=1?1-ue(1-tt):ue(tt-1)+1)/2}var Fe=1.70158,et=function tt(xt){function Ct(Yt){return(Yt=+Yt)*Yt*(xt*(Yt-1)+Yt)}return xt=+xt,Ct.overshoot=tt,Ct}(Fe),ct=function tt(xt){function Ct(Yt){return--Yt*Yt*((Yt+1)*xt+Yt)+1}return xt=+xt,Ct.overshoot=tt,Ct}(Fe),ft=function tt(xt){function Ct(Yt){return((Yt*=2)<1?Yt*Yt*((xt+1)*Yt-xt):(Yt-=2)*Yt*((xt+1)*Yt+xt)+2)/2}return xt=+xt,Ct.overshoot=tt,Ct}(Fe),Q=2*Math.PI,J=function tt(xt,Ct){var Yt=Math.asin(1/(xt=Math.max(1,xt)))*(Ct/=Q);function ye(ie){return xt*jt(- --ie)*Math.sin((Yt-ie)/Ct)}return ye.amplitude=function(ie){return tt(ie,Ct*Q)},ye.period=function(ie){return tt(xt,ie)},ye}(1,.3),K=function tt(xt,Ct){var Yt=Math.asin(1/(xt=Math.max(1,xt)))*(Ct/=Q);function ye(ie){return 1-xt*jt(ie=+ie)*Math.sin((ie+Yt)/Ct)}return ye.amplitude=function(ie){return tt(ie,Ct*Q)},ye.period=function(ie){return tt(xt,ie)},ye}(1,.3),N=function tt(xt,Ct){var Yt=Math.asin(1/(xt=Math.max(1,xt)))*(Ct/=Q);function ye(ie){return((ie=2*ie-1)<0?xt*jt(-ie)*Math.sin((Yt-ie)/Ct):2-xt*jt(ie)*Math.sin((Yt+ie)/Ct))/2}return ye.amplitude=function(ie){return tt(ie,Ct*Q)},ye.period=function(ie){return tt(xt,ie)},ye}(1,.3),$={};function Z(tt){return $[tt.toLowerCase()]||he[tt]}function ot(tt,xt){$[tt.toLowerCase()]=xt}},735:(fr,ke,ut)=>{"use strict";ut.d(ke,{b:()=>Ee,W:()=>te});var he=new Map;function te(Rt,dt){he.set(Rt,dt)}function Ee(Rt){return he.get(Rt)}function fe(Rt){var dt=Rt.attr();return{x:dt.x,y:dt.y,width:dt.width,height:dt.height}}function le(Rt){var dt=Rt.attr(),Xt=dt.r;return{x:dt.x-Xt,y:dt.y-Xt,width:2*Xt,height:2*Xt}}var qt=ut(9174);function ne(Rt,dt){return Rt&&dt?{minX:Math.min(Rt.minX,dt.minX),minY:Math.min(Rt.minY,dt.minY),maxX:Math.max(Rt.maxX,dt.maxX),maxY:Math.max(Rt.maxY,dt.maxY)}:Rt||dt}function kt(Rt,dt){var C=Rt.get("startArrowShape"),Bt=Rt.get("endArrowShape");return C&&(dt=ne(dt,C.getCanvasBBox())),Bt&&(dt=ne(dt,Bt.getCanvasBBox())),dt}var ee=ut(1518),Ot=ut(2759),St=ut(8250);function pt(Rt,dt){var C=Rt.prePoint,Bt=Rt.currentPoint,Xt=Rt.nextPoint,Se=Math.pow(Bt[0]-C[0],2)+Math.pow(Bt[1]-C[1],2),be=Math.pow(Bt[0]-Xt[0],2)+Math.pow(Bt[1]-Xt[1],2),Mt=Math.pow(C[0]-Xt[0],2)+Math.pow(C[1]-Xt[1],2),zt=Math.acos((Se+be-Mt)/(2*Math.sqrt(Se)*Math.sqrt(be)));if(!zt||0===Math.sin(zt)||(0,St.vQ)(zt,0))return{xExtra:0,yExtra:0};var ve=Math.abs(Math.atan2(Xt[1]-Bt[1],Xt[0]-Bt[0])),Vt=Math.abs(Math.atan2(Xt[0]-Bt[0],Xt[1]-Bt[1]));return ve=ve>Math.PI/2?Math.PI-ve:ve,Vt=Vt>Math.PI/2?Math.PI-Vt:Vt,{xExtra:Math.cos(zt/2-ve)*(dt/2*(1/Math.sin(zt/2)))-dt/2||0,yExtra:Math.cos(Vt-zt/2)*(dt/2*(1/Math.sin(zt/2)))-dt/2||0}}te("rect",fe),te("image",fe),te("circle",le),te("marker",le),te("polyline",function Ut(Rt){for(var C=Rt.attr().points,Bt=[],Xt=[],Se=0;Se<C.length;Se++){var be=C[Se];Bt.push(be[0]),Xt.push(be[1])}var Mt=qt.Zr.getBBoxByArray(Bt,Xt),zt=Mt.x,ve=Mt.y,Dt={minX:zt,minY:ve,maxX:zt+Mt.width,maxY:ve+Mt.height};return{x:(Dt=kt(Rt,Dt)).minX,y:Dt.minY,width:Dt.maxX-Dt.minX,height:Dt.maxY-Dt.minY}}),te("polygon",function Ce(Rt){for(var C=Rt.attr().points,Bt=[],Xt=[],Se=0;Se<C.length;Se++){var be=C[Se];Bt.push(be[0]),Xt.push(be[1])}return qt.Zr.getBBoxByArray(Bt,Xt)}),te("text",function _e(Rt){var dt=Rt.attr(),C=dt.x,Bt=dt.y,Xt=dt.text,Se=dt.fontSize,be=dt.lineHeight,Mt=dt.font;Mt||(Mt=(0,ee.$O)(dt));var ve,zt=(0,ee.mY)(Xt,Mt);if(zt){var Vt=dt.textAlign,Nt=dt.textBaseline,Dt=(0,ee.FE)(Xt,Se,be),W={x:C,y:Bt-Dt};Vt&&("end"===Vt||"right"===Vt?W.x-=zt:"center"===Vt&&(W.x-=zt/2)),Nt&&("top"===Nt?W.y+=Dt:"middle"===Nt&&(W.y+=Dt/2)),ve={x:W.x,y:W.y,width:zt,height:Dt}}else ve={x:C,y:Bt,width:0,height:0};return ve}),te("path",function Jt(Rt){var dt=Rt.attr(),C=dt.path,Xt=dt.stroke?dt.lineWidth:0,be=function mt(Rt,dt){for(var C=[],Bt=[],Xt=[],Se=0;Se<Rt.length;Se++){var Mt=(be=Rt[Se]).currentPoint,zt=be.params,ve=be.prePoint,Vt=void 0;switch(be.command){case"Q":Vt=qt.lD.box(ve[0],ve[1],zt[1],zt[2],zt[3],zt[4]);break;case"C":Vt=qt.Ll.box(ve[0],ve[1],zt[1],zt[2],zt[3],zt[4],zt[5],zt[6]);break;case"A":var Nt=be.arcParams;Vt=qt.wN.box(Nt.cx,Nt.cy,Nt.rx,Nt.ry,Nt.xRotation,Nt.startAngle,Nt.endAngle);break;default:C.push(Mt[0]),Bt.push(Mt[1])}Vt&&(be.box=Vt,C.push(Vt.x,Vt.x+Vt.width),Bt.push(Vt.y,Vt.y+Vt.height)),dt&&("L"===be.command||"M"===be.command)&&be.prePoint&&be.nextPoint&&Xt.push(be)}C=C.filter(function(xe){return!Number.isNaN(xe)&&xe!==1/0&&xe!==-1/0}),Bt=Bt.filter(function(xe){return!Number.isNaN(xe)&&xe!==1/0&&xe!==-1/0});var Dt=(0,St.VV)(C),W=(0,St.VV)(Bt),at=(0,St.Fp)(C),Ht=(0,St.Fp)(Bt);if(0===Xt.length)return{x:Dt,y:W,width:at-Dt,height:Ht-W};for(Se=0;Se<Xt.length;Se++){var be;(Mt=(be=Xt[Se]).currentPoint)[0]===Dt?Dt-=pt(be,dt).xExtra:Mt[0]===at&&(at+=pt(be,dt).xExtra),Mt[1]===W?W-=pt(be,dt).yExtra:Mt[1]===Ht&&(Ht+=pt(be,dt).yExtra)}return{x:Dt,y:W,width:at-Dt,height:Ht-W}}(Rt.get("segments")||(0,Ot.zx)(C),Xt),Mt=be.x,zt=be.y,Nt={minX:Mt,minY:zt,maxX:Mt+be.width,maxY:zt+be.height};return{x:(Nt=kt(Rt,Nt)).minX,y:Nt.minY,width:Nt.maxX-Nt.minX,height:Nt.maxY-Nt.minY}}),te("line",function jt(Rt){var dt=Rt.attr(),C=dt.x1,Bt=dt.y1,Xt=dt.x2,Se=dt.y2,Vt={minX:Math.min(C,Xt),maxX:Math.max(C,Xt),minY:Math.min(Bt,Se),maxY:Math.max(Bt,Se)};return{x:(Vt=kt(Rt,Vt)).minX,y:Vt.minY,width:Vt.maxX-Vt.minX,height:Vt.maxY-Vt.minY}}),te("ellipse",function Kt(Rt){var dt=Rt.attr(),Xt=dt.rx,Se=dt.ry;return{x:dt.x-Xt,y:dt.y-Se,width:2*Xt,height:2*Se}})},3128:(fr,ke,ut)=>{"use strict";ut.d(ke,{Z:()=>te});const te=function(){function Ee(fe,le){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=fe,this.name=fe,this.originalEvent=le,this.timeStamp=le.timeStamp}return Ee.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},Ee.prototype.stopPropagation=function(){this.propagationStopped=!0},Ee.prototype.toString=function(){return"[Event (type="+this.type+")]"},Ee.prototype.save=function(){},Ee.prototype.restore=function(){},Ee}()},8621:(fr,ke,ut)=>{"use strict";ut.r(ke),ut.d(ke,{AbstractCanvas:()=>Ut.Z,AbstractGroup:()=>Ce.Z,AbstractShape:()=>ee.Z,Base:()=>kt.Z,Event:()=>ne.Z,PathUtil:()=>he,assembleFont:()=>Ot.$O,getBBoxMethod:()=>_e.b,getOffScreenContext:()=>pt.L,getTextHeight:()=>Ot.FE,invert:()=>mt.U_,isAllowCapture:()=>St.pP,multiplyVec2:()=>mt.rG,registerBBox:()=>_e.W,registerEasing:()=>Jt.C,version:()=>jt});var he=ut(994),te=ut(353),qt={};for(const Kt in te)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","registerBBox","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","registerEasing","version"].indexOf(Kt)<0&&(qt[Kt]=()=>te[Kt]);ut.d(ke,qt);var fe=ut(3482);qt={};for(const Kt in fe)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","registerBBox","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","registerEasing","version"].indexOf(Kt)<0&&(qt[Kt]=()=>fe[Kt]);ut.d(ke,qt);var ne=ut(3128),kt=ut(3583),Ut=ut(1370),Ce=ut(6147),ee=ut(6389),_e=ut(735),Ot=ut(1518),St=ut(5998),mt=ut(1343),pt=ut(865),Jt=ut(9730),jt="0.5.11"},3482:()=>{},353:()=>{},1343:(fr,ke,ut)=>{"use strict";function he(fe,le){var qt=[],ne=fe[0],kt=fe[1],Ut=fe[2],Ce=fe[3],ee=fe[4],_e=fe[5],Ot=fe[6],St=fe[7],mt=fe[8],pt=le[0],Jt=le[1],jt=le[2],Kt=le[3],Rt=le[4],dt=le[5],C=le[6],Bt=le[7],Xt=le[8];return qt[0]=pt*ne+Jt*Ce+jt*Ot,qt[1]=pt*kt+Jt*ee+jt*St,qt[2]=pt*Ut+Jt*_e+jt*mt,qt[3]=Kt*ne+Rt*Ce+dt*Ot,qt[4]=Kt*kt+Rt*ee+dt*St,qt[5]=Kt*Ut+Rt*_e+dt*mt,qt[6]=C*ne+Bt*Ce+Xt*Ot,qt[7]=C*kt+Bt*ee+Xt*St,qt[8]=C*Ut+Bt*_e+Xt*mt,qt}function te(fe,le){var qt=[],ne=le[0],kt=le[1];return qt[0]=fe[0]*ne+fe[3]*kt+fe[6],qt[1]=fe[1]*ne+fe[4]*kt+fe[7],qt}function Ee(fe){var le=[],qt=fe[0],ne=fe[1],kt=fe[2],Ut=fe[3],Ce=fe[4],ee=fe[5],_e=fe[6],Ot=fe[7],St=fe[8],mt=St*Ce-ee*Ot,pt=-St*Ut+ee*_e,Jt=Ot*Ut-Ce*_e,jt=qt*mt+ne*pt+kt*Jt;return jt?(le[0]=mt*(jt=1/jt),le[1]=(-St*ne+kt*Ot)*jt,le[2]=(ee*ne-kt*Ce)*jt,le[3]=pt*jt,le[4]=(St*qt-kt*_e)*jt,le[5]=(-ee*qt+kt*Ut)*jt,le[6]=Jt*jt,le[7]=(-Ot*qt+ne*_e)*jt,le[8]=(Ce*qt-ne*Ut)*jt,le):null}ut.d(ke,{U_:()=>Ee,rG:()=>te,xq:()=>he})},865:(fr,ke,ut)=>{"use strict";ut.d(ke,{L:()=>te});var he=null;function te(){if(!he){var Ee=document.createElement("canvas");Ee.width=1,Ee.height=1,he=Ee.getContext("2d")}return he}},994:(fr,ke,ut)=>{"use strict";ut.r(ke),ut.d(ke,{catmullRomToBezier:()=>qt,fillPath:()=>Nt,fillPathByDiff:()=>Ht,formatPath:()=>Fe,intersection:()=>Mt,parsePathArray:()=>St,parsePathString:()=>le,pathToAbsolute:()=>kt,pathToCurve:()=>_e,rectPath:()=>Rt});var he=ut(8250),te="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",Ee=new RegExp("([a-z])["+te+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+te+"]*,?["+te+"]*)+)","ig"),fe=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+te+"]*,?["+te+"]*","ig"),le=function(et){if(!et)return null;if((0,he.kJ)(et))return et;var ct={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},ft=[];return String(et).replace(Ee,function(Q,bt,It){var J=[],K=bt.toLowerCase();if(It.replace(fe,function(N,$){$&&J.push(+$)}),"m"===K&&J.length>2&&(ft.push([bt].concat(J.splice(0,2))),K="l",bt="m"===bt?"l":"L"),"o"===K&&1===J.length&&ft.push([bt,J[0]]),"r"===K)ft.push([bt].concat(J));else for(;J.length>=ct[K]&&(ft.push([bt].concat(J.splice(0,ct[K]))),ct[K]););return et}),ft},qt=function(et,ct){for(var ft=[],Q=0,bt=et.length;bt-2*!ct>Q;Q+=2){var It=[{x:+et[Q-2],y:+et[Q-1]},{x:+et[Q],y:+et[Q+1]},{x:+et[Q+2],y:+et[Q+3]},{x:+et[Q+4],y:+et[Q+5]}];ct?Q?bt-4===Q?It[3]={x:+et[0],y:+et[1]}:bt-2===Q&&(It[2]={x:+et[0],y:+et[1]},It[3]={x:+et[2],y:+et[3]}):It[0]={x:+et[bt-2],y:+et[bt-1]}:bt-4===Q?It[3]=It[2]:Q||(It[0]={x:+et[Q],y:+et[Q+1]}),ft.push(["C",(6*It[1].x-It[0].x+It[2].x)/6,(6*It[1].y-It[0].y+It[2].y)/6,(It[1].x+6*It[2].x-It[3].x)/6,(It[1].y+6*It[2].y-It[3].y)/6,It[2].x,It[2].y])}return ft},ne=function(et,ct,ft,Q,bt){var It=[];if(null===bt&&null===Q&&(Q=ft),et=+et,ct=+ct,ft=+ft,Q=+Q,null!==bt){var J=Math.PI/180,K=et+ft*Math.cos(-Q*J),N=et+ft*Math.cos(-bt*J);It=[["M",K,ct+ft*Math.sin(-Q*J)],["A",ft,ft,0,+(bt-Q>180),0,N,ct+ft*Math.sin(-bt*J)]]}else It=[["M",et,ct],["m",0,-Q],["a",ft,Q,0,1,1,0,2*Q],["a",ft,Q,0,1,1,0,-2*Q],["z"]];return It},kt=function(et){if(!(et=le(et))||!et.length)return[["M",0,0]];var K,N,ct=[],ft=0,Q=0,bt=0,It=0,J=0;"M"===et[0][0]&&(bt=ft=+et[0][1],It=Q=+et[0][2],J++,ct[0]=["M",ft,Q]);for(var $=3===et.length&&"M"===et[0][0]&&"R"===et[1][0].toUpperCase()&&"Z"===et[2][0].toUpperCase(),Z=void 0,ot=void 0,tt=J,xt=et.length;tt<xt;tt++){if(ct.push(Z=[]),(K=(ot=et[tt])[0])!==K.toUpperCase())switch(Z[0]=K.toUpperCase(),Z[0]){case"A":Z[1]=ot[1],Z[2]=ot[2],Z[3]=ot[3],Z[4]=ot[4],Z[5]=ot[5],Z[6]=+ot[6]+ft,Z[7]=+ot[7]+Q;break;case"V":Z[1]=+ot[1]+Q;break;case"H":Z[1]=+ot[1]+ft;break;case"R":for(var Ct=2,Yt=(N=[ft,Q].concat(ot.slice(1))).length;Ct<Yt;Ct++)N[Ct]=+N[Ct]+ft,N[++Ct]=+N[Ct]+Q;ct.pop(),ct=ct.concat(qt(N,$));break;case"O":ct.pop(),(N=ne(ft,Q,ot[1],ot[2])).push(N[0]),ct=ct.concat(N);break;case"U":ct.pop(),ct=ct.concat(ne(ft,Q,ot[1],ot[2],ot[3])),Z=["U"].concat(ct[ct.length-1].slice(-2));break;case"M":bt=+ot[1]+ft,It=+ot[2]+Q;break;default:for(Ct=1,Yt=ot.length;Ct<Yt;Ct++)Z[Ct]=+ot[Ct]+(Ct%2?ft:Q)}else if("R"===K)N=[ft,Q].concat(ot.slice(1)),ct.pop(),ct=ct.concat(qt(N,$)),Z=["R"].concat(ot.slice(-2));else if("O"===K)ct.pop(),(N=ne(ft,Q,ot[1],ot[2])).push(N[0]),ct=ct.concat(N);else if("U"===K)ct.pop(),ct=ct.concat(ne(ft,Q,ot[1],ot[2],ot[3])),Z=["U"].concat(ct[ct.length-1].slice(-2));else for(var ye=0,ie=ot.length;ye<ie;ye++)Z[ye]=ot[ye];if("O"!==(K=K.toUpperCase()))switch(Z[0]){case"Z":ft=+bt,Q=+It;break;case"H":ft=Z[1];break;case"V":Q=Z[1];break;case"M":bt=Z[Z.length-2],It=Z[Z.length-1];break;default:ft=Z[Z.length-2],Q=Z[Z.length-1]}}return ct},Ut=function(et,ct,ft,Q){return[et,ct,ft,Q,ft,Q]},Ce=function(et,ct,ft,Q,bt,It){var J=.3333333333333333,K=2/3;return[J*et+K*ft,J*ct+K*Q,J*bt+K*ft,J*It+K*Q,bt,It]},ee=function(et,ct,ft,Q,bt,It,J,K,N,$){ft===Q&&(ft+=1);var xt,Ct,Yt,ye,ie,Z=120*Math.PI/180,ot=Math.PI/180*(+bt||0),tt=[],Be=function(Or,Ar,gn){return{x:Or*Math.cos(gn)-Ar*Math.sin(gn),y:Or*Math.sin(gn)+Ar*Math.cos(gn)}};if($)Ct=$[0],Yt=$[1],ye=$[2],ie=$[3];else{et=(xt=Be(et,ct,-ot)).x,ct=xt.y,N=(xt=Be(K,N,-ot)).y,et===(K=xt.x)&&ct===N&&(K+=1,N+=1);var Te=(et-K)/2,pe=(ct-N)/2,nt=Te*Te/(ft*ft)+pe*pe/(Q*Q);nt>1&&(ft*=nt=Math.sqrt(nt),Q*=nt);var lt=ft*ft,wt=Q*Q,Et=(It===J?-1:1)*Math.sqrt(Math.abs((lt*wt-lt*pe*pe-wt*Te*Te)/(lt*pe*pe+wt*Te*Te)));ye=Et*ft*pe/Q+(et+K)/2,ie=Et*-Q*Te/ft+(ct+N)/2,Ct=Math.asin(((ct-ie)/Q).toFixed(9)),Yt=Math.asin(((N-ie)/Q).toFixed(9)),Ct=et<ye?Math.PI-Ct:Ct,Yt=K<ye?Math.PI-Yt:Yt,Ct<0&&(Ct=2*Math.PI+Ct),Yt<0&&(Yt=2*Math.PI+Yt),J&&Ct>Yt&&(Ct-=2*Math.PI),!J&&Yt>Ct&&(Yt-=2*Math.PI)}var Qt=Yt-Ct;if(Math.abs(Qt)>Z){var ce=Yt,oe=K,se=N;Yt=Ct+Z*(J&&Yt>Ct?1:-1),K=ye+ft*Math.cos(Yt),N=ie+Q*Math.sin(Yt),tt=ee(K,N,ft,Q,bt,0,J,oe,se,[Yt,ce,ye,ie])}Qt=Yt-Ct;var Zt=Math.cos(Ct),Le=Math.sin(Ct),we=Math.cos(Yt),Xe=Math.sin(Yt),Je=Math.tan(Qt/4),ze=4/3*ft*Je,je=4/3*Q*Je,qe=[et,ct],Ke=[et+ze*Le,ct-je*Zt],Ge=[K+ze*Xe,N-je*we],tr=[K,N];if(Ke[0]=2*qe[0]-Ke[0],Ke[1]=2*qe[1]-Ke[1],$)return[Ke,Ge,tr].concat(tt);for(var pr=[],sr=0,dr=(tt=[Ke,Ge,tr].concat(tt).join().split(",")).length;sr<dr;sr++)pr[sr]=sr%2?Be(tt[sr-1],tt[sr],ot).y:Be(tt[sr],tt[sr+1],ot).x;return pr},_e=function(et,ct){var Z,ft=kt(et),Q=ct&&kt(ct),bt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},It={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},J=[],K=[],N="",$="",ot=function(Te,pe,nt){var lt,wt;if(!Te)return["C",pe.x,pe.y,pe.x,pe.y,pe.x,pe.y];switch(!(Te[0]in{T:1,Q:1})&&(pe.qx=pe.qy=null),Te[0]){case"M":pe.X=Te[1],pe.Y=Te[2];break;case"A":Te=["C"].concat(ee.apply(0,[pe.x,pe.y].concat(Te.slice(1))));break;case"S":"C"===nt||"S"===nt?(lt=2*pe.x-pe.bx,wt=2*pe.y-pe.by):(lt=pe.x,wt=pe.y),Te=["C",lt,wt].concat(Te.slice(1));break;case"T":"Q"===nt||"T"===nt?(pe.qx=2*pe.x-pe.qx,pe.qy=2*pe.y-pe.qy):(pe.qx=pe.x,pe.qy=pe.y),Te=["C"].concat(Ce(pe.x,pe.y,pe.qx,pe.qy,Te[1],Te[2]));break;case"Q":pe.qx=Te[1],pe.qy=Te[2],Te=["C"].concat(Ce(pe.x,pe.y,Te[1],Te[2],Te[3],Te[4]));break;case"L":Te=["C"].concat(Ut(pe.x,pe.y,Te[1],Te[2]));break;case"H":Te=["C"].concat(Ut(pe.x,pe.y,Te[1],pe.y));break;case"V":Te=["C"].concat(Ut(pe.x,pe.y,pe.x,Te[1]));break;case"Z":Te=["C"].concat(Ut(pe.x,pe.y,pe.X,pe.Y))}return Te},tt=function(Te,pe){if(Te[pe].length>7){Te[pe].shift();for(var nt=Te[pe];nt.length;)J[pe]="A",Q&&(K[pe]="A"),Te.splice(pe++,0,["C"].concat(nt.splice(0,6)));Te.splice(pe,1),Z=Math.max(ft.length,Q&&Q.length||0)}},xt=function(Te,pe,nt,lt,wt){Te&&pe&&"M"===Te[wt][0]&&"M"!==pe[wt][0]&&(pe.splice(wt,0,["M",lt.x,lt.y]),nt.bx=0,nt.by=0,nt.x=Te[wt][1],nt.y=Te[wt][2],Z=Math.max(ft.length,Q&&Q.length||0))};Z=Math.max(ft.length,Q&&Q.length||0);for(var Ct=0;Ct<Z;Ct++){ft[Ct]&&(N=ft[Ct][0]),"C"!==N&&(J[Ct]=N,Ct&&($=J[Ct-1])),ft[Ct]=ot(ft[Ct],bt,$),"A"!==J[Ct]&&"C"===N&&(J[Ct]="C"),tt(ft,Ct),Q&&(Q[Ct]&&(N=Q[Ct][0]),"C"!==N&&(K[Ct]=N,Ct&&($=K[Ct-1])),Q[Ct]=ot(Q[Ct],It,$),"A"!==K[Ct]&&"C"===N&&(K[Ct]="C"),tt(Q,Ct)),xt(ft,Q,bt,It,Ct),xt(Q,ft,It,bt,Ct);var Yt=ft[Ct],ye=Q&&Q[Ct],ie=Yt.length,Be=Q&&ye.length;bt.x=Yt[ie-2],bt.y=Yt[ie-1],bt.bx=parseFloat(Yt[ie-4])||bt.x,bt.by=parseFloat(Yt[ie-3])||bt.y,It.bx=Q&&(parseFloat(ye[Be-4])||It.x),It.by=Q&&(parseFloat(ye[Be-3])||It.y),It.x=Q&&ye[Be-2],It.y=Q&&ye[Be-1]}return Q?[ft,Q]:ft},Ot=/,?([a-z]),?/gi,St=function(et){return et.join(",").replace(Ot,"$1")},mt=function(et,ct,ft,Q,bt){return et*(et*(-3*ct+9*ft-9*Q+3*bt)+6*ct-12*ft+6*Q)-3*ct+3*ft},pt=function(et,ct,ft,Q,bt,It,J,K,N){null===N&&(N=1);for(var $=(N=N>1?1:N<0?0:N)/2,ot=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],tt=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],xt=0,Ct=0;Ct<12;Ct++){var Yt=$*ot[Ct]+$,ye=mt(Yt,et,ft,bt,J),ie=mt(Yt,ct,Q,It,K);xt+=tt[Ct]*Math.sqrt(ye*ye+ie*ie)}return $*xt},Jt=function(et,ct,ft,Q,bt,It,J,K){for(var Z,ot,tt,xt,N=[],$=[[],[]],Ct=0;Ct<2;++Ct)if(0===Ct?(ot=6*et-12*ft+6*bt,Z=-3*et+9*ft-9*bt+3*J,tt=3*ft-3*et):(ot=6*ct-12*Q+6*It,Z=-3*ct+9*Q-9*It+3*K,tt=3*Q-3*ct),Math.abs(Z)<1e-12){if(Math.abs(ot)<1e-12)continue;(xt=-tt/ot)>0&&xt<1&&N.push(xt)}else{var Yt=ot*ot-4*tt*Z,ye=Math.sqrt(Yt);if(!(Yt<0)){var ie=(-ot+ye)/(2*Z);ie>0&&ie<1&&N.push(ie);var Be=(-ot-ye)/(2*Z);Be>0&&Be<1&&N.push(Be)}}for(var nt,Te=N.length,pe=Te;Te--;)$[0][Te]=(nt=1-(xt=N[Te]))*nt*nt*et+3*nt*nt*xt*ft+3*nt*xt*xt*bt+xt*xt*xt*J,$[1][Te]=nt*nt*nt*ct+3*nt*nt*xt*Q+3*nt*xt*xt*It+xt*xt*xt*K;return $[0][pe]=et,$[1][pe]=ct,$[0][pe+1]=J,$[1][pe+1]=K,$[0].length=$[1].length=pe+2,{min:{x:Math.min.apply(0,$[0]),y:Math.min.apply(0,$[1])},max:{x:Math.max.apply(0,$[0]),y:Math.max.apply(0,$[1])}}},jt=function(et,ct,ft,Q,bt,It,J,K){if(!(Math.max(et,ft)<Math.min(bt,J)||Math.min(et,ft)>Math.max(bt,J)||Math.max(ct,Q)<Math.min(It,K)||Math.min(ct,Q)>Math.max(It,K))){var Z=(et-ft)*(It-K)-(ct-Q)*(bt-J);if(Z){var ot=((et*Q-ct*ft)*(bt-J)-(et-ft)*(bt*K-It*J))/Z,tt=((et*Q-ct*ft)*(It-K)-(ct-Q)*(bt*K-It*J))/Z,xt=+ot.toFixed(2),Ct=+tt.toFixed(2);if(!(xt<+Math.min(et,ft).toFixed(2)||xt>+Math.max(et,ft).toFixed(2)||xt<+Math.min(bt,J).toFixed(2)||xt>+Math.max(bt,J).toFixed(2)||Ct<+Math.min(ct,Q).toFixed(2)||Ct>+Math.max(ct,Q).toFixed(2)||Ct<+Math.min(It,K).toFixed(2)||Ct>+Math.max(It,K).toFixed(2)))return{x:ot,y:tt}}}},Kt=function(et,ct,ft){return ct>=et.x&&ct<=et.x+et.width&&ft>=et.y&&ft<=et.y+et.height},Rt=function(et,ct,ft,Q,bt){if(bt)return[["M",+et+ +bt,ct],["l",ft-2*bt,0],["a",bt,bt,0,0,1,bt,bt],["l",0,Q-2*bt],["a",bt,bt,0,0,1,-bt,bt],["l",2*bt-ft,0],["a",bt,bt,0,0,1,-bt,-bt],["l",0,2*bt-Q],["a",bt,bt,0,0,1,bt,-bt],["z"]];var It=[["M",et,ct],["l",ft,0],["l",0,Q],["l",-ft,0],["z"]];return It.parsePathArray=St,It},dt=function(et,ct,ft,Q){return null===et&&(et=ct=ft=Q=0),null===ct&&(ct=et.y,ft=et.width,Q=et.height,et=et.x),{x:et,y:ct,width:ft,w:ft,height:Q,h:Q,x2:et+ft,y2:ct+Q,cx:et+ft/2,cy:ct+Q/2,r1:Math.min(ft,Q)/2,r2:Math.max(ft,Q)/2,r0:Math.sqrt(ft*ft+Q*Q)/2,path:Rt(et,ct,ft,Q),vb:[et,ct,ft,Q].join(" ")}},Bt=function(et,ct,ft,Q,bt,It,J,K){(0,he.kJ)(et)||(et=[et,ct,ft,Q,bt,It,J,K]);var N=Jt.apply(null,et);return dt(N.min.x,N.min.y,N.max.x-N.min.x,N.max.y-N.min.y)},Xt=function(et,ct,ft,Q,bt,It,J,K,N){var $=1-N,Z=Math.pow($,3),ot=Math.pow($,2),tt=N*N,xt=tt*N,ye=et+2*N*(ft-et)+tt*(bt-2*ft+et),ie=ct+2*N*(Q-ct)+tt*(It-2*Q+ct),Be=ft+2*N*(bt-ft)+tt*(J-2*bt+ft),Te=Q+2*N*(It-Q)+tt*(K-2*It+Q);return{x:Z*et+3*ot*N*ft+3*$*N*N*bt+xt*J,y:Z*ct+3*ot*N*Q+3*$*N*N*It+xt*K,m:{x:ye,y:ie},n:{x:Be,y:Te},start:{x:$*et+N*ft,y:$*ct+N*Q},end:{x:$*bt+N*J,y:$*It+N*K},alpha:90-180*Math.atan2(ye-Be,ie-Te)/Math.PI}},Se=function(et,ct,ft){if(!function(et,ct){return et=dt(et),ct=dt(ct),Kt(ct,et.x,et.y)||Kt(ct,et.x2,et.y)||Kt(ct,et.x,et.y2)||Kt(ct,et.x2,et.y2)||Kt(et,ct.x,ct.y)||Kt(et,ct.x2,ct.y)||Kt(et,ct.x,ct.y2)||Kt(et,ct.x2,ct.y2)||(et.x<ct.x2&&et.x>ct.x||ct.x<et.x2&&ct.x>et.x)&&(et.y<ct.y2&&et.y>ct.y||ct.y<et.y2&&ct.y>et.y)}(Bt(et),Bt(ct)))return ft?0:[];for(var K=~~(pt.apply(0,et)/8),N=~~(pt.apply(0,ct)/8),$=[],Z=[],ot={},tt=ft?0:[],xt=0;xt<K+1;xt++){var Ct=Xt.apply(0,et.concat(xt/K));$.push({x:Ct.x,y:Ct.y,t:xt/K})}for(xt=0;xt<N+1;xt++)Ct=Xt.apply(0,ct.concat(xt/N)),Z.push({x:Ct.x,y:Ct.y,t:xt/N});for(xt=0;xt<K;xt++)for(var Yt=0;Yt<N;Yt++){var ye=$[xt],ie=$[xt+1],Be=Z[Yt],Te=Z[Yt+1],pe=Math.abs(ie.x-ye.x)<.001?"y":"x",nt=Math.abs(Te.x-Be.x)<.001?"y":"x",lt=jt(ye.x,ye.y,ie.x,ie.y,Be.x,Be.y,Te.x,Te.y);if(lt){if(ot[lt.x.toFixed(4)]===lt.y.toFixed(4))continue;ot[lt.x.toFixed(4)]=lt.y.toFixed(4);var wt=ye.t+Math.abs((lt[pe]-ye[pe])/(ie[pe]-ye[pe]))*(ie.t-ye.t),Et=Be.t+Math.abs((lt[nt]-Be[nt])/(Te[nt]-Be[nt]))*(Te.t-Be.t);wt>=0&&wt<=1&&Et>=0&&Et<=1&&(ft?tt+=1:tt.push({x:lt.x,y:lt.y,t1:wt,t2:Et}))}}return tt},Mt=function(et,ct){return function(et,ct,ft){et=_e(et),ct=_e(ct);for(var Q,bt,It,J,K,N,$,Z,ot,tt,xt=[],Ct=0,Yt=et.length;Ct<Yt;Ct++){var ye=et[Ct];if("M"===ye[0])Q=K=ye[1],bt=N=ye[2];else{"C"===ye[0]?(ot=[Q,bt].concat(ye.slice(1)),Q=ot[6],bt=ot[7]):(ot=[Q,bt,Q,bt,K,N,K,N],Q=K,bt=N);for(var ie=0,Be=ct.length;ie<Be;ie++){var Te=ct[ie];if("M"===Te[0])It=$=Te[1],J=Z=Te[2];else{"C"===Te[0]?(tt=[It,J].concat(Te.slice(1)),It=tt[6],J=tt[7]):(tt=[It,J,It,J,$,Z,$,Z],It=$,J=Z);for(var pe=Se(ot,tt,ft),nt=0,lt=pe.length;nt<lt;nt++)pe[nt].segment1=Ct,pe[nt].segment2=ie,pe[nt].bez1=ot,pe[nt].bez2=tt;xt=xt.concat(pe)}}}}return xt}(et,ct)};function zt(et,ct){var ft=[],Q=[];return et.length&&function bt(It,J){if(1===It.length)ft.push(It[0]),Q.push(It[0]);else{for(var K=[],N=0;N<It.length-1;N++)0===N&&ft.push(It[0]),N===It.length-2&&Q.push(It[N+1]),K[N]=[(1-J)*It[N][0]+J*It[N+1][0],(1-J)*It[N][1]+J*It[N+1][1]];bt(K,J)}}(et,ct),{left:ft,right:Q.reverse()}}var Nt=function(et,ct){if(1===et.length)return et;var ft=et.length-1,Q=ct.length-1,bt=ft/Q,It=[];if(1===et.length&&"M"===et[0][0]){for(var J=0;J<Q-ft;J++)et.push(et[0]);return et}for(J=0;J<Q;J++){var K=Math.floor(bt*J);It[K]=(It[K]||0)+1}var N=It.reduce(function($,Z,ot){return $.concat(ot===ft?et[ft]:function(et,ct,ft){if(1===ft)return[[].concat(et)];var Q=[];if("L"===ct[0]||"C"===ct[0]||"Q"===ct[0])Q=Q.concat(function ve(et,ct,ft){var Q=[[et[1],et[2]]];ft=ft||2;var bt=[];"A"===ct[0]?(Q.push(ct[6]),Q.push(ct[7])):"C"===ct[0]?(Q.push([ct[1],ct[2]]),Q.push([ct[3],ct[4]]),Q.push([ct[5],ct[6]])):"S"===ct[0]||"Q"===ct[0]?(Q.push([ct[1],ct[2]]),Q.push([ct[3],ct[4]])):Q.push([ct[1],ct[2]]);for(var It=Q,J=1/ft,K=0;K<ft-1;K++){var $=zt(It,J/(1-J*K));bt.push($.left),It=$.right}return bt.push(It),bt.map(function(ot){var tt=[];return 4===ot.length&&(tt.push("C"),tt=tt.concat(ot[2])),ot.length>=3&&(3===ot.length&&tt.push("Q"),tt=tt.concat(ot[1])),2===ot.length&&tt.push("L"),tt.concat(ot[ot.length-1])})}(et,ct,ft));else{var bt=[].concat(et);"M"===bt[0]&&(bt[0]="L");for(var It=0;It<=ft-1;It++)Q.push(bt)}return Q}(et[ot],et[ot+1],Z))},[]);return N.unshift(et[0]),("Z"===ct[Q]||"z"===ct[Q])&&N.push("Z"),N},Dt=function(et,ct){if(et.length!==ct.length)return!1;var ft=!0;return(0,he.S6)(et,function(Q,bt){if(Q!==ct[bt])return ft=!1,!1}),ft};function W(et,ct,ft){var Q=null,bt=ft;return ct<bt&&(bt=ct,Q="add"),et<bt&&(bt=et,Q="del"),{type:Q,min:bt}}var Ht=function(et,ct){var ft=function(et,ct){var bt,ft=et.length,Q=ct.length,J=0;if(0===ft||0===Q)return null;for(var K=[],N=0;N<=ft;N++)K[N]=[],K[N][0]={min:N};for(var $=0;$<=Q;$++)K[0][$]={min:$};for(N=1;N<=ft;N++)for(bt=et[N-1],$=1;$<=Q;$++)J=Dt(bt,ct[$-1])?0:1,K[N][$]=W(K[N-1][$].min+1,K[N][$-1].min+1,K[N-1][$-1].min+J);return K}(et,ct),Q=et.length,bt=ct.length,It=[],J=1,K=1;if(ft[Q][bt].min!==Q){for(var N=1;N<=Q;N++){var $=ft[N][N].min;K=N;for(var Z=J;Z<=bt;Z++)ft[N][Z].min<$&&($=ft[N][Z].min,K=Z);ft[N][J=K].type&&It.push({index:N-1,type:ft[N][J].type})}for(N=It.length-1;N>=0;N--)J=It[N].index,"add"===It[N].type?et.splice(J,0,[].concat(et[J])):et.splice(J,1)}var ot=bt-(Q=et.length);if(Q<bt)for(N=0;N<ot;N++)"z"===et[Q-1][0]||"Z"===et[Q-1][0]?et.splice(Q-2,0,et[Q-2]):et.push(et[Q-1]),Q+=1;return et};function ue(et,ct,ft){for(var bt,Q=[].concat(et),It=1/(ft+1),J=xe(ct)[0],K=1;K<=ft;K++)It*=K,0===(bt=Math.floor(et.length*It))?Q.unshift([J[0]*It+et[bt][0]*(1-It),J[1]*It+et[bt][1]*(1-It)]):Q.splice(bt,0,[J[0]*It+et[bt][0]*(1-It),J[1]*It+et[bt][1]*(1-It)]);return Q}function xe(et){var ct=[];switch(et[0]){case"M":case"L":case"T":ct.push([et[1],et[2]]);break;case"A":ct.push([et[6],et[7]]);break;case"Q":case"S":ct.push([et[3],et[4]]),ct.push([et[1],et[2]]);break;case"C":ct.push([et[5],et[6]]),ct.push([et[1],et[2]]),ct.push([et[3],et[4]]);break;case"H":case"V":ct.push([et[1],et[1]])}return ct}var Fe=function(et,ct){if(et.length<=1)return et;for(var ft,Q=0;Q<ct.length;Q++)if(et[Q][0]!==ct[Q][0])switch(ft=xe(et[Q]),ct[Q][0]){case"M":et[Q]=["M"].concat(ft[0]);break;case"L":et[Q]=["L"].concat(ft[0]);break;case"A":et[Q]=[].concat(ct[Q]),et[Q][6]=ft[0][0],et[Q][7]=ft[0][1];break;case"Q":if(ft.length<2){if(!(Q>0)){et[Q]=ct[Q];break}ft=ue(ft,et[Q-1],1)}et[Q]=["Q"].concat(ft.reduce(function(bt,It){return bt.concat(It)},[]));break;case"T":et[Q]=["T"].concat(ft[0]);break;case"C":if(ft.length<3){if(!(Q>0)){et[Q]=ct[Q];break}ft=ue(ft,et[Q-1],2)}et[Q]=["C"].concat(ft.reduce(function(bt,It){return bt.concat(It)},[]));break;case"S":if(ft.length<2){if(!(Q>0)){et[Q]=ct[Q];break}ft=ue(ft,et[Q-1],1)}et[Q]=["S"].concat(ft.reduce(function(bt,It){return bt.concat(It)},[]));break;default:et[Q]=ct[Q]}return et}},1518:(fr,ke,ut)=>{"use strict";ut.d(ke,{$O:()=>qt,FE:()=>Ee,mY:()=>le});var he=ut(5998),te=ut(865);function Ee(ne,kt,Ut){var Ce=1;if((0,he.HD)(ne)&&(Ce=ne.split("\n").length),Ce>1){var ee=function fe(ne,kt){return kt?kt-ne:.14*ne}(kt,Ut);return kt*Ce+ee*(Ce-1)}return kt}function le(ne,kt){var Ut=(0,te.L)(),Ce=0;if((0,he.kK)(ne)||""===ne)return Ce;if(Ut.save(),Ut.font=kt,(0,he.HD)(ne)&&ne.includes("\n")){var ee=ne.split("\n");(0,he.S6)(ee,function(_e){var Ot=Ut.measureText(_e).width;Ce<Ot&&(Ce=Ot)})}else Ce=Ut.measureText(ne).width;return Ut.restore(),Ce}function qt(ne){return[ne.fontStyle,ne.fontVariant,ne.fontWeight,ne.fontSize+"px",ne.fontFamily].join(" ").trim()}},5998:(fr,ke,ut)=>{"use strict";ut.d(ke,{As:()=>te,CD:()=>he.CD,HD:()=>he.HD,Kn:()=>he.Kn,S6:()=>he.S6,UY:()=>fe,jC:()=>he.jC,jU:()=>Ee,kK:()=>he.UM,mf:()=>he.mf,pP:()=>le});var he=ut(8250);function te(qt,ne){var kt=qt.indexOf(ne);-1!==kt&&qt.splice(kt,1)}var Ee=typeof window<"u"&&typeof window.document<"u";function fe(qt,ne){if(qt.isCanvas())return!0;for(var kt=ne.getParent(),Ut=!1;kt;){if(kt===qt){Ut=!0;break}kt=kt.getParent()}return Ut}function le(qt){return qt.cfg.visible&&qt.cfg.capture}},9174:(fr,ke,ut)=>{"use strict";ut.d(ke,{wN:()=>ue,Ll:()=>Xt,x1:()=>Ut,aH:()=>Q,lD:()=>jt,Zr:()=>he});var he={};ut.r(he),ut.d(he,{distance:()=>Ee,getBBoxByArray:()=>le,getBBoxRange:()=>qt,isNumberEqual:()=>fe,piMod:()=>ne});var te=ut(8250);function Ee(J,K,N,$){var Z=J-N,ot=K-$;return Math.sqrt(Z*Z+ot*ot)}function fe(J,K){return Math.abs(J-K)<.001}function le(J,K){var N=(0,te.VV)(J),$=(0,te.VV)(K);return{x:N,y:$,width:(0,te.Fp)(J)-N,height:(0,te.Fp)(K)-$}}function qt(J,K,N,$){return{minX:(0,te.VV)([J,N]),maxX:(0,te.Fp)([J,N]),minY:(0,te.VV)([K,$]),maxY:(0,te.Fp)([K,$])}}function ne(J){return(J+2*Math.PI)%(2*Math.PI)}var kt=ut(8235);const Ut={box:function(J,K,N,$){return le([J,N],[K,$])},length:function(J,K,N,$){return Ee(J,K,N,$)},pointAt:function(J,K,N,$,Z){return{x:(1-Z)*J+Z*N,y:(1-Z)*K+Z*$}},pointDistance:function(J,K,N,$,Z,ot){var tt=(N-J)*(Z-J)+($-K)*(ot-K);return tt<0?Ee(J,K,Z,ot):tt>(N-J)*(N-J)+($-K)*($-K)?Ee(N,$,Z,ot):this.pointToLine(J,K,N,$,Z,ot)},pointToLine:function(J,K,N,$,Z,ot){var tt=[N-J,$-K];if(kt.I6(tt,[0,0]))return Math.sqrt((Z-J)*(Z-J)+(ot-K)*(ot-K));var xt=[-tt[1],tt[0]];return kt.Fv(xt,xt),Math.abs(kt.AK([Z-J,ot-K],xt))},tangentAngle:function(J,K,N,$){return Math.atan2($-K,N-J)}};var Ce=1e-4;function ee(J,K,N,$,Z,ot){var tt,xt=1/0,Ct=[N,$],Yt=20;ot&&ot>200&&(Yt=ot/10);for(var ye=1/Yt,ie=ye/10,Be=0;Be<=Yt;Be++){var Te=Be*ye,pe=[Z.apply(null,J.concat([Te])),Z.apply(null,K.concat([Te]))];(nt=Ee(Ct[0],Ct[1],pe[0],pe[1]))<xt&&(tt=Te,xt=nt)}if(0===tt)return{x:J[0],y:K[0]};if(1===tt){var lt=J.length;return{x:J[lt-1],y:K[lt-1]}}for(xt=1/0,Be=0;Be<32&&!(ie<Ce);Be++){var wt=tt-ie,Et=tt+ie,nt=(pe=[Z.apply(null,J.concat([wt])),Z.apply(null,K.concat([wt]))],Ee(Ct[0],Ct[1],pe[0],pe[1]));if(wt>=0&&nt<xt)tt=wt,xt=nt;else{var Qt=[Z.apply(null,J.concat([Et])),Z.apply(null,K.concat([Et]))],ce=Ee(Ct[0],Ct[1],Qt[0],Qt[1]);Et<=1&&ce<xt?(tt=Et,xt=ce):ie*=.5}}return{x:Z.apply(null,J.concat([tt])),y:Z.apply(null,K.concat([tt]))}}function Ot(J,K,N,$){var Z=1-$;return Z*Z*J+2*$*Z*K+$*$*N}function St(J,K,N){var $=J+N-2*K;if(fe($,0))return[.5];var Z=(J-K)/$;return Z<=1&&Z>=0?[Z]:[]}function mt(J,K,N,$){return 2*(1-$)*(K-J)+2*$*(N-K)}function pt(J,K,N,$,Z,ot,tt){var xt=Ot(J,N,Z,tt),Ct=Ot(K,$,ot,tt),Yt=Ut.pointAt(J,K,N,$,tt),ye=Ut.pointAt(N,$,Z,ot,tt);return[[J,K,Yt.x,Yt.y,xt,Ct],[xt,Ct,ye.x,ye.y,Z,ot]]}function Jt(J,K,N,$,Z,ot,tt){if(0===tt)return(Ee(J,K,N,$)+Ee(N,$,Z,ot)+Ee(J,K,Z,ot))/2;var xt=pt(J,K,N,$,Z,ot,.5),Ct=xt[0],Yt=xt[1];return Ct.push(tt-1),Yt.push(tt-1),Jt.apply(null,Ct)+Jt.apply(null,Yt)}const jt={box:function(J,K,N,$,Z,ot){var tt=St(J,N,Z)[0],xt=St(K,$,ot)[0],Ct=[J,Z],Yt=[K,ot];return void 0!==tt&&Ct.push(Ot(J,N,Z,tt)),void 0!==xt&&Yt.push(Ot(K,$,ot,xt)),le(Ct,Yt)},length:function(J,K,N,$,Z,ot){return Jt(J,K,N,$,Z,ot,3)},nearestPoint:function(J,K,N,$,Z,ot,tt,xt){return ee([J,N,Z],[K,$,ot],tt,xt,Ot)},pointDistance:function(J,K,N,$,Z,ot,tt,xt){var Ct=this.nearestPoint(J,K,N,$,Z,ot,tt,xt);return Ee(Ct.x,Ct.y,tt,xt)},interpolationAt:Ot,pointAt:function(J,K,N,$,Z,ot,tt){return{x:Ot(J,N,Z,tt),y:Ot(K,$,ot,tt)}},divide:function(J,K,N,$,Z,ot,tt){return pt(J,K,N,$,Z,ot,tt)},tangentAngle:function(J,K,N,$,Z,ot,tt){var xt=mt(J,N,Z,tt),Ct=mt(K,$,ot,tt);return ne(Math.atan2(Ct,xt))}};function Kt(J,K,N,$,Z){var ot=1-Z;return ot*ot*ot*J+3*K*Z*ot*ot+3*N*Z*Z*ot+$*Z*Z*Z}function Rt(J,K,N,$,Z){var ot=1-Z;return 3*(ot*ot*(K-J)+2*ot*Z*(N-K)+Z*Z*($-N))}function dt(J,K,N,$){var Ct,Yt,ye,Z=-3*J+9*K-9*N+3*$,ot=6*J-12*K+6*N,tt=3*K-3*J,xt=[];if(fe(Z,0))fe(ot,0)||(Ct=-tt/ot)>=0&&Ct<=1&&xt.push(Ct);else{var ie=ot*ot-4*Z*tt;fe(ie,0)?xt.push(-ot/(2*Z)):ie>0&&(Yt=(-ot-(ye=Math.sqrt(ie)))/(2*Z),(Ct=(-ot+ye)/(2*Z))>=0&&Ct<=1&&xt.push(Ct),Yt>=0&&Yt<=1&&xt.push(Yt))}return xt}function C(J,K,N,$,Z,ot,tt,xt,Ct){var Yt=Kt(J,N,Z,tt,Ct),ye=Kt(K,$,ot,xt,Ct),ie=Ut.pointAt(J,K,N,$,Ct),Be=Ut.pointAt(N,$,Z,ot,Ct),Te=Ut.pointAt(Z,ot,tt,xt,Ct),pe=Ut.pointAt(ie.x,ie.y,Be.x,Be.y,Ct),nt=Ut.pointAt(Be.x,Be.y,Te.x,Te.y,Ct);return[[J,K,ie.x,ie.y,pe.x,pe.y,Yt,ye],[Yt,ye,nt.x,nt.y,Te.x,Te.y,tt,xt]]}function Bt(J,K,N,$,Z,ot,tt,xt,Ct){if(0===Ct)return function _e(J,K){for(var N=0,$=J.length,Z=0;Z<$;Z++)N+=Ee(J[Z],K[Z],J[(Z+1)%$],K[(Z+1)%$]);return N/2}([J,N,Z,tt],[K,$,ot,xt]);var Yt=C(J,K,N,$,Z,ot,tt,xt,.5),ye=Yt[0],ie=Yt[1];return ye.push(Ct-1),ie.push(Ct-1),Bt.apply(null,ye)+Bt.apply(null,ie)}const Xt={extrema:dt,box:function(J,K,N,$,Z,ot,tt,xt){for(var Ct=[J,tt],Yt=[K,xt],ye=dt(J,N,Z,tt),ie=dt(K,$,ot,xt),Be=0;Be<ye.length;Be++)Ct.push(Kt(J,N,Z,tt,ye[Be]));for(Be=0;Be<ie.length;Be++)Yt.push(Kt(K,$,ot,xt,ie[Be]));return le(Ct,Yt)},length:function(J,K,N,$,Z,ot,tt,xt){return Bt(J,K,N,$,Z,ot,tt,xt,3)},nearestPoint:function(J,K,N,$,Z,ot,tt,xt,Ct,Yt,ye){return ee([J,N,Z,tt],[K,$,ot,xt],Ct,Yt,Kt,ye)},pointDistance:function(J,K,N,$,Z,ot,tt,xt,Ct,Yt,ye){var ie=this.nearestPoint(J,K,N,$,Z,ot,tt,xt,Ct,Yt,ye);return Ee(ie.x,ie.y,Ct,Yt)},interpolationAt:Kt,pointAt:function(J,K,N,$,Z,ot,tt,xt,Ct){return{x:Kt(J,N,Z,tt,Ct),y:Kt(K,$,ot,xt,Ct)}},divide:function(J,K,N,$,Z,ot,tt,xt,Ct){return C(J,K,N,$,Z,ot,tt,xt,Ct)},tangentAngle:function(J,K,N,$,Z,ot,tt,xt,Ct){var Yt=Rt(J,N,Z,tt,Ct),ye=Rt(K,$,ot,xt,Ct);return ne(Math.atan2(ye,Yt))}};function Se(J,K){var N=Math.abs(J);return K>0?N:-1*N}function Nt(J,K,N,$,Z,ot){return N*Math.cos(Z)*Math.cos(ot)-$*Math.sin(Z)*Math.sin(ot)+J}function Dt(J,K,N,$,Z,ot){return N*Math.sin(Z)*Math.cos(ot)+$*Math.cos(Z)*Math.sin(ot)+K}function at(J,K,N){return{x:J*Math.cos(N),y:K*Math.sin(N)}}function Ht(J,K,N){var $=Math.cos(N),Z=Math.sin(N);return[J*$-K*Z,J*Z+K*$]}const ue={box:function(J,K,N,$,Z,ot,tt){for(var xt=function ve(J,K,N){return Math.atan(-K/J*Math.tan(N))}(N,$,Z),Ct=1/0,Yt=-1/0,ye=[ot,tt],ie=2*-Math.PI;ie<=2*Math.PI;ie+=Math.PI){var Be=xt+ie;ot<tt?ot<Be&&Be<tt&&ye.push(Be):tt<Be&&Be<ot&&ye.push(Be)}for(ie=0;ie<ye.length;ie++){var Te=Nt(J,0,N,$,Z,ye[ie]);Te<Ct&&(Ct=Te),Te>Yt&&(Yt=Te)}var pe=function Vt(J,K,N){return Math.atan(K/(J*Math.tan(N)))}(N,$,Z),nt=1/0,lt=-1/0,wt=[ot,tt];for(ie=2*-Math.PI;ie<=2*Math.PI;ie+=Math.PI){var Et=pe+ie;ot<tt?ot<Et&&Et<tt&&wt.push(Et):tt<Et&&Et<ot&&wt.push(Et)}for(ie=0;ie<wt.length;ie++){var Qt=Dt(0,K,N,$,Z,wt[ie]);Qt<nt&&(nt=Qt),Qt>lt&&(lt=Qt)}return{x:Ct,y:nt,width:Yt-Ct,height:lt-nt}},length:function(J,K,N,$,Z,ot,tt){},nearestPoint:function(J,K,N,$,Z,ot,tt,xt,Ct){var Yt=Ht(xt-J,Ct-K,-Z),Be=function(J,K,N,$,Z,ot){var tt=N,xt=$;if(0===tt||0===xt)return{x:J,y:K};for(var nt,lt,Ct=Z-J,Yt=ot-K,ye=Math.abs(Ct),ie=Math.abs(Yt),Be=tt*tt,Te=xt*xt,pe=Math.PI/4,wt=0;wt<4;wt++){nt=tt*Math.cos(pe),lt=xt*Math.sin(pe);var Et=(Be-Te)*Math.pow(Math.cos(pe),3)/tt,Qt=(Te-Be)*Math.pow(Math.sin(pe),3)/xt,ce=nt-Et,oe=lt-Qt,se=ye-Et,Zt=ie-Qt,Le=Math.hypot(oe,ce),we=Math.hypot(Zt,se);pe+=Le*Math.asin((ce*Zt-oe*se)/(Le*we))/Math.sqrt(Be+Te-nt*nt-lt*lt),pe=Math.min(Math.PI/2,Math.max(0,pe))}return{x:J+Se(nt,Ct),y:K+Se(lt,Yt)}}(0,0,N,$,Yt[0],Yt[1]),Te=function W(J,K,N,$){return(Math.atan2($*J,N*K)+2*Math.PI)%(2*Math.PI)}(N,$,Be.x,Be.y);Te<ot?Be=at(N,$,ot):Te>tt&&(Be=at(N,$,tt));var pe=Ht(Be.x,Be.y,Z);return{x:pe[0]+J,y:pe[1]+K}},pointDistance:function(J,K,N,$,Z,ot,tt,xt,Ct){var Yt=this.nearestPoint(J,K,N,$,xt,Ct);return Ee(Yt.x,Yt.y,xt,Ct)},pointAt:function(J,K,N,$,Z,ot,tt,xt){var Ct=(tt-ot)*xt+ot;return{x:Nt(J,0,N,$,Z,Ct),y:Dt(0,K,N,$,Z,Ct)}},tangentAngle:function(J,K,N,$,Z,ot,tt,xt){var Ct=(tt-ot)*xt+ot,Yt=function Mt(J,K,N,$,Z,ot,tt,xt){return-1*N*Math.cos(Z)*Math.sin(xt)-$*Math.sin(Z)*Math.cos(xt)}(0,0,N,$,Z,0,0,Ct),ye=function zt(J,K,N,$,Z,ot,tt,xt){return-1*N*Math.sin(Z)*Math.sin(xt)+$*Math.cos(Z)*Math.cos(xt)}(0,0,N,$,Z,0,0,Ct);return ne(Math.atan2(ye,Yt))}};function xe(J){for(var K=0,N=[],$=0;$<J.length-1;$++){var Z=J[$],ot=J[$+1],tt=Ee(Z[0],Z[1],ot[0],ot[1]);N.push({from:Z,to:ot,length:tt}),K+=tt}return{segments:N,totalLength:K}}const Q={box:function(J){for(var K=[],N=[],$=0;$<J.length;$++){var Z=J[$];K.push(Z[0]),N.push(Z[1])}return le(K,N)},length:function(J){return function Fe(J){if(J.length<2)return 0;for(var K=0,N=0;N<J.length-1;N++){var $=J[N],Z=J[N+1];K+=Ee($[0],$[1],Z[0],Z[1])}return K}(J)},pointAt:function(J,K){return function et(J,K){if(K>1||K<0||J.length<2)return null;var N=xe(J),$=N.segments,Z=N.totalLength;if(0===Z)return{x:J[0][0],y:J[0][1]};for(var ot=0,tt=null,xt=0;xt<$.length;xt++){var Ct=$[xt],Yt=Ct.from,ye=Ct.to,ie=Ct.length/Z;if(K>=ot&&K<=ot+ie){tt=Ut.pointAt(Yt[0],Yt[1],ye[0],ye[1],(K-ot)/ie);break}ot+=ie}return tt}(J,K)},pointDistance:function(J,K,N){return function ft(J,K,N){for(var $=1/0,Z=0;Z<J.length-1;Z++){var ot=J[Z],tt=J[Z+1],xt=Ut.pointDistance(ot[0],ot[1],tt[0],tt[1],K,N);xt<$&&($=xt)}return $}(J,K,N)},tangentAngle:function(J,K){return function ct(J,K){if(K>1||K<0||J.length<2)return 0;for(var N=xe(J),$=N.segments,Z=N.totalLength,ot=0,tt=0,xt=0;xt<$.length;xt++){var Ct=$[xt],Yt=Ct.from,ye=Ct.to,ie=Ct.length/Z;if(K>=ot&&K<=ot+ie){tt=Math.atan2(ye[1]-Yt[1],ye[0]-Yt[0]);break}ot+=ie}return tt}(J,K)}}},3882:(fr,ke,ut)=>{"use strict";ut.d(ke,{Dg:()=>Ut,lh:()=>le,m$:()=>Ee,vs:()=>ne,zu:()=>fe});var he=ut(7543),te=ut(8235);function Ee(ee,_e,Ot){var St=[0,0,0,0,0,0,0,0,0];return he.vc(St,Ot),he.Jp(ee,St,_e)}function fe(ee,_e,Ot){var St=[0,0,0,0,0,0,0,0,0];return he.Us(St,Ot),he.Jp(ee,St,_e)}function le(ee,_e,Ot){var St=[0,0,0,0,0,0,0,0,0];return he.xJ(St,Ot),he.Jp(ee,St,_e)}function qt(ee,_e,Ot){return he.Jp(ee,Ot,_e)}function ne(ee,_e){for(var Ot=ee?[].concat(ee):[1,0,0,0,1,0,0,0,1],St=0,mt=_e.length;St<mt;St++){var pt=_e[St];switch(pt[0]){case"t":Ee(Ot,Ot,[pt[1],pt[2]]);break;case"s":le(Ot,Ot,[pt[1],pt[2]]);break;case"r":fe(Ot,Ot,pt[1]);break;case"m":qt(Ot,Ot,pt[1])}}return Ot}function Ut(ee,_e,Ot){var St=te.EU(ee,_e),mt=function kt(ee,_e){return ee[0]*_e[1]-_e[0]*ee[1]}(ee,_e)>=0;return Ot?mt?2*Math.PI-St:St:mt?St:2*Math.PI-St}},2759:(fr,ke,ut)=>{"use strict";ut.d(ke,{e9:()=>Ut,Wq:()=>pe,tr:()=>pt,wb:()=>Kt,zx:()=>$});var he=ut(8250),te=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,Ee=/[^\s\,]+/gi;const le=function fe(nt){var lt=nt||[];return(0,he.kJ)(lt)?lt:(0,he.HD)(lt)?(lt=lt.match(te),(0,he.S6)(lt,function(wt,Et){if((wt=wt.match(Ee))[0].length>1){var Qt=wt[0].charAt(0);wt.splice(1,0,wt[0].substr(1)),wt[0]=Qt}(0,he.S6)(wt,function(ce,oe){isNaN(ce)||(wt[oe]=+ce)}),lt[Et]=wt}),lt):void 0};var qt=ut(8235);const Ut=function kt(nt,lt,wt){void 0===lt&&(lt=!1),void 0===wt&&(wt=[[0,0],[1,1]]);for(var Et=!!lt,Qt=[],ce=0,oe=nt.length;ce<oe;ce+=2)Qt.push([nt[ce],nt[ce+1]]);var we,Xe,Je,se=function ne(nt,lt,wt,Et){var oe,se,Zt,Le,we,Xe,Je,Qt=[],ce=!!Et;if(ce){Zt=Et[0],Le=Et[1];for(var ze=0,je=nt.length;ze<je;ze+=1)Zt=qt.VV([0,0],Zt,qe=nt[ze]),Le=qt.Fp([0,0],Le,qe)}ze=0;for(var Ke=nt.length;ze<Ke;ze+=1){var qe=nt[ze];if(0!==ze||wt)if(ze!==Ke-1||wt){var tr=[0,0];tr=qt.lu(tr,se=nt[wt?(ze+1)%Ke:ze+1],oe=nt[[ze?ze-1:Ke-1,ze-1][wt?0:1]]),tr=qt.bA(tr,tr,lt);var pr=qt.TE(qe,oe),sr=qt.TE(qe,se),dr=pr+sr;0!==dr&&(pr/=dr,sr/=dr);var Or=qt.bA([0,0],tr,-pr),Ar=qt.bA([0,0],tr,sr);Xe=qt.IH([0,0],qe,Or),we=qt.IH([0,0],qe,Ar),we=qt.VV([0,0],we,qt.Fp([0,0],se,qe)),we=qt.Fp([0,0],we,qt.VV([0,0],se,qe)),Or=qt.lu([0,0],we,qe),Or=qt.bA([0,0],Or,-pr/sr),Xe=qt.IH([0,0],qe,Or),Xe=qt.VV([0,0],Xe,qt.Fp([0,0],oe,qe)),Xe=qt.Fp([0,0],Xe,qt.VV([0,0],oe,qe)),Ar=qt.lu([0,0],qe,Xe),Ar=qt.bA([0,0],Ar,sr/pr),we=qt.IH([0,0],qe,Ar),ce&&(Xe=qt.Fp([0,0],Xe,Zt),Xe=qt.VV([0,0],Xe,Le),we=qt.Fp([0,0],we,Zt),we=qt.VV([0,0],we,Le)),Qt.push(Je),Qt.push(Xe),Je=we}else Xe=qe,Qt.push(Je),Qt.push(Xe);else Je=qe}return wt&&Qt.push(Qt.shift()),Qt}(Qt,.4,Et,wt),Zt=Qt.length,Le=[];for(ce=0;ce<Zt-1;ce+=1)Le.push(["C",(we=se[2*ce])[0],we[1],(Xe=se[2*ce+1])[0],Xe[1],(Je=Qt[ce+1])[0],Je[1]]);return Et&&Le.push(["C",(we=se[Zt])[0],we[1],(Xe=se[Zt+1])[0],Xe[1],(Je=Qt[0])[0],Je[1]]),Le};var Ot="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",St=new RegExp("([a-z])["+Ot+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+Ot+"]*,?["+Ot+"]*)+)","ig"),mt=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+Ot+"]*,?["+Ot+"]*","ig");function pt(nt){if(!nt)return null;if((0,he.kJ)(nt))return nt;var lt={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},wt=[];return String(nt).replace(St,function(Et,Qt,ce){var oe=[],se=Qt.toLowerCase();if(ce.replace(mt,function(Zt,Le){Le&&oe.push(+Le)}),"m"===se&&oe.length>2&&(wt.push([Qt].concat(oe.splice(0,2))),se="l",Qt="m"===Qt?"l":"L"),"o"===se&&1===oe.length&&wt.push([Qt,oe[0]]),"r"===se)wt.push([Qt].concat(oe));else for(;oe.length>=lt[se]&&(wt.push([Qt].concat(oe.splice(0,lt[se]))),lt[se]););return""}),wt}var Jt=/[a-z]/;function jt(nt,lt){return[lt[0]+(lt[0]-nt[0]),lt[1]+(lt[1]-nt[1])]}function Kt(nt){var lt=pt(nt);if(!lt||!lt.length)return[["M",0,0]];for(var wt=!1,Et=0;Et<lt.length;Et++)if(Jt.test(Qt=lt[Et][0])||["V","H","T","S"].indexOf(Qt)>=0){wt=!0;break}if(!wt)return lt;var ce=[],oe=0,se=0,Zt=0,Le=0,we=0,ze=lt[0];("M"===ze[0]||"m"===ze[0])&&(Zt=oe=+ze[1],Le=se=+ze[2],we++,ce[0]=["M",oe,se]),Et=we;for(var je=lt.length;Et<je;Et++){var Qt,qe=lt[Et],Ke=ce[Et-1],Ge=[],tr=(Qt=qe[0]).toUpperCase();if(Qt!==tr)switch(Ge[0]=tr,tr){case"A":Ge[1]=qe[1],Ge[2]=qe[2],Ge[3]=qe[3],Ge[4]=qe[4],Ge[5]=qe[5],Ge[6]=+qe[6]+oe,Ge[7]=+qe[7]+se;break;case"V":Ge[1]=+qe[1]+se;break;case"H":Ge[1]=+qe[1]+oe;break;case"M":Le=+qe[2]+se,Ge[1]=Zt=+qe[1]+oe,Ge[2]=Le;break;default:for(var pr=1,sr=qe.length;pr<sr;pr++)Ge[pr]=+qe[pr]+(pr%2?oe:se)}else Ge=lt[Et];switch(tr){case"Z":oe=+Zt,se=+Le;break;case"H":Ge=["L",oe=Ge[1],se];break;case"V":Ge=["L",oe,se=Ge[1]];break;case"T":oe=Ge[1],se=Ge[2];var dr=jt([Ke[1],Ke[2]],[Ke[3],Ke[4]]);Ge=["Q",dr[0],dr[1],oe,se];break;case"S":oe=Ge[Ge.length-2],se=Ge[Ge.length-1];var Or=Ke.length,Ar=jt([Ke[Or-4],Ke[Or-3]],[Ke[Or-2],Ke[Or-1]]);Ge=["C",Ar[0],Ar[1],Ge[1],Ge[2],oe,se];break;case"M":Zt=Ge[Ge.length-2],Le=Ge[Ge.length-1];break;default:oe=Ge[Ge.length-2],se=Ge[Ge.length-1]}ce.push(Ge)}return ce}function Q(nt){return Math.sqrt(nt[0]*nt[0]+nt[1]*nt[1])}function bt(nt,lt){return Q(nt)*Q(lt)?(nt[0]*lt[0]+nt[1]*lt[1])/(Q(nt)*Q(lt)):1}function It(nt,lt){return(nt[0]*lt[1]<nt[1]*lt[0]?-1:1)*Math.acos(bt(nt,lt))}function J(nt,lt){return nt[0]===lt[0]&&nt[1]===lt[1]}function K(nt,lt){var wt=lt[1],Et=lt[2],Qt=(0,he.wQ)((0,he.c$)(lt[3]),2*Math.PI),ce=lt[4],oe=lt[5],se=nt[0],Zt=nt[1],Le=lt[6],we=lt[7],Xe=Math.cos(Qt)*(se-Le)/2+Math.sin(Qt)*(Zt-we)/2,Je=-1*Math.sin(Qt)*(se-Le)/2+Math.cos(Qt)*(Zt-we)/2,ze=Xe*Xe/(wt*wt)+Je*Je/(Et*Et);ze>1&&(wt*=Math.sqrt(ze),Et*=Math.sqrt(ze));var je=wt*wt*(Je*Je)+Et*Et*(Xe*Xe),qe=je?Math.sqrt((wt*wt*(Et*Et)-je)/je):1;ce===oe&&(qe*=-1),isNaN(qe)&&(qe=0);var Ke=Et?qe*wt*Je/Et:0,Ge=wt?qe*-Et*Xe/wt:0,tr=(se+Le)/2+Math.cos(Qt)*Ke-Math.sin(Qt)*Ge,pr=(Zt+we)/2+Math.sin(Qt)*Ke+Math.cos(Qt)*Ge,sr=[(Xe-Ke)/wt,(Je-Ge)/Et],dr=[(-1*Xe-Ke)/wt,(-1*Je-Ge)/Et],Or=It([1,0],sr),Ar=It(sr,dr);return bt(sr,dr)<=-1&&(Ar=Math.PI),bt(sr,dr)>=1&&(Ar=0),0===oe&&Ar>0&&(Ar-=2*Math.PI),1===oe&&Ar<0&&(Ar+=2*Math.PI),{cx:tr,cy:pr,rx:J(nt,[Le,we])?0:wt,ry:J(nt,[Le,we])?0:Et,startAngle:Or,endAngle:Or+Ar,xRotation:Qt,arcFlag:ce,sweepFlag:oe}}function N(nt,lt){return[lt[0]+(lt[0]-nt[0]),lt[1]+(lt[1]-nt[1])]}function $(nt){for(var lt=[],wt=null,Et=null,Qt=null,ce=0,oe=(nt=le(nt)).length,se=0;se<oe;se++){var Zt=nt[se];Et=nt[se+1];var Le=Zt[0],we={command:Le,prePoint:wt,params:Zt,startTangent:null,endTangent:null};switch(Le){case"M":Qt=[Zt[1],Zt[2]],ce=se;break;case"A":var Xe=K(wt,Zt);we.arcParams=Xe}if("Z"===Le)wt=Qt,Et=nt[ce+1];else{var Je=Zt.length;wt=[Zt[Je-2],Zt[Je-1]]}Et&&"Z"===Et[0]&&(Et=nt[ce],lt[ce]&&(lt[ce].prePoint=wt)),we.currentPoint=wt,lt[ce]&&J(wt,lt[ce].currentPoint)&&(lt[ce].prePoint=we.prePoint),we.nextPoint=Et?[Et[Et.length-2],Et[Et.length-1]]:null;var je=we.prePoint;if(["L","H","V"].includes(Le))we.startTangent=[je[0]-wt[0],je[1]-wt[1]],we.endTangent=[wt[0]-je[0],wt[1]-je[1]];else if("Q"===Le)we.startTangent=[je[0]-(qe=[Zt[1],Zt[2]])[0],je[1]-qe[1]],we.endTangent=[wt[0]-qe[0],wt[1]-qe[1]];else if("T"===Le){var qe=N((Ke=lt[se-1]).currentPoint,je);"Q"===Ke.command?(we.command="Q",we.startTangent=[je[0]-qe[0],je[1]-qe[1]],we.endTangent=[wt[0]-qe[0],wt[1]-qe[1]]):(we.command="TL",we.startTangent=[je[0]-wt[0],je[1]-wt[1]],we.endTangent=[wt[0]-je[0],wt[1]-je[1]])}else if("C"===Le){var tr=[Zt[3],Zt[4]];we.startTangent=[je[0]-(Ge=[Zt[1],Zt[2]])[0],je[1]-Ge[1]],we.endTangent=[wt[0]-tr[0],wt[1]-tr[1]],0===we.startTangent[0]&&0===we.startTangent[1]&&(we.startTangent=[Ge[0]-tr[0],Ge[1]-tr[1]]),0===we.endTangent[0]&&0===we.endTangent[1]&&(we.endTangent=[tr[0]-Ge[0],tr[1]-Ge[1]])}else if("S"===Le){var Ke,Ge=N((Ke=lt[se-1]).currentPoint,je);tr=[Zt[1],Zt[2]],"C"===Ke.command?(we.command="C",we.startTangent=[je[0]-Ge[0],je[1]-Ge[1]],we.endTangent=[wt[0]-tr[0],wt[1]-tr[1]]):(we.command="SQ",we.startTangent=[je[0]-tr[0],je[1]-tr[1]],we.endTangent=[wt[0]-tr[0],wt[1]-tr[1]])}else if("A"===Le){var pr=.001,sr=we.arcParams||{},dr=sr.cx,Or=void 0===dr?0:dr,Ar=sr.cy,gn=void 0===Ar?0:Ar,Si=sr.rx,Hn=void 0===Si?0:Si,yo=sr.ry,qo=void 0===yo?0:yo,jo=sr.sweepFlag,mo=sr.startAngle,An=void 0===mo?0:mo,xo=sr.endAngle,Ka=void 0===xo?0:xo;0===(void 0===jo?0:jo)&&(pr*=-1);var Jo=Hn*Math.cos(An-pr)+Or,Ko=qo*Math.sin(An-pr)+gn;we.startTangent=[Jo-Qt[0],Ko-Qt[1]];var Co=Hn*Math.cos(An+Ka+pr)+Or,zs=qo*Math.sin(An+Ka-pr)+gn;we.endTangent=[je[0]-Co,je[1]-zs]}lt.push(we)}return lt}Math;var Z=1e-6;function ot(nt){return Math.abs(nt)<Z?0:nt<0?-1:1}function tt(nt,lt,wt){return(wt[0]-nt[0])*(lt[1]-nt[1])==(lt[0]-nt[0])*(wt[1]-nt[1])&&Math.min(nt[0],lt[0])<=wt[0]&&wt[0]<=Math.max(nt[0],lt[0])&&Math.min(nt[1],lt[1])<=wt[1]&&wt[1]<=Math.max(nt[1],lt[1])}function xt(nt,lt,wt){var Et=!1,Qt=nt.length;if(Qt<=2)return!1;for(var ce=0;ce<Qt;ce++){var oe=nt[ce],se=nt[(ce+1)%Qt];if(tt(oe,se,[lt,wt]))return!0;ot(oe[1]-wt)>0!=ot(se[1]-wt)>0&&ot(lt-(wt-oe[1])*(oe[0]-se[0])/(oe[1]-se[1])-oe[0])<0&&(Et=!Et)}return Et}var Ct=function(nt,lt,wt){return nt>=lt&&nt<=wt};function ye(nt){for(var lt=[],wt=nt.length,Et=0;Et<wt-1;Et++){var Qt=nt[Et],ce=nt[Et+1];lt.push({from:{x:Qt[0],y:Qt[1]},to:{x:ce[0],y:ce[1]}})}if(lt.length>1){var oe=nt[0],se=nt[wt-1];lt.push({from:{x:se[0],y:se[1]},to:{x:oe[0],y:oe[1]}})}return lt}function Be(nt){var lt=nt.map(function(Et){return Et[0]}),wt=nt.map(function(Et){return Et[1]});return{minX:Math.min.apply(null,lt),maxX:Math.max.apply(null,lt),minY:Math.min.apply(null,wt),maxY:Math.max.apply(null,wt)}}function pe(nt,lt){if(nt.length<2||lt.length<2)return!1;if(!function Te(nt,lt){return!(lt.minX>nt.maxX||lt.maxX<nt.minX||lt.minY>nt.maxY||lt.maxY<nt.minY)}(Be(nt),Be(lt)))return!1;var Qt=!1;if((0,he.S6)(lt,function(Zt){if(xt(nt,Zt[0],Zt[1]))return Qt=!0,!1}),Qt||((0,he.S6)(nt,function(Zt){if(xt(lt,Zt[0],Zt[1]))return Qt=!0,!1}),Qt))return!0;var ce=ye(nt),oe=ye(lt),se=!1;return(0,he.S6)(oe,function(Zt){if(function ie(nt,lt){var wt=!1;return(0,he.S6)(nt,function(Et){if(function Yt(nt,lt,wt,Et){var ce_x=wt.x-nt.x,ce_y=wt.y-nt.y,oe_x=lt.x-nt.x,oe_y=lt.y-nt.y,se_x=Et.x-wt.x,se_y=Et.y-wt.y,Zt=oe_x*se_y-oe_y*se_x,Je=null;if(Zt*Zt>.001*(oe_x*oe_x+oe_y*oe_y)*(se_x*se_x+se_y*se_y)){var ze=(ce_x*se_y-ce_y*se_x)/Zt,je=(ce_x*oe_y-ce_y*oe_x)/Zt;Ct(ze,0,1)&&Ct(je,0,1)&&(Je={x:nt.x+ze*oe_x,y:nt.y+ze*oe_y})}return Je}(Et.from,Et.to,lt.from,lt.to))return wt=!0,!1}),wt}(ce,Zt))return se=!0,!1}),se}},9805:(fr,ke,ut)=>{"use strict";ut.d(ke,{HZt:()=>q}),fr=ut.hmd(fr);var he=Object.freeze({__proto__:null,get Base(){return eo},get Circle(){return CA},get Ellipse(){return _A},get Image(){return J0},get Line(){return bA},get Marker(){return AA},get Path(){return Gd},get Polygon(){return i2},get Polyline(){return Pk},get Rect(){return Gk},get Text(){return Uk}}),te=function(a,o){return(te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,l){i.__proto__=l}||function(i,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(i[c]=l[c])})(a,o)};function Ee(a,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function i(){this.constructor=a}te(a,o),a.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}var fe=function(){return fe=Object.assign||function(o){for(var i,l=1,c=arguments.length;l<c;l++)for(var f in i=arguments[l])Object.prototype.hasOwnProperty.call(i,f)&&(o[f]=i[f]);return o},fe.apply(this,arguments)},qt=function(a){return null!==a&&"function"!=typeof a&&isFinite(a.length)},ne={}.toString,kt=function(a,o){return ne.call(a)==="[object "+o+"]"},Ut=function(a){return kt(a,"Function")},Ce=function(a){return null==a},ee=function(a){return Array.isArray?Array.isArray(a):kt(a,"Array")},_e=function(a){var o=typeof a;return null!==a&&"object"===o||"function"===o};function Ot(a,o){if(a)if(ee(a))for(var l=0,c=a.length;l<c&&!1!==o(a[l],l);l++);else if(_e(a))for(var f in a)if(a.hasOwnProperty(f)&&!1===o(a[f],f))break}var St=function(a){return"object"==typeof a&&null!==a},mt=function(a){if(ee(a))return a.reduce(function(o,i){return Math.max(o,i)},a[0])},pt=function(a){if(ee(a))return a.reduce(function(o,i){return Math.min(o,i)},a[0])},Jt=function(a){return kt(a,"String")},jt=function(a){return kt(a,"Number")},Kt=1e-5,dt=function(a,o){return(a%o+o)%o},C=Math.PI/180,Bt=function(a){return C*a},Xt=Object.values?function(a){return Object.values(a)}:function(a){var o=[];return Ot(a,function(i,l){Ut(a)&&"prototype"===l||o.push(i)}),o},be=function(a){var o=function(a){return Ce(a)?"":a.toString()}(a);return o.charAt(0).toUpperCase()+o.substring(1)};function ve(a,o){for(var i in o)o.hasOwnProperty(i)&&"constructor"!==i&&void 0!==o[i]&&(a[i]=o[i])}function Vt(a,o,i,l){return o&&ve(a,o),i&&ve(a,i),l&&ve(a,l),a}var xe,Dt=function(a,o){if(a===o)return!0;if(!a||!o||Jt(a)||Jt(o))return!1;if(qt(a)||qt(o)){if(a.length!==o.length)return!1;for(var i=!0,l=0;l<a.length&&(i=Dt(a[l],o[l]));l++);return i}if(St(a)||St(o)){var c=Object.keys(a),f=Object.keys(o);if(c.length!==f.length)return!1;for(i=!0,l=0;l<c.length&&(i=Dt(a[c[l]],o[c[l]]));l++);return i}return!1},W={},at=function(a){return W[a=a||"g"]?W[a]+=1:W[a]=1,a+W[a]},Ht=function(){};!function(a,o){if(!Ut(a))throw new TypeError("Expected a function");var i=function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];var f=o?o.apply(this,l):l[0],v=i.cache;if(v.has(f))return v.get(f);var g=a.apply(this,l);return v.set(f,g),g};i.cache=new Map}(function(a,o){void 0===o&&(o={});var i=o.fontSize,l=o.fontFamily,c=o.fontWeight,f=o.fontStyle,v=o.fontVariant;return xe||(xe=document.createElement("canvas").getContext("2d")),xe.font=[f,v,c,i+"px",l].join(" "),xe.measureText(Jt(a)?a:"").width},function(a,o){return void 0===o&&(o={}),function ue(){for(var a=0,o=0,i=arguments.length;o<i;o++)a+=arguments[o].length;var l=Array(a),c=0;for(o=0;o<i;o++)for(var f=arguments[o],v=0,g=f.length;v<g;v++,c++)l[c]=f[v];return l}([a],Xt(o)).join("")});var Fe="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",et=new RegExp("([a-z])["+Fe+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+Fe+"]*,?["+Fe+"]*)+)","ig"),ct=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+Fe+"]*,?["+Fe+"]*","ig"),ft=function(a){if(!a)return null;if(ee(a))return a;var o={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},i=[];return String(a).replace(et,function(l,c,f){var v=[],g=c.toLowerCase();if(f.replace(ct,function(m,_){_&&v.push(+_)}),"m"===g&&v.length>2&&(i.push([c].concat(v.splice(0,2))),g="l",c="m"===c?"l":"L"),"o"===g&&1===v.length&&i.push([c,v[0]]),"r"===g)i.push([c].concat(v));else for(;v.length>=o[g]&&(i.push([c].concat(v.splice(0,o[g]))),o[g]););return a}),i},Q=function(a,o){for(var i=[],l=0,c=a.length;c-2*!o>l;l+=2){var f=[{x:+a[l-2],y:+a[l-1]},{x:+a[l],y:+a[l+1]},{x:+a[l+2],y:+a[l+3]},{x:+a[l+4],y:+a[l+5]}];o?l?c-4===l?f[3]={x:+a[0],y:+a[1]}:c-2===l&&(f[2]={x:+a[0],y:+a[1]},f[3]={x:+a[2],y:+a[3]}):f[0]={x:+a[c-2],y:+a[c-1]}:c-4===l?f[3]=f[2]:l||(f[0]={x:+a[l],y:+a[l+1]}),i.push(["C",(6*f[1].x-f[0].x+f[2].x)/6,(6*f[1].y-f[0].y+f[2].y)/6,(f[1].x+6*f[2].x-f[3].x)/6,(f[1].y+6*f[2].y-f[3].y)/6,f[2].x,f[2].y])}return i},bt=function(a,o,i,l,c){var f=[];if(null===c&&null===l&&(l=i),a=+a,o=+o,i=+i,l=+l,null!==c){var v=Math.PI/180,g=a+i*Math.cos(-l*v),m=a+i*Math.cos(-c*v);f=[["M",g,o+i*Math.sin(-l*v)],["A",i,i,0,+(c-l>180),0,m,o+i*Math.sin(-c*v)]]}else f=[["M",a,o],["m",0,-l],["a",i,l,0,1,1,0,2*l],["a",i,l,0,1,1,0,-2*l],["z"]];return f},It=function(a){if(!(a=ft(a))||!a.length)return[["M",0,0]];var g,m,o=[],i=0,l=0,c=0,f=0,v=0;"M"===a[0][0]&&(c=i=+a[0][1],f=l=+a[0][2],v++,o[0]=["M",i,l]);for(var _=3===a.length&&"M"===a[0][0]&&"R"===a[1][0].toUpperCase()&&"Z"===a[2][0].toUpperCase(),b=void 0,A=void 0,I=v,O=a.length;I<O;I++){if(o.push(b=[]),(g=(A=a[I])[0])!==g.toUpperCase())switch(b[0]=g.toUpperCase(),b[0]){case"A":b[1]=A[1],b[2]=A[2],b[3]=A[3],b[4]=A[4],b[5]=A[5],b[6]=+A[6]+i,b[7]=+A[7]+l;break;case"V":b[1]=+A[1]+l;break;case"H":b[1]=+A[1]+i;break;case"R":for(var F=2,B=(m=[i,l].concat(A.slice(1))).length;F<B;F++)m[F]=+m[F]+i,m[++F]=+m[F]+l;o.pop(),o=o.concat(Q(m,_));break;case"O":o.pop(),(m=bt(i,l,A[1],A[2])).push(m[0]),o=o.concat(m);break;case"U":o.pop(),o=o.concat(bt(i,l,A[1],A[2],A[3])),b=["U"].concat(o[o.length-1].slice(-2));break;case"M":c=+A[1]+i,f=+A[2]+l;break;default:for(F=1,B=A.length;F<B;F++)b[F]=+A[F]+(F%2?i:l)}else if("R"===g)m=[i,l].concat(A.slice(1)),o.pop(),o=o.concat(Q(m,_)),b=["R"].concat(A.slice(-2));else if("O"===g)o.pop(),(m=bt(i,l,A[1],A[2])).push(m[0]),o=o.concat(m);else if("U"===g)o.pop(),o=o.concat(bt(i,l,A[1],A[2],A[3])),b=["U"].concat(o[o.length-1].slice(-2));else for(var P=0,H=A.length;P<H;P++)b[P]=A[P];if("O"!==(g=g.toUpperCase()))switch(b[0]){case"Z":i=+c,l=+f;break;case"H":i=b[1];break;case"V":l=b[1];break;case"M":c=b[b.length-2],f=b[b.length-1];break;default:i=b[b.length-2],l=b[b.length-1]}}return o},J=function(a,o,i,l){return[a,o,i,l,i,l]},K=function(a,o,i,l,c,f){var v=.3333333333333333,g=2/3;return[v*a+g*i,v*o+g*l,v*c+g*i,v*f+g*l,c,f]},N=function(a,o,i,l,c,f,v,g,m,_){i===l&&(i+=1);var O,F,B,P,H,b=120*Math.PI/180,A=Math.PI/180*(+c||0),I=[],Y=function(Tn,ci,hi){return{x:Tn*Math.cos(hi)-ci*Math.sin(hi),y:Tn*Math.sin(hi)+ci*Math.cos(hi)}};if(_)F=_[0],B=_[1],P=_[2],H=_[3];else{a=(O=Y(a,o,-A)).x,o=O.y,m=(O=Y(g,m,-A)).y,a===(g=O.x)&&o===m&&(g+=1,m+=1);var V=(a-g)/2,j=(o-m)/2,yt=V*V/(i*i)+j*j/(l*l);yt>1&&(i*=yt=Math.sqrt(yt),l*=yt);var Lt=i*i,Pt=l*l,ge=(f===v?-1:1)*Math.sqrt(Math.abs((Lt*Pt-Lt*j*j-Pt*V*V)/(Lt*j*j+Pt*V*V)));P=ge*i*j/l+(a+g)/2,H=ge*-l*V/i+(o+m)/2,F=Math.asin(((o-H)/l).toFixed(9)),B=Math.asin(((m-H)/l).toFixed(9)),F=a<P?Math.PI-F:F,B=g<P?Math.PI-B:B,F<0&&(F=2*Math.PI+F),B<0&&(B=2*Math.PI+B),v&&F>B&&(F-=2*Math.PI),!v&&B>F&&(B-=2*Math.PI)}var Me=B-F;if(Math.abs(Me)>b){var Ie=B,Pe=g,$e=m;B=F+b*(v&&B>F?1:-1),g=P+i*Math.cos(B),m=H+l*Math.sin(B),I=N(g,m,i,l,c,0,v,Pe,$e,[B,Ie,P,H])}Me=B-F;var lr=Math.cos(F),ir=Math.sin(F),er=Math.cos(B),Ze=Math.sin(B),Nr=Math.tan(Me/4),Br=4/3*i*Nr,un=4/3*l*Nr,Tr=[a,o],Mn=[a+Br*ir,o-un*lr],qr=[g+Br*Ze,m-un*er],Ni=[g,m];if(Mn[0]=2*Tr[0]-Mn[0],Mn[1]=2*Tr[1]-Mn[1],_)return[Mn,qr,Ni].concat(I);for(var Ln=[],Hr=0,dn=(I=[Mn,qr,Ni].concat(I).join().split(",")).length;Hr<dn;Hr++)Ln[Hr]=Hr%2?Y(I[Hr-1],I[Hr],A).y:Y(I[Hr],I[Hr+1],A).x;return Ln},$=function(a,o){var b,i=It(a),l=o&&It(o),c={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},f={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},v=[],g=[],m="",_="",A=function(V,j,yt){var Lt,Pt;if(!V)return["C",j.x,j.y,j.x,j.y,j.x,j.y];switch(!(V[0]in{T:1,Q:1})&&(j.qx=j.qy=null),V[0]){case"M":j.X=V[1],j.Y=V[2];break;case"A":V=["C"].concat(N.apply(0,[j.x,j.y].concat(V.slice(1))));break;case"S":"C"===yt||"S"===yt?(Lt=2*j.x-j.bx,Pt=2*j.y-j.by):(Lt=j.x,Pt=j.y),V=["C",Lt,Pt].concat(V.slice(1));break;case"T":"Q"===yt||"T"===yt?(j.qx=2*j.x-j.qx,j.qy=2*j.y-j.qy):(j.qx=j.x,j.qy=j.y),V=["C"].concat(K(j.x,j.y,j.qx,j.qy,V[1],V[2]));break;case"Q":j.qx=V[1],j.qy=V[2],V=["C"].concat(K(j.x,j.y,V[1],V[2],V[3],V[4]));break;case"L":V=["C"].concat(J(j.x,j.y,V[1],V[2]));break;case"H":V=["C"].concat(J(j.x,j.y,V[1],j.y));break;case"V":V=["C"].concat(J(j.x,j.y,j.x,V[1]));break;case"Z":V=["C"].concat(J(j.x,j.y,j.X,j.Y))}return V},I=function(V,j){if(V[j].length>7){V[j].shift();for(var yt=V[j];yt.length;)v[j]="A",l&&(g[j]="A"),V.splice(j++,0,["C"].concat(yt.splice(0,6)));V.splice(j,1),b=Math.max(i.length,l&&l.length||0)}},O=function(V,j,yt,Lt,Pt){V&&j&&"M"===V[Pt][0]&&"M"!==j[Pt][0]&&(j.splice(Pt,0,["M",Lt.x,Lt.y]),yt.bx=0,yt.by=0,yt.x=V[Pt][1],yt.y=V[Pt][2],b=Math.max(i.length,l&&l.length||0))};b=Math.max(i.length,l&&l.length||0);for(var F=0;F<b;F++){i[F]&&(m=i[F][0]),"C"!==m&&(v[F]=m,F&&(_=v[F-1])),i[F]=A(i[F],c,_),"A"!==v[F]&&"C"===m&&(v[F]="C"),I(i,F),l&&(l[F]&&(m=l[F][0]),"C"!==m&&(g[F]=m,F&&(_=g[F-1])),l[F]=A(l[F],f,_),"A"!==g[F]&&"C"===m&&(g[F]="C"),I(l,F)),O(i,l,c,f,F),O(l,i,f,c,F);var B=i[F],P=l&&l[F],H=B.length,Y=l&&P.length;c.x=B[H-2],c.y=B[H-1],c.bx=parseFloat(B[H-4])||c.x,c.by=parseFloat(B[H-3])||c.y,f.bx=l&&(parseFloat(P[Y-4])||f.x),f.by=l&&(parseFloat(P[Y-3])||f.y),f.x=l&&P[Y-2],f.y=l&&P[Y-1]}return l?[i,l]:i},Z=/,?([a-z]),?/gi,ot=function(a){return a.join(",").replace(Z,"$1")},tt=function(a,o,i,l,c){return a*(a*(-3*o+9*i-9*l+3*c)+6*o-12*i+6*l)-3*o+3*i},xt=function(a,o,i,l,c,f,v,g,m){null===m&&(m=1);for(var _=(m=m>1?1:m<0?0:m)/2,A=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],I=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],O=0,F=0;F<12;F++){var B=_*A[F]+_,P=tt(B,a,i,c,v),H=tt(B,o,l,f,g);O+=I[F]*Math.sqrt(P*P+H*H)}return _*O},Ct=function(a,o,i,l,c,f,v,g){for(var b,A,I,O,m=[],_=[[],[]],F=0;F<2;++F)if(0===F?(A=6*a-12*i+6*c,b=-3*a+9*i-9*c+3*v,I=3*i-3*a):(A=6*o-12*l+6*f,b=-3*o+9*l-9*f+3*g,I=3*l-3*o),Math.abs(b)<1e-12){if(Math.abs(A)<1e-12)continue;(O=-I/A)>0&&O<1&&m.push(O)}else{var B=A*A-4*I*b,P=Math.sqrt(B);if(!(B<0)){var H=(-A+P)/(2*b);H>0&&H<1&&m.push(H);var Y=(-A-P)/(2*b);Y>0&&Y<1&&m.push(Y)}}for(var yt,V=m.length,j=V;V--;)_[0][V]=(yt=1-(O=m[V]))*yt*yt*a+3*yt*yt*O*i+3*yt*O*O*c+O*O*O*v,_[1][V]=yt*yt*yt*o+3*yt*yt*O*l+3*yt*O*O*f+O*O*O*g;return _[0][j]=a,_[1][j]=o,_[0][j+1]=v,_[1][j+1]=g,_[0].length=_[1].length=j+2,{min:{x:Math.min.apply(0,_[0]),y:Math.min.apply(0,_[1])},max:{x:Math.max.apply(0,_[0]),y:Math.max.apply(0,_[1])}}},Yt=function(a,o,i,l,c,f,v,g){if(!(Math.max(a,i)<Math.min(c,v)||Math.min(a,i)>Math.max(c,v)||Math.max(o,l)<Math.min(f,g)||Math.min(o,l)>Math.max(f,g))){var b=(a-i)*(f-g)-(o-l)*(c-v);if(b){var A=((a*l-o*i)*(c-v)-(a-i)*(c*g-f*v))/b,I=((a*l-o*i)*(f-g)-(o-l)*(c*g-f*v))/b,O=+A.toFixed(2),F=+I.toFixed(2);if(!(O<+Math.min(a,i).toFixed(2)||O>+Math.max(a,i).toFixed(2)||O<+Math.min(c,v).toFixed(2)||O>+Math.max(c,v).toFixed(2)||F<+Math.min(o,l).toFixed(2)||F>+Math.max(o,l).toFixed(2)||F<+Math.min(f,g).toFixed(2)||F>+Math.max(f,g).toFixed(2)))return{x:A,y:I}}}},ye=function(a,o,i){return o>=a.x&&o<=a.x+a.width&&i>=a.y&&i<=a.y+a.height},ie=function(a,o,i,l,c){if(c)return[["M",+a+ +c,o],["l",i-2*c,0],["a",c,c,0,0,1,c,c],["l",0,l-2*c],["a",c,c,0,0,1,-c,c],["l",2*c-i,0],["a",c,c,0,0,1,-c,-c],["l",0,2*c-l],["a",c,c,0,0,1,c,-c],["z"]];var f=[["M",a,o],["l",i,0],["l",0,l],["l",-i,0],["z"]];return f.parsePathArray=ot,f},Be=function(a,o,i,l){return null===a&&(a=o=i=l=0),null===o&&(o=a.y,i=a.width,l=a.height,a=a.x),{x:a,y:o,width:i,w:i,height:l,h:l,x2:a+i,y2:o+l,cx:a+i/2,cy:o+l/2,r1:Math.min(i,l)/2,r2:Math.max(i,l)/2,r0:Math.sqrt(i*i+l*l)/2,path:ie(a,o,i,l),vb:[a,o,i,l].join(" ")}},pe=function(a,o,i,l,c,f,v,g){ee(a)||(a=[a,o,i,l,c,f,v,g]);var m=Ct.apply(null,a);return Be(m.min.x,m.min.y,m.max.x-m.min.x,m.max.y-m.min.y)},nt=function(a,o,i,l,c,f,v,g,m){var _=1-m,b=Math.pow(_,3),A=Math.pow(_,2),I=m*m,O=I*m,P=a+2*m*(i-a)+I*(c-2*i+a),H=o+2*m*(l-o)+I*(f-2*l+o),Y=i+2*m*(c-i)+I*(v-2*c+i),V=l+2*m*(f-l)+I*(g-2*f+l);return{x:b*a+3*A*m*i+3*_*m*m*c+O*v,y:b*o+3*A*m*l+3*_*m*m*f+O*g,m:{x:P,y:H},n:{x:Y,y:V},start:{x:_*a+m*i,y:_*o+m*l},end:{x:_*c+m*v,y:_*f+m*g},alpha:90-180*Math.atan2(P-Y,H-V)/Math.PI}},lt=function(a,o,i){if(!function(a,o){return a=Be(a),o=Be(o),ye(o,a.x,a.y)||ye(o,a.x2,a.y)||ye(o,a.x,a.y2)||ye(o,a.x2,a.y2)||ye(a,o.x,o.y)||ye(a,o.x2,o.y)||ye(a,o.x,o.y2)||ye(a,o.x2,o.y2)||(a.x<o.x2&&a.x>o.x||o.x<a.x2&&o.x>a.x)&&(a.y<o.y2&&a.y>o.y||o.y<a.y2&&o.y>a.y)}(pe(a),pe(o)))return i?0:[];for(var g=~~(xt.apply(0,a)/8),m=~~(xt.apply(0,o)/8),_=[],b=[],A={},I=i?0:[],O=0;O<g+1;O++){var F=nt.apply(0,a.concat(O/g));_.push({x:F.x,y:F.y,t:O/g})}for(O=0;O<m+1;O++)F=nt.apply(0,o.concat(O/m)),b.push({x:F.x,y:F.y,t:O/m});for(O=0;O<g;O++)for(var B=0;B<m;B++){var P=_[O],H=_[O+1],Y=b[B],V=b[B+1],j=Math.abs(H.x-P.x)<.001?"y":"x",yt=Math.abs(V.x-Y.x)<.001?"y":"x",Lt=Yt(P.x,P.y,H.x,H.y,Y.x,Y.y,V.x,V.y);if(Lt){if(A[Lt.x.toFixed(4)]===Lt.y.toFixed(4))continue;A[Lt.x.toFixed(4)]=Lt.y.toFixed(4);var Pt=P.t+Math.abs((Lt[j]-P[j])/(H[j]-P[j]))*(H.t-P.t),ge=Y.t+Math.abs((Lt[yt]-Y[yt])/(V[yt]-Y[yt]))*(V.t-Y.t);Pt>=0&&Pt<=1&&ge>=0&&ge<=1&&(i?I+=1:I.push({x:Lt.x,y:Lt.y,t1:Pt,t2:ge}))}}return I};function Qt(a,o){var i=[],l=[];return a.length&&function c(f,v){if(1===f.length)i.push(f[0]),l.push(f[0]);else{for(var g=[],m=0;m<f.length-1;m++)0===m&&i.push(f[0]),m===f.length-2&&l.push(f[m+1]),g[m]=[(1-v)*f[m][0]+v*f[m+1][0],(1-v)*f[m][1]+v*f[m+1][1]];c(g,v)}}(a,o),{left:i,right:l.reverse()}}var Zt=function(a,o){if(a.length!==o.length)return!1;var i=!0;return Ot(a,function(l,c){if(l!==o[c])return i=!1,!1}),i};function Le(a,o,i){var l=null,c=i;return o<c&&(c=o,l="add"),a<c&&(c=a,l="del"),{type:l,min:c}}var Xe=function(a,o){var i=function(a,o){var c,i=a.length,l=o.length,v=0;if(0===i||0===l)return null;for(var g=[],m=0;m<=i;m++)g[m]=[],g[m][0]={min:m};for(var _=0;_<=l;_++)g[0][_]={min:_};for(m=1;m<=i;m++)for(c=a[m-1],_=1;_<=l;_++)v=Zt(c,o[_-1])?0:1,g[m][_]=Le(g[m-1][_].min+1,g[m][_-1].min+1,g[m-1][_-1].min+v);return g}(a,o),l=a.length,c=o.length,f=[],v=1,g=1;if(i[l][c].min!==l){for(var m=1;m<=l;m++){var _=i[m][m].min;g=m;for(var b=v;b<=c;b++)i[m][b].min<_&&(_=i[m][b].min,g=b);i[m][v=g].type&&f.push({index:m-1,type:i[m][v].type})}for(m=f.length-1;m>=0;m--)v=f[m].index,"add"===f[m].type?a.splice(v,0,[].concat(a[v])):a.splice(v,1)}var A=c-(l=a.length);if(l<c)for(m=0;m<A;m++)"z"===a[l-1][0]||"Z"===a[l-1][0]?a.splice(l-2,0,a[l-2]):a.push(a[l-1]),l+=1;return a};function Je(a,o,i){for(var c,l=[].concat(a),f=1/(i+1),v=ze(o)[0],g=1;g<=i;g++)f*=g,0===(c=Math.floor(a.length*f))?l.unshift([v[0]*f+a[c][0]*(1-f),v[1]*f+a[c][1]*(1-f)]):l.splice(c,0,[v[0]*f+a[c][0]*(1-f),v[1]*f+a[c][1]*(1-f)]);return l}function ze(a){var o=[];switch(a[0]){case"M":case"L":case"T":o.push([a[1],a[2]]);break;case"A":o.push([a[6],a[7]]);break;case"Q":case"S":o.push([a[3],a[4]]),o.push([a[1],a[2]]);break;case"C":o.push([a[5],a[6]]),o.push([a[1],a[2]]),o.push([a[3],a[4]]);break;case"H":case"V":o.push([a[1],a[1]])}return o}var je=function(a,o){if(a.length<=1)return a;for(var i,l=0;l<o.length;l++)if(a[l][0]!==o[l][0])switch(i=ze(a[l]),o[l][0]){case"M":a[l]=["M"].concat(i[0]);break;case"L":a[l]=["L"].concat(i[0]);break;case"A":a[l]=[].concat(o[l]),a[l][6]=i[0][0],a[l][7]=i[0][1];break;case"Q":if(i.length<2){if(!(l>0)){a[l]=o[l];break}i=Je(i,a[l-1],1)}a[l]=["Q"].concat(i.reduce(function(c,f){return c.concat(f)},[]));break;case"T":a[l]=["T"].concat(i[0]);break;case"C":if(i.length<3){if(!(l>0)){a[l]=o[l];break}i=Je(i,a[l-1],2)}a[l]=["C"].concat(i.reduce(function(c,f){return c.concat(f)},[]));break;case"S":if(i.length<2){if(!(l>0)){a[l]=o[l];break}i=Je(i,a[l-1],1)}a[l]=["S"].concat(i.reduce(function(c,f){return c.concat(f)},[]));break;default:a[l]=o[l]}return a},qe=Object.freeze({__proto__:null,catmullRomToBezier:Q,fillPath:function(a,o){if(1===a.length)return a;var i=a.length-1,l=o.length-1,c=i/l,f=[];if(1===a.length&&"M"===a[0][0]){for(var v=0;v<l-i;v++)a.push(a[0]);return a}for(v=0;v<l;v++){var g=Math.floor(c*v);f[g]=(f[g]||0)+1}var m=f.reduce(function(_,b,A){return _.concat(A===i?a[i]:function(a,o,i){if(1===i)return[[].concat(a)];var l=[];if("L"===o[0]||"C"===o[0]||"Q"===o[0])l=l.concat(function ce(a,o,i){var l=[[a[1],a[2]]];i=i||2;var c=[];"A"===o[0]?(l.push(o[6]),l.push(o[7])):"C"===o[0]?(l.push([o[1],o[2]]),l.push([o[3],o[4]]),l.push([o[5],o[6]])):"S"===o[0]||"Q"===o[0]?(l.push([o[1],o[2]]),l.push([o[3],o[4]])):l.push([o[1],o[2]]);for(var f=l,v=1/i,g=0;g<i-1;g++){var _=Qt(f,v/(1-v*g));c.push(_.left),f=_.right}return c.push(f),c.map(function(A){var I=[];return 4===A.length&&(I.push("C"),I=I.concat(A[2])),A.length>=3&&(3===A.length&&I.push("Q"),I=I.concat(A[1])),2===A.length&&I.push("L"),I.concat(A[A.length-1])})}(a,o,i));else{var c=[].concat(a);"M"===c[0]&&(c[0]="L");for(var f=0;f<=i-1;f++)l.push(c)}return l}(a[A],a[A+1],b))},[]);return m.unshift(a[0]),("Z"===o[l]||"z"===o[l])&&m.push("Z"),m},fillPathByDiff:Xe,formatPath:je,intersection:function(a,o){return function(a,o,i){a=$(a),o=$(o);for(var l,c,f,v,g,m,_,b,A,I,O=[],F=0,B=a.length;F<B;F++){var P=a[F];if("M"===P[0])l=g=P[1],c=m=P[2];else{"C"===P[0]?(A=[l,c].concat(P.slice(1)),l=A[6],c=A[7]):(A=[l,c,l,c,g,m,g,m],l=g,c=m);for(var H=0,Y=o.length;H<Y;H++){var V=o[H];if("M"===V[0])f=_=V[1],v=b=V[2];else{"C"===V[0]?(I=[f,v].concat(V.slice(1)),f=I[6],v=I[7]):(I=[f,v,f,v,_,b,_,b],f=_,v=b);for(var j=lt(A,I,i),yt=0,Lt=j.length;yt<Lt;yt++)j[yt].segment1=F,j[yt].segment2=H,j[yt].bez1=A,j[yt].bez2=I;O=O.concat(j)}}}}return O}(a,o)},parsePathArray:ot,parsePathString:ft,pathToAbsolute:It,pathToCurve:$,rectPath:ie}),Ke=function(){function a(o,i){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=o,this.name=o,this.originalEvent=i,this.timeStamp=i.timeStamp}return a.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},a.prototype.stopPropagation=function(){this.propagationStopped=!0},a.prototype.toString=function(){return"[Event (type="+this.type+")]"},a.prototype.save=function(){},a.prototype.restore=function(){},a}(),Ge=function(a,o){return(Ge=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,l){i.__proto__=l}||function(i,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(i[c]=l[c])})(a,o)};function tr(a,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function i(){this.constructor=a}Ge(a,o),a.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}var pr="*",sr=function(){function a(){this._events={}}return a.prototype.on=function(o,i,l){return this._events[o]||(this._events[o]=[]),this._events[o].push({callback:i,once:!!l}),this},a.prototype.once=function(o,i){return this.on(o,i,!0)},a.prototype.emit=function(o){for(var i=this,l=[],c=1;c<arguments.length;c++)l[c-1]=arguments[c];var v=this._events[pr]||[],g=function(m){for(var _=m.length,b=0;b<_;b++)if(m[b]){var A=m[b],I=A.callback;A.once&&(m.splice(b,1),0===m.length&&delete i._events[o],_--,b--),I.apply(i,l)}};g(this._events[o]||[]),g(v)},a.prototype.off=function(o,i){if(o)if(i){for(var l=this._events[o]||[],c=l.length,f=0;f<c;f++)l[f].callback===i&&(l.splice(f,1),c--,f--);0===l.length&&delete this._events[o]}else delete this._events[o];else this._events={};return this},a.prototype.getEvents=function(){return this._events},a}();function dr(a,o){var i=a.indexOf(o);-1!==i&&a.splice(i,1)}var Or=typeof window<"u"&&typeof window.document<"u";function Ar(a,o){if(a.isCanvas())return!0;for(var i=o.getParent(),l=!1;i;){if(i===a){l=!0;break}i=i.getParent()}return l}function gn(a){return a.cfg.visible&&a.cfg.capture}var Si=function(a){function o(i){var l=a.call(this)||this;l.destroyed=!1;var c=l.getDefaultCfg();return l.cfg=Vt(c,i),l}return tr(o,a),o.prototype.getDefaultCfg=function(){return{}},o.prototype.get=function(i){return this.cfg[i]},o.prototype.set=function(i,l){this.cfg[i]=l},o.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},o}(sr),Hn=function(a,o,i){if(i||2===arguments.length)for(var f,l=0,c=o.length;l<c;l++)(f||!(l in o))&&(f||(f=Array.prototype.slice.call(o,0,l)),f[l]=o[l]);return a.concat(f||Array.prototype.slice.call(o))},yo=function a(o,i,l){this.name=o,this.version=i,this.os=l,this.type="browser"},qo=function a(o){this.version=o,this.type="node",this.name="node",this.os=process.platform},jo=function a(o,i,l,c){this.name=o,this.version=i,this.os=l,this.bot=c,this.type="bot-device"},ji=function a(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},mo=function a(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},xo=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Ka=3,Jo=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],Ko=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Du(a){var o=function zs(a){return""!==a&&Jo.reduce(function(o,i){var l=i[0];if(o)return o;var f=i[1].exec(a);return!!f&&[l,f]},!1)}(a);if(!o)return null;var i=o[0],l=o[1];if("searchbot"===i)return new ji;var c=l[1]&&l[1].split(".").join("_").split("_").slice(0,3);c?c.length<Ka&&(c=Hn(Hn([],c,!0),function ku(a){for(var o=[],i=0;i<a;i++)o.push("0");return o}(Ka-c.length),!0)):c=[];var f=c.join("."),v=function $c(a){for(var o=0,i=Ko.length;o<i;o++){var l=Ko[o],c=l[0];if(l[1].exec(a))return c}return null}(a),g=xo.exec(a);return g&&g[1]?new jo(i,f,v,g[1]):new yo(i,f,v)}var Ol=typeof Float32Array<"u"?Float32Array:Array;function Ns(a,o,i){var l=o[0],c=o[1],f=o[2],v=o[3],g=o[4],m=o[5],_=o[6],b=o[7],A=o[8],I=i[0],O=i[1],F=i[2],B=i[3],P=i[4],H=i[5],Y=i[6],V=i[7],j=i[8];return a[0]=I*l+O*v+F*_,a[1]=I*c+O*g+F*b,a[2]=I*f+O*m+F*A,a[3]=B*l+P*v+H*_,a[4]=B*c+P*g+H*b,a[5]=B*f+P*m+H*A,a[6]=Y*l+V*v+j*_,a[7]=Y*c+V*g+j*b,a[8]=Y*f+V*m+j*A,a}function jc(a,o,i){var l=o[0],c=o[1],f=o[2];return a[0]=l*i[0]+c*i[3]+f*i[6],a[1]=l*i[1]+c*i[4]+f*i[7],a[2]=l*i[2]+c*i[5]+f*i[8],a}function Xn(a,o,i){var l=[0,0,0,0,0,0,0,0,0];return function jf(a,o){a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=1,a[5]=0,a[6]=o[0],a[7]=o[1],a[8]=1}(l,i),Ns(a,l,o)}function st(a,o,i){var l=[0,0,0,0,0,0,0,0,0];return function Rl(a,o){var i=Math.sin(o),l=Math.cos(o);a[0]=l,a[1]=i,a[2]=0,a[3]=-i,a[4]=l,a[5]=0,a[6]=0,a[7]=0,a[8]=1}(l,i),Ns(a,l,o)}function rt(a,o,i){var l=[0,0,0,0,0,0,0,0,0];return function Zc(a,o){a[0]=o[0],a[1]=0,a[2]=0,a[3]=0,a[4]=o[1],a[5]=0,a[6]=0,a[7]=0,a[8]=1}(l,i),Ns(a,l,o)}function ht(a,o,i){return Ns(a,i,o)}function Tt(a,o){for(var i=a?[].concat(a):[1,0,0,0,1,0,0,0,1],l=0,c=o.length;l<c;l++){var f=o[l];switch(f[0]){case"t":Xn(i,i,[f[1],f[2]]);break;case"s":rt(i,i,[f[1],f[2]]);break;case"r":st(i,i,f[1]);break;case"m":ht(i,i,f[1])}}return i}function re(a,o){var i=[],l=a[0],c=a[1],f=a[2],v=a[3],g=a[4],m=a[5],_=a[6],b=a[7],A=a[8],I=o[0],O=o[1],F=o[2],B=o[3],P=o[4],H=o[5],Y=o[6],V=o[7],j=o[8];return i[0]=I*l+O*v+F*_,i[1]=I*c+O*g+F*b,i[2]=I*f+O*m+F*A,i[3]=B*l+P*v+H*_,i[4]=B*c+P*g+H*b,i[5]=B*f+P*m+H*A,i[6]=Y*l+V*v+j*_,i[7]=Y*c+V*g+j*b,i[8]=Y*f+V*m+j*A,i}function Oe(a,o){var i=[],l=o[0],c=o[1];return i[0]=a[0]*l+a[3]*c+a[6],i[1]=a[1]*l+a[4]*c+a[7],i}function Ue(a){var o=[],i=a[0],l=a[1],c=a[2],f=a[3],v=a[4],g=a[5],m=a[6],_=a[7],b=a[8],A=b*v-g*_,I=-b*f+g*m,O=_*f-v*m,F=i*A+l*I+c*O;return F?(o[0]=A*(F=1/F),o[1]=(-b*l+c*_)*F,o[2]=(g*l-c*v)*F,o[3]=I*F,o[4]=(b*i-c*m)*F,o[5]=(-g*i+c*f)*F,o[6]=O*F,o[7]=(-_*i+l*m)*F,o[8]=(v*i-l*f)*F,o):null}Math.hypot||(Math.hypot=function(){for(var a=0,o=arguments.length;o--;)a+=arguments[o]*arguments[o];return Math.sqrt(a)}),function qc(){var a=new Ol(3);Ol!=Float32Array&&(a[0]=0,a[1]=0,a[2]=0)}(),function Jc(){var a=new Ol(2);Ol!=Float32Array&&(a[0]=0,a[1]=0)}();var De=Tt,xr="matrix",nn=["zIndex","capture","visible","type"],Qn=["repeat"];function Oa(a,o){var i={},l=o.attrs;for(var c in a)i[c]=l[c];return i}var m0=function(a){function o(i){var l=a.call(this,i)||this;l.attrs={};var c=l.getDefaultAttrs();return Vt(c,i.attrs),l.attrs=c,l.initAttrs(c),l.initAnimate(),l}return tr(o,a),o.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},o.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},o.prototype.onCanvasChange=function(i){},o.prototype.initAttrs=function(i){},o.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},o.prototype.isGroup=function(){return!1},o.prototype.getParent=function(){return this.get("parent")},o.prototype.getCanvas=function(){return this.get("canvas")},o.prototype.attr=function(){for(var i,l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];var f=l[0],v=l[1];if(!f)return this.attrs;if(_e(f)){for(var g in f)this.setAttr(g,f[g]);return this.afterAttrsChange(f),this}return 2===l.length?(this.setAttr(f,v),this.afterAttrsChange(((i={})[f]=v,i)),this):this.attrs[f]},o.prototype.isClipped=function(i,l){var c=this.getClip();return c&&!c.isHit(i,l)},o.prototype.setAttr=function(i,l){var c=this.attrs[i];c!==l&&(this.attrs[i]=l,this.onAttrChange(i,l,c))},o.prototype.onAttrChange=function(i,l,c){"matrix"===i&&this.set("totalMatrix",null)},o.prototype.afterAttrsChange=function(i){if(this.cfg.isClipShape){var l=this.cfg.applyTo;l&&l.onCanvasChange("clip")}else this.onCanvasChange("attr")},o.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},o.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},o.prototype.setZIndex=function(i){this.set("zIndex",i);var l=this.getParent();return l&&l.sort(),this},o.prototype.toFront=function(){var i=this.getParent();if(i){var l=i.getChildren();this.get("el");var c=l.indexOf(this);l.splice(c,1),l.push(this),this.onCanvasChange("zIndex")}},o.prototype.toBack=function(){var i=this.getParent();if(i){var l=i.getChildren();this.get("el");var c=l.indexOf(this);l.splice(c,1),l.unshift(this),this.onCanvasChange("zIndex")}},o.prototype.remove=function(i){void 0===i&&(i=!0);var l=this.getParent();l?(dr(l.getChildren(),this),l.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),i&&this.destroy()},o.prototype.resetMatrix=function(){this.attr(xr,this.getDefaultMatrix()),this.onCanvasChange("matrix")},o.prototype.getMatrix=function(){return this.attr(xr)},o.prototype.setMatrix=function(i){this.attr(xr,i),this.onCanvasChange("matrix")},o.prototype.getTotalMatrix=function(){var i=this.cfg.totalMatrix;if(!i){var l=this.attr("matrix"),c=this.cfg.parentMatrix;i=c&&l?re(c,l):l||c,this.set("totalMatrix",i)}return i},o.prototype.applyMatrix=function(i){var c,l=this.attr("matrix");c=i&&l?re(i,l):l||i,this.set("totalMatrix",c),this.set("parentMatrix",i)},o.prototype.getDefaultMatrix=function(){return null},o.prototype.applyToMatrix=function(i){var l=this.attr("matrix");return l?Oe(l,i):i},o.prototype.invertFromMatrix=function(i){var l=this.attr("matrix");if(l){var c=Ue(l);if(c)return Oe(c,i)}return i},o.prototype.setClip=function(i){var l=this.getCanvas(),c=null;if(i){var g=this.getShapeBase()[be(i.type)];g&&(c=new g({type:i.type,isClipShape:!0,applyTo:this,attrs:i.attrs,canvas:l}))}return this.set("clipShape",c),this.onCanvasChange("clip"),c},o.prototype.getClip=function(){return this.cfg.clipShape||null},o.prototype.clone=function(){var i=this,l=this.attrs,c={};Ot(l,function(g,m){c[m]=ee(l[m])?function Qa(a){for(var o=[],i=0;i<a.length;i++)ee(a[i])?o.push([].concat(a[i])):o.push(a[i]);return o}(l[m]):l[m]});var v=new(0,this.constructor)({attrs:c});return Ot(nn,function(g){v.set(g,i.get(g))}),v},o.prototype.destroy=function(){this.destroyed||(this.attrs={},a.prototype.destroy.call(this))},o.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},o.prototype.animate=function(){for(var i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];if(this.get("timeline")||this.get("canvas")){this.set("animating",!0);var c=this.get("timeline");c||(c=this.get("canvas").get("timeline"),this.set("timeline",c));var f=this.get("animations")||[];c.timer||c.initTimer();var F,B,P,H,Y,v=i[0],g=i[1],m=i[2],_=void 0===m?"easeLinear":m,b=i[3],A=void 0===b?Ht:b,I=i[4],O=void 0===I?0:I;Ut(v)?(F=v,v={}):_e(v)&&v.onFrame&&(F=v.onFrame,B=v.repeat),_e(g)?(g=(Y=g).duration,_=Y.easing||"easeLinear",O=Y.delay||0,B=Y.repeat||B||!1,A=Y.callback||Ht,P=Y.pauseCallback||Ht,H=Y.resumeCallback||Ht):(jt(A)&&(O=A,A=null),Ut(_)?(A=_,_="easeLinear"):_=_||"easeLinear");var V=function Ji(a,o){var i={},l=o.attr();return Ot(a,function(c,f){-1===Qn.indexOf(f)&&!Dt(l[f],c)&&(i[f]=c)}),i}(v,this),j={fromAttrs:Oa(V,this),toAttrs:V,duration:g,easing:_,repeat:B,callback:A,pauseCallback:P,resumeCallback:H,delay:O,startTime:c.getTime(),id:at(),onFrame:F,pathFormatted:!1};f.length>0?f=function Qc(a,o){if(o.onFrame)return a;var i=o.startTime,l=o.delay,c=o.duration,f=Object.prototype.hasOwnProperty;return Ot(a,function(v){i+l<v.startTime+v.delay+v.duration&&c>v.delay&&Ot(o.toAttrs,function(g,m){f.call(v.toAttrs,m)&&(delete v.toAttrs[m],delete v.fromAttrs[m])})}),a}(f,j):c.addAnimator(this),f.push(j),this.set("animations",f),this.set("_pause",{isPaused:!1})}},o.prototype.stopAnimate=function(i){var l=this;void 0===i&&(i=!0),Ot(this.get("animations"),function(f){i&&l.attr(f.onFrame?f.onFrame(1):f.toAttrs),f.callback&&f.callback()}),this.set("animating",!1),this.set("animations",[])},o.prototype.pauseAnimate=function(){var i=this.get("timeline"),l=this.get("animations"),c=i.getTime();return Ot(l,function(f){f._paused=!0,f._pauseTime=c,f.pauseCallback&&f.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:c}),this},o.prototype.resumeAnimate=function(){var l=this.get("timeline").getTime(),c=this.get("animations"),f=this.get("_pause").pauseTime;return Ot(c,function(v){v.startTime=v.startTime+(l-f),v._paused=!1,v._pauseTime=null,v.resumeCallback&&v.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",c),this},o.prototype.emitDelegation=function(i,l){var v,c=this,f=l.propagationPath;this.getEvents(),"mouseenter"===i?v=l.fromShape:"mouseleave"===i&&(v=l.toShape);for(var g=function(A){var I=f[A],O=I.get("name");if(O){if((I.isGroup()||I.isCanvas&&I.isCanvas())&&v&&Ar(I,v))return"break";ee(O)?Ot(O,function(F){c.emitDelegateEvent(I,F,l)}):m.emitDelegateEvent(I,O,l)}},m=this,_=0;_<f.length&&"break"!==g(_);_++);},o.prototype.emitDelegateEvent=function(i,l,c){var f=this.getEvents(),v=l+":"+c.type;(f[v]||f["*"])&&(c.name=v,c.currentTarget=i,c.delegateTarget=this,c.delegateObject=i.get("delegateObject"),this.emit(v,c))},o.prototype.translate=function(i,l){void 0===i&&(i=0),void 0===l&&(l=0);var c=this.getMatrix(),f=De(c,[["t",i,l]]);return this.setMatrix(f),this},o.prototype.move=function(i,l){var c=this.attr("x")||0,f=this.attr("y")||0;return this.translate(i-c,l-f),this},o.prototype.moveTo=function(i,l){return this.move(i,l)},o.prototype.scale=function(i,l){var c=this.getMatrix(),f=De(c,[["s",i,l||i]]);return this.setMatrix(f),this},o.prototype.rotate=function(i){var l=this.getMatrix(),c=De(l,[["r",i]]);return this.setMatrix(c),this},o.prototype.rotateAtStart=function(i){var l=this.attr(),c=l.x,f=l.y,v=this.getMatrix(),g=De(v,[["t",-c,-f],["r",i],["t",c,f]]);return this.setMatrix(g),this},o.prototype.rotateAtPoint=function(i,l,c){var f=this.getMatrix(),v=De(f,[["t",-i,-l],["r",c],["t",i,l]]);return this.setMatrix(v),this},o}(Si),th={},Hs="_INDEX";function Jf(a,o){if(a.set("canvas",o),a.isGroup()){var i=a.get("children");i.length&&i.forEach(function(l){Jf(l,o)})}}function Kf(a,o){if(a.set("timeline",o),a.isGroup()){var i=a.get("children");i.length&&i.forEach(function(l){Kf(l,o)})}}var Pu,Bl,w0=function(a){function o(){return null!==a&&a.apply(this,arguments)||this}return tr(o,a),o.prototype.isCanvas=function(){return!1},o.prototype.getBBox=function(){var i=1/0,l=-1/0,c=1/0,f=-1/0,v=[],g=[],m=this.getChildren().filter(function(b){return b.get("visible")&&(!b.isGroup()||b.isGroup()&&b.getChildren().length>0)});return m.length>0?(Ot(m,function(b){var A=b.getBBox();v.push(A.minX,A.maxX),g.push(A.minY,A.maxY)}),i=pt(v),l=mt(v),c=pt(g),f=mt(g)):(i=0,l=0,c=0,f=0),{x:i,y:c,minX:i,minY:c,maxX:l,maxY:f,width:l-i,height:f-c}},o.prototype.getCanvasBBox=function(){var i=1/0,l=-1/0,c=1/0,f=-1/0,v=[],g=[],m=this.getChildren().filter(function(b){return b.get("visible")&&(!b.isGroup()||b.isGroup()&&b.getChildren().length>0)});return m.length>0?(Ot(m,function(b){var A=b.getCanvasBBox();v.push(A.minX,A.maxX),g.push(A.minY,A.maxY)}),i=pt(v),l=mt(v),c=pt(g),f=mt(g)):(i=0,l=0,c=0,f=0),{x:i,y:c,minX:i,minY:c,maxX:l,maxY:f,width:l-i,height:f-c}},o.prototype.getDefaultCfg=function(){var i=a.prototype.getDefaultCfg.call(this);return i.children=[],i},o.prototype.onAttrChange=function(i,l,c){if(a.prototype.onAttrChange.call(this,i,l,c),"matrix"===i){var f=this.getTotalMatrix();this._applyChildrenMarix(f)}},o.prototype.applyMatrix=function(i){var l=this.getTotalMatrix();a.prototype.applyMatrix.call(this,i);var c=this.getTotalMatrix();c!==l&&this._applyChildrenMarix(c)},o.prototype._applyChildrenMarix=function(i){Ot(this.getChildren(),function(c){c.applyMatrix(i)})},o.prototype.addShape=function(){for(var i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];var c=i[0],f=i[1];_e(c)?f=c:f.type=c;var v=th[f.type];v||(v=be(f.type),th[f.type]=v);var m=new(this.getShapeBase()[v])(f);return this.add(m),m},o.prototype.addGroup=function(){for(var i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];var v,c=i[0],f=i[1];if(Ut(c))v=new c(f||{parent:this});else{var g=c||{};v=new(this.getGroupBase())(g)}return this.add(v),v},o.prototype.getCanvas=function(){return this.isCanvas()?this:this.get("canvas")},o.prototype.getShape=function(i,l,c){if(!gn(this))return null;var v,f=this.getChildren();if(this.isCanvas())v=this._findShape(f,i,l,c);else{var g=[i,l,1];g=this.invertFromMatrix(g),this.isClipped(g[0],g[1])||(v=this._findShape(f,g[0],g[1],c))}return v},o.prototype._findShape=function(i,l,c,f){for(var v=null,g=i.length-1;g>=0;g--){var m=i[g];if(gn(m)&&(m.isGroup()?v=m.getShape(l,c,f):m.isHit(l,c)&&(v=m)),v)break}return v},o.prototype.add=function(i){var l=this.getCanvas(),c=this.getChildren(),f=this.get("timeline"),v=i.getParent();v&&function x0(a,o,i){void 0===i&&(i=!0),i?o.destroy():(o.set("parent",null),o.set("canvas",null)),dr(a.getChildren(),o)}(v,i,!1),i.set("parent",this),l&&Jf(i,l),f&&Kf(i,f),c.push(i),i.onCanvasChange("add"),this._applyElementMatrix(i)},o.prototype._applyElementMatrix=function(i){var l=this.getTotalMatrix();l&&i.applyMatrix(l)},o.prototype.getChildren=function(){return this.get("children")},o.prototype.sort=function(){var i=this.getChildren();Ot(i,function(l,c){return l[Hs]=c,l}),i.sort(function C0(a){return function(o,i){var l=a(o,i);return 0===l?o[Hs]-i[Hs]:l}}(function(l,c){return l.get("zIndex")-c.get("zIndex")})),this.onCanvasChange("sort")},o.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var i=this.getChildren(),l=i.length-1;l>=0;l--)i[l].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},o.prototype.destroy=function(){this.get("destroyed")||(this.clear(),a.prototype.destroy.call(this))},o.prototype.getFirst=function(){return this.getChildByIndex(0)},o.prototype.getLast=function(){var i=this.getChildren();return this.getChildByIndex(i.length-1)},o.prototype.getChildByIndex=function(i){return this.getChildren()[i]},o.prototype.getCount=function(){return this.getChildren().length},o.prototype.contain=function(i){return this.getChildren().indexOf(i)>-1},o.prototype.removeChild=function(i,l){void 0===l&&(l=!0),this.contain(i)&&i.remove(l)},o.prototype.findAll=function(i){var l=[];return Ot(this.getChildren(),function(f){i(f)&&l.push(f),f.isGroup()&&(l=l.concat(f.findAll(i)))}),l},o.prototype.find=function(i){var l=null;return Ot(this.getChildren(),function(f){if(i(f)?l=f:f.isGroup()&&(l=f.find(i)),l)return!1}),l},o.prototype.findById=function(i){return this.find(function(l){return l.get("id")===i})},o.prototype.findByClassName=function(i){return this.find(function(l){return l.get("className")===i})},o.prototype.findAllByName=function(i){return this.findAll(function(l){return l.get("name")===i})},o}(m0),Fl=0,Dl=0,kl=0,Qf=1e3,zu=0,Gs=0,eh=0,ts="object"==typeof performance&&performance.now?performance:Date,td="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(a){setTimeout(a,17)};function ed(){return Gs||(td(_0),Gs=ts.now()+eh)}function _0(){Gs=0}function Nu(){this._call=this._time=this._next=null}function rh(a,o,i){var l=new Nu;return l.restart(a,o,i),l}function nd(){Gs=(zu=ts.now())+eh,Fl=Dl=0;try{!function rd(){ed(),++Fl;for(var o,a=Pu;a;)(o=Gs-a._time)>=0&&a._call.call(null,o),a=a._next;--Fl}()}finally{Fl=0,function K1(){for(var a,i,o=Pu,l=1/0;o;)o._call?(l>o._time&&(l=o._time),a=o,o=o._next):(i=o._next,o._next=null,o=a?a._next=i:Pu=i);Bl=a,id(l)}(),Gs=0}}function S0(){var a=ts.now(),o=a-zu;o>Qf&&(eh-=o,zu=a)}function id(a){Fl||(Dl&&(Dl=clearTimeout(Dl)),a-Gs>24?(a<1/0&&(Dl=setTimeout(nd,a-ts.now()-eh)),kl&&(kl=clearInterval(kl))):(kl||(zu=ts.now(),kl=setInterval(S0,Qf)),Fl=1,td(nd)))}function nh(a,o,i){a.prototype=o.prototype=i,i.constructor=a}function ad(a,o){var i=Object.create(a.prototype);for(var l in o)i[l]=o[l];return i}function Pl(){}Nu.prototype=rh.prototype={constructor:Nu,restart:function(a,o,i){if("function"!=typeof a)throw new TypeError("callback is not a function");i=(null==i?ed():+i)+(null==o?0:+o),!this._next&&Bl!==this&&(Bl?Bl._next=this:Pu=this,Bl=this),this._call=a,this._time=i,id()},stop:function(){this._call&&(this._call=null,this._time=1/0,id())}};var Nl=1/.7,wo="\\s*([+-]?\\d+)\\s*",Hl="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ra="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",od=/^#([0-9a-f]{3,8})$/,sd=new RegExp("^rgb\\("+[wo,wo,wo]+"\\)$"),M0=new RegExp("^rgb\\("+[Ra,Ra,Ra]+"\\)$"),b0=new RegExp("^rgba\\("+[wo,wo,wo,Hl]+"\\)$"),ih=new RegExp("^rgba\\("+[Ra,Ra,Ra,Hl]+"\\)$"),ld=new RegExp("^hsl\\("+[Hl,Ra,Ra]+"\\)$"),T0=new RegExp("^hsla\\("+[Hl,Ra,Ra,Hl]+"\\)$"),ud={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function cd(){return this.rgb().formatHex()}function hd(){return this.rgb().formatRgb()}function Gl(a){var o,i;return a=(a+"").trim().toLowerCase(),(o=od.exec(a))?(i=o[1].length,o=parseInt(o[1],16),6===i?fd(o):3===i?new Gi(o>>8&15|o>>4&240,o>>4&15|240&o,(15&o)<<4|15&o,1):8===i?es(o>>24&255,o>>16&255,o>>8&255,(255&o)/255):4===i?es(o>>12&15|o>>8&240,o>>8&15|o>>4&240,o>>4&15|240&o,((15&o)<<4|15&o)/255):null):(o=sd.exec(a))?new Gi(o[1],o[2],o[3],1):(o=M0.exec(a))?new Gi(255*o[1]/100,255*o[2]/100,255*o[3]/100,1):(o=b0.exec(a))?es(o[1],o[2],o[3],o[4]):(o=ih.exec(a))?es(255*o[1]/100,255*o[2]/100,255*o[3]/100,o[4]):(o=ld.exec(a))?vd(o[1],o[2]/100,o[3]/100,1):(o=T0.exec(a))?vd(o[1],o[2]/100,o[3]/100,o[4]):ud.hasOwnProperty(a)?fd(ud[a]):"transparent"===a?new Gi(NaN,NaN,NaN,0):null}function fd(a){return new Gi(a>>16&255,a>>8&255,255&a,1)}function es(a,o,i,l){return l<=0&&(a=o=i=NaN),new Gi(a,o,i,l)}function ah(a,o,i,l){return 1===arguments.length?function E0(a){return a instanceof Pl||(a=Gl(a)),a?new Gi((a=a.rgb()).r,a.g,a.b,a.opacity):new Gi}(a):new Gi(a,o,i,l??1)}function Gi(a,o,i,l){this.r=+a,this.g=+o,this.b=+i,this.opacity=+l}function dd(){return"#"+Ws(this.r)+Ws(this.g)+Ws(this.b)}function Wl(){var a=this.opacity;return(1===(a=isNaN(a)?1:Math.max(0,Math.min(1,a)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===a?")":", "+a+")")}function Ws(a){return((a=Math.max(0,Math.min(255,Math.round(a)||0)))<16?"0":"")+a.toString(16)}function vd(a,o,i,l){return l<=0?a=o=i=NaN:i<=0||i>=1?a=o=NaN:o<=0&&(a=NaN),new X(a,o,i,l)}function pd(a){if(a instanceof X)return new X(a.h,a.s,a.l,a.opacity);if(a instanceof Pl||(a=Gl(a)),!a)return new X;if(a instanceof X)return a;var o=(a=a.rgb()).r/255,i=a.g/255,l=a.b/255,c=Math.min(o,i,l),f=Math.max(o,i,l),v=NaN,g=f-c,m=(f+c)/2;return g?(v=o===f?(i-l)/g+6*(i<l):i===f?(l-o)/g+2:(o-i)/g+4,g/=m<.5?f+c:2-f-c,v*=60):g=m>0&&m<1?0:v,new X(v,g,m,a.opacity)}function X(a,o,i,l){this.h=+a,this.s=+o,this.l=+i,this.opacity=+l}function gt(a,o,i){return 255*(a<60?o+(i-o)*a/60:a<180?i:a<240?o+(i-o)*(240-a)/60:o)}function At(a){return function(){return a}}function cr(a,o){var i=o-a;return i?function Gt(a,o){return function(i){return a+i*o}}(a,i):At(isNaN(a)?o:a)}nh(Pl,Gl,{copy:function(a){return Object.assign(new this.constructor,this,a)},displayable:function(){return this.rgb().displayable()},hex:cd,formatHex:cd,formatHsl:function A0(){return pd(this).formatHsl()},formatRgb:hd,toString:hd}),nh(Gi,ah,ad(Pl,{brighter:function(a){return a=null==a?Nl:Math.pow(Nl,a),new Gi(this.r*a,this.g*a,this.b*a,this.opacity)},darker:function(a){return a=null==a?.7:Math.pow(.7,a),new Gi(this.r*a,this.g*a,this.b*a,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:dd,formatHex:dd,formatRgb:Wl,toString:Wl})),nh(X,function L0(a,o,i,l){return 1===arguments.length?pd(a):new X(a,o,i,l??1)},ad(Pl,{brighter:function(a){return a=null==a?Nl:Math.pow(Nl,a),new X(this.h,this.s,this.l*a,this.opacity)},darker:function(a){return a=null==a?.7:Math.pow(.7,a),new X(this.h,this.s,this.l*a,this.opacity)},rgb:function(){var a=this.h%360+360*(this.h<0),o=isNaN(a)||isNaN(this.s)?0:this.s,i=this.l,l=i+(i<.5?i:1-i)*o,c=2*i-l;return new Gi(gt(a>=240?a-240:a+120,c,l),gt(a,c,l),gt(a<120?a+240:a-120,c,l),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var a=this.opacity;return(1===(a=isNaN(a)?1:Math.max(0,Math.min(1,a)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===a?")":", "+a+")")}}));var Zr=function a(o){var i=function Ye(a){return 1==(a=+a)?cr:function(o,i){return i-o?function me(a,o,i){return a=Math.pow(a,i),o=Math.pow(o,i)-a,i=1/i,function(l){return Math.pow(a+l*o,i)}}(o,i,a):At(isNaN(o)?i:o)}}(o);function l(c,f){var v=i((c=ah(c)).r,(f=ah(f)).r),g=i(c.g,f.g),m=i(c.b,f.b),_=cr(c.opacity,f.opacity);return function(b){return c.r=v(b),c.g=g(b),c.b=m(b),c.opacity=_(b),c+""}}return l.gamma=a,l}(1);function fi(a,o){o||(o=[]);var c,i=a?Math.min(o.length,a.length):0,l=o.slice();return function(f){for(c=0;c<i;++c)l[c]=a[c]*(1-f)+o[c]*f;return l}}function Wi(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)}function Ki(a,o){return(Wi(o)?fi:Hu)(a,o)}function Hu(a,o){var v,i=o?o.length:0,l=a?Math.min(i,a.length):0,c=new Array(l),f=new Array(i);for(v=0;v<l;++v)c[v]=Ys(a[v],o[v]);for(;v<i;++v)f[v]=o[v];return function(g){for(v=0;v<l;++v)f[v]=c[v](g);return f}}function S(a,o){var i=new Date;return a=+a,o=+o,function(l){return i.setTime(a*(1-l)+o*l),i}}function Cn(a,o){return a=+a,o=+o,function(i){return a*(1-i)+o*i}}function Ne(a,o){var c,i={},l={};for(c in(null===a||"object"!=typeof a)&&(a={}),(null===o||"object"!=typeof o)&&(o={}),o)c in a?i[c]=Ys(a[c],o[c]):l[c]=o[c];return function(f){for(c in i)l[c]=i[c](f);return l}}var Rn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Us=new RegExp(Rn.source,"g");function Ui(a,o){var l,c,f,i=Rn.lastIndex=Us.lastIndex=0,v=-1,g=[],m=[];for(a+="",o+="";(l=Rn.exec(a))&&(c=Us.exec(o));)(f=c.index)>i&&(f=o.slice(i,f),g[v]?g[v]+=f:g[++v]=f),(l=l[0])===(c=c[0])?g[v]?g[v]+=c:g[++v]=c:(g[++v]=null,m.push({i:v,x:Cn(l,c)})),i=Us.lastIndex;return i<o.length&&(f=o.slice(i),g[v]?g[v]+=f:g[++v]=f),g.length<2?m[0]?function rs(a){return function(o){return a(o)+""}}(m[0].x):function Er(a){return function(){return a}}(o):(o=m.length,function(_){for(var A,b=0;b<o;++b)g[(A=m[b]).i]=A.x(_);return g.join("")})}function Ys(a,o){var l,i=typeof o;return null==o||"boolean"===i?At(o):("number"===i?Cn:"string"===i?(l=Gl(o))?(o=l,Zr):Ui:o instanceof Gl?Zr:o instanceof Date?S:Wi(o)?fi:Array.isArray(o)?Hu:"function"!=typeof o.valueOf&&"function"!=typeof o.toString||isNaN(o)?Ne:Cn)(a,o)}function I0(a){return((a*=2)<=1?a*a:--a*(2-a)+1)/2}function O0(a){return a*a*a}function ex(a){return((a*=2)<=1?a*a*a:(a-=2)*a*a+2)/2}var oh=function a(o){function i(l){return Math.pow(l,o)}return o=+o,i.exponent=a,i}(3),R0=function a(o){function i(l){return 1-Math.pow(1-l,o)}return o=+o,i.exponent=a,i}(3),F0=function a(o){function i(l){return((l*=2)<=1?Math.pow(l,o):2-Math.pow(2-l,o))/2}return o=+o,i.exponent=a,i}(3),yd=Math.PI,rx=yd/2;function nx(a){return(1-Math.cos(yd*a))/2}function ns(a){return 1.0009775171065494*(Math.pow(2,-10*a)-.0009765625)}function D0(a){return((a*=2)<=1?ns(1-a):2-ns(a-1))/2}function qn(a){return((a*=2)<=1?1-Math.sqrt(1-a*a):Math.sqrt(1-(a-=2)*a)+1)/2}var md=4/11,$T=6/11,ZT=8/11,qT=3/4,jT=9/11,xd=10/11,ax=15/16,ox=21/22,Cd=63/64,Wu=1/md/md;function Qi(a){return(a=+a)<md?Wu*a*a:a<ZT?Wu*(a-=$T)*a+qT:a<xd?Wu*(a-=jT)*a+ax:Wu*(a-=ox)*a+Cd}var sx=1.70158,bk=function a(o){function i(l){return(l=+l)*l*(o*(l-1)+l)}return o=+o,i.overshoot=a,i}(sx),Tk=function a(o){function i(l){return--l*l*((l+1)*o+l)+1}return o=+o,i.overshoot=a,i}(sx),JT=function a(o){function i(l){return((l*=2)<1?l*l*((o+1)*l-o):(l-=2)*l*((o+1)*l+o)+2)/2}return o=+o,i.overshoot=a,i}(sx),sh=2*Math.PI,cx=function a(o,i){var l=Math.asin(1/(o=Math.max(1,o)))*(i/=sh);function c(f){return o*ns(- --f)*Math.sin((l-f)/i)}return c.amplitude=function(f){return a(f,i*sh)},c.period=function(f){return a(o,f)},c}(1,.3),hx=function a(o,i){var l=Math.asin(1/(o=Math.max(1,o)))*(i/=sh);function c(f){return 1-o*ns(f=+f)*Math.sin((f+l)/i)}return c.amplitude=function(f){return a(f,i*sh)},c.period=function(f){return a(o,f)},c}(1,.3),Ak=function a(o,i){var l=Math.asin(1/(o=Math.max(1,o)))*(i/=sh);function c(f){return((f=2*f-1)<0?o*ns(-f)*Math.sin((l-f)/i):2-o*ns(f)*Math.sin((l+f)/i))/2}return c.amplitude=function(f){return a(f,i*sh)},c.period=function(f){return a(o,f)},c}(1,.3),Ek=Object.freeze({__proto__:null,easeLinear:function Gu(a){return+a},easeQuad:I0,easeQuadIn:function Jr(a){return a*a},easeQuadOut:function Q1(a){return a*(2-a)},easeQuadInOut:I0,easeCubic:ex,easeCubicIn:O0,easeCubicOut:function tx(a){return--a*a*a+1},easeCubicInOut:ex,easePoly:F0,easePolyIn:oh,easePolyOut:R0,easePolyInOut:F0,easeSin:nx,easeSinIn:function Vs(a){return 1==+a?1:1-Math.cos(a*rx)},easeSinOut:function Mi(a){return Math.sin(a*rx)},easeSinInOut:nx,easeExp:D0,easeExpIn:function ix(a){return ns(1-+a)},easeExpOut:function VT(a){return 1-ns(a)},easeExpInOut:D0,easeCircle:qn,easeCircleIn:function XT(a){return 1-Math.sqrt(1-a*a)},easeCircleOut:function k0(a){return Math.sqrt(1- --a*a)},easeCircleInOut:qn,easeBounce:Qi,easeBounceIn:function wd(a){return 1-Qi(1-a)},easeBounceOut:Qi,easeBounceInOut:function Mk(a){return((a*=2)<=1?1-Qi(1-a):Qi(a-1)+1)/2},easeBack:JT,easeBackIn:bk,easeBackOut:Tk,easeBackInOut:JT,easeElastic:hx,easeElasticIn:cx,easeElasticOut:hx,easeElasticInOut:Ak}),_d={},Ik=function(a){return["fill","stroke","fillStyle","strokeStyle"].includes(a)},Ok=function(a){return/^[r,R,L,l]{1}[\s]*\(/.test(a)},KT=[1,0,0,0,1,0,0,0,1];function Fk(a,o,i){var l=o.startTime;if(i<l+o.delay||o._paused)return!1;var f,v=o.duration,m=function Lk(a){return _d[a.toLowerCase()]||Ek[a]}(o.easing);if(i=i-l-o.delay,o.repeat)f=m(f=i%v/v);else{if(!((f=i/v)<1))return a.attr(o.onFrame?o.onFrame(1):o.toAttrs),!0;f=m(f)}if(o.onFrame){var _=o.onFrame(f);a.attr(_)}else!function Rk(a,o,i){var l={},c=o.fromAttrs,f=o.toAttrs;if(!a.destroyed){var v;for(var g in f)if(!Dt(c[g],f[g]))if("path"===g){var m=f[g],_=c[g];m.length>_.length?(m=ft(f[g]),_=ft(c[g]),_=Xe(_,m),_=je(_,m),o.fromAttrs.path=_,o.toAttrs.path=m):o.pathFormatted||(m=ft(f[g]),_=ft(c[g]),_=je(_,m),o.fromAttrs.path=_,o.toAttrs.path=m,o.pathFormatted=!0),l[g]=[];for(var b=0;b<m.length;b++){for(var A=m[b],I=_[b],O=[],F=0;F<A.length;F++)jt(A[F])&&I&&jt(I[F])?(v=Ys(I[F],A[F]),O.push(v(i))):O.push(A[F]);l[g].push(O)}}else if("matrix"===g){var P=Ki(c[g]||KT,f[g]||KT)(i);l[g]=P}else Ik(g)&&Ok(f[g])?l[g]=f[g]:Ut(f[g])||(v=Ys(c[g],f[g]),l[g]=v(i));a.attr(l)}}(a,o,f);return!1}var Dk=function(){function a(o){this.animators=[],this.current=0,this.timer=null,this.canvas=o}return a.prototype.initTimer=function(){var l,c,f,o=this;this.timer=rh(function(v){if(o.current=v,o.animators.length>0){for(var g=o.animators.length-1;g>=0;g--)if((l=o.animators[g]).destroyed)o.removeAnimator(g);else{if(!l.isAnimatePaused())for(var m=(c=l.get("animations")).length-1;m>=0;m--)Fk(l,f=c[m],v)&&(c.splice(m,1),f.callback&&f.callback());0===c.length&&o.removeAnimator(g)}o.canvas.get("autoDraw")||o.canvas.draw()}})},a.prototype.addAnimator=function(o){this.animators.push(o)},a.prototype.removeAnimator=function(o){this.animators.splice(o,1)},a.prototype.isAnimating=function(){return!!this.animators.length},a.prototype.stop=function(){this.timer&&this.timer.stop()},a.prototype.stopAllAnimations=function(o){void 0===o&&(o=!0),this.animators.forEach(function(i){i.stopAnimate(o)}),this.animators=[],this.canvas.draw()},a.prototype.getTime=function(){return this.current},a}(),dx=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function vx(a,o,i){i.name=o,i.target=a,i.currentTarget=a,i.delegateTarget=a,a.emit(o,i)}function QT(a,o,i){if(i.bubbles){var l=void 0,c=!1;if("mouseenter"===o?(l=i.fromShape,c=!0):"mouseleave"===o&&(c=!0,l=i.toShape),a.isCanvas()&&c)return;if(l&&Ar(a,l))return void(i.bubbles=!1);i.name=o,i.currentTarget=a,i.delegateTarget=a,a.emit(o,i)}}var tA=function(){function a(o){var i=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(l){i._triggerEvent(l.type,l)},this._onDocumentMove=function(l){if(i.canvas.get("el")!==l.target&&(i.dragging||i.currentShape)){var v=i._getPointInfo(l);i.dragging&&i._emitEvent("drag",l,v,i.draggingShape)}},this._onDocumentMouseUp=function(l){if(i.canvas.get("el")!==l.target&&i.dragging){var v=i._getPointInfo(l);i.draggingShape&&i._emitEvent("drop",l,v,null),i._emitEvent("dragend",l,v,i.draggingShape),i._afterDrag(i.draggingShape,v,l)}},this.canvas=o.canvas}return a.prototype.init=function(){this._bindEvents()},a.prototype._bindEvents=function(){var o=this,i=this.canvas.get("el");Ot(dx,function(l){i.addEventListener(l,o._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},a.prototype._clearEvents=function(){var o=this,i=this.canvas.get("el");Ot(dx,function(l){i.removeEventListener(l,o._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},a.prototype._getEventObj=function(o,i,l,c,f,v){var g=new Ke(o,i);return g.fromShape=f,g.toShape=v,g.x=l.x,g.y=l.y,g.clientX=l.clientX,g.clientY=l.clientY,g.propagationPath.push(c),g},a.prototype._getShape=function(o,i){return this.canvas.getShape(o.x,o.y,i)},a.prototype._getPointInfo=function(o){var i=this.canvas,l=i.getClientByEvent(o),c=i.getPointByEvent(o);return{x:c.x,y:c.y,clientX:l.x,clientY:l.y}},a.prototype._triggerEvent=function(o,i){var l=this._getPointInfo(i),c=this._getShape(l,i),f=this["_on"+o],v=!1;if(f)f.call(this,l,c,i);else{var g=this.currentShape;"mouseenter"===o||"dragenter"===o||"mouseover"===o?(this._emitEvent(o,i,l,null,null,c),c&&this._emitEvent(o,i,l,c,null,c),"mouseenter"===o&&this.draggingShape&&this._emitEvent("dragenter",i,l,null)):"mouseleave"===o||"dragleave"===o||"mouseout"===o?(v=!0,g&&this._emitEvent(o,i,l,g,g,null),this._emitEvent(o,i,l,null,g,null),"mouseleave"===o&&this.draggingShape&&this._emitEvent("dragleave",i,l,null)):this._emitEvent(o,i,l,c,null,null)}if(v||(this.currentShape=c),c&&!c.get("destroyed")){var m=this.canvas;m.get("el").style.cursor=c.attr("cursor")||m.get("cursor")}},a.prototype._onmousedown=function(o,i,l){0===l.button&&(this.mousedownShape=i,this.mousedownPoint=o,this.mousedownTimeStamp=l.timeStamp),this._emitEvent("mousedown",l,o,i,null,null)},a.prototype._emitMouseoverEvents=function(o,i,l,c){var f=this.canvas.get("el");l!==c&&(l&&(this._emitEvent("mouseout",o,i,l,l,c),this._emitEvent("mouseleave",o,i,l,l,c),(!c||c.get("destroyed"))&&(f.style.cursor=this.canvas.get("cursor"))),c&&(this._emitEvent("mouseover",o,i,c,l,c),this._emitEvent("mouseenter",o,i,c,l,c)))},a.prototype._emitDragoverEvents=function(o,i,l,c,f){c?(c!==l&&(l&&this._emitEvent("dragleave",o,i,l,l,c),this._emitEvent("dragenter",o,i,c,l,c)),f||this._emitEvent("dragover",o,i,c)):l&&this._emitEvent("dragleave",o,i,l,l,c),f&&this._emitEvent("dragover",o,i,c)},a.prototype._afterDrag=function(o,i,l){o&&(o.set("capture",!0),this.draggingShape=null),this.dragging=!1;var c=this._getShape(i,l);c!==o&&this._emitMouseoverEvents(l,i,o,c),this.currentShape=c},a.prototype._onmouseup=function(o,i,l){if(0===l.button){var c=this.draggingShape;this.dragging?(c&&this._emitEvent("drop",l,o,i),this._emitEvent("dragend",l,o,c),this._afterDrag(c,o,l)):(this._emitEvent("mouseup",l,o,i),i===this.mousedownShape&&this._emitEvent("click",l,o,i),this.mousedownShape=null,this.mousedownPoint=null)}},a.prototype._ondragover=function(o,i,l){l.preventDefault(),this._emitDragoverEvents(l,o,this.currentShape,i,!0)},a.prototype._onmousemove=function(o,i,l){var c=this.canvas,f=this.currentShape,v=this.draggingShape;if(this.dragging)v&&this._emitDragoverEvents(l,o,f,i,!1),this._emitEvent("drag",l,o,v);else{var g=this.mousedownPoint;if(g){var m=this.mousedownShape,A=g.clientX-o.clientX,I=g.clientY-o.clientY;l.timeStamp-this.mousedownTimeStamp>120||A*A+I*I>40?m&&m.get("draggable")?((v=this.mousedownShape).set("capture",!1),this.draggingShape=v,this.dragging=!0,this._emitEvent("dragstart",l,o,v),this.mousedownShape=null,this.mousedownPoint=null):!m&&c.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",l,o,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(l,o,f,i),this._emitEvent("mousemove",l,o,i)):(this._emitMouseoverEvents(l,o,f,i),this._emitEvent("mousemove",l,o,i))}else this._emitMouseoverEvents(l,o,f,i),this._emitEvent("mousemove",l,o,i)}},a.prototype._emitEvent=function(o,i,l,c,f,v){var g=this._getEventObj(o,i,l,c,f,v);if(c){g.shape=c,vx(c,o,g);for(var m=c.getParent();m;)m.emitDelegation(o,g),g.propagationStopped||QT(m,o,g),g.propagationPath.push(m),m=m.getParent()}else vx(this.canvas,o,g)},a.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},a}(),px=function Co(a){return a?Du(a):typeof document>"u"&&typeof navigator<"u"&&"ReactNative"===navigator.product?new mo:typeof navigator<"u"?Du(navigator.userAgent):function Qo(){return typeof process<"u"&&process.version?new qo(process.version.slice(1)):null}()}(),eA=px&&"firefox"===px.name,rA=function(a){function o(i){var l=a.call(this,i)||this;return l.initContainer(),l.initDom(),l.initEvents(),l.initTimeline(),l}return tr(o,a),o.prototype.getDefaultCfg=function(){var i=a.prototype.getDefaultCfg.call(this);return i.cursor="default",i.supportCSSTransform=!1,i},o.prototype.initContainer=function(){var i=this.get("container");Jt(i)&&(i=document.getElementById(i),this.set("container",i))},o.prototype.initDom=function(){var i=this.createDom();this.set("el",i),this.get("container").appendChild(i),this.setDOMSize(this.get("width"),this.get("height"))},o.prototype.initEvents=function(){var i=new tA({canvas:this});i.init(),this.set("eventController",i)},o.prototype.initTimeline=function(){var i=new Dk(this);this.set("timeline",i)},o.prototype.setDOMSize=function(i,l){var c=this.get("el");Or&&(c.style.width=i+"px",c.style.height=l+"px")},o.prototype.changeSize=function(i,l){this.setDOMSize(i,l),this.set("width",i),this.set("height",l),this.onCanvasChange("changeSize")},o.prototype.getRenderer=function(){return this.get("renderer")},o.prototype.getCursor=function(){return this.get("cursor")},o.prototype.setCursor=function(i){this.set("cursor",i);var l=this.get("el");Or&&l&&(l.style.cursor=i)},o.prototype.getPointByEvent=function(i){if(this.get("supportCSSTransform")){if(eA&&!Ce(i.layerX)&&i.layerX!==i.offsetX)return{x:i.layerX,y:i.layerY};if(!Ce(i.offsetX))return{x:i.offsetX,y:i.offsetY}}var c=this.getClientByEvent(i);return this.getPointByClient(c.x,c.y)},o.prototype.getClientByEvent=function(i){var l=i;return i.touches&&(l="touchend"===i.type?i.changedTouches[0]:i.touches[0]),{x:l.clientX,y:l.clientY}},o.prototype.getPointByClient=function(i,l){var f=this.get("el").getBoundingClientRect();return{x:i-f.left,y:l-f.top}},o.prototype.getClientByPoint=function(i,l){var f=this.get("el").getBoundingClientRect();return{x:i+f.left,y:l+f.top}},o.prototype.draw=function(){},o.prototype.removeDom=function(){var i=this.get("el");i.parentNode.removeChild(i)},o.prototype.clearEvents=function(){this.get("eventController").destroy()},o.prototype.isCanvas=function(){return!0},o.prototype.getParent=function(){return null},o.prototype.destroy=function(){var i=this.get("timeline");this.get("destroyed")||(this.clear(),i&&i.stop(),this.clearEvents(),this.removeDom(),a.prototype.destroy.call(this))},o}(w0),nA=function(a){function o(){return null!==a&&a.apply(this,arguments)||this}return tr(o,a),o.prototype.isGroup=function(){return!0},o.prototype.isEntityGroup=function(){return!1},o.prototype.clone=function(){for(var i=a.prototype.clone.call(this),l=this.getChildren(),c=0;c<l.length;c++)i.add(l[c].clone());return i},o}(w0),gx=function(a){function o(i){return a.call(this,i)||this}return tr(o,a),o.prototype._isInBBox=function(i,l){var c=this.getBBox();return c.minX<=i&&c.maxX>=i&&c.minY<=l&&c.maxY>=l},o.prototype.afterAttrsChange=function(i){a.prototype.afterAttrsChange.call(this,i),this.clearCacheBBox()},o.prototype.getBBox=function(){var i=this.cfg.bbox;return i||(i=this.calculateBBox(),this.set("bbox",i)),i},o.prototype.getCanvasBBox=function(){var i=this.cfg.canvasBBox;return i||(i=this.calculateCanvasBBox(),this.set("canvasBBox",i)),i},o.prototype.applyMatrix=function(i){a.prototype.applyMatrix.call(this,i),this.set("canvasBBox",null)},o.prototype.calculateCanvasBBox=function(){var i=this.getBBox(),l=this.getTotalMatrix(),c=i.minX,f=i.minY,v=i.maxX,g=i.maxY;if(l){var m=Oe(l,[i.minX,i.minY]),_=Oe(l,[i.maxX,i.minY]),b=Oe(l,[i.minX,i.maxY]),A=Oe(l,[i.maxX,i.maxY]);c=Math.min(m[0],_[0],b[0],A[0]),v=Math.max(m[0],_[0],b[0],A[0]),f=Math.min(m[1],_[1],b[1],A[1]),g=Math.max(m[1],_[1],b[1],A[1])}var I=this.attrs;if(I.shadowColor){var O=I.shadowBlur,F=void 0===O?0:O,B=I.shadowOffsetX,P=void 0===B?0:B,H=I.shadowOffsetY,Y=void 0===H?0:H,j=v+F+P,yt=f-F+Y,Lt=g+F+Y;c=Math.min(c,c-F+P),v=Math.max(v,j),f=Math.min(f,yt),g=Math.max(g,Lt)}return{x:c,y:f,minX:c,minY:f,maxX:v,maxY:g,width:v-c,height:g-f}},o.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},o.prototype.isClipShape=function(){return this.get("isClipShape")},o.prototype.isInShape=function(i,l){return!1},o.prototype.isOnlyHitBox=function(){return!1},o.prototype.isHit=function(i,l){var c=this.get("startArrowShape"),f=this.get("endArrowShape"),v=[i,l,1],g=(v=this.invertFromMatrix(v))[0],m=v[1],_=this._isInBBox(g,m);return this.isOnlyHitBox()?_:!(!_||this.isClipped(g,m)||!(this.isInShape(g,m)||c&&c.isHit(g,m)||f&&f.isHit(g,m)))},o}(m0),yx=new Map;function ta(a,o){yx.set(a,o)}function mx(a){var o=a.attr();return{x:o.x,y:o.y,width:o.width,height:o.height}}function xx(a){var o=a.attr(),c=o.r;return{x:o.x-c,y:o.y-c,width:2*c,height:2*c}}function Cx(a){return Math.min.apply(null,a)}function wx(a){return Math.max.apply(null,a)}function bi(a,o,i,l){var c=a-i,f=o-l;return Math.sqrt(c*c+f*f)}function Uu(a,o){return Math.abs(a-o)<.001}function Ul(a,o){var i=Cx(a),l=Cx(o);return{x:i,y:l,width:wx(a)-i,height:wx(o)-l}}function lh(a){return(a+2*Math.PI)%(2*Math.PI)}var Ti={box:function(a,o,i,l){return Ul([a,i],[o,l])},length:function(a,o,i,l){return bi(a,o,i,l)},pointAt:function(a,o,i,l,c){return{x:(1-c)*a+c*i,y:(1-c)*o+c*l}},pointDistance:function(a,o,i,l,c,f){var v=(i-a)*(c-a)+(l-o)*(f-o);return v<0?bi(a,o,c,f):v>(i-a)*(i-a)+(l-o)*(l-o)?bi(i,l,c,f):this.pointToLine(a,o,i,l,c,f)},pointToLine:function(a,o,i,l,c,f){var v=[i-a,l-o];if(function E(a,o){return a[0]===o[0]&&a[1]===o[1]}(v,[0,0]))return Math.sqrt((c-a)*(c-a)+(f-o)*(f-o));var g=[-v[1],v[0]];return function Bu(a,o){var i=o[0],l=o[1],c=i*i+l*l;c>0&&(c=1/Math.sqrt(c)),a[0]=o[0]*c,a[1]=o[1]*c}(g,g),Math.abs(function Kc(a,o){return a[0]*o[0]+a[1]*o[1]}([c-a,f-o],g))},tangentAngle:function(a,o,i,l){return Math.atan2(l-o,i-a)}},aA=1e-4;function uh(a,o,i,l,c,f){var v,g=1/0,m=[i,l],_=20;f&&f>200&&(_=f/10);for(var b=1/_,A=b/10,I=0;I<=_;I++){var O=I*b,F=[c.apply(null,a.concat([O])),c.apply(null,o.concat([O]))];(B=bi(m[0],m[1],F[0],F[1]))<g&&(v=O,g=B)}if(0===v)return{x:a[0],y:o[0]};if(1===v){var P=a.length;return{x:a[P-1],y:o[P-1]}}for(g=1/0,I=0;I<32&&!(A<aA);I++){var H=v-A,Y=v+A,B=(F=[c.apply(null,a.concat([H])),c.apply(null,o.concat([H]))],bi(m[0],m[1],F[0],F[1]));if(H>=0&&B<g)v=H,g=B;else{var V=[c.apply(null,a.concat([Y])),c.apply(null,o.concat([Y]))],j=bi(m[0],m[1],V[0],V[1]);Y<=1&&j<g?(v=Y,g=j):A*=.5}}return{x:c.apply(null,a.concat([v])),y:c.apply(null,o.concat([v]))}}function Xs(a,o,i,l){var c=1-l;return c*c*a+2*l*c*o+l*l*i}function Sx(a,o,i){var l=a+i-2*o;if(Uu(l,0))return[.5];var c=(a-o)/l;return c<=1&&c>=0?[c]:[]}function is(a,o,i,l){return 2*(1-l)*(o-a)+2*l*(i-o)}function Mx(a,o,i,l,c,f,v){var g=Xs(a,i,c,v),m=Xs(o,l,f,v),_=Ti.pointAt(a,o,i,l,v),b=Ti.pointAt(i,l,c,f,v);return[[a,o,_.x,_.y,g,m],[g,m,b.x,b.y,c,f]]}function B0(a,o,i,l,c,f,v){if(0===v)return(bi(a,o,i,l)+bi(i,l,c,f)+bi(a,o,c,f))/2;var g=Mx(a,o,i,l,c,f,.5),m=g[0],_=g[1];return m.push(v-1),_.push(v-1),B0.apply(null,m)+B0.apply(null,_)}var bx={box:function(a,o,i,l,c,f){var v=Sx(a,i,c)[0],g=Sx(o,l,f)[0],m=[a,c],_=[o,f];return void 0!==v&&m.push(Xs(a,i,c,v)),void 0!==g&&_.push(Xs(o,l,f,g)),Ul(m,_)},length:function(a,o,i,l,c,f){return B0(a,o,i,l,c,f,3)},nearestPoint:function(a,o,i,l,c,f,v,g){return uh([a,i,c],[o,l,f],v,g,Xs)},pointDistance:function(a,o,i,l,c,f,v,g){var m=this.nearestPoint(a,o,i,l,c,f,v,g);return bi(m.x,m.y,v,g)},interpolationAt:Xs,pointAt:function(a,o,i,l,c,f,v){return{x:Xs(a,i,c,v),y:Xs(o,l,f,v)}},divide:function(a,o,i,l,c,f,v){return Mx(a,o,i,l,c,f,v)},tangentAngle:function(a,o,i,l,c,f,v){var g=is(a,i,c,v),m=is(o,l,f,v);return lh(Math.atan2(m,g))}};function $s(a,o,i,l,c){var f=1-c;return f*f*f*a+3*o*c*f*f+3*i*c*c*f+l*c*c*c}function Tx(a,o,i,l,c){var f=1-c;return 3*(f*f*(o-a)+2*f*c*(i-o)+c*c*(l-i))}function P0(a,o,i,l){var m,_,b,c=-3*a+9*o-9*i+3*l,f=6*a-12*o+6*i,v=3*o-3*a,g=[];if(Uu(c,0))Uu(f,0)||(m=-v/f)>=0&&m<=1&&g.push(m);else{var A=f*f-4*c*v;Uu(A,0)?g.push(-f/(2*c)):A>0&&(_=(-f-(b=Math.sqrt(A)))/(2*c),(m=(-f+b)/(2*c))>=0&&m<=1&&g.push(m),_>=0&&_<=1&&g.push(_))}return g}function Ax(a,o,i,l,c,f,v,g,m){var _=$s(a,i,c,v,m),b=$s(o,l,f,g,m),A=Ti.pointAt(a,o,i,l,m),I=Ti.pointAt(i,l,c,f,m),O=Ti.pointAt(c,f,v,g,m),F=Ti.pointAt(A.x,A.y,I.x,I.y,m),B=Ti.pointAt(I.x,I.y,O.x,O.y,m);return[[a,o,A.x,A.y,F.x,F.y,_,b],[_,b,B.x,B.y,O.x,O.y,v,g]]}function z0(a,o,i,l,c,f,v,g,m){if(0===m)return function _x(a,o){for(var i=0,l=a.length,c=0;c<l;c++)i+=bi(a[c],o[c],a[(c+1)%l],o[(c+1)%l]);return i/2}([a,i,c,v],[o,l,f,g]);var _=Ax(a,o,i,l,c,f,v,g,.5),b=_[0],A=_[1];return b.push(m-1),A.push(m-1),z0.apply(null,b)+z0.apply(null,A)}var ch={extrema:P0,box:function(a,o,i,l,c,f,v,g){for(var m=[a,v],_=[o,g],b=P0(a,i,c,v),A=P0(o,l,f,g),I=0;I<b.length;I++)m.push($s(a,i,c,v,b[I]));for(I=0;I<A.length;I++)_.push($s(o,l,f,g,A[I]));return Ul(m,_)},length:function(a,o,i,l,c,f,v,g){return z0(a,o,i,l,c,f,v,g,3)},nearestPoint:function(a,o,i,l,c,f,v,g,m,_,b){return uh([a,i,c,v],[o,l,f,g],m,_,$s,b)},pointDistance:function(a,o,i,l,c,f,v,g,m,_,b){var A=this.nearestPoint(a,o,i,l,c,f,v,g,m,_,b);return bi(A.x,A.y,m,_)},interpolationAt:$s,pointAt:function(a,o,i,l,c,f,v,g,m){return{x:$s(a,i,c,v,m),y:$s(o,l,f,g,m)}},divide:function(a,o,i,l,c,f,v,g,m){return Ax(a,o,i,l,c,f,v,g,m)},tangentAngle:function(a,o,i,l,c,f,v,g,m){var _=Tx(a,i,c,v,m),b=Tx(o,l,f,g,m);return lh(Math.atan2(b,_))}};function Ix(a,o,i,l,c,f){return i*Math.cos(c)*Math.cos(f)-l*Math.sin(c)*Math.sin(f)+a}function hh(a,o,i,l,c,f){return i*Math.sin(c)*Math.cos(f)+l*Math.cos(c)*Math.sin(f)+o}var lA_box=function(a,o,i,l,c,f,v){for(var g=function sA(a,o,i){return Math.atan(-o/a*Math.tan(i))}(i,l,c),m=1/0,_=-1/0,b=[f,v],A=2*-Math.PI;A<=2*Math.PI;A+=Math.PI){var I=g+A;f<v?f<I&&I<v&&b.push(I):v<I&&I<f&&b.push(I)}for(A=0;A<b.length;A++){var O=Ix(a,0,i,l,c,b[A]);O<m&&(m=O),O>_&&(_=O)}var F=function N0(a,o,i){return Math.atan(o/(a*Math.tan(i)))}(i,l,c),B=1/0,P=-1/0,H=[f,v];for(A=2*-Math.PI;A<=2*Math.PI;A+=Math.PI){var Y=F+A;f<v?f<Y&&Y<v&&H.push(Y):v<Y&&Y<f&&H.push(Y)}for(A=0;A<H.length;A++){var V=hh(0,o,i,l,c,H[A]);V<B&&(B=V),V>P&&(P=V)}return{x:m,y:B,width:_-m,height:P-B}};function H0(a,o){return a&&o?{minX:Math.min(a.minX,o.minX),minY:Math.min(a.minY,o.minY),maxX:Math.max(a.maxX,o.maxX),maxY:Math.max(a.maxY,o.maxY)}:a||o}function Md(a,o){var i=a.get("startArrowShape"),l=a.get("endArrowShape");return i&&(o=H0(o,i.getCanvasBBox())),l&&(o=H0(o,l.getCanvasBBox())),o}var dh=null;function vh(){if(!dh){var a=document.createElement("canvas");a.width=1,a.height=1,dh=a.getContext("2d")}return dh}function G0(a,o,i){var l=1;if(Jt(a)&&(l=a.split("\n").length),l>1){var c=function Bx(a,o){return o?o-a:.14*a}(o,i);return o*l+c*(l-1)}return o}function Px(a){return[a.fontStyle,a.fontVariant,a.fontWeight,a.fontSize+"px",a.fontFamily].join(" ").trim()}var Nx=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,Hx=/[^\s\,]+/gi,Yu="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",hA=new RegExp("([a-z])["+Yu+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+Yu+"]*,?["+Yu+"]*)+)","ig"),bd=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+Yu+"]*,?["+Yu+"]*","ig"),Ux=/[a-z]/;function W0(a,o){return[o[0]+(o[0]-a[0]),o[1]+(o[1]-a[1])]}function Yx(a){var o=function Wx(a){if(!a)return null;if(ee(a))return a;var o={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},i=[];return String(a).replace(hA,function(l,c,f){var v=[],g=c.toLowerCase();if(f.replace(bd,function(m,_){_&&v.push(+_)}),"m"===g&&v.length>2&&(i.push([c].concat(v.splice(0,2))),g="l",c="m"===c?"l":"L"),"o"===g&&1===v.length&&i.push([c,v[0]]),"r"===g)i.push([c].concat(v));else for(;v.length>=o[g]&&(i.push([c].concat(v.splice(0,o[g]))),o[g]););return""}),i}(a);if(!o||!o.length)return[["M",0,0]];for(var i=!1,l=0;l<o.length;l++)if(Ux.test(c=o[l][0])||["V","H","T","S"].indexOf(c)>=0){i=!0;break}if(!i)return o;var f=[],v=0,g=0,m=0,_=0,b=0,A=o[0];("M"===A[0]||"m"===A[0])&&(m=v=+A[1],_=g=+A[2],b++,f[0]=["M",v,g]),l=b;for(var I=o.length;l<I;l++){var c,O=o[l],F=f[l-1],B=[],P=(c=O[0]).toUpperCase();if(c!==P)switch(B[0]=P,P){case"A":B[1]=O[1],B[2]=O[2],B[3]=O[3],B[4]=O[4],B[5]=O[5],B[6]=+O[6]+v,B[7]=+O[7]+g;break;case"V":B[1]=+O[1]+g;break;case"H":B[1]=+O[1]+v;break;case"M":_=+O[2]+g,B[1]=m=+O[1]+v,B[2]=_;break;default:for(var H=1,Y=O.length;H<Y;H++)B[H]=+O[H]+(H%2?v:g)}else B=o[l];switch(P){case"Z":v=+m,g=+_;break;case"H":B=["L",v=B[1],g];break;case"V":B=["L",v,g=B[1]];break;case"T":v=B[1],g=B[2];var V=W0([F[1],F[2]],[F[3],F[4]]);B=["Q",V[0],V[1],v,g];break;case"S":v=B[B.length-2],g=B[B.length-1];var j=F.length,yt=W0([F[j-4],F[j-3]],[F[j-2],F[j-1]]);B=["C",yt[0],yt[1],B[1],B[2],v,g];break;case"M":m=B[B.length-2],_=B[B.length-1];break;default:v=B[B.length-2],g=B[B.length-1]}f.push(B)}return f}function ph(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])}function U0(a,o){return ph(a)*ph(o)?(a[0]*o[0]+a[1]*o[1])/(ph(a)*ph(o)):1}function Y0(a,o){return(a[0]*o[1]<a[1]*o[0]?-1:1)*Math.acos(U0(a,o))}function Td(a,o){return a[0]===o[0]&&a[1]===o[1]}function Ad(a,o){var i=o[1],l=o[2],c=dt(Bt(o[3]),2*Math.PI),f=o[4],v=o[5],g=a[0],m=a[1],_=o[6],b=o[7],A=Math.cos(c)*(g-_)/2+Math.sin(c)*(m-b)/2,I=-1*Math.sin(c)*(g-_)/2+Math.cos(c)*(m-b)/2,O=A*A/(i*i)+I*I/(l*l);O>1&&(i*=Math.sqrt(O),l*=Math.sqrt(O));var F=i*i*(I*I)+l*l*(A*A),B=F?Math.sqrt((i*i*(l*l)-F)/F):1;f===v&&(B*=-1),isNaN(B)&&(B=0);var P=l?B*i*I/l:0,H=i?B*-l*A/i:0,Y=(g+_)/2+Math.cos(c)*P-Math.sin(c)*H,V=(m+b)/2+Math.sin(c)*P+Math.cos(c)*H,j=[(A-P)/i,(I-H)/l],yt=[(-1*A-P)/i,(-1*I-H)/l],Lt=Y0([1,0],j),Pt=Y0(j,yt);return U0(j,yt)<=-1&&(Pt=Math.PI),U0(j,yt)>=1&&(Pt=0),0===v&&Pt>0&&(Pt-=2*Math.PI),1===v&&Pt<0&&(Pt+=2*Math.PI),{cx:Y,cy:V,rx:Td(a,[_,b])?0:i,ry:Td(a,[_,b])?0:l,startAngle:Lt,endAngle:Lt+Pt,xRotation:c,arcFlag:f,sweepFlag:v}}function Fa(a,o){return[o[0]+(o[0]-a[0]),o[1]+(o[1]-a[1])]}function qs(a){a=function Gx(a){var o=a||[];return ee(o)?o:Jt(o)?(Ot(o=o.match(Nx),function(i,l){if((i=i.match(Hx))[0].length>1){var c=i[0].charAt(0);i.splice(1,0,i[0].substr(1)),i[0]=c}Ot(i,function(f,v){isNaN(f)||(i[v]=+f)}),o[l]=i}),o):void 0}(a);for(var o=[],i=null,l=null,c=null,f=0,v=a.length,g=0;g<v;g++){var m=a[g];l=a[g+1];var _=m[0],b={command:_,prePoint:i,params:m,startTangent:null,endTangent:null};switch(_){case"M":c=[m[1],m[2]],f=g;break;case"A":var A=Ad(i,m);b.arcParams=A}if("Z"===_)i=c,l=a[f+1];else{var I=m.length;i=[m[I-2],m[I-1]]}l&&"Z"===l[0]&&(l=a[f],o[f]&&(o[f].prePoint=i)),b.currentPoint=i,o[f]&&Td(i,o[f].currentPoint)&&(o[f].prePoint=b.prePoint),b.nextPoint=l?[l[l.length-2],l[l.length-1]]:null;var F=b.prePoint;if(["L","H","V"].includes(_))b.startTangent=[F[0]-i[0],F[1]-i[1]],b.endTangent=[i[0]-F[0],i[1]-F[1]];else if("Q"===_)b.startTangent=[F[0]-(B=[m[1],m[2]])[0],F[1]-B[1]],b.endTangent=[i[0]-B[0],i[1]-B[1]];else if("T"===_){var B=Fa((P=o[g-1]).currentPoint,F);"Q"===P.command?(b.command="Q",b.startTangent=[F[0]-B[0],F[1]-B[1]],b.endTangent=[i[0]-B[0],i[1]-B[1]]):(b.command="TL",b.startTangent=[F[0]-i[0],F[1]-i[1]],b.endTangent=[i[0]-F[0],i[1]-F[1]])}else if("C"===_){var Y=[m[3],m[4]];b.startTangent=[F[0]-(H=[m[1],m[2]])[0],F[1]-H[1]],b.endTangent=[i[0]-Y[0],i[1]-Y[1]],0===b.startTangent[0]&&0===b.startTangent[1]&&(b.startTangent=[H[0]-Y[0],H[1]-Y[1]]),0===b.endTangent[0]&&0===b.endTangent[1]&&(b.endTangent=[Y[0]-H[0],Y[1]-H[1]])}else if("S"===_){var P,H=Fa((P=o[g-1]).currentPoint,F);Y=[m[1],m[2]],"C"===P.command?(b.command="C",b.startTangent=[F[0]-H[0],F[1]-H[1]],b.endTangent=[i[0]-Y[0],i[1]-Y[1]]):(b.command="SQ",b.startTangent=[F[0]-Y[0],F[1]-Y[1]],b.endTangent=[i[0]-Y[0],i[1]-Y[1]])}else if("A"===_){var V=.001,j=b.arcParams||{},yt=j.cx,Lt=void 0===yt?0:yt,Pt=j.cy,ge=void 0===Pt?0:Pt,Me=j.rx,Ie=void 0===Me?0:Me,Pe=j.ry,$e=void 0===Pe?0:Pe,lr=j.sweepFlag,er=j.startAngle,Ze=void 0===er?0:er,Nr=j.endAngle,Br=void 0===Nr?0:Nr;0===(void 0===lr?0:lr)&&(V*=-1);var un=Ie*Math.cos(Ze-V)+Lt,Tr=$e*Math.sin(Ze-V)+ge;b.startTangent=[un-c[0],Tr-c[1]];var Mn=Ie*Math.cos(Ze+Br+V)+Lt,qr=$e*Math.sin(Ze+Br-V)+ge;b.endTangent=[F[0]-Mn,F[1]-qr]}o.push(b)}return o}function Da(a,o){var i=a.prePoint,l=a.currentPoint,c=a.nextPoint,f=Math.pow(l[0]-i[0],2)+Math.pow(l[1]-i[1],2),v=Math.pow(l[0]-c[0],2)+Math.pow(l[1]-c[1],2),g=Math.pow(i[0]-c[0],2)+Math.pow(i[1]-c[1],2),m=Math.acos((f+v-g)/(2*Math.sqrt(f)*Math.sqrt(v)));if(!m||0===Math.sin(m)||function Rt(a,o,i){return void 0===i&&(i=Kt),Math.abs(a-o)<i}(m,0))return{xExtra:0,yExtra:0};var _=Math.abs(Math.atan2(c[1]-l[1],c[0]-l[0])),b=Math.abs(Math.atan2(c[0]-l[0],c[1]-l[1]));return _=_>Math.PI/2?Math.PI-_:_,b=b>Math.PI/2?Math.PI-b:b,{xExtra:Math.cos(m/2-_)*(o/2*(1/Math.sin(m/2)))-o/2||0,yExtra:Math.cos(b-m/2)*(o/2*(1/Math.sin(m/2)))-o/2||0}}function Xx(a,o,i,l){var c=a-i,f=o-l;return Math.sqrt(c*c+f*f)}function Vl(a,o,i,l,c,f){return c>=a&&c<=a+i&&f>=o&&f<=o+l}function mh(a,o){return!(o.minX>a.maxX||o.maxX<a.minX||o.minY>a.maxY||o.maxY<a.minY)}function $x(a,o){return a[0]===o[0]&&a[1]===o[1]}ta("rect",mx),ta("image",mx),ta("circle",xx),ta("marker",xx),ta("polyline",function uA(a){for(var i=a.attr().points,l=[],c=[],f=0;f<i.length;f++){var v=i[f];l.push(v[0]),c.push(v[1])}var g=Ul(l,c),m=g.x,_=g.y,I={minX:m,minY:_,maxX:m+g.width,maxY:_+g.height};return{x:(I=Md(a,I)).minX,y:I.minY,width:I.maxX-I.minX,height:I.maxY-I.minY}}),ta("polygon",function cA(a){for(var i=a.attr().points,l=[],c=[],f=0;f<i.length;f++){var v=i[f];l.push(v[0]),c.push(v[1])}return Ul(l,c)}),ta("text",function zx(a){var o=a.attr(),i=o.x,l=o.y,c=o.text,f=o.fontSize,v=o.lineHeight,g=o.font;g||(g=Px(o));var _,m=function ea(a,o){var i=vh(),l=0;return Ce(a)||""===a||(i.save(),i.font=o,Jt(a)&&a.includes("\n")?Ot(a.split("\n"),function(f){var v=i.measureText(f).width;l<v&&(l=v)}):l=i.measureText(a).width,i.restore()),l}(c,g);if(m){var b=o.textAlign,A=o.textBaseline,I=G0(c,f,v),O={x:i,y:l-I};b&&("end"===b||"right"===b?O.x-=m:"center"===b&&(O.x-=m/2)),A&&("top"===A?O.y+=I:"middle"===A&&(O.y+=I/2)),_={x:O.x,y:O.y,width:m,height:I}}else _={x:i,y:l,width:0,height:0};return _}),ta("path",function gh(a){var o=a.attr(),i=o.path,c=o.stroke?o.lineWidth:0,v=function Yl(a,o){for(var i=[],l=[],c=[],f=0;f<a.length;f++){var g=(v=a[f]).currentPoint,m=v.params,_=v.prePoint,b=void 0;switch(v.command){case"Q":b=bx.box(_[0],_[1],m[1],m[2],m[3],m[4]);break;case"C":b=ch.box(_[0],_[1],m[1],m[2],m[3],m[4],m[5],m[6]);break;case"A":var A=v.arcParams;b=lA_box(A.cx,A.cy,A.rx,A.ry,A.xRotation,A.startAngle,A.endAngle);break;default:i.push(g[0]),l.push(g[1])}b&&(v.box=b,i.push(b.x,b.x+b.width),l.push(b.y,b.y+b.height)),o&&("L"===v.command||"M"===v.command)&&v.prePoint&&v.nextPoint&&c.push(v)}i=i.filter(function(H){return!Number.isNaN(H)&&H!==1/0&&H!==-1/0}),l=l.filter(function(H){return!Number.isNaN(H)&&H!==1/0&&H!==-1/0});var I=pt(i),O=pt(l),F=mt(i),B=mt(l);if(0===c.length)return{x:I,y:O,width:F-I,height:B-O};for(f=0;f<c.length;f++){var v;(g=(v=c[f]).currentPoint)[0]===I?I-=Da(v,o).xExtra:g[0]===F&&(F+=Da(v,o).xExtra),g[1]===O?O-=Da(v,o).yExtra:g[1]===B&&(B+=Da(v,o).yExtra)}return{x:I,y:O,width:F-I,height:B-O}}(a.get("segments")||qs(i),c),g=v.x,m=v.y,A={minX:g,minY:m,maxX:g+v.width,maxY:m+v.height};return{x:(A=Md(a,A)).minX,y:A.minY,width:A.maxX-A.minX,height:A.maxY-A.minY}}),ta("line",function Vx(a){var o=a.attr(),i=o.x1,l=o.y1,c=o.x2,f=o.y2,b={minX:Math.min(i,c),maxX:Math.max(i,c),minY:Math.min(l,f),maxY:Math.max(l,f)};return{x:(b=Md(a,b)).minX,y:b.minY,width:b.maxX-b.minX,height:b.maxY-b.minY}}),ta("ellipse",function yh(a){var o=a.attr(),c=o.rx,f=o.ry;return{x:o.x-c,y:o.y-f,width:2*c,height:2*f}});var Ld=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,js=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,ka=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,V0=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function X0(a,o){Ot(a.match(V0),function(l){var c=l.split(":");o.addColorStop(c[0],c[1])})}function pA(a,o,i){var l=o.getBBox();if(isNaN(l.x)||isNaN(l.y)||isNaN(l.width)||isNaN(l.height))return i;if(Jt(i)){if("("===i[1]||"("===i[2]){if("l"===i[0])return function Bk(a,o,i){var g,m,l=Ld.exec(i),c=parseFloat(l[1])%360*(Math.PI/180),f=l[2],v=o.getBBox();c>=0&&c<.5*Math.PI?(g={x:v.minX,y:v.minY},m={x:v.maxX,y:v.maxY}):.5*Math.PI<=c&&c<Math.PI?(g={x:v.maxX,y:v.minY},m={x:v.minX,y:v.maxY}):Math.PI<=c&&c<1.5*Math.PI?(g={x:v.maxX,y:v.maxY},m={x:v.minX,y:v.minY}):(g={x:v.minX,y:v.maxY},m={x:v.maxX,y:v.minY});var _=Math.tan(c),b=_*_,O=a.createLinearGradient(g.x,g.y,(m.x-g.x+_*(m.y-g.y))/(b+1)+g.x,_*(m.x-g.x+_*(m.y-g.y))/(b+1)+g.y);return X0(f,O),O}(a,o,i);if("r"===i[0])return function dA(a,o,i){var l=js.exec(i),c=parseFloat(l[1]),f=parseFloat(l[2]),v=parseFloat(l[3]),g=l[4];if(0===v){var m=g.match(V0);return m[m.length-1].split(":")[1]}var _=o.getBBox(),b=_.maxX-_.minX,A=_.maxY-_.minY,I=Math.sqrt(b*b+A*A)/2,O=a.createRadialGradient(_.minX+b*c,_.minY+A*f,0,_.minX+b/2,_.minY+A/2,v*I);return X0(g,O),O}(a,o,i);if("p"===i[0])return function vA(a,o,i){if(o.get("patternSource")&&o.get("patternSource")===i)return o.get("pattern");var l,c,f=ka.exec(i),v=f[1],g=f[2];function m(){l=a.createPattern(c,v),o.set("pattern",l),o.set("patternSource",i)}switch(v){case"a":v="repeat";break;case"x":v="repeat-x";break;case"y":v="repeat-y";break;default:v="no-repeat"}return c=new Image,g.match(/^data:/i)||(c.crossOrigin="Anonymous"),c.src=g,c.complete?m():(c.onload=m,c.src=c.src),l}(a,o,i)}return i}return i instanceof CanvasPattern?i:void 0}function Id(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])}function $0(a,o){return Id(a)*Id(o)?(a[0]*o[0]+a[1]*o[1])/(Id(a)*Id(o)):1}function Zx(a,o){return(a[0]*o[1]<a[1]*o[0]?-1:1)*Math.acos($0(a,o))}function Z0(a,o){var i=o[1],l=o[2],c=dt(Bt(o[3]),2*Math.PI),f=o[4],v=o[5],g=a[0],m=a[1],_=o[6],b=o[7],A=Math.cos(c)*(g-_)/2+Math.sin(c)*(m-b)/2,I=-1*Math.sin(c)*(g-_)/2+Math.cos(c)*(m-b)/2,O=A*A/(i*i)+I*I/(l*l);O>1&&(i*=Math.sqrt(O),l*=Math.sqrt(O));var F=i*i*(I*I)+l*l*(A*A),B=F?Math.sqrt((i*i*(l*l)-F)/F):1;f===v&&(B*=-1),isNaN(B)&&(B=0);var P=l?B*i*I/l:0,H=i?B*-l*A/i:0,Y=(g+_)/2+Math.cos(c)*P-Math.sin(c)*H,V=(m+b)/2+Math.sin(c)*P+Math.cos(c)*H,j=[(A-P)/i,(I-H)/l],yt=[(-1*A-P)/i,(-1*I-H)/l],Lt=Zx([1,0],j),Pt=Zx(j,yt);return $0(j,yt)<=-1&&(Pt=Math.PI),$0(j,yt)>=1&&(Pt=0),0===v&&Pt>0&&(Pt-=2*Math.PI),1===v&&Pt<0&&(Pt+=2*Math.PI),{cx:Y,cy:V,rx:$x(a,[_,b])?0:i,ry:$x(a,[_,b])?0:l,startAngle:Lt,endAngle:Lt+Pt,xRotation:c,arcFlag:f,sweepFlag:v}}var Od=Math.sin,Rd=Math.cos,Fd=Math.atan2,Vu=Math.PI;function to(a,o,i,l,c,f,v){var g=o.stroke,m=o.lineWidth,A=Fd(l-f,i-c),I=new Gd({type:"path",canvas:a.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*Rd(Vu/6)+","+10*Od(Vu/6)+" L0,0 L"+10*Rd(Vu/6)+",-"+10*Od(Vu/6),stroke:g,lineWidth:m}});I.translate(c,f),I.rotateAtPoint(c,f,A),a.set(v?"startArrowShape":"endArrowShape",I)}function qx(a,o,i,l,c,f,v){var _=o.stroke,b=o.lineWidth,A=v?o.startArrow:o.endArrow,I=A.d,O=A.fill,F=A.stroke,B=A.lineWidth,P=function le(a,o){var i={};for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&o.indexOf(l)<0&&(i[l]=a[l]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(l=Object.getOwnPropertySymbols(a);c<l.length;c++)o.indexOf(l[c])<0&&Object.prototype.propertyIsEnumerable.call(a,l[c])&&(i[l[c]]=a[l[c]])}return i}(A,["d","fill","stroke","lineWidth"]),V=Fd(l-f,i-c);I&&(c-=Rd(V)*I,f-=Od(V)*I);var j=new Gd({type:"path",canvas:a.get("canvas"),isArrowShape:!0,attrs:fe(fe({},P),{stroke:F||_,lineWidth:B||b,fill:O})});j.translate(c,f),j.rotateAtPoint(c,f,V),a.set(v?"startArrowShape":"endArrowShape",j)}function Xl(a,o,i,l,c){var f=Fd(l-o,i-a);return{dx:Rd(f)*c,dy:Od(f)*c}}function Dd(a,o,i,l,c,f){"object"==typeof o.startArrow?qx(a,o,i,l,c,f,!0):o.startArrow?to(a,o,i,l,c,f,!0):a.set("startArrowShape",null)}function q0(a,o,i,l,c,f){"object"==typeof o.endArrow?qx(a,o,i,l,c,f,!1):o.endArrow?to(a,o,i,l,c,f,!1):a.set("startArrowShape",null)}var kd={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function $l(a,o){var i=o.attr();for(var l in i){var c=i[l],f=kd[l]?kd[l]:l;"matrix"===f&&c?a.transform(c[0],c[1],c[3],c[4],c[6],c[7]):"lineDash"===f&&a.setLineDash?ee(c)&&a.setLineDash(c):("strokeStyle"===f||"fillStyle"===f?c=pA(a,o,c):"globalAlpha"===f&&(c*=a.globalAlpha),a[f]=c)}}function Bd(a,o,i){for(var l=0;l<o.length;l++){var c=o[l];c.cfg.visible?c.draw(a,i):c.skipDraw()}}function jx(a,o,i){var l=a.get("refreshElements");Ot(l,function(c){if(c!==a)for(var f=c.cfg.parent;f&&f!==a&&!f.cfg.refresh;)f.cfg.refresh=!0,f=f.cfg.parent}),l[0]===a?Xu(o):j0(o,i)}function j0(a,o){for(var i=0;i<a.length;i++){var l=a[i];if(l.cfg.visible)if(l.cfg.hasChanged)l.cfg.refresh=!0,l.isGroup()&&Xu(l.cfg.children);else if(l.cfg.refresh)l.isGroup()&&j0(l.cfg.children,o);else{var c=Kx(l,o);l.cfg.refresh=c,c&&l.isGroup()&&j0(l.cfg.children,o)}}}function Jx(a){for(var o=0;o<a.length;o++){var i=a[o];i.cfg.hasChanged=!1,i.isGroup()&&!i.destroyed&&Jx(i.cfg.children)}}function Xu(a,o){for(var i=0;i<a.length;i++){var l=a[i];l.cfg.refresh=!0,l.isGroup()&&Xu(l.get("children"))}}function Kx(a,o){var i=a.cfg.cacheCanvasBBox;return a.cfg.isInView&&i&&mh(i,o)}function Pd(a,o,i,l){var c=i.path,f=i.startArrow,v=i.endArrow;if(c){var g=[0,0],m=[0,0],_={dx:0,dy:0};o.beginPath();for(var b=0;b<c.length;b++){var A=c[b],I=A[0];if(0===b&&f&&f.d)_=Xl((O=a.getStartTangent())[0][0],O[0][1],O[1][0],O[1][1],f.d);else if(b===c.length-2&&"Z"===c[b+1][0]&&v&&v.d)"Z"===c[b+1][0]&&(_=Xl((O=a.getEndTangent())[0][0],O[0][1],O[1][0],O[1][1],v.d));else if(b===c.length-1&&v&&v.d&&"Z"!==c[0]){var O;_=Xl((O=a.getEndTangent())[0][0],O[0][1],O[1][0],O[1][1],v.d)}var B=_.dx,P=_.dy;switch(I){case"M":o.moveTo(A[1]-B,A[2]-P),m=[A[1],A[2]];break;case"L":o.lineTo(A[1]-B,A[2]-P);break;case"Q":o.quadraticCurveTo(A[1],A[2],A[3]-B,A[4]-P);break;case"C":o.bezierCurveTo(A[1],A[2],A[3],A[4],A[5]-B,A[6]-P);break;case"A":var H=void 0;l?(H=l[b])||(H=Z0(g,A),l[b]=H):H=Z0(g,A);var Y=H.cx,V=H.cy,j=H.rx,yt=H.ry,Lt=H.startAngle,Pt=H.endAngle,ge=H.xRotation,Me=H.sweepFlag;if(o.ellipse)o.ellipse(Y,V,j,yt,ge,Lt,Pt,1-Me);else{var Ie=j>yt?j:yt,Pe=j>yt?1:j/yt,$e=j>yt?yt/j:1;o.translate(Y,V),o.rotate(ge),o.scale(Pe,$e),o.arc(0,0,Ie,Lt,Pt,1-Me),o.scale(1/Pe,1/$e),o.rotate(-ge),o.translate(-Y,-V)}break;case"Z":o.closePath()}if("Z"===I)g=m;else{var lr=A.length;g=[A[lr-2],A[lr-1]]}}}}function zd(a,o){var i=a.get("canvas");i&&("remove"===o&&(a._cacheCanvasBBox=a.get("cacheCanvasBBox")),a.get("hasChanged")||(a.set("hasChanged",!0),a.cfg.parent&&a.cfg.parent.get("hasChanged")||(i.refreshElement(a,o,i),i.get("autoDraw")&&i.draw())))}var ss=function(a){function o(){return null!==a&&a.apply(this,arguments)||this}return Ee(o,a),o.prototype.onCanvasChange=function(i){zd(this,i)},o.prototype.getShapeBase=function(){return he},o.prototype.getGroupBase=function(){return o},o.prototype._applyClip=function(i,l){l&&(i.save(),$l(i,l),l.createPath(i),i.restore(),i.clip(),l._afterDraw())},o.prototype.cacheCanvasBBox=function(){var l=[],c=[];Ot(this.cfg.children,function(I){var O=I.cfg.cacheCanvasBBox;O&&I.cfg.isInView&&(l.push(O.minX,O.maxX),c.push(O.minY,O.maxY))});var f=null;if(l.length){var v=pt(l),g=mt(l),m=pt(c),_=mt(c);f={minX:v,minY:m,x:v,y:m,maxX:g,maxY:_,width:g-v,height:_-m};var b=this.cfg.canvas;if(b){var A=b.getViewRange();this.set("isInView",mh(f,A))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",f)},o.prototype.draw=function(i,l){var c=this.cfg.children;c.length&&(!l||this.cfg.refresh)&&(i.save(),$l(i,this),this._applyClip(i,this.getClip()),Bd(i,c,l),i.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},o.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},o}(nA),Qx=function(a){function o(){return null!==a&&a.apply(this,arguments)||this}return Ee(o,a),o.prototype.getDefaultAttrs=function(){var i=a.prototype.getDefaultAttrs.call(this);return fe(fe({},i),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},o.prototype.getShapeBase=function(){return he},o.prototype.getGroupBase=function(){return ss},o.prototype.onCanvasChange=function(i){zd(this,i)},o.prototype.calculateBBox=function(){var i=this.get("type"),l=this.getHitLineWidth(),c=function iA(a){return yx.get(a)}(i),f=c(this),v=l/2,g=f.x-v,m=f.y-v;return{x:g,minX:g,y:m,minY:m,width:f.width+l,height:f.height+l,maxX:f.x+f.width+v,maxY:f.y+f.height+v}},o.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},o.prototype.isStroke=function(){return!!this.attrs.stroke},o.prototype._applyClip=function(i,l){l&&(i.save(),$l(i,l),l.createPath(i),i.restore(),i.clip(),l._afterDraw())},o.prototype.draw=function(i,l){var c=this.cfg.clipShape;if(l){if(!1===this.cfg.refresh)return void this.set("hasChanged",!1);if(!mh(l,this.getCanvasBBox()))return this.set("hasChanged",!1),void(this.cfg.isInView&&this._afterDraw())}i.save(),$l(i,this),this._applyClip(i,c),this.drawPath(i),i.restore(),this._afterDraw()},o.prototype.getCanvasViewBox=function(){var i=this.cfg.canvas;return i?i.getViewRange():null},o.prototype.cacheCanvasBBox=function(){var i=this.getCanvasViewBox();if(i){var l=this.getCanvasBBox(),c=mh(l,i);this.set("isInView",c),this.set("cacheCanvasBBox",c?l:null)}},o.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},o.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},o.prototype.drawPath=function(i){this.createPath(i),this.strokeAndFill(i),this.afterDrawPath(i)},o.prototype.fill=function(i){i.fill()},o.prototype.stroke=function(i){i.stroke()},o.prototype.strokeAndFill=function(i){var l=this.attrs,c=l.lineWidth,f=l.opacity,v=l.strokeOpacity,g=l.fillOpacity;this.isFill()&&(Ce(g)||1===g?this.fill(i):(i.globalAlpha=g,this.fill(i),i.globalAlpha=f)),this.isStroke()&&c>0&&(!Ce(v)&&1!==v&&(i.globalAlpha=v),this.stroke(i)),this.afterDrawPath(i)},o.prototype.createPath=function(i){},o.prototype.afterDrawPath=function(i){},o.prototype.isInShape=function(i,l){var c=this.isStroke(),f=this.isFill(),v=this.getHitLineWidth();return this.isInStrokeOrPath(i,l,c,f,v)},o.prototype.isInStrokeOrPath=function(i,l,c,f,v){return!1},o.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var i=this.attrs;return i.lineWidth+i.lineAppendWidth},o}(gx),eo=Qx,xA=function(a){function o(){return null!==a&&a.apply(this,arguments)||this}return Ee(o,a),o.prototype.getDefaultAttrs=function(){var i=a.prototype.getDefaultAttrs.call(this);return fe(fe({},i),{x:0,y:0,r:0})},o.prototype.isInStrokeOrPath=function(i,l,c,f,v){var g=this.attr(),b=g.r,A=v/2,I=Xx(g.x,g.y,i,l);return f&&c?I<=b+A:f?I<=b:!!c&&I>=b-A&&I<=b+A},o.prototype.createPath=function(i){var l=this.attr(),c=l.x,f=l.y,v=l.r;i.beginPath(),i.arc(c,f,v,0,2*Math.PI,!1),i.closePath()},o}(eo),CA=xA;function Nd(a,o,i,l){return a/(i*i)+o/(l*l)}var wA=function(a){function o(){return null!==a&&a.apply(this,arguments)||this}return Ee(o,a),o.prototype.getDefaultAttrs=function(){var i=a.prototype.getDefaultAttrs.call(this);return fe(fe({},i),{x:0,y:0,rx:0,ry:0})},o.prototype.isInStrokeOrPath=function(i,l,c,f,v){var g=this.attr(),m=v/2,_=g.x,b=g.y,A=g.rx,I=g.ry,O=(i-_)*(i-_),F=(l-b)*(l-b);return f&&c?Nd(O,F,A+m,I+m)<=1:f?Nd(O,F,A,I)<=1:!!c&&Nd(O,F,A-m,I-m)>=1&&Nd(O,F,A+m,I+m)<=1},o.prototype.createPath=function(i){var l=this.attr(),c=l.x,f=l.y,v=l.rx,g=l.ry;if(i.beginPath(),i.ellipse)i.ellipse(c,f,v,g,0,0,2*Math.PI,!1);else{var m=v>g?v:g,_=v>g?1:v/g,b=v>g?g/v:1;i.save(),i.translate(c,f),i.scale(_,b),i.arc(0,0,m,0,2*Math.PI),i.restore(),i.closePath()}},o}(eo),_A=wA;function t2(a){return a instanceof HTMLElement&&Jt(a.nodeName)&&"CANVAS"===a.nodeName.toUpperCase()}var SA=function(a){function o(){return null!==a&&a.apply(this,arguments)||this}return Ee(o,a),o.prototype.getDefaultAttrs=function(){var i=a.prototype.getDefaultAttrs.call(this);return fe(fe({},i),{x:0,y:0,width:0,height:0})},o.prototype.initAttrs=function(i){this._setImage(i.img)},o.prototype.isStroke=function(){return!1},o.prototype.isOnlyHitBox=function(){return!0},o.prototype._afterLoading=function(){if(!0===this.get("toDraw")){var i=this.get("canvas");i?i.draw():this.createPath(this.get("context"))}},o.prototype._setImage=function(i){var l=this,c=this.attrs;if(Jt(i)){var f=new Image;f.onload=function(){if(l.destroyed)return!1;l.attr("img",f),l.set("loading",!1),l._afterLoading();var v=l.get("callback");v&&v.call(l)},f.crossOrigin="Anonymous",f.src=i,this.set("loading",!0)}else i instanceof Image?(c.width||(c.width=i.width),c.height||(c.height=i.height)):t2(i)&&(c.width||(c.width=Number(i.getAttribute("width"))),c.height||Number(i.getAttribute("height")))},o.prototype.onAttrChange=function(i,l,c){a.prototype.onAttrChange.call(this,i,l,c),"img"===i&&this._setImage(l)},o.prototype.createPath=function(i){if(this.get("loading"))return this.set("toDraw",!0),void this.set("context",i);var l=this.attr(),c=l.x,f=l.y,v=l.width,g=l.height,m=l.sx,_=l.sy,b=l.swidth,A=l.sheight,I=l.img;(I instanceof Image||t2(I))&&(Ce(m)||Ce(_)||Ce(b)||Ce(A)?i.drawImage(I,c,f,v,g):i.drawImage(I,m,_,b,A,c,f,v,g))},o}(eo),J0=SA;function Js(a,o,i,l,c,f,v){var g=Math.min(a,i),m=Math.max(a,i),_=Math.min(o,l),b=Math.max(o,l),A=c/2;return f>=g-A&&f<=m+A&&v>=_-A&&v<=b+A&&Ti.pointToLine(a,o,i,l,f,v)<=c/2}var MA=function(a){function o(){return null!==a&&a.apply(this,arguments)||this}return Ee(o,a),o.prototype.getDefaultAttrs=function(){var i=a.prototype.getDefaultAttrs.call(this);return fe(fe({},i),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},o.prototype.initAttrs=function(i){this.setArrow()},o.prototype.onAttrChange=function(i,l,c){a.prototype.onAttrChange.call(this,i,l,c),this.setArrow()},o.prototype.setArrow=function(){var i=this.attr(),l=i.x1,c=i.y1,f=i.x2,v=i.y2,m=i.endArrow;i.startArrow&&Dd(this,i,f,v,l,c),m&&q0(this,i,l,c,f,v)},o.prototype.isInStrokeOrPath=function(i,l,c,f,v){if(!c||!v)return!1;var g=this.attr();return Js(g.x1,g.y1,g.x2,g.y2,v,i,l)},o.prototype.createPath=function(i){var l=this.attr(),c=l.x1,f=l.y1,v=l.x2,g=l.y2,m=l.startArrow,_=l.endArrow,b={dx:0,dy:0},A={dx:0,dy:0};m&&m.d&&(b=Xl(c,f,v,g,l.startArrow.d)),_&&_.d&&(A=Xl(c,f,v,g,l.endArrow.d)),i.beginPath(),i.moveTo(c+b.dx,f+b.dy),i.lineTo(v-A.dx,g-A.dy)},o.prototype.afterDrawPath=function(i){var l=this.get("startArrowShape"),c=this.get("endArrowShape");l&&l.draw(i),c&&c.draw(i)},o.prototype.getTotalLength=function(){var i=this.attr();return Ti.length(i.x1,i.y1,i.x2,i.y2)},o.prototype.getPoint=function(i){var l=this.attr();return Ti.pointAt(l.x1,l.y1,l.x2,l.y2,i)},o}(eo),bA=MA,e2={circle:function(a,o,i){return[["M",a-i,o],["A",i,i,0,1,0,a+i,o],["A",i,i,0,1,0,a-i,o]]},square:function(a,o,i){return[["M",a-i,o-i],["L",a+i,o-i],["L",a+i,o+i],["L",a-i,o+i],["Z"]]},diamond:function(a,o,i){return[["M",a-i,o],["L",a,o-i],["L",a+i,o],["L",a,o+i],["Z"]]},triangle:function(a,o,i){var l=i*Math.sin(.3333333333333333*Math.PI);return[["M",a-i,o+l],["L",a,o-l],["L",a+i,o+l],["Z"]]},"triangle-down":function(a,o,i){var l=i*Math.sin(.3333333333333333*Math.PI);return[["M",a-i,o-l],["L",a+i,o-l],["L",a,o+l],["Z"]]}},TA=function(a){function o(){return null!==a&&a.apply(this,arguments)||this}return Ee(o,a),o.prototype.initAttrs=function(i){this._resetParamsCache()},o.prototype._resetParamsCache=function(){this.set("paramsCache",{})},o.prototype.onAttrChange=function(i,l,c){a.prototype.onAttrChange.call(this,i,l,c),-1!==["symbol","x","y","r","radius"].indexOf(i)&&this._resetParamsCache()},o.prototype.isOnlyHitBox=function(){return!0},o.prototype._getR=function(i){return Ce(i.r)?i.radius:i.r},o.prototype._getPath=function(){var g,m,i=this.attr(),l=i.x,c=i.y,f=i.symbol||"circle",v=this._getR(i);if(Ut(f))m=Yx(m=(g=f)(l,c,v));else{if(!(g=o.Symbols[f]))return console.warn(f+" marker is not supported."),null;m=g(l,c,v)}return m},o.prototype.createPath=function(i){Pd(this,i,{path:this._getPath()},this.get("paramsCache"))},o.Symbols=e2,o}(eo),AA=TA;function r2(a,o,i){var l=vh();return a.createPath(l),l.isPointInPath(o,i)}var EA=1e-6;function K0(a){return Math.abs(a)<EA?0:a<0?-1:1}function LA(a,o,i){return(i[0]-a[0])*(o[1]-a[1])==(o[0]-a[0])*(i[1]-a[1])&&Math.min(a[0],o[0])<=i[0]&&i[0]<=Math.max(a[0],o[0])&&Math.min(a[1],o[1])<=i[1]&&i[1]<=Math.max(a[1],o[1])}function xh(a,o,i){var l=!1,c=a.length;if(c<=2)return!1;for(var f=0;f<c;f++){var v=a[f],g=a[(f+1)%c];if(LA(v,g,[o,i]))return!0;K0(v[1]-i)>0!=K0(g[1]-i)>0&&K0(o-(i-v[1])*(v[0]-g[0])/(v[1]-g[1])-v[0])<0&&(l=!l)}return l}function Ch(a,o,i,l,c,f,v,g){var m=(Math.atan2(g-o,v-a)+2*Math.PI)%(2*Math.PI);if(m<l||m>c)return!1;var _={x:a+i*Math.cos(m),y:o+i*Math.sin(m)};return Xx(_.x,_.y,v,g)<=f/2}var Q0=Tt,Hd=fe({hasArc:function IA(a){for(var o=!1,i=a.length,l=0;l<i;l++){var f=a[l][0];if("C"===f||"A"===f||"Q"===f){o=!0;break}}return o},extractPolygons:function RA(a){for(var o=a.length,i=[],l=[],c=[],f=0;f<o;f++){var v=a[f],g=v[0];"M"===g?(c.length&&(l.push(c),c=[]),c.push([v[1],v[2]])):"Z"===g?c.length&&(i.push(c),c=[]):c.push([v[1],v[2]])}return c.length>0&&l.push(c),{polygons:i,polylines:l}},isPointInStroke:function OA(a,o,i,l,c){for(var f=!1,v=o/2,g=0;g<a.length;g++){var m=a[g],_=m.currentPoint,b=m.params,A=m.prePoint,I=m.box;if(!I||Vl(I.x-v,I.y-v,I.width+o,I.height+o,i,l)){switch(m.command){case"L":case"Z":f=Js(A[0],A[1],_[0],_[1],o,i,l);break;case"Q":f=bx.pointDistance(A[0],A[1],b[1],b[2],b[3],b[4],i,l)<=o/2;break;case"C":f=ch.pointDistance(A[0],A[1],b[1],b[2],b[3],b[4],b[5],b[6],i,l,c)<=o/2;break;case"A":var B=m.arcParams,Y=B.rx,V=B.ry,j=B.startAngle,yt=B.endAngle,Pt=[i,l,1],ge=Y>V?Y:V;jc(Pt,Pt,Q0(null,[["t",-B.cx,-B.cy],["r",-B.xRotation],["s",1/(Y>V?1:Y/V),1/(Y>V?V/Y:1)]])),f=Ch(0,0,ge,j,yt,o,Pt[0],Pt[1])}if(f)break}}return f}},qe);function n2(a,o,i){for(var l=!1,c=0;c<a.length&&!(l=xh(a[c],o,i));c++);return l}var FA=function(a){function o(){return null!==a&&a.apply(this,arguments)||this}return Ee(o,a),o.prototype.getDefaultAttrs=function(){var i=a.prototype.getDefaultAttrs.call(this);return fe(fe({},i),{startArrow:!1,endArrow:!1})},o.prototype.initAttrs=function(i){this._setPathArr(i.path),this.setArrow()},o.prototype.onAttrChange=function(i,l,c){a.prototype.onAttrChange.call(this,i,l,c),"path"===i&&this._setPathArr(l),this.setArrow()},o.prototype._setPathArr=function(i){this.attrs.path=Yx(i);var l=Hd.hasArc(i);this.set("hasArc",l),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},o.prototype.getSegments=function(){var i=this.get("segements");return i||(i=qs(this.attr("path")),this.set("segments",i)),i},o.prototype.setArrow=function(){var f,i=this.attr(),c=i.endArrow;i.startArrow&&Dd(this,i,(f=this.getStartTangent())[0][0],f[0][1],f[1][0],f[1][1]),c&&q0(this,i,(f=this.getEndTangent())[0][0],f[0][1],f[1][0],f[1][1])},o.prototype.isInStrokeOrPath=function(i,l,c,f,v){var g=this.getSegments(),m=this.get("hasArc"),_=!1;if(c){var b=this.getTotalLength();_=Hd.isPointInStroke(g,v,i,l,b)}if(!_&&f)if(m)_=r2(this,i,l);else{var A=this.attr("path"),I=Hd.extractPolygons(A);_=n2(I.polygons,i,l)||n2(I.polylines,i,l)}return _},o.prototype.createPath=function(i){Pd(this,i,this.attr(),this.get("paramsCache"))},o.prototype.afterDrawPath=function(i){var l=this.get("startArrowShape"),c=this.get("endArrowShape");l&&l.draw(i),c&&c.draw(i)},o.prototype.getTotalLength=function(){var i=this.get("totalLength");return Ce(i)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):i},o.prototype.getPoint=function(i){var l=this.get("tCache");l||(this._calculateCurve(),this._setTcache(),l=this.get("tCache"));var c,f,v=this.get("curve");if(!l||0===l.length)return v?{x:v[0][1],y:v[0][2]}:null;Ot(l,function(b,A){i>=b[0]&&i<=b[1]&&(c=(i-b[0])/(b[1]-b[0]),f=A)});var g=v[f];if(Ce(g)||Ce(f))return null;var m=g.length,_=v[f+1];return ch.pointAt(g[m-2],g[m-1],_[1],_[2],_[3],_[4],_[5],_[6],c)},o.prototype._calculateCurve=function(){var i=this.attr().path;this.set("curve",Hd.pathToCurve(i))},o.prototype._setTcache=function(){var f,v,g,m,i=0,l=0,c=[],_=this.get("curve");if(_){if(Ot(_,function(b,A){m=b.length,(g=_[A+1])&&(i+=ch.length(b[m-2],b[m-1],g[1],g[2],g[3],g[4],g[5],g[6])||0)}),this.set("totalLength",i),0===i)return void this.set("tCache",[]);Ot(_,function(b,A){m=b.length,(g=_[A+1])&&((f=[])[0]=l/i,v=ch.length(b[m-2],b[m-1],g[1],g[2],g[3],g[4],g[5],g[6]),f[1]=(l+=v||0)/i,c.push(f))}),this.set("tCache",c)}},o.prototype.getStartTangent=function(){var l,i=this.getSegments();if(i.length>1){var c=i[0].currentPoint,f=i[1].currentPoint,v=i[1].startTangent;l=[],v?(l.push([c[0]-v[0],c[1]-v[1]]),l.push([c[0],c[1]])):(l.push([f[0],f[1]]),l.push([c[0],c[1]]))}return l},o.prototype.getEndTangent=function(){var c,i=this.getSegments(),l=i.length;if(l>1){var f=i[l-2].currentPoint,v=i[l-1].currentPoint,g=i[l-1].endTangent;c=[],g?(c.push([v[0]-g[0],v[1]-g[1]]),c.push([v[0],v[1]])):(c.push([f[0],f[1]]),c.push([v[0],v[1]]))}return c},o}(eo),Gd=FA;function tg(a,o,i,l,c){var f=a.length;if(f<2)return!1;for(var v=0;v<f-1;v++)if(Js(a[v][0],a[v][1],a[v+1][0],a[v+1][1],o,i,l))return!0;if(c){var A=a[0],I=a[f-1];if(Js(A[0],A[1],I[0],I[1],o,i,l))return!0}return!1}var wh=function(a){function o(){return null!==a&&a.apply(this,arguments)||this}return Ee(o,a),o.prototype.isInStrokeOrPath=function(i,l,c,f,v){var g=this.attr().points,m=!1;return c&&(m=tg(g,v,i,l,!0)),!m&&f&&(m=xh(g,i,l)),m},o.prototype.createPath=function(i){var c=this.attr().points;if(!(c.length<2)){i.beginPath();for(var f=0;f<c.length;f++){var v=c[f];0===f?i.moveTo(v[0],v[1]):i.lineTo(v[0],v[1])}i.closePath()}},o}(eo),i2=wh,DA=function(a){function o(){return null!==a&&a.apply(this,arguments)||this}return Ee(o,a),o.prototype.getDefaultAttrs=function(){var i=a.prototype.getDefaultAttrs.call(this);return fe(fe({},i),{startArrow:!1,endArrow:!1})},o.prototype.initAttrs=function(i){this.setArrow()},o.prototype.onAttrChange=function(i,l,c){a.prototype.onAttrChange.call(this,i,l,c),this.setArrow(),-1!==["points"].indexOf(i)&&this._resetCache()},o.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},o.prototype.setArrow=function(){var i=this.attr(),l=this.attrs,c=l.points,v=l.endArrow,g=c.length,b=c[g-1][0],A=c[g-1][1];l.startArrow&&Dd(this,i,c[1][0],c[1][1],c[0][0],c[0][1]),v&&q0(this,i,c[g-2][0],c[g-2][1],b,A)},o.prototype.isFill=function(){return!1},o.prototype.isInStrokeOrPath=function(i,l,c,f,v){return!(!c||!v)&&tg(this.attr().points,v,i,l,!1)},o.prototype.isStroke=function(){return!0},o.prototype.createPath=function(i){var l=this.attr(),c=l.points,f=l.startArrow,v=l.endArrow,g=c.length;if(!(c.length<2)){var I,m=c[0][0],_=c[0][1],b=c[g-1][0],A=c[g-1][1];f&&f.d&&(m+=(I=Xl(m,_,c[1][0],c[1][1],f.d)).dx,_+=I.dy),v&&v.d&&(b-=(I=Xl(c[g-2][0],c[g-2][1],b,A,v.d)).dx,A-=I.dy),i.beginPath(),i.moveTo(m,_);for(var O=0;O<g-1;O++){var F=c[O];i.lineTo(F[0],F[1])}i.lineTo(b,A)}},o.prototype.afterDrawPath=function(i){var l=this.get("startArrowShape"),c=this.get("endArrowShape");l&&l.draw(i),c&&c.draw(i)},o.prototype.getTotalLength=function(){var i=this.attr().points,l=this.get("totalLength");return Ce(l)?(this.set("totalLength",function(a){return function fh(a){if(a.length<2)return 0;for(var o=0,i=0;i<a.length-1;i++){var l=a[i],c=a[i+1];o+=bi(l[0],l[1],c[0],c[1])}return o}(a)}(i)),this.get("totalLength")):l},o.prototype.getPoint=function(i){var f,v,l=this.attr().points,c=this.get("tCache");return c||(this._setTcache(),c=this.get("tCache")),Ot(c,function(g,m){i>=g[0]&&i<=g[1]&&(f=(i-g[0])/(g[1]-g[0]),v=m)}),Ti.pointAt(l[v][0],l[v][1],l[v+1][0],l[v+1][1],f)},o.prototype._setTcache=function(){var i=this.attr().points;if(i&&0!==i.length){var l=this.getTotalLength();if(!(l<=0)){var v,g,c=0,f=[];Ot(i,function(m,_){i[_+1]&&((v=[])[0]=c/l,g=Ti.length(m[0],m[1],i[_+1][0],i[_+1][1]),v[1]=(c+=g)/l,f.push(v))}),this.set("tCache",f)}}},o.prototype.getStartTangent=function(){var i=this.attr().points,l=[];return l.push([i[1][0],i[1][1]]),l.push([i[0][0],i[0][1]]),l},o.prototype.getEndTangent=function(){var i=this.attr().points,l=i.length-1,c=[];return c.push([i[l-1][0],i[l-1][1]]),c.push([i[l][0],i[l][1]]),c},o}(eo),Pk=DA,Hk=function(a){function o(){return null!==a&&a.apply(this,arguments)||this}return Ee(o,a),o.prototype.getDefaultAttrs=function(){var i=a.prototype.getDefaultAttrs.call(this);return fe(fe({},i),{x:0,y:0,width:0,height:0,radius:0})},o.prototype.isInStrokeOrPath=function(i,l,c,f,v){var g=this.attr(),m=g.x,_=g.y,b=g.width,A=g.height,I=g.radius;if(I){var F=!1;return c&&(F=function Nk(a,o,i,l,c,f,v,g){return Js(a+c,o,a+i-c,o,f,v,g)||Js(a+i,o+c,a+i,o+l-c,f,v,g)||Js(a+i-c,o+l,a+c,o+l,f,v,g)||Js(a,o+l-c,a,o+c,f,v,g)||Ch(a+i-c,o+c,c,1.5*Math.PI,2*Math.PI,f,v,g)||Ch(a+i-c,o+l-c,c,0,.5*Math.PI,f,v,g)||Ch(a+c,o+l-c,c,.5*Math.PI,Math.PI,f,v,g)||Ch(a+c,o+c,c,Math.PI,1.5*Math.PI,f,v,g)}(m,_,b,A,I,v,i,l)),!F&&f&&(F=r2(this,i,l)),F}var O=v/2;return f&&c?Vl(m-O,_-O,b+O,A+O,i,l):f?Vl(m,_,b,A,i,l):c?function zk(a,o,i,l,c,f,v){var g=c/2;return Vl(a-g,o-g,i,c,f,v)||Vl(a+i-g,o-g,c,l,f,v)||Vl(a+g,o+l-g,i,c,f,v)||Vl(a-g,o+g,c,l,f,v)}(m,_,b,A,v,i,l):void 0},o.prototype.createPath=function(i){var l=this.attr(),c=l.x,f=l.y,v=l.width,g=l.height,m=l.radius;if(i.beginPath(),0===m)i.rect(c,f,v,g);else{var _=function gA(a){var o=0,i=0,l=0,c=0;return ee(a)?1===a.length?o=i=l=c=a[0]:2===a.length?(o=l=a[0],i=c=a[1]):3===a.length?(o=a[0],i=c=a[1],l=a[2]):(o=a[0],i=a[1],l=a[2],c=a[3]):o=i=l=c=a,[o,i,l,c]}(m),b=_[0],A=_[1],I=_[2],O=_[3];i.moveTo(c+b,f),i.lineTo(c+v-A,f),0!==A&&i.arc(c+v-A,f+A,A,-Math.PI/2,0),i.lineTo(c+v,f+g-I),0!==I&&i.arc(c+v-I,f+g-I,I,0,Math.PI/2),i.lineTo(c+O,f+g),0!==O&&i.arc(c+O,f+g-O,O,Math.PI/2,Math.PI),i.lineTo(c,f+b),0!==b&&i.arc(c+b,f+b,b,Math.PI,1.5*Math.PI),i.closePath()}},o}(eo),Gk=Hk,Wk=function(a){function o(){return null!==a&&a.apply(this,arguments)||this}return Ee(o,a),o.prototype.getDefaultAttrs=function(){var i=a.prototype.getDefaultAttrs.call(this);return fe(fe({},i),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},o.prototype.isOnlyHitBox=function(){return!0},o.prototype.initAttrs=function(i){this._assembleFont(),i.text&&this._setText(i.text)},o.prototype._assembleFont=function(){var i=this.attrs;i.font=Px(i)},o.prototype._setText=function(i){var l=null;Jt(i)&&-1!==i.indexOf("\n")&&(l=i.split("\n")),this.set("textArr",l)},o.prototype.onAttrChange=function(i,l,c){a.prototype.onAttrChange.call(this,i,l,c),i.startsWith("font")&&this._assembleFont(),"text"===i&&this._setText(l)},o.prototype._getSpaceingY=function(){var i=this.attrs,l=i.lineHeight,c=1*i.fontSize;return l?l-c:.14*c},o.prototype._drawTextArr=function(i,l,c){var I,f=this.attrs,v=f.textBaseline,g=f.x,m=f.y,_=1*f.fontSize,b=this._getSpaceingY(),A=G0(f.text,f.fontSize,f.lineHeight);Ot(l,function(O,F){I=m+F*(b+_)-A+_,"middle"===v&&(I+=A-_-(A-_)/2),"top"===v&&(I+=A-_),Ce(O)||(c?i.fillText(O,g,I):i.strokeText(O,g,I))})},o.prototype._drawText=function(i,l){var c=this.attr(),f=c.x,v=c.y,g=this.get("textArr");if(g)this._drawTextArr(i,g,l);else{var m=c.text;Ce(m)||(l?i.fillText(m,f,v):i.strokeText(m,f,v))}},o.prototype.strokeAndFill=function(i){var l=this.attrs,c=l.lineWidth,f=l.opacity,v=l.strokeOpacity,g=l.fillOpacity;this.isStroke()&&c>0&&(!Ce(v)&&1!==v&&(i.globalAlpha=f),this.stroke(i)),this.isFill()&&(Ce(g)||1===g?this.fill(i):(i.globalAlpha=g,this.fill(i),i.globalAlpha=f)),this.afterDrawPath(i)},o.prototype.fill=function(i){this._drawText(i,!0)},o.prototype.stroke=function(i){this._drawText(i,!1)},o}(eo),Uk=Wk;function kA(a,o,i){var l=a.getTotalMatrix();if(l){var c=function Yk(a,o){return o?Oe(Ue(o),a):a}([o,i,1],l);return[c[0],c[1]]}return[o,i]}function BA(a,o,i){if(a.isCanvas&&a.isCanvas())return!0;if(!gn(a)||!1===a.cfg.isInView)return!1;if(a.cfg.clipShape){var l=kA(a,o,i);if(a.isClipped(l[0],l[1]))return!1}var v=a.cfg.cacheCanvasBBox||a.getCanvasBBox();return o>=v.minX&&o<=v.maxX&&i>=v.minY&&i<=v.maxY}function PA(a,o,i){if(!BA(a,o,i))return null;for(var l=null,c=a.getChildren(),v=c.length-1;v>=0;v--){var g=c[v];if(g.isGroup())l=PA(g,o,i);else if(BA(g,o,i)){var m=g,_=kA(g,o,i);m.isInShape(_[0],_[1])&&(l=g)}if(l)break}return l}var Ba,zA=function(a){function o(){return null!==a&&a.apply(this,arguments)||this}return Ee(o,a),o.prototype.getDefaultCfg=function(){var i=a.prototype.getDefaultCfg.call(this);return i.renderer="canvas",i.autoDraw=!0,i.localRefresh=!0,i.refreshElements=[],i.clipView=!0,i.quickHit=!1,i},o.prototype.onCanvasChange=function(i){("attr"===i||"sort"===i||"changeSize"===i)&&(this.set("refreshElements",[this]),this.draw())},o.prototype.getShapeBase=function(){return he},o.prototype.getGroupBase=function(){return ss},o.prototype.getPixelRatio=function(){var i=this.get("pixelRatio")||function fA(){return window?window.devicePixelRatio:1}();return i>=1?Math.ceil(i):1},o.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},o.prototype.createDom=function(){var i=document.createElement("canvas"),l=i.getContext("2d");return this.set("context",l),i},o.prototype.setDOMSize=function(i,l){a.prototype.setDOMSize.call(this,i,l);var c=this.get("context"),f=this.get("el"),v=this.getPixelRatio();f.width=v*i,f.height=v*l,v>1&&c.scale(v,v)},o.prototype.clear=function(){a.prototype.clear.call(this),this._clearFrame();var i=this.get("context"),l=this.get("el");i.clearRect(0,0,l.width,l.height)},o.prototype.getShape=function(i,l){return this.get("quickHit")?PA(this,i,l):a.prototype.getShape.call(this,i,l,null)},o.prototype._getRefreshRegion=function(){var c,i=this.get("refreshElements"),l=this.getViewRange();return i.length&&i[0]===this?c=l:(c=function Zl(a){if(!a.length)return null;var o=[],i=[],l=[],c=[];return Ot(a,function(f){var v=function yA(a){var o;if(a.destroyed)o=a._cacheCanvasBBox;else{var i=a.get("cacheCanvasBBox"),l=i&&!(!i.width||!i.height),c=a.getCanvasBBox(),f=c&&!(!c.width||!c.height);l&&f?o=function Ed(a,o){return a&&o?{minX:Math.min(a.minX,o.minX),minY:Math.min(a.minY,o.minY),maxX:Math.max(a.maxX,o.maxX),maxY:Math.max(a.maxY,o.maxY)}:a||o}(i,c):l?o=i:f&&(o=c)}return o}(f);v&&(o.push(v.minX),i.push(v.minY),l.push(v.maxX),c.push(v.maxY))}),{minX:pt(o),minY:pt(i),maxX:mt(l),maxY:mt(c)}}(i),c&&(c.minX=Math.floor(c.minX),c.minY=Math.floor(c.minY),c.maxX=Math.ceil(c.maxX),c.maxY=Math.ceil(c.maxY),c.maxY+=1,this.get("clipView")&&(c=function mA(a,o){return a&&o&&mh(a,o)?{minX:Math.max(a.minX,o.minX),minY:Math.max(a.minY,o.minY),maxX:Math.min(a.maxX,o.maxX),maxY:Math.min(a.maxY,o.maxY)}:null}(c,l)))),c},o.prototype.refreshElement=function(i){this.get("refreshElements").push(i)},o.prototype._clearFrame=function(){var i=this.get("drawFrame");i&&(function zt(a){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(a)}(i),this.set("drawFrame",null),this.set("refreshElements",[]))},o.prototype.draw=function(){var i=this.get("drawFrame");this.get("autoDraw")&&i||this._startDraw()},o.prototype._drawAll=function(){var i=this.get("context"),l=this.get("el"),c=this.getChildren();i.clearRect(0,0,l.width,l.height),$l(i,this),Bd(i,c),this.set("refreshElements",[])},o.prototype._drawRegion=function(){var i=this.get("context"),l=this.get("refreshElements"),c=this.getChildren(),f=this._getRefreshRegion();f?(i.clearRect(f.minX,f.minY,f.maxX-f.minX,f.maxY-f.minY),i.save(),i.beginPath(),i.rect(f.minX,f.minY,f.maxX-f.minX,f.maxY-f.minY),i.clip(),$l(i,this),jx(this,c,f),Bd(i,c,f),i.restore()):l.length&&Jx(l),Ot(l,function(v){v.get("hasChanged")&&v.set("hasChanged",!1)}),this.set("refreshElements",[])},o.prototype._startDraw=function(){var i=this,l=this.get("drawFrame");l||(l=function Mt(a){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(i){return setTimeout(i,16)})(a)}(function(){i.get("localRefresh")?i._drawRegion():i._drawAll(),i.set("drawFrame",null)}),this.set("drawFrame",l))},o.prototype.skipDraw=function(){},o.prototype.removeDom=function(){var i=this.get("el");i.width=0,i.height=0,i.parentNode.removeChild(i)},o}(rA),Yi=(()=>(function(a){a.MOUSE_DOWN="mousedown",a.MOUSE_MOVE="mousemove",a.MOUSE_OUT="mouseout",a.MOUSE_LEAVE="mouseleave",a.MOUSE_UP="mouseup",a.KEY_DOWN="keydown",a.KEY_UP="keyup",a.CLICK="click",a.HOVER="hover",a.DOUBLE_CLICK="dblclick",a.CONTEXT_MENU="contextmenu"}(Yi||(Yi={})),Yi))(),ae=(()=>(function(a){a.ROW_CELL_HOVER="row-cell:hover",a.ROW_CELL_CLICK="row-cell:click",a.ROW_CELL_DOUBLE_CLICK="row-cell:double-click",a.ROW_CELL_CONTEXT_MENU="row-cell:context-menu",a.ROW_CELL_MOUSE_DOWN="row-cell:mouse-down",a.ROW_CELL_MOUSE_UP="row-cell:mouse-up",a.ROW_CELL_MOUSE_MOVE="row-cell:mouse-move",a.ROW_CELL_COLLAPSE_TREE_ROWS="row-cell:collapsed-tree-rows",a.ROW_CELL_SCROLL="row-cell:scroll",a.ROW_CELL_BRUSH_SELECTION="row-cell:brush-selection",a.COL_CELL_HOVER="col-cell:hover",a.COL_CELL_CLICK="col-cell:click",a.COL_CELL_DOUBLE_CLICK="col-cell:double-click",a.COL_CELL_CONTEXT_MENU="col-cell:context-menu",a.COL_CELL_MOUSE_DOWN="col-cell:mouse-down",a.COL_CELL_MOUSE_UP="col-cell:mouse-up",a.COL_CELL_MOUSE_MOVE="col-cell:mouse-move",a.COL_CELL_BRUSH_SELECTION="col-cell:brush-selection",a.DATA_CELL_HOVER="data-cell:hover",a.DATA_CELL_CLICK="data-cell:click",a.DATA_CELL_DOUBLE_CLICK="data-cell:double-click",a.DATA_CELL_CONTEXT_MENU="data-cell:context-menu",a.DATA_CELL_MOUSE_UP="data-cell:mouse-up",a.DATA_CELL_MOUSE_DOWN="data-cell:mouse-down",a.DATA_CELL_MOUSE_MOVE="data-cell:mouse-move",a.DATA_CELL_TREND_ICON_CLICK="data-cell:trend-icon-click",a.DATA_CELL_BRUSH_SELECTION="data-cell:brush-selection",a.DATA_CELL_SELECT_MOVE="data-cell:select-move",a.CORNER_CELL_HOVER="corner-cell:hover",a.CORNER_CELL_CLICK="corner-cell:click",a.CORNER_CELL_DOUBLE_CLICK="corner-cell:double-click",a.CORNER_CELL_CONTEXT_MENU="corner-cell:context-menu",a.CORNER_CELL_MOUSE_DOWN="corner-cell:mouse-down",a.CORNER_CELL_MOUSE_UP="corner-cell:mouse-up",a.CORNER_CELL_MOUSE_MOVE="corner-cell:mouse-move",a.MERGED_CELLS_HOVER="merged-cells:hover",a.MERGED_CELLS_CLICK="merged-cells:click",a.MERGED_CELLS_DOUBLE_CLICK="merged-cells:double-click",a.MERGED_CELLS_CONTEXT_MENU="merged-cell:context-menu",a.MERGED_CELLS_MOUSE_DOWN="merged-cells:mouse-down",a.MERGED_CELLS_MOUSE_UP="merged-cells:mouse-up",a.MERGED_CELLS_MOUSE_MOVE="merged-cells:mouse-move",a.RANGE_SORT="sort:range-sort",a.RANGE_SORTED="sort:range-sorted",a.RANGE_FILTER="filter:range-filter",a.RANGE_FILTERED="filter:range-filtered",a.LAYOUT_AFTER_HEADER_LAYOUT="layout:after-header-layout",a.LAYOUT_CELL_SCROLL="layout:cell-scroll",a.LAYOUT_PAGINATION="layout:pagination",a.LAYOUT_COLLAPSE_ROWS="layout:collapsed-rows",a.LAYOUT_AFTER_COLLAPSE_ROWS="layout:after-collapsed-rows",a.LAYOUT_AFTER_REAL_DATA_CELL_RENDER="layout:after-real-data-cell-render",a.LAYOUT_TREE_ROWS_COLLAPSE_ALL="layout:toggle-collapse-all",a.LAYOUT_COLS_EXPANDED="layout:table-col-expanded",a.LAYOUT_COLS_HIDDEN="layout:table-col-hidden",a.LAYOUT_AFTER_RENDER="layout:after-render",a.LAYOUT_BEFORE_RENDER="layout:before-render",a.LAYOUT_DESTROY="layout:destroy",a.LAYOUT_RESIZE="layout:resize",a.LAYOUT_RESIZE_SERIES_WIDTH="layout:resize-series-width",a.LAYOUT_RESIZE_ROW_WIDTH="layout:resize-row-width",a.LAYOUT_RESIZE_ROW_HEIGHT="layout:resize-row-height",a.LAYOUT_RESIZE_COL_WIDTH="layout:resize-column-width",a.LAYOUT_RESIZE_COL_HEIGHT="layout:resize-column-height",a.LAYOUT_RESIZE_TREE_WIDTH="layout:resize-tree-width",a.LAYOUT_RESIZE_MOUSE_DOWN="layout:resize:mouse-down",a.LAYOUT_RESIZE_MOUSE_MOVE="layout:resize:mouse-move",a.LAYOUT_RESIZE_MOUSE_UP="layout:resize-mouse-up",a.GLOBAL_KEYBOARD_DOWN="global:keyboard-down",a.GLOBAL_KEYBOARD_UP="global:keyboard-up",a.GLOBAL_COPIED="global:copied",a.GLOBAL_MOUSE_UP="global:mouse-up",a.GLOBAL_MOUSE_MOVE="global:mouse-move",a.GLOBAL_ACTION_ICON_CLICK="global:action-icon-click",a.GLOBAL_ACTION_ICON_HOVER="global:action-icon-hover",a.GLOBAL_ACTION_ICON_HOVER_OFF="global:action-icon-hover-off",a.GLOBAL_CONTEXT_MENU="global:context-menu",a.GLOBAL_CLICK="global:click",a.GLOBAL_DOUBLE_CLICK="global:double-click",a.GLOBAL_SELECTED="global:selected",a.GLOBAL_HOVER="global:hover",a.GLOBAL_RESET="global:reset",a.GLOBAL_LINK_FIELD_JUMP="global:link-field-jump",a.GLOBAL_SCROLL="global:scroll"}(ae||(ae={})),ae))(),ro="$$value$$",Pr="$$extra$$",Vk="$$extra_column$$",a2="$$total$$",$u="$$series_number$$",NA=3,o2=4,HA="mergedCellsGroup",nB="frozenRowGroup",GA="frozenColGroup",iB="frozenTrailingRowGroup",aB="frozenTrailingColGroup",oB="frozenTopGroup",sB="frozenBottomGroup",_h="rowResizeAreaGroup",WA="rowFrozenResizeAreaGroup",UA="frozenSplitLine",YA="rowIndexResizeAreaGroup",s2="cornerResizeAreaGroup",VA="colResizeAreaGroup",l2="colFrozenResizeAreaGroup",XA="colScrollGroup",eg="colFrozenGroup",$A="colFrozenTrailingGroup",rg="gridGroup",u2="horizontal-resize-area-",Sh="root",Fn="[&]",ls=(()=>(function(a){a.Line="line",a.Bar="bar",a.Bullet="bullet"}(ls||(ls={})),ls))(),h2="square",us="...",Ks="valueRanges",cs={},ql="#000000",ag="#FFFFFF",cB={data:[],totalData:[],fields:{rows:[],columns:[],values:[],customTreeItems:[],valueInCols:!0},meta:[],sortParams:[],filterParams:[]},Gn=(()=>(function(a){a.ROW="row",a.COL="col",a.TRAILING_ROW="trailingRow",a.TRAILING_COL="trailingCol",a.SCROLL="scroll",a.TOP="top",a.BOTTOM="bottom"}(Gn||(Gn={})),Gn))(),no=(()=>(function(a){a.FROZEN_COL="frozenCol",a.FROZEN_ROW="frozenRow",a.FROZEN_TRAILING_COL="frozenTrailingCol",a.FROZEN_TRAILING_ROW="frozenTrailingRow"}(no||(no={})),no))(),og=((Ba={})[Gn.ROW]="frozenRowGroup",Ba[Gn.COL]="frozenColGroup",Ba[Gn.TRAILING_COL]="frozenTrailingColGroup",Ba[Gn.TRAILING_ROW]="frozenTrailingRowGroup",Ba[Gn.SCROLL]="panelScrollGroup",Ba[Gn.TOP]="frozenTopGroup",Ba[Gn.BOTTOM]="frozenBottomGroup",Ba),Ai=(()=>(function(a){a.CORNER_CELL_CLICK="cornerCellClick",a.DATA_CELL_CLICK="dataCellClick",a.MERGED_CELLS_CLICK="mergedCellsClick",a.ROW_COLUMN_CLICK="rowColumnClick",a.ROW_TEXT_CLICK="rowTextClick",a.HOVER="hover",a.BRUSH_SELECTION="brushSelection",a.ROW_BRUSH_SELECTION="rowBrushSelection",a.COL_BRUSH_SELECTION="colBrushSelection",a.COL_ROW_RESIZE="rowColResize",a.DATA_CELL_MULTI_SELECTION="dataCellMultiSelection",a.RANGE_SELECTION="rangeSelection",a.SELECTED_CELL_MOVE="selectedCellMove"}(Ai||(Ai={})),Ai))(),Qe=(()=>(function(a){a.ALL_SELECTED="allSelected",a.SELECTED="selected",a.UNSELECTED="unselected",a.HOVER="hover",a.HOVER_FOCUS="hoverFocus",a.HIGHLIGHT="highlight",a.SEARCH_RESULT="searchResult",a.PREPARE_SELECT="prepareSelect"}(Qe||(Qe={})),Qe))(),We=(()=>(function(a){a.DATA_CELL="dataCell",a.HEADER_CELL="headerCell",a.ROW_CELL="rowCell",a.COL_CELL="colCell",a.CORNER_CELL="cornerCell",a.MERGED_CELL="mergedCell"}(We||(We={})),We))(),ga={textOpacity:"fillOpacity",backgroundOpacity:"fillOpacity",backgroundColor:"fill",borderOpacity:"strokeOpacity",borderColor:"stroke",borderWidth:"lineWidth",opacity:"opacity"},d2={textShape:["textOpacity"],textShapes:["textOpacity"],linkFieldShape:["opacity"],interactiveBgShape:["backgroundColor","backgroundOpacity"],interactiveBorderShape:["borderColor","borderOpacity","borderWidth"]},hs="interactionStateInfo",di=(()=>(function(a){a.CLICK="click",a.UN_DRAGGED="unDragged",a.DRAGGED="dragged"}(di||(di={})),di))(),vi=(()=>(function(a){a.SHIFT="Shift",a.COPY="c",a.ESC="Escape",a.META="Meta",a.CONTROL="Control",a.ARROW_UP="ArrowUp",a.ARROW_DOWN="ArrowDown",a.ARROW_LEFT="ArrowLeft",a.ARROW_RIGHT="ArrowRight"}(vi||(vi={})),vi))(),hr=(()=>(function(a){a.HOVER="hover",a.CLICK="click",a.BRUSH_SELECTION="brushSelection",a.ROW_BRUSH_SELECTION="rowBrushSelection",a.COL_BRUSH_SELECTION="colBrushSelection",a.MULTI_SELECTION="multiSelection",a.RESIZE="resize"}(hr||(hr={})),hr))(),Yd={x:{value:0,scroll:!1},y:{value:0,scroll:!1}},bh=(()=>(function(a){a.CONTENT="content",a.CANVAS="canvas"}(bh||(bh={})),bh))(),Wn=(()=>(function(a){a.SCROLL_UP="scrollUp",a.SCROLL_DOWN="scrollDown"}(Wn||(Wn={})),Wn))(),Th=(()=>(function(a){a[a.SCROLL_UP=-1]="SCROLL_UP",a[a.SCROLL_DOWN=1]="SCROLL_DOWN"}(Th||(Th={})),Th))(),ya=(()=>(function(a){a.Horizontal="col",a.Vertical="row"}(ya||(ya={})),ya))(),ti=(()=>(function(a){a.Field="field",a.Cell="cell",a.Tree="tree",a.Series="series"}(ti||(ti={})),ti))(),Ah=(()=>(function(a){a.ALL="all",a.CURRENT="current"}(Ah||(Ah={})),Ah))(),eE=1,Pa=(()=>(function(a){a.Adaptive="adaptive",a.ColAdaptive="colAdaptive",a.Compact="compact"}(Pa||(Pa={})),Pa))(),rE={width:600,height:480,debug:!1,hierarchyType:"grid",conditions:{},totals:{},tooltip:{showTooltip:!1,autoAdjustBoundary:"body",operation:{hiddenColumns:!1,trend:!1,sort:!1,menus:[]}},interaction:{linkFields:[],hiddenColumnFields:[],selectedCellsSpotlight:!1,hoverHighlight:!0,hoverFocus:{duration:800},scrollSpeedRatio:{horizontal:1,vertical:1},autoResetSheetStyle:!0,brushSelection:{data:!0,row:!1,col:!1},multiSelection:!0,rangeSelection:!0,scrollbarPosition:bh.CONTENT,resize:{rowCellVertical:!0,cornerCellHorizontal:!0,colCellHorizontal:!0,colCellVertical:!0,rowResizeType:Ah.ALL},eventListenerOptions:!1,selectedCellHighlight:!1,overscrollBehavior:"auto"},showSeriesNumber:!1,customSVGIcons:[],showDefaultHeaderActionIcon:!1,headerActionIcons:[],style:{layoutWidthType:Pa.Adaptive,showTreeLeafNodeAlignDot:!1,collapsedRows:{},collapsedCols:{},cellCfg:{width:96,height:30},rowCfg:{width:null,widthByField:{},heightByField:{}},colCfg:{height:30,widthByFieldValue:{},heightByField:{}},device:"pc"},frozenRowHeader:!0,frozenRowCount:0,frozenColCount:0,frozenTrailingRowCount:0,frozenTrailingColCount:0,hdAdapter:!0,cornerText:"",cornerExtraFieldText:"",placeholder:"-",supportCSSTransform:!1,devicePixelRatio:window.devicePixelRatio},lg=function(a,o){return(lg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,l){i.__proto__=l}||function(i,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(i[c]=l[c])})(a,o)};function Sr(a,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function i(){this.constructor=a}lg(a,o),a.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}var Ft=function(){return Ft=Object.assign||function(o){for(var i,l=1,c=arguments.length;l<c;l++)for(var f in i=arguments[l])Object.prototype.hasOwnProperty.call(i,f)&&(o[f]=i[f]);return o},Ft.apply(this,arguments)};function ug(a,o){var i={};for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&o.indexOf(l)<0&&(i[l]=a[l]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(l=Object.getOwnPropertySymbols(a);c<l.length;c++)o.indexOf(l[c])<0&&Object.prototype.propertyIsEnumerable.call(a,l[c])&&(i[l[c]]=a[l[c]])}return i}function Ei(a){var o="function"==typeof Symbol&&Symbol.iterator,i=o&&a[o],l=0;if(i)return i.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&l>=a.length&&(a=void 0),{value:a&&a[l++],done:!a}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")}function de(a,o){var i="function"==typeof Symbol&&a[Symbol.iterator];if(!i)return a;var c,v,l=i.call(a),f=[];try{for(;(void 0===o||o-- >0)&&!(c=l.next()).done;)f.push(c.value)}catch(g){v={error:g}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(v)throw v.error}}return f}function Ae(a,o,i){if(i||2===arguments.length)for(var f,l=0,c=o.length;l<c;l++)(f||!(l in o))&&(f||(f=Array.prototype.slice.call(o,0,l)),f[l]=o[l]);return a.concat(f||Array.prototype.slice.call(o))}var v2="object"==typeof global&&global&&global.Object===Object&&global,iE="object"==typeof self&&self&&self.Object===Object&&self,ei=v2||iE||Function("return this")(),Li=ei.Symbol,p2=Object.prototype,sE=p2.hasOwnProperty,lE=p2.toString,ri=Li?Li.toStringTag:void 0,hE=Object.prototype.toString,dE="[object Null]",cg="[object Undefined]",g2=Li?Li.toStringTag:void 0;function Vi(a){return null==a?void 0===a?cg:dE:g2&&g2 in Object(a)?function uE(a){var o=sE.call(a,ri),i=a[ri];try{a[ri]=void 0;var l=!0}catch{}var c=lE.call(a);return l&&(o?a[ri]=i:delete a[ri]),c}(a):function fE(a){return hE.call(a)}(a)}function wn(a){return null!=a&&"object"==typeof a}var vE="[object Symbol]";function ra(a){return"symbol"==typeof a||wn(a)&&Vi(a)==vE}var hg=NaN;function y2(a){return"number"==typeof a?a:ra(a)?hg:+a}function En(a,o){for(var i=-1,l=null==a?0:a.length,c=Array(l);++i<l;)c[i]=o(a[i],i,a);return c}var yr=Array.isArray,pE=1/0,fg=Li?Li.prototype:void 0,Xd=fg?fg.toString:void 0;function pi(a){if("string"==typeof a)return a;if(yr(a))return En(a,pi)+"";if(ra(a))return Xd?Xd.call(a):"";var o=a+"";return"0"==o&&1/a==-pE?"-0":o}function Eh(a,o){return function(i,l){var c;if(void 0===i&&void 0===l)return o;if(void 0!==i&&(c=i),void 0!==l){if(void 0===c)return l;"string"==typeof i||"string"==typeof l?(i=pi(i),l=pi(l)):(i=y2(i),l=y2(l)),c=a(i,l)}return c}}var gE=Eh(function(a,o){return a+o},0),yE=gE,mE=/\s/;function x2(a){for(var o=a.length;o--&&mE.test(a.charAt(o)););return o}var C2=/^\s+/;function w2(a){return a&&a.slice(0,x2(a)+1).replace(C2,"")}function on(a){var o=typeof a;return null!=a&&("object"==o||"function"==o)}var dg=NaN,xE=/^[-+]0x[0-9a-f]+$/i,_2=/^0b[01]+$/i,CE=/^0o[0-7]+$/i,wE=parseInt;function ma(a){if("number"==typeof a)return a;if(ra(a))return dg;if(on(a)){var o="function"==typeof a.valueOf?a.valueOf():a;a=on(o)?o+"":o}if("string"!=typeof a)return 0===a?a:+a;a=w2(a);var i=_2.test(a);return i||CE.test(a)?wE(a.slice(2),i?2:8):xE.test(a)?dg:+a}var S2=1/0,_E=17976931348623157e292;function fs(a){return a?(a=ma(a))===S2||a===-S2?(a<0?-1:1)*_E:a==a?a:0:0===a?a:0}function kr(a){var o=fs(a),i=o%1;return o==o?i?o-i:o:0}function Ii(a){return a}var ME="[object AsyncFunction]",Lh="[object Function]",vg="[object GeneratorFunction]",pg="[object Proxy]";function Dn(a){if(!on(a))return!1;var o=Vi(a);return o==Lh||o==vg||o==ME||o==pg}var $d=ei["__core-js_shared__"],b2=function(){var a=/[^.]+$/.exec($d&&$d.keys&&$d.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),AE=Function.prototype.toString;function jl(a){if(null!=a){try{return AE.call(a)}catch{}try{return a+""}catch{}}return""}var LE=/^\[object .+?Constructor\]$/,Zd=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function qd(a){return!(!on(a)||function TE(a){return!!b2&&b2 in a}(a))&&(Dn(a)?Zd:LE).test(jl(a))}function Qs(a,o){var i=function yg(a,o){return a?.[o]}(a,o);return qd(i)?i:void 0}var Ih=Qs(ei,"WeakMap"),Oh=Ih&&new Ih,DE=Oh?function(a,o){return Oh.set(a,o),a}:Ii,E2=DE,So=Object.create,ds=function(){function a(){}return function(o){if(!on(o))return{};if(So)return So(o);a.prototype=o;var i=new a;return a.prototype=void 0,i}}(),Mo=ds;function tl(a){return function(){var o=arguments;switch(o.length){case 0:return new a;case 1:return new a(o[0]);case 2:return new a(o[0],o[1]);case 3:return new a(o[0],o[1],o[2]);case 4:return new a(o[0],o[1],o[2],o[3]);case 5:return new a(o[0],o[1],o[2],o[3],o[4]);case 6:return new a(o[0],o[1],o[2],o[3],o[4],o[5]);case 7:return new a(o[0],o[1],o[2],o[3],o[4],o[5],o[6])}var i=Mo(a.prototype),l=a.apply(i,o);return on(l)?l:i}}var jd=1;function na(a,o,i){switch(i.length){case 0:return a.call(o);case 1:return a.call(o,i[0]);case 2:return a.call(o,i[0],i[1]);case 3:return a.call(o,i[0],i[1],i[2])}return a.apply(o,i)}var mg=Math.max;function Kd(a,o,i,l){for(var c=-1,f=a.length,v=i.length,g=-1,m=o.length,_=mg(f-v,0),b=Array(m+_),A=!l;++g<m;)b[g]=o[g];for(;++c<v;)(A||c<f)&&(b[i[c]]=a[c]);for(;_--;)b[g++]=a[c++];return b}var bo=Math.max;function L2(a,o,i,l){for(var c=-1,f=a.length,v=-1,g=i.length,m=-1,_=o.length,b=bo(f-g,0),A=Array(b+_),I=!l;++c<b;)A[c]=a[c];for(var O=c;++m<_;)A[O+m]=o[m];for(;++v<g;)(I||c<f)&&(A[O+i[v]]=a[c++]);return A}function Qd(){}var BE=4294967295;function Vr(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=BE,this.__views__=[]}function tv(){}(Vr.prototype=Mo(Qd.prototype)).constructor=Vr;var PE=Oh?function(a){return Oh.get(a)}:tv,xg=PE,Ju={},NE=Object.prototype.hasOwnProperty;function Rh(a){for(var o=a.name+"",i=Ju[o],l=NE.call(Ju,o)?i.length:0;l--;){var c=i[l],f=c.func;if(null==f||f==a)return c.name}return o}function za(a,o){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!o,this.__index__=0,this.__values__=void 0}function ia(a,o){var i=-1,l=a.length;for(o||(o=Array(l));++i<l;)o[i]=a[i];return o}function I2(a){if(a instanceof Vr)return a.clone();var o=new za(a.__wrapped__,a.__chain__);return o.__actions__=ia(a.__actions__),o.__index__=a.__index__,o.__values__=a.__values__,o}(za.prototype=Mo(Qd.prototype)).constructor=za;var GE=Object.prototype.hasOwnProperty;function it(a){if(wn(a)&&!yr(a)&&!(a instanceof Vr)){if(a instanceof za)return a;if(GE.call(a,"__wrapped__"))return I2(a)}return new za(a)}function ev(a){var o=Rh(a),i=it[o];if("function"!=typeof i||!(o in Vr.prototype))return!1;if(a===i)return!0;var l=xg(i);return!!l&&a===l[0]}(it.prototype=Qd.prototype).constructor=it;var O2=800,fB=16,WE=Date.now;function R2(a){var o=0,i=0;return function(){var l=WE(),c=fB-(l-i);if(i=l,c>0){if(++o>=O2)return arguments[0]}else o=0;return a.apply(void 0,arguments)}}var F2=R2(E2),UE=/\{\n\/\* \[wrapped with (.+)\] \*/,YE=/,? & /,dB=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function tc(a){return function(){return a}}var Cg=function(){try{var a=Qs(Object,"defineProperty");return a({},"",{}),a}catch{}}(),nv=Cg,XE=nv?function(a,o){return nv(a,"toString",{configurable:!0,enumerable:!1,value:tc(o),writable:!0})}:Ii,wg=R2(XE);function xa(a,o){for(var i=-1,l=null==a?0:a.length;++i<l&&!1!==o(a[i],i,a););return a}function iv(a,o,i,l){for(var c=a.length,f=i+(l?1:-1);l?f--:++f<c;)if(o(a[f],f,a))return f;return-1}function Fh(a){return a!=a}function Jl(a,o,i){return o==o?function qE(a,o,i){for(var l=i-1,c=a.length;++l<c;)if(a[l]===o)return l;return-1}(a,o,i):iv(a,Fh,i)}function Dh(a,o){return!(null==a||!a.length)&&Jl(a,o,0)>-1}var rl=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];function KE(a,o,i){var l=o+"";return wg(a,function Qu(a,o){var i=o.length;if(!i)return a;var l=i-1;return o[l]=(i>1?"& ":"")+o[l],o=o.join(i>2?", ":" "),a.replace(dB,"{\n/* [wrapped with "+o+"] */\n")}(l,function Oi(a,o){return xa(rl,function(i){var l="_."+i[0];o&i[1]&&!Dh(a,l)&&a.push(l)}),a.sort()}(function VE(a){var o=a.match(UE);return o?o[1].split(YE):[]}(l),i)))}var QE=1,Bh=2,t3=4,av=8,B2=32,Kl=64;function ov(a,o,i,l,c,f,v,g,m,_){var b=o&av;o|=b?B2:Kl,(o&=~(b?Kl:B2))&t3||(o&=~(QE|Bh));var B=[a,o,c,b?f:void 0,b?v:void 0,b?void 0:f,b?void 0:v,g,m,_],P=i.apply(void 0,B);return ev(a)&&F2(P,B),P.placeholder=l,KE(P,a,o)}function rc(a){return a.placeholder}var e3=9007199254740991,r3=/^(?:0|[1-9]\d*)$/;function To(a,o){var i=typeof a;return!!(o=o??e3)&&("number"==i||"symbol"!=i&&r3.test(a))&&a>-1&&a%1==0&&a<o}var n3=Math.min,nc="__lodash_placeholder__";function vs(a,o){for(var i=-1,l=a.length,c=0,f=[];++i<l;){var v=a[i];(v===o||v===nc)&&(a[i]=nc,f[c++]=i)}return f}var a3=1,o3=2,s3=8,sv=16,vB=128,P2=512;function Ph(a,o,i,l,c,f,v,g,m,_){var b=o&vB,A=o&a3,I=o&o3,O=o&(s3|sv),F=o&P2,B=I?void 0:tl(a);return function P(){for(var H=arguments.length,Y=Array(H),V=H;V--;)Y[V]=arguments[V];if(O)var j=rc(P),yt=function kE(a,o){for(var i=a.length,l=0;i--;)a[i]===o&&++l;return l}(Y,j);if(l&&(Y=Kd(Y,l,c,O)),f&&(Y=L2(Y,f,v,O)),H-=yt,O&&H<_){var Lt=vs(Y,j);return ov(a,o,Ph,P.placeholder,i,Y,Lt,g,m,_-H)}var Pt=A?i:this,ge=I?Pt[a]:a;return H=Y.length,g?Y=function i3(a,o){for(var i=a.length,l=n3(o.length,i),c=ia(a);l--;){var f=o[l];a[l]=To(f,i)?c[f]:void 0}return a}(Y,g):F&&H>1&&Y.reverse(),b&&m<H&&(Y.length=m),this&&this!==ei&&this instanceof P&&(ge=B||tl(ge)),ge.apply(Pt,Y)}}var z2=1,zh="__lodash_placeholder__",uv=1,N2=2,ic=4,Sg=8,Nh=128,Ql=256,l3=Math.min,u3="Expected a function",H2=1,cv=2,Mg=8,ac=16,rr=32,c3=64,G2=Math.max;function ps(a,o,i,l,c,f,v,g){var m=o&cv;if(!m&&"function"!=typeof a)throw new TypeError(u3);var _=l?l.length:0;if(_||(o&=~(rr|c3),l=c=void 0),v=void 0===v?v:G2(kr(v),0),g=void 0===g?g:kr(g),_-=c?c.length:0,o&c3){var b=l,A=c;l=c=void 0}var I=m?void 0:xg(a),O=[a,o,i,l,c,b,A,f,v,g];if(I&&function cn(a,o){var i=a[1],l=o[1],c=i|l;if(!(c<(uv|N2|Nh)||l==Nh&&i==Sg||l==Nh&&i==Ql&&a[7].length<=o[8]||l==(Nh|Ql)&&o[7].length<=o[8]&&i==Sg))return a;l&uv&&(a[2]=o[2],c|=i&uv?0:ic);var g=o[3];if(g){var m=a[3];a[3]=m?Kd(m,g,o[4]):g,a[4]=m?vs(a[3],zh):o[4]}(g=o[5])&&(a[5]=(m=a[5])?L2(m,g,o[6]):g,a[6]=m?vs(a[5],zh):o[6]),(g=o[7])&&(a[7]=g),l&Nh&&(a[8]=null==a[8]?o[8]:l3(a[8],o[8])),null==a[9]&&(a[9]=o[9]),a[0]=o[0],a[1]=c}(O,I),a=O[0],o=O[1],i=O[2],l=O[3],c=O[4],!(g=O[9]=void 0===O[9]?m?0:a.length:G2(O[9]-_,0))&&o&(Mg|ac)&&(o&=~(Mg|ac)),o&&o!=H2)F=o==Mg||o==ac?function lv(a,o,i){var l=tl(a);return function c(){for(var f=arguments.length,v=Array(f),g=f,m=rc(c);g--;)v[g]=arguments[g];var _=f<3&&v[0]!==m&&v[f-1]!==m?[]:vs(v,m);return(f-=_.length)<i?ov(a,o,Ph,c.placeholder,void 0,v,_,void 0,void 0,i-f):na(this&&this!==ei&&this instanceof c?l:a,this,v)}}(a,o,g):o!=rr&&o!=(H2|rr)||c.length?Ph.apply(void 0,O):function _g(a,o,i,l){var c=o&z2,f=tl(a);return function v(){for(var g=-1,m=arguments.length,_=-1,b=l.length,A=Array(b+m),I=this&&this!==ei&&this instanceof v?f:a;++_<b;)A[_]=l[_];for(;m--;)A[_++]=arguments[++g];return na(I,c?i:this,A)}}(a,o,i,l);else var F=function Jd(a,o,i){var l=o&jd,c=tl(a);return function f(){return(this&&this!==ei&&this instanceof f?c:a).apply(l?i:this,arguments)}}(a,o,i);return KE((I?E2:F2)(F,O),a,o)}var bg=128;function Tg(a,o,i){return o=i?void 0:o,ps(a,bg,void 0,void 0,void 0,void 0,o=a&&null==o?a.length:o)}function gs(a,o,i){"__proto__"==o&&nv?nv(a,o,{configurable:!0,enumerable:!0,value:i,writable:!0}):a[o]=i}function io(a,o){return a===o||a!=a&&o!=o}var W2=Object.prototype.hasOwnProperty;function ys(a,o,i){var l=a[o];(!W2.call(a,o)||!io(l,i)||void 0===i&&!(o in a))&&gs(a,o,i)}function Ca(a,o,i,l){var c=!i;i||(i={});for(var f=-1,v=o.length;++f<v;){var g=o[f],m=l?l(i[g],a[g],g,i,a):void 0;void 0===m&&(m=a[g]),c?gs(i,g,m):ys(i,g,m)}return i}var U2=Math.max;function Y2(a,o,i){return o=U2(void 0===o?a.length-1:o,0),function(){for(var l=arguments,c=-1,f=U2(l.length-o,0),v=Array(f);++c<f;)v[c]=l[o+c];c=-1;for(var g=Array(o+1);++c<o;)g[c]=l[c];return g[o]=i(v),na(a,this,g)}}function zr(a,o){return wg(Y2(a,o,Ii),a+"")}var V2=9007199254740991;function Hh(a){return"number"==typeof a&&a>-1&&a%1==0&&a<=V2}function Xi(a){return null!=a&&Hh(a.length)&&!Dn(a)}function $i(a,o,i){if(!on(i))return!1;var l=typeof o;return!!("number"==l?Xi(i)&&To(o,i.length):"string"==l&&o in i)&&io(i[o],a)}function tu(a){return zr(function(o,i){var l=-1,c=i.length,f=c>1?i[c-1]:void 0,v=c>2?i[2]:void 0;for(f=a.length>3&&"function"==typeof f?(c--,f):void 0,v&&$i(i[0],i[1],v)&&(f=c<3?void 0:f,c=1),o=Object(o);++l<c;){var g=i[l];g&&a(o,g,l,f)}return o})}var f3=Object.prototype;function Na(a){var o=a&&a.constructor;return a===("function"==typeof o&&o.prototype||f3)}function ms(a,o){for(var i=-1,l=Array(a);++i<a;)l[i]=o(i);return l}var X2="[object Arguments]";function oc(a){return wn(a)&&Vi(a)==X2}var Ag=Object.prototype,Gh=Ag.hasOwnProperty,hv=Ag.propertyIsEnumerable,Eg=oc(function(){return arguments}())?oc:function(a){return wn(a)&&Gh.call(a,"callee")&&!hv.call(a,"callee")},eu=Eg;function fv(){return!1}var Lg="object"==typeof exports&&exports&&!exports.nodeType&&exports,$2=Lg&&fr&&!fr.nodeType&&fr,Z2=$2&&$2.exports===Lg?ei.Buffer:void 0,nl=(Z2?Z2.isBuffer:void 0)||fv,bn={};function _a(a){return function(o){return a(o)}}bn["[object Float32Array]"]=bn["[object Float64Array]"]=bn["[object Int8Array]"]=bn["[object Int16Array]"]=bn["[object Int32Array]"]=bn["[object Uint8Array]"]=bn["[object Uint8ClampedArray]"]=bn["[object Uint16Array]"]=bn["[object Uint32Array]"]=!0,bn["[object Arguments]"]=bn["[object Array]"]=bn["[object ArrayBuffer]"]=bn["[object Boolean]"]=bn["[object DataView]"]=bn["[object Date]"]=bn["[object Error]"]=bn["[object Function]"]=bn["[object Map]"]=bn["[object Number]"]=bn["[object Object]"]=bn["[object RegExp]"]=bn["[object Set]"]=bn["[object String]"]=bn["[object WeakMap]"]=!1;var Rg="object"==typeof exports&&exports&&!exports.nodeType&&exports,Wr=Rg&&fr&&!fr.nodeType&&fr,Fg=Wr&&Wr.exports===Rg&&v2.process,Ha=function(){try{return Wr&&Wr.require&&Wr.require("util").types||Fg&&Fg.binding&&Fg.binding("util")}catch{}}(),Dg=Ha&&Ha.isTypedArray,pB=Dg?_a(Dg):function _3(a){return wn(a)&&Hh(a.length)&&!!bn[Vi(a)]},xs=pB,kg=Object.prototype.hasOwnProperty;function uc(a,o){var i=yr(a),l=!i&&eu(a),c=!i&&!l&&nl(a),f=!i&&!l&&!c&&xs(a),v=i||l||c||f,g=v?ms(a.length,String):[],m=g.length;for(var _ in a)(o||kg.call(a,_))&&(!v||!("length"==_||c&&("offset"==_||"parent"==_)||f&&("buffer"==_||"byteLength"==_||"byteOffset"==_)||To(_,m)))&&g.push(_);return g}function iC(a,o){return function(i){return a(o(i))}}var b3=iC(Object.keys,Object),T3=Object.prototype.hasOwnProperty;function Bg(a){if(!Na(a))return b3(a);var o=[];for(var i in Object(a))T3.call(a,i)&&"constructor"!=i&&o.push(i);return o}function Kr(a){return Xi(a)?uc(a):Bg(a)}var A3=Object.prototype.hasOwnProperty,E3=tu(function(a,o){if(Na(o)||Xi(o))Ca(o,Kr(o),a);else for(var i in o)A3.call(o,i)&&ys(a,i,o[i])}),Pg=E3,uC=Object.prototype.hasOwnProperty;function oa(a){return Xi(a)?uc(a,!0):function Ng(a){if(!on(a))return function zg(a){var o=[];if(null!=a)for(var i in Object(a))o.push(i);return o}(a);var o=Na(a),i=[];for(var l in a)"constructor"==l&&(o||!uC.call(a,l))||i.push(l);return i}(a)}var L3=tu(function(a,o){Ca(o,oa(o),a)}),vv=L3,pv=tu(function(a,o,i,l){Ca(o,oa(o),a,l)}),Eo=pv,gB=tu(function(a,o,i,l){Ca(o,Kr(o),a,l)}),I3=gB,O3=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,R3=/^\w*$/;function Hg(a,o){if(yr(a))return!1;var i=typeof a;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=a&&!ra(a))||R3.test(a)||!O3.test(a)||null!=o&&a in Object(o)}var sn=Qs(Object,"create"),P3=Object.prototype.hasOwnProperty,yB=Object.prototype.hasOwnProperty;function ru(a){var o=-1,i=null==a?0:a.length;for(this.clear();++o<i;){var l=a[o];this.set(l[0],l[1])}}function Wh(a,o){for(var i=a.length;i--;)if(io(a[i][0],o))return i;return-1}ru.prototype.clear=function D3(){this.__data__=sn?sn(null):{},this.size=0},ru.prototype.delete=function k3(a){var o=this.has(a)&&delete this.__data__[a];return this.size-=o?1:0,o},ru.prototype.get=function cC(a){var o=this.__data__;if(sn){var i=o[a];return"__lodash_hash_undefined__"===i?void 0:i}return P3.call(o,a)?o[a]:void 0},ru.prototype.has=function z3(a){var o=this.__data__;return sn?void 0!==o[a]:yB.call(o,a)},ru.prototype.set=function cc(a,o){var i=this.__data__;return this.size+=this.has(a)?0:1,i[a]=sn&&void 0===o?"__lodash_hash_undefined__":o,this};var fC=Array.prototype.splice;function Cs(a){var o=-1,i=null==a?0:a.length;for(this.clear();++o<i;){var l=a[o];this.set(l[0],l[1])}}Cs.prototype.clear=function H3(){this.__data__=[],this.size=0},Cs.prototype.delete=function Sa(a){var o=this.__data__,i=Wh(o,a);return!(i<0||(i==o.length-1?o.pop():fC.call(o,i,1),--this.size,0))},Cs.prototype.get=function hc(a){var o=this.__data__,i=Wh(o,a);return i<0?void 0:o[i][1]},Cs.prototype.has=function G3(a){return Wh(this.__data__,a)>-1},Cs.prototype.set=function dC(a,o){var i=this.__data__,l=Wh(i,a);return l<0?(++this.size,i.push([a,o])):i[l][1]=o,this};var Io=Qs(ei,"Map");function yv(a,o){var i=a.__data__;return function Gg(a){var o=typeof a;return"string"==o||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==a:null===a}(o)?i["string"==typeof o?"string":"hash"]:i.map}function Ma(a){var o=-1,i=null==a?0:a.length;for(this.clear();++o<i;){var l=a[o];this.set(l[0],l[1])}}Ma.prototype.clear=function W3(){this.size=0,this.__data__={hash:new ru,map:new(Io||Cs),string:new ru}},Ma.prototype.delete=function pC(a){var o=yv(this,a).delete(a);return this.size-=o?1:0,o},Ma.prototype.get=function gC(a){return yv(this,a).get(a)},Ma.prototype.has=function yC(a){return yv(this,a).has(a)},Ma.prototype.set=function U3(a,o){var i=yv(this,a),l=i.size;return i.set(a,o),this.size+=i.size==l?0:1,this};var Y3="Expected a function";function $n(a,o){if("function"!=typeof a||null!=o&&"function"!=typeof o)throw new TypeError(Y3);var i=function(){var l=arguments,c=o?o.apply(this,l):l[0],f=i.cache;if(f.has(c))return f.get(c);var v=a.apply(this,l);return i.cache=f.set(c,v)||f,v};return i.cache=new($n.Cache||Ma),i}$n.Cache=Ma;var Wg=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,il=/\\(\\)?/g,Xr=function X3(a){var o=$n(a,function(l){return 500===i.size&&i.clear(),l}),i=o.cache;return o}(function(a){var o=[];return 46===a.charCodeAt(0)&&o.push(""),a.replace(Wg,function(i,l,c,f){o.push(c?f.replace(il,"$1"):l||i)}),o}),Ug=Xr;function tn(a){return null==a?"":pi(a)}function ws(a,o){return yr(a)?a:Hg(a,o)?[a]:Ug(tn(a))}var Uh=1/0;function oo(a){if("string"==typeof a||ra(a))return a;var o=a+"";return"0"==o&&1/a==-Uh?"-0":o}function nu(a,o){for(var i=0,l=(o=ws(o,a)).length;null!=a&&i<l;)a=a[oo(o[i++])];return i&&i==l?a:void 0}function nr(a,o,i){var l=null==a?void 0:nu(a,o);return void 0===l?i:l}function fc(a,o){for(var i=-1,l=o.length,c=Array(l),f=null==a;++i<l;)c[i]=f?void 0:nr(a,o[i]);return c}function Ga(a,o){for(var i=-1,l=o.length,c=a.length;++i<l;)a[c+i]=o[i];return a}var mC=Li?Li.isConcatSpreadable:void 0;function Yg(a){return yr(a)||eu(a)||!!(mC&&a&&a[mC])}function Ri(a,o,i,l,c){var f=-1,v=a.length;for(i||(i=Yg),c||(c=[]);++f<v;){var g=a[f];o>0&&i(g)?o>1?Ri(g,o-1,i,l,c):Ga(c,g):l||(c[c.length]=g)}return c}function Vg(a){return null!=a&&a.length?Ri(a,1):[]}function Fi(a){return wg(Y2(a,void 0,Vg),a+"")}var $3=Fi(fc),Yh=iC(Object.getPrototypeOf,Object),q3="[object Object]",wC=Function.prototype.toString,mv=Object.prototype.hasOwnProperty,Xg=wC.call(Object);function so(a){if(!wn(a)||Vi(a)!=q3)return!1;var o=Yh(a);if(null===o)return!0;var i=mv.call(o,"constructor")&&o.constructor;return"function"==typeof i&&i instanceof i&&wC.call(i)==Xg}var J3="[object DOMException]",K3="[object Error]";function $g(a){if(!wn(a))return!1;var o=Vi(a);return o==K3||o==J3||"string"==typeof a.message&&"string"==typeof a.name&&!so(a)}var _C=zr(function(a,o){try{return na(a,void 0,o)}catch(i){return $g(i)?i:new Error(i)}}),xv=_C,SC="Expected a function";function MC(a,o){var i;if("function"!=typeof o)throw new TypeError(SC);return a=kr(a),function(){return--a>0&&(i=o.apply(this,arguments)),a<=1&&(o=void 0),i}}var Cv=zr(function(a,o,i){var l=1;if(i.length){var c=vs(i,rc(Cv));l|=32}return ps(a,l,o,i,c)});Cv.placeholder={};var Vh=Cv,TC=Fi(function(a,o){return xa(o,function(i){i=oo(i),gs(a,i,Vh(a[i],a))}),a}),AC=TC,jg=zr(function(a,o,i){var l=3;if(i.length){var c=vs(i,rc(jg));l|=32}return ps(o,l,a,i,c)});jg.placeholder={};var LC=jg;function Wa(a,o,i){var l=-1,c=a.length;o<0&&(o=-o>c?0:c+o),(i=i>c?c:i)<0&&(i+=c),c=o>i?0:i-o>>>0,o>>>=0;for(var f=Array(c);++l<c;)f[l]=a[l+o];return f}function Oo(a,o,i){var l=a.length;return i=void 0===i?l:i,!o&&i>=l?a:Wa(a,o,i)}var Qr=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function Di(a){return Qr.test(a)}var OC="\\ud800-\\udfff",Xh="["+OC+"]",Jg="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",wv="\\ud83c[\\udffb-\\udfff]",FC="[^"+OC+"]",DC="(?:\\ud83c[\\udde6-\\uddff]){2}",Kg="[\\ud800-\\udbff][\\udc00-\\udfff]",BC="(?:"+Jg+"|"+wv+")?",PC="[\\ufe0e\\ufe0f]?",o6=PC+BC+"(?:\\u200d(?:"+[FC,DC,Kg].join("|")+")"+PC+BC+")*",s6="(?:"+[FC+Jg+"?",Jg,DC,Kg,Xh].join("|")+")",_v=RegExp(wv+"(?="+wv+")|"+s6+o6,"g");function Ua(a){return Di(a)?function Qg(a){return a.match(_v)||[]}(a):function t6(a){return a.split("")}(a)}function $h(a){return function(o){var i=Di(o=tn(o))?Ua(o):void 0,l=i?i[0]:o.charAt(0),c=i?Oo(i,1).join(""):o.slice(1);return l[a]()+c}}var dc=$h("toUpperCase");function Mv(a){return dc(tn(a).toLowerCase())}function vc(a,o,i,l){var c=-1,f=null==a?0:a.length;for(l&&f&&(i=a[++c]);++c<f;)i=o(i,a[c],c,a);return i}function bv(a){return function(o){return a?.[o]}}var ty=bv({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),ey=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,HC=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");function Tv(a){return(a=tn(a))&&a.replace(ey,ty).replace(HC,"")}var u6=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,WC=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,UC="\\ud800-\\udfff",Ya="\\u2700-\\u27bf",YC="a-z\\xdf-\\xf6\\xf8-\\xff",ay="A-Z\\xc0-\\xd6\\xd8-\\xde",VC="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",_s="["+VC+"]",XC="\\d+",x6="["+Ya+"]",$C="["+YC+"]",ZC="[^"+UC+VC+XC+Ya+YC+ay+"]",jC="(?:\\ud83c[\\udde6-\\uddff]){2}",sy="[\\ud800-\\udbff][\\udc00-\\udfff]",Ro="["+ay+"]",JC="(?:"+$C+"|"+ZC+")",_6="(?:"+Ro+"|"+ZC+")",KC="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Zh="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",ly="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",QC="[\\ufe0e\\ufe0f]?",M6=QC+ly+"(?:\\u200d(?:"+["[^"+UC+"]",jC,sy].join("|")+")"+QC+ly+")*",b6="(?:"+[x6,jC,sy].join("|")+")"+M6,T6=RegExp([Ro+"?"+$C+"+"+KC+"(?="+[_s,Ro,"$"].join("|")+")",_6+"+"+Zh+"(?="+[_s,Ro+JC,"$"].join("|")+")",Ro+"?"+JC+"+"+KC,Ro+"+"+Zh,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",XC,b6].join("|"),"g");function ew(a,o,i){return a=tn(a),void 0===(o=i?void 0:o)?function c6(a){return WC.test(a)}(a)?function A6(a){return a.match(T6)||[]}(a):function GC(a){return a.match(u6)||[]}(a):a.match(o)||[]}var L6=RegExp("['\u2019]","g");function gc(a){return function(o){return vc(ew(Tv(o).replace(L6,"")),a,"")}}var I6=gc(function(a,o,i){return o=o.toLowerCase(),a+(i?Mv(o):o)}),O6=I6,nw=ei.isFinite,iw=Math.min;function cy(a){var o=Math[a];return function(i,l){if(i=ma(i),(l=null==l?0:iw(kr(l),292))&&nw(i)){var c=(tn(i)+"e").split("e");return+((c=(tn(o(c[0]+"e"+(+c[1]+l)))+"e").split("e"))[0]+"e"+(+c[1]-l))}return o(i)}}var F6=cy("ceil");function Ev(a){var o=it(a);return o.__chain__=!0,o}var Yr=Math.ceil,wB=Math.max;function ol(a,o,i){return a==a&&(void 0!==i&&(a=a<=i?a:i),void 0!==o&&(a=a>=o?a:o)),a}function qh(a,o,i){return void 0===i&&(i=o,o=void 0),void 0!==i&&(i=(i=ma(i))==i?i:0),void 0!==o&&(o=(o=ma(o))==o?o:0),ol(ma(a),o,i)}function lo(a){var o=this.__data__=new Cs(a);this.size=o.size}function Lv(a,o){return a&&Ca(o,Kr(o),a)}lo.prototype.clear=function D6(){this.__data__=new Cs,this.size=0},lo.prototype.delete=function k6(a){var o=this.__data__,i=o.delete(a);return this.size=o.size,i},lo.prototype.get=function jh(a){return this.__data__.get(a)},lo.prototype.has=function Jh(a){return this.__data__.has(a)},lo.prototype.set=function ow(a,o){var i=this.__data__;if(i instanceof Cs){var l=i.__data__;if(!Io||l.length<199)return l.push([a,o]),this.size=++i.size,this;i=this.__data__=new Ma(l)}return i.set(a,o),this.size=i.size,this};var ba="object"==typeof exports&&exports&&!exports.nodeType&&exports,sw=ba&&fr&&!fr.nodeType&&fr,lw=sw&&sw.exports===ba?ei.Buffer:void 0,uw=lw?lw.allocUnsafe:void 0;function cw(a,o){if(o)return a.slice();var i=a.length,l=uw?uw(i):new a.constructor(i);return a.copy(l),l}function sl(a,o){for(var i=-1,l=null==a?0:a.length,c=0,f=[];++i<l;){var v=a[i];o(v,i,a)&&(f[c++]=v)}return f}function hy(){return[]}var N6=Object.prototype.propertyIsEnumerable,hw=Object.getOwnPropertySymbols,Iv=hw?function(a){return null==a?[]:(a=Object(a),sl(hw(a),function(o){return N6.call(a,o)}))}:hy,Ov=Iv,W6=Object.getOwnPropertySymbols?function(a){for(var o=[];a;)Ga(o,Ov(a)),a=Yh(a);return o}:hy,fw=W6;function dw(a,o,i){var l=o(a);return yr(a)?l:Ga(l,i(a))}function fy(a){return dw(a,Kr,Ov)}function dy(a){return dw(a,oa,fw)}var vy=Qs(ei,"DataView"),vw=Qs(ei,"Promise"),yc=Qs(ei,"Set"),pw="[object Map]",yw="[object Promise]",mw="[object Set]",xw="[object WeakMap]",Cw="[object DataView]",$6=jl(vy),Z6=jl(Io),q6=jl(vw),j6=jl(yc),ww=jl(Ih),ou=Vi;(vy&&ou(new vy(new ArrayBuffer(1)))!=Cw||Io&&ou(new Io)!=pw||vw&&ou(vw.resolve())!=yw||yc&&ou(new yc)!=mw||Ih&&ou(new Ih)!=xw)&&(ou=function(a){var o=Vi(a),i="[object Object]"==o?a.constructor:void 0,l=i?jl(i):"";if(l)switch(l){case $6:return Cw;case Z6:return pw;case q6:return yw;case j6:return mw;case ww:return xw}return o});var Fo=ou,K6=Object.prototype.hasOwnProperty,Rv=ei.Uint8Array;function py(a){var o=new a.constructor(a.byteLength);return new Rv(o).set(new Rv(a)),o}var _w=/\w*$/,Sw=Li?Li.prototype:void 0,Mw=Sw?Sw.valueOf:void 0;function bw(a,o){var i=o?py(a.buffer):a.buffer;return new a.constructor(i,a.byteOffset,a.length)}var a4="[object Boolean]",o4="[object Date]",s4="[object Map]",l4="[object Number]",u4="[object RegExp]",c4="[object Set]",gy="[object String]",h4="[object Symbol]",Fv="[object ArrayBuffer]",Tw="[object DataView]",_B="[object Float32Array]",SB="[object Float64Array]",f4="[object Int8Array]",d4="[object Int16Array]",MB="[object Int32Array]",bB="[object Uint8Array]",v4="[object Uint8ClampedArray]",p4="[object Uint16Array]",g4="[object Uint32Array]";function Dv(a){return"function"!=typeof a.constructor||Na(a)?{}:Mo(Yh(a))}var my=Ha&&Ha.isMap,m4=my?_a(my):function Aw(a){return wn(a)&&"[object Map]"==Fo(a)},xy=m4,C4=Ha&&Ha.isSet,TB=C4?_a(C4):function x4(a){return wn(a)&&"[object Set]"==Fo(a)},Ew=TB,w4=1,Cy=2,_4=4,Lw="[object Arguments]",kv="[object Function]",AB="[object GeneratorFunction]",Ow="[object Object]",_n={};function Xa(a,o,i,l,c,f){var v,g=o&w4,m=o&Cy,_=o&_4;if(i&&(v=c?i(a,l,c,f):i(a)),void 0!==v)return v;if(!on(a))return a;var b=yr(a);if(b){if(v=function Q6(a){var o=a.length,i=new a.constructor(o);return o&&"string"==typeof a[0]&&K6.call(a,"index")&&(i.index=a.index,i.input=a.input),i}(a),!g)return ia(a,v)}else{var A=Fo(a),I=A==kv||A==AB;if(nl(a))return cw(a,g);if(A==Ow||A==Lw||I&&!c){if(v=m||I?{}:Dv(a),!g)return m?function U6(a,o){return Ca(a,fw(a),o)}(a,function B6(a,o){return a&&Ca(o,oa(o),a)}(v,a)):function H6(a,o){return Ca(a,Ov(a),o)}(a,Lv(v,a))}else{if(!_n[A])return c?a:{};v=function y4(a,o,i){var l=a.constructor;switch(o){case Fv:return py(a);case a4:case o4:return new l(+a);case Tw:return function e4(a,o){var i=o?py(a.buffer):a.buffer;return new a.constructor(i,a.byteOffset,a.byteLength)}(a,i);case _B:case SB:case f4:case d4:case MB:case bB:case v4:case p4:case g4:return bw(a,i);case s4:return new l;case l4:case gy:return new l(a);case u4:return function r4(a){var o=new a.constructor(a.source,_w.exec(a));return o.lastIndex=a.lastIndex,o}(a);case c4:return new l;case h4:return function n4(a){return Mw?Object(Mw.call(a)):{}}(a)}}(a,A,g)}}f||(f=new lo);var O=f.get(a);if(O)return O;f.set(a,v),Ew(a)?a.forEach(function(P){v.add(Xa(P,o,i,P,a,f))}):xy(a)&&a.forEach(function(P,H){v.set(H,Xa(P,o,i,H,a,f))});var B=b?void 0:(_?m?dy:fy:m?oa:Kr)(a);return xa(B||a,function(P,H){B&&(P=a[H=P]),ys(v,H,Xa(P,o,i,H,a,f))}),v}_n[Lw]=_n["[object Array]"]=_n["[object ArrayBuffer]"]=_n["[object DataView]"]=_n["[object Boolean]"]=_n["[object Date]"]=_n["[object Float32Array]"]=_n["[object Float64Array]"]=_n["[object Int8Array]"]=_n["[object Int16Array]"]=_n["[object Int32Array]"]=_n["[object Map]"]=_n["[object Number]"]=_n[Ow]=_n["[object RegExp]"]=_n["[object Set]"]=_n["[object String]"]=_n["[object Symbol]"]=_n["[object Uint8Array]"]=_n["[object Uint8ClampedArray]"]=_n["[object Uint16Array]"]=_n["[object Uint32Array]"]=!0,_n["[object Error]"]=_n[kv]=_n["[object WeakMap]"]=!1;var k4=4;function Ss(a){return Xa(a,k4)}var B4=1,P4=4;function Sy(a){return Xa(a,B4|P4)}function Do(a){for(var o=-1,i=null==a?0:a.length,l=0,c=[];++o<i;){var f=a[o];f&&(c[l++]=f)}return c}function ko(){var a=arguments.length;if(!a)return[];for(var o=Array(a-1),i=arguments[0],l=a;l--;)o[l-1]=arguments[l];return Ga(yr(i)?ia(i):[i],Ri(o,1))}function su(a){var o=-1,i=null==a?0:a.length;for(this.__data__=new Ma;++o<i;)this.add(a[o])}function My(a,o){for(var i=-1,l=null==a?0:a.length;++i<l;)if(o(a[i],i,a))return!0;return!1}function Qh(a,o){return a.has(o)}su.prototype.add=su.prototype.push=function Fw(a){return this.__data__.set(a,"__lodash_hash_undefined__"),this},su.prototype.has=function Y4(a){return this.__data__.has(a)};var Bv=1,V4=2;function by(a,o,i,l,c,f){var v=i&Bv,g=a.length,m=o.length;if(g!=m&&!(v&&m>g))return!1;var _=f.get(a),b=f.get(o);if(_&&b)return _==o&&b==a;var A=-1,I=!0,O=i&V4?new su:void 0;for(f.set(a,o),f.set(o,a);++A<g;){var F=a[A],B=o[A];if(l)var P=v?l(B,F,A,o,a,f):l(F,B,A,a,o,f);if(void 0!==P){if(P)continue;I=!1;break}if(O){if(!My(o,function(H,Y){if(!Qh(O,Y)&&(F===H||c(F,H,i,l,f)))return O.push(Y)})){I=!1;break}}else if(F!==B&&!c(F,B,i,l,f)){I=!1;break}}return f.delete(a),f.delete(o),I}function Ty(a){var o=-1,i=Array(a.size);return a.forEach(function(l,c){i[++o]=[c,l]}),i}function Pv(a){var o=-1,i=Array(a.size);return a.forEach(function(l){i[++o]=l}),i}var Dw=1,X4=2,$4="[object Boolean]",kw="[object Date]",Bw="[object Error]",Z4="[object Map]",q4="[object Number]",Ay="[object RegExp]",j4="[object Set]",Pw="[object String]",J4="[object Symbol]",K4="[object ArrayBuffer]",Q4="[object DataView]",zw=Li?Li.prototype:void 0,Ey=zw?zw.valueOf:void 0,t5=1,r5=Object.prototype.hasOwnProperty,i5=1,Ly="[object Arguments]",tf="[object Array]",ef="[object Object]",Gw=Object.prototype.hasOwnProperty;function mc(a,o,i,l,c){return a===o||(null==a||null==o||!wn(a)&&!wn(o)?a!=a&&o!=o:function a5(a,o,i,l,c,f){var v=yr(a),g=yr(o),m=v?tf:Fo(a),_=g?tf:Fo(o),b=(m=m==Ly?ef:m)==ef,A=(_=_==Ly?ef:_)==ef,I=m==_;if(I&&nl(a)){if(!nl(o))return!1;v=!0,b=!1}if(I&&!b)return f||(f=new lo),v||xs(a)?by(a,o,i,l,c,f):function Nw(a,o,i,l,c,f,v){switch(i){case Q4:if(a.byteLength!=o.byteLength||a.byteOffset!=o.byteOffset)return!1;a=a.buffer,o=o.buffer;case K4:return!(a.byteLength!=o.byteLength||!f(new Rv(a),new Rv(o)));case $4:case kw:case q4:return io(+a,+o);case Bw:return a.name==o.name&&a.message==o.message;case Ay:case Pw:return a==o+"";case Z4:var g=Ty;case j4:if(g||(g=Pv),a.size!=o.size&&!(l&Dw))return!1;var _=v.get(a);if(_)return _==o;l|=X4,v.set(a,o);var b=by(g(a),g(o),l,c,f,v);return v.delete(a),b;case J4:if(Ey)return Ey.call(a)==Ey.call(o)}return!1}(a,o,m,i,l,c,f);if(!(i&i5)){var O=b&&Gw.call(a,"__wrapped__"),F=A&&Gw.call(o,"__wrapped__");if(O||F){var B=O?a.value():a,P=F?o.value():o;return f||(f=new lo),c(B,P,i,l,f)}}return!!I&&(f||(f=new lo),function n5(a,o,i,l,c,f){var v=i&t5,g=fy(a),m=g.length;if(m!=fy(o).length&&!v)return!1;for(var A=m;A--;){var I=g[A];if(!(v?I in o:r5.call(o,I)))return!1}var O=f.get(a),F=f.get(o);if(O&&F)return O==o&&F==a;var B=!0;f.set(a,o),f.set(o,a);for(var P=v;++A<m;){var H=a[I=g[A]],Y=o[I];if(l)var V=v?l(Y,H,I,o,a,f):l(H,Y,I,a,o,f);if(!(void 0===V?H===Y||c(H,Y,i,l,f):V)){B=!1;break}P||(P="constructor"==I)}if(B&&!P){var j=a.constructor,yt=o.constructor;j!=yt&&"constructor"in a&&"constructor"in o&&!("function"==typeof j&&j instanceof j&&"function"==typeof yt&&yt instanceof yt)&&(B=!1)}return f.delete(a),f.delete(o),B}(a,o,i,l,c,f))}(a,o,i,l,mc,c))}var o5=1,s5=2;function Iy(a,o,i,l){var c=i.length,f=c,v=!l;if(null==a)return!f;for(a=Object(a);c--;){var g=i[c];if(v&&g[2]?g[1]!==a[g[0]]:!(g[0]in a))return!1}for(;++c<f;){var m=(g=i[c])[0],_=a[m],b=g[1];if(v&&g[2]){if(void 0===_&&!(m in a))return!1}else{var A=new lo;if(l)var I=l(_,b,m,a,o,A);if(!(void 0===I?mc(b,_,o5|s5,l,A):I))return!1}}return!0}function Ww(a){return a==a&&!on(a)}function Oy(a){for(var o=Kr(a),i=o.length;i--;){var l=o[i],c=a[l];o[i]=[l,c,Ww(c)]}return o}function Uw(a,o){return function(i){return null!=i&&i[a]===o&&(void 0!==o||a in Object(i))}}function zv(a){var o=Oy(a);return 1==o.length&&o[0][2]?Uw(o[0][0],o[0][1]):function(i){return i===a||Iy(i,a,o)}}function Ry(a,o){return null!=a&&o in Object(a)}function Fy(a,o,i){for(var l=-1,c=(o=ws(o,a)).length,f=!1;++l<c;){var v=oo(o[l]);if(!(f=null!=a&&i(a,v)))break;a=a[v]}return f||++l!=c?f:!!(c=null==a?0:a.length)&&Hh(c)&&To(v,c)&&(yr(a)||eu(a))}function rf(a,o){return null!=a&&Fy(a,o,Ry)}var Yw=1,l5=2;function Vw(a,o){return Hg(a)&&Ww(o)?Uw(oo(a),o):function(i){var l=nr(i,a);return void 0===l&&l===o?rf(i,a):mc(o,l,Yw|l5)}}function Dy(a){return function(o){return o?.[a]}}function Xw(a){return Hg(a)?Dy(oo(a)):function u5(a){return function(o){return nu(o,a)}}(a)}function Dr(a){return"function"==typeof a?a:null==a?Ii:"object"==typeof a?yr(a)?Vw(a[0],a[1]):zv(a):Xw(a)}var c5="Expected a function";function $w(a){var o=null==a?0:a.length,i=Dr;return a=o?En(a,function(l){if("function"!=typeof l[1])throw new TypeError(c5);return[i(l[0]),l[1]]}):[],zr(function(l){for(var c=-1;++c<o;){var f=a[c];if(na(f[0],this,l))return na(f[1],this,l)}})}function Zw(a,o,i){var l=i.length;if(null==a)return!l;for(a=Object(a);l--;){var c=i[l],v=a[c];if(void 0===v&&!(c in a)||!(0,o[c])(v))return!1}return!0}function d5(a,o,i,l){for(var c=-1,f=null==a?0:a.length;++c<f;){var v=a[c];o(l,v,i(v),a)}return l}function ky(a){return function(o,i,l){for(var c=-1,f=Object(o),v=l(o),g=v.length;g--;){var m=v[a?g:++c];if(!1===i(f[m],m,f))break}return o}}var Nv=ky();function Bo(a,o){return a&&Nv(a,o,Kr)}function Hv(a,o){return function(i,l){if(null==i)return i;if(!Xi(i))return a(i,l);for(var c=i.length,f=o?c:-1,v=Object(i);(o?f--:++f<c)&&!1!==l(v[f],f,v););return i}}var uo=Hv(Bo);function g5(a,o,i,l){return uo(a,function(c,f,v){o(l,c,i(c),v)}),l}function Gv(a,o){return function(i,l){var c=yr(i)?d5:g5,f=o?o():{};return c(i,a,Dr(l),f)}}var m5=Object.prototype.hasOwnProperty,x5=Gv(function(a,o,i){m5.call(a,i)?++a[i]:gs(a,i,1)}),By=x5,w5=8;function Py(a,o,i){var l=ps(a,w5,void 0,void 0,void 0,void 0,void 0,o=i?void 0:o);return l.placeholder=Py.placeholder,l}Py.placeholder={};var _5=16;function zy(a,o,i){var l=ps(a,_5,void 0,void 0,void 0,void 0,void 0,o=i?void 0:o);return l.placeholder=zy.placeholder,l}zy.placeholder={};var Wv=function(){return ei.Date.now()},Jw="Expected a function",Kw=Math.max,Qw=Math.min;function nf(a,o,i){var l,c,f,v,g,m,_=0,b=!1,A=!1,I=!0;if("function"!=typeof a)throw new TypeError(Jw);function O(Lt){var Pt=l,ge=c;return l=c=void 0,_=Lt,v=a.apply(ge,Pt)}function P(Lt){var Pt=Lt-m;return void 0===m||Pt>=o||Pt<0||A&&Lt-_>=f}function H(){var Lt=Wv();if(P(Lt))return Y(Lt);g=setTimeout(H,function B(Lt){var Me=o-(Lt-m);return A?Qw(Me,f-(Lt-_)):Me}(Lt))}function Y(Lt){return g=void 0,I&&l?O(Lt):(l=c=void 0,v)}function yt(){var Lt=Wv(),Pt=P(Lt);if(l=arguments,c=this,m=Lt,Pt){if(void 0===g)return function F(Lt){return _=Lt,g=setTimeout(H,o),b?O(Lt):v}(m);if(A)return clearTimeout(g),g=setTimeout(H,o),O(m)}return void 0===g&&(g=setTimeout(H,o)),v}return o=ma(o)||0,on(i)&&(b=!!i.leading,f=(A="maxWait"in i)?Kw(ma(i.maxWait)||0,o):f,I="trailing"in i?!!i.trailing:I),yt.cancel=function V(){void 0!==g&&clearTimeout(g),_=0,l=m=c=g=void 0},yt.flush=function j(){return void 0===g?v:Y(Wv())},yt}var Uv=Object.prototype,b5=Uv.hasOwnProperty,T5=zr(function(a,o){a=Object(a);var i=-1,l=o.length,c=l>2?o[2]:void 0;for(c&&$i(o[0],o[1],c)&&(l=1);++i<l;)for(var f=o[i],v=oa(f),g=-1,m=v.length;++g<m;){var _=v[g],b=a[_];(void 0===b||io(b,Uv[_])&&!b5.call(a,_))&&(a[_]=f[_])}return a}),Ms=T5;function af(a,o,i){(void 0!==i&&!io(a[o],i)||void 0===i&&!(o in a))&&gs(a,o,i)}function Un(a){return wn(a)&&Xi(a)}function Ny(a,o){if(("constructor"!==o||"function"!=typeof a[o])&&"__proto__"!=o)return a[o]}function t_(a){return Ca(a,oa(a))}function Yv(a,o,i,l,c){a!==o&&Nv(o,function(f,v){if(c||(c=new lo),on(f))!function A5(a,o,i,l,c,f,v){var g=Ny(a,i),m=Ny(o,i),_=v.get(m);if(_)af(a,i,_);else{var b=f?f(g,m,i+"",a,o,v):void 0,A=void 0===b;if(A){var I=yr(m),O=!I&&nl(m),F=!I&&!O&&xs(m);b=m,I||O||F?yr(g)?b=g:Un(g)?b=ia(g):O?(A=!1,b=cw(m,!0)):F?(A=!1,b=bw(m,!0)):b=[]:so(m)||eu(m)?(b=g,eu(g)?b=t_(g):(!on(g)||Dn(g))&&(b=Dv(m))):A=!1}A&&(v.set(m,b),c(b,m,l,f,v),v.delete(m)),af(a,i,b)}}(a,o,v,i,Yv,l,c);else{var g=l?l(Ny(a,v),f,v+"",a,o,c):void 0;void 0===g&&(g=f),af(a,v,g)}},oa)}function e_(a,o,i,l,c,f){return on(a)&&on(o)&&(f.set(o,a),Yv(a,o,void 0,e_,f),f.delete(o)),a}var E5=tu(function(a,o,i,l){Yv(a,o,i,l)}),Hy=E5,L5=zr(function(a){return a.push(void 0,e_),na(Hy,void 0,a)}),I5=L5,O5="Expected a function";function r_(a,o,i){if("function"!=typeof a)throw new TypeError(O5);return setTimeout(function(){a.apply(void 0,i)},o)}var n_=zr(function(a,o){return r_(a,1,o)}),R5=n_,Vv=zr(function(a,o,i){return r_(a,ma(o)||0,i)}),Xv=Vv;function Gy(a,o,i){for(var l=-1,c=null==a?0:a.length;++l<c;)if(i(o,a[l]))return!0;return!1}var F5=200;function xc(a,o,i,l){var c=-1,f=Dh,v=!0,g=a.length,m=[],_=o.length;if(!g)return m;i&&(o=En(o,_a(i))),l?(f=Gy,v=!1):o.length>=F5&&(f=Qh,v=!1,o=new su(o));t:for(;++c<g;){var b=a[c],A=null==i?b:i(b);if(b=l||0!==b?b:0,v&&A==A){for(var I=_;I--;)if(o[I]===A)continue t;m.push(b)}else f(o,A,l)||m.push(b)}return m}var $v=zr(function(a,o){return Un(a)?xc(a,Ri(o,1,Un,!0)):[]}),of=$v;function hn(a){var o=null==a?0:a.length;return o?a[o-1]:void 0}var ll=zr(function(a,o){var i=hn(o);return Un(i)&&(i=void 0),Un(a)?xc(a,Ri(o,1,Un,!0),Dr(i)):[]}),i_=ll,D5=zr(function(a,o){var i=hn(o);return Un(i)&&(i=void 0),Un(a)?xc(a,Ri(o,1,Un,!0),void 0,i):[]}),a_=D5,ul=Eh(function(a,o){return a/o},1),k5=ul;function Zv(a,o,i,l){for(var c=a.length,f=l?c:-1;(l?f--:++f<c)&&o(a[f],f,a););return i?Wa(a,l?0:f,l?f+1:c):Wa(a,l?f+1:0,l?c:f)}function co(a){return"function"==typeof a?a:Ii}function Cr(a,o){return(yr(a)?xa:uo)(a,co(o))}function P5(a,o){for(var i=null==a?0:a.length;i--&&!1!==o(a[i],i,a););return a}var l_=ky(!0);function Wy(a,o){return a&&l_(a,o,Kr)}var Uy=Hv(Wy,!0);function u_(a,o){return(yr(a)?P5:Uy)(a,co(o))}function c_(a,o,i){a=tn(a),o=pi(o);var l=a.length,c=i=void 0===i?l:ol(kr(i),0,l);return(i-=o.length)>=0&&a.slice(i,c)==o}var G5="[object Map]",W5="[object Set]";function h_(a){return function(o){var i=Fo(o);return i==G5?Ty(o):i==W5?function H5(a){var o=-1,i=Array(a.size);return a.forEach(function(l){i[++o]=[l,l]}),i}(o):function N5(a,o){return En(o,function(i){return[i,a[i]]})}(o,a(o))}}var f_=h_(Kr),v_=h_(oa),X5=bv({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),p_=/[&<>"']/g,Yy=RegExp(p_.source);function jv(a){return(a=tn(a))&&Yy.test(a)?a.replace(p_,X5):a}var g_=/[\\^$.*+?()[\]{}|]/g,Vy=RegExp(g_.source);function y_(a,o){for(var i=-1,l=null==a?0:a.length;++i<l;)if(!o(a[i],i,a))return!1;return!0}function Z5(a,o){var i=!0;return uo(a,function(l,c,f){return i=!!o(l,c,f)}),i}function sf(a,o,i){var l=yr(a)?y_:Z5;return i&&$i(a,o,i)&&(o=void 0),l(a,Dr(o))}var q5=4294967295;function Jv(a){return a?ol(kr(a),0,q5):0}function m_(a,o){var i=[];return uo(a,function(l,c,f){o(l,c,f)&&i.push(l)}),i}function $a(a,o){return(yr(a)?sl:m_)(a,Dr(o))}function x_(a){return function(o,i,l){var c=Object(o);if(!Xi(o)){var f=Dr(i);o=Kr(o),i=function(g){return f(c[g],g,c)}}var v=a(o,i,l);return v>-1?c[f?o[v]:v]:void 0}}var K5=Math.max;function Po(a,o,i){var l=null==a?0:a.length;if(!l)return-1;var c=null==i?0:kr(i);return c<0&&(c=K5(l+c,0)),iv(a,Dr(o),c)}var jn=x_(Po);function Xy(a,o,i){var l;return i(a,function(c,f,v){if(o(c,f,v))return l=f,!1}),l}var bs=Math.max,Q5=Math.min;function Kv(a,o,i){var l=null==a?0:a.length;if(!l)return-1;var c=l-1;return void 0!==i&&(c=kr(i),c=i<0?bs(l+c,0):Q5(c,l-1)),iv(a,Dr(o),c,!0)}var Qv=x_(Kv);function Cc(a){return a&&a.length?a[0]:void 0}function Za(a,o){var i=-1,l=Xi(a)?Array(a.length):[];return uo(a,function(c,f,v){l[++i]=o(c,f,v)}),l}function $r(a,o){return(yr(a)?En:Za)(a,Dr(o))}var uu=cy("floor"),hL="Expected a function",fL=8,w_=32,__=128,dL=256;function wc(a){return Fi(function(o){var i=o.length,l=i,c=za.prototype.thru;for(a&&o.reverse();l--;){var f=o[l];if("function"!=typeof f)throw new TypeError(hL);if(c&&!v&&"wrapper"==Rh(f))var v=new za([],!0)}for(l=v?l:i;++l<i;){var g=Rh(f=o[l]),m="wrapper"==g?xg(f):void 0;v=m&&ev(m[0])&&m[1]==(__|fL|w_|dL)&&!m[4].length&&1==m[9]?v[Rh(m[0])].apply(v,m[3]):1==f.length&&ev(f)?v[g]():v.thru(f)}return function(){var _=arguments,b=_[0];if(v&&1==_.length&&yr(b))return v.plant(b).value();for(var A=0,I=i?o[A].apply(this,_):b;++A<i;)I=o[A].call(this,I);return I}})}var vL=wc(),pL=wc(!0);function S_(a,o){return null==a?a:Nv(a,co(o),oa)}function ep(a,o){return sl(o,function(i){return Dn(a[i])})}var CL=Object.prototype.hasOwnProperty,M_=Gv(function(a,o,i){CL.call(a,i)?a[i].push(o):gs(a,i,[o])}),Zy=M_;function qy(a,o){return a>o}function rp(a){return function(o,i){return"string"==typeof o&&"string"==typeof i||(o=ma(o),i=ma(i)),a(o,i)}}var jy=rp(qy),b_=rp(function(a,o){return a>=o}),_L=b_,T_=Object.prototype.hasOwnProperty;function A_(a,o){return null!=a&&T_.call(a,o)}function Mc(a,o){return null!=a&&Fy(a,o,A_)}var E_=Math.max,L_=Math.min;function Jy(a,o,i){return o=fs(o),void 0===i?(i=o,o=0):i=fs(i),function I_(a,o,i){return a>=L_(o,i)&&a<E_(o,i)}(a=ma(a),o,i)}var O_="[object String]";function cl(a){return"string"==typeof a||!yr(a)&&wn(a)&&Vi(a)==O_}function np(a,o){return En(o,function(i){return a[i]})}function zo(a){return null==a?[]:np(a,Kr(a))}var R_=Math.max;function yi(a,o,i,l){a=Xi(a)?a:zo(a),i=i&&!l?kr(i):0;var c=a.length;return i<0&&(i=R_(c+i,0)),cl(a)?i<=c&&a.indexOf(o,i)>-1:!!c&&Jl(a,o,i)>-1}var F_=Math.max;function D_(a,o,i){var l=null==a?0:a.length;if(!l)return-1;var c=null==i?0:kr(i);return c<0&&(c=F_(l+c,0)),Jl(a,o,c)}var bL=Math.min;function uf(a,o,i){for(var l=i?Gy:Dh,c=a[0].length,f=a.length,v=f,g=Array(f),m=1/0,_=[];v--;){var b=a[v];v&&o&&(b=En(b,_a(o))),m=bL(b.length,m),g[v]=!i&&(o||c>=120&&b.length>=120)?new su(v&&b):void 0}b=a[0];var A=-1,I=g[0];t:for(;++A<c&&_.length<m;){var O=b[A],F=o?o(O):O;if(O=i||0!==O?O:0,!(I?Qh(I,F):l(_,F,i))){for(v=f;--v;){var B=g[v];if(!(B?Qh(B,F):l(a[v],F,i)))continue t}I&&I.push(F),_.push(O)}}return _}function Ky(a){return Un(a)?a:[]}var k_=zr(function(a){var o=En(a,Ky);return o.length&&o[0]===a[0]?uf(o):[]}),Qy=k_,B_=zr(function(a){var o=hn(a),i=En(a,Ky);return o===hn(i)?o=void 0:i.pop(),i.length&&i[0]===a[0]?uf(i,Dr(o)):[]}),TL=B_,AL=zr(function(a){var o=hn(a),i=En(a,Ky);return(o="function"==typeof o?o:void 0)&&i.pop(),i.length&&i[0]===a[0]?uf(i,void 0,o):[]}),EL=AL;function z_(a,o){return function(i,l){return function P_(a,o,i,l){return Bo(a,function(c,f,v){o(l,i(c),f,v)}),l}(i,a,o(l),{})}}var IL=Object.prototype.toString,OL=z_(function(a,o,i){null!=o&&"function"!=typeof o.toString&&(o=IL.call(o)),a[o]=i},tc(Ii)),RL=OL,N_=Object.prototype,H_=N_.hasOwnProperty,Zi=N_.toString,FL=z_(function(a,o,i){null!=o&&"function"!=typeof o.toString&&(o=Zi.call(o)),H_.call(a,o)?a[o].push(i):a[o]=[i]},Dr),ip=FL;function G_(a,o){return o.length<2?a:nu(a,Wa(o,0,-1))}function hu(a,o,i){var l=null==(a=G_(a,o=ws(o,a)))?a:a[oo(hn(o))];return null==l?void 0:na(l,a,i)}var kL=zr(hu),BL=zr(function(a,o,i){var l=-1,c="function"==typeof o,f=Xi(a)?Array(a.length):[];return uo(a,function(v){f[++l]=c?na(o,v,i):hu(v,o,i)}),f}),W_=BL,U_=Ha&&Ha.isArrayBuffer,NL=U_?_a(U_):function zL(a){return wn(a)&&"[object ArrayBuffer]"==Vi(a)},HL=NL,GL="[object Boolean]";function No(a){return!0===a||!1===a||wn(a)&&Vi(a)==GL}var Y_=Ha&&Ha.isDate,V_=Y_?_a(Y_):function UL(a){return wn(a)&&"[object Date]"==Vi(a)},X_=V_,$_="[object Map]",VL="[object Set]",$L=Object.prototype.hasOwnProperty;function Ve(a){if(null==a)return!0;if(Xi(a)&&(yr(a)||"string"==typeof a||"function"==typeof a.splice||nl(a)||xs(a)||eu(a)))return!a.length;var o=Fo(a);if(o==$_||o==VL)return!a.size;if(Na(a))return!Bg(a).length;for(var i in a)if($L.call(a,i))return!1;return!0}function ii(a,o){return mc(a,o)}var qL=ei.isFinite;function Z_(a){return"number"==typeof a&&a==kr(a)}var Ts="[object Number]";function qi(a){return"number"==typeof a||wn(a)&&Vi(a)==Ts}function ki(a){return qi(a)&&a!=+a}var q_=$d?Dn:fv;function fn(a){return null==a}var fu=Ha&&Ha.isRegExp,QL=fu?_a(fu):function J_(a){return wn(a)&&"[object RegExp]"==Vi(a)},em=QL,rm=9007199254740991;function Ho(a){return void 0===a}var cf=Array.prototype.join,Jn=gc(function(a,o,i){return a+(i?"-":"")+o.toLowerCase()}),im=Jn,rI=Gv(function(a,o,i){gs(a,i,o)}),PB=rI,nI=Math.max,hl=Math.min,am=gc(function(a,o,i){return a+(i?" ":"")+o.toLowerCase()}),om=am,aI=$h("toLowerCase");function sm(a,o){return a<o}var eS=rp(sm),rS=rp(function(a,o){return a<=o}),sp=rS;function nS(a,o){var i={};return o=Dr(o),Bo(a,function(l,c,f){gs(i,o(l,c,f),l)}),i}var Lr=1;function vu(a){return zv(Xa(a,Lr))}function pu(a,o,i){for(var l=-1,c=a.length;++l<c;){var f=a[l],v=o(f);if(null!=v&&(void 0===g?v==v&&!ra(v):i(v,g)))var g=v,m=f}return m}function ho(a){return a&&a.length?pu(a,Ii,qy):void 0}function ff(a,o){return a&&a.length?pu(a,Dr(o),qy):void 0}function lp(a,o){for(var i,l=-1,c=a.length;++l<c;){var f=o(a[l]);void 0!==f&&(i=void 0===i?f:i+f)}return i}var oS=NaN;function up(a,o){var i=null==a?0:a.length;return i?lp(a,o)/i:oS}var lI=tu(function(a,o,i){Yv(a,o,i)}),cp=lI,uI=zr(function(a,o){return function(i){return hu(i,a,o)}}),cI=uI,hI=zr(function(a,o){return function(i){return hu(a,i,o)}}),fI=hI;function lm(a){return a&&a.length?pu(a,Ii,sm):void 0}function la(a,o,i){var l=Kr(o),c=ep(o,l),f=!(on(i)&&"chain"in i&&!i.chain),v=Dn(a);return xa(c,function(g){var m=o[g];a[g]=m,v&&(a.prototype[g]=function(){var _=this.__chain__;if(f||_){var b=a(this.__wrapped__);return(b.__actions__=ia(this.__actions__)).push({func:m,args:arguments,thisArg:a}),b.__chain__=_,b}return m.apply(a,Ga([this.value()],arguments))})}),a}var gu=Eh(function(a,o){return a*o},1),Yn=gu,vn="Expected a function";function Ur(a){if("function"!=typeof a)throw new TypeError(vn);return function(){var o=arguments;switch(o.length){case 0:return!a.call(this);case 1:return!a.call(this,o[0]);case 2:return!a.call(this,o[0],o[1]);case 3:return!a.call(this,o[0],o[1],o[2])}return!a.apply(this,o)}}var fl="[object Map]",df="[object Set]",vf=Li?Li.iterator:void 0;function Sn(a){if(!a)return[];if(Xi(a))return cl(a)?Ua(a):ia(a);if(vf&&a[vf])return function Gr(a){for(var o,i=[];!(o=a.next()).done;)i.push(o.value);return i}(a[vf]());var o=Fo(a);return(o==fl?Ty:o==df?Pv:zo)(a)}function dl(a,o){var i=a.length;if(i)return To(o+=o<0?i:0,i)?a[o]:void 0}function uS(a,o){return null==(a=G_(a,o=ws(o,a)))||delete a[oo(hn(o))]}function hp(a){return so(a)?void 0:a}var pI=Fi(function(a,o){var i={};if(null==a)return i;var l=!1;o=En(o,function(f){return f=ws(f,a),l||(l=f.length>1),f}),Ca(a,dy(a),i),l&&(i=Xa(i,7,hp));for(var c=o.length;c--;)uS(i,o[c]);return i}),ua=pI;function vl(a,o,i,l){if(!on(a))return a;for(var c=-1,f=(o=ws(o,a)).length,v=f-1,g=a;null!=g&&++c<f;){var m=oo(o[c]),_=i;if("__proto__"===m||"constructor"===m||"prototype"===m)return a;if(c!=v){var b=g[m];void 0===(_=l?l(b,m,g):void 0)&&(_=on(b)?b:To(o[c+1])?[]:{})}ys(g,m,_),g=g[m]}return a}function yu(a,o,i){for(var l=-1,c=o.length,f={};++l<c;){var v=o[l],g=nu(a,v);i(g,v)&&vl(f,ws(v,a),g)}return f}function Bi(a,o){if(null==a)return{};var i=En(dy(a),function(l){return[l]});return o=Dr(o),yu(a,i,function(l,c){return o(l,c[0])})}function ai(a,o){if(a!==o){var i=void 0!==a,l=null===a,c=a==a,f=ra(a),v=void 0!==o,g=null===o,m=o==o,_=ra(o);if(!g&&!_&&!f&&a>o||f&&v&&m&&!g&&!_||l&&v&&m||!i&&m||!c)return 1;if(!l&&!f&&!_&&a<o||_&&i&&c&&!l&&!f||g&&i&&c||!v&&c||!m)return-1}return 0}function ca(a,o,i){o=o.length?En(o,function(f){return yr(f)?function(v){return nu(v,1===f.length?f[0]:f)}:f}):[Ii];var l=-1;return o=En(o,_a(Dr)),function gI(a,o){var i=a.length;for(a.sort(o);i--;)a[i]=a[i].value;return a}(Za(a,function(f,v,g){return{criteria:En(o,function(_){return _(f)}),index:++l,value:f}}),function(f,v){return function bc(a,o,i){for(var l=-1,c=a.criteria,f=o.criteria,v=c.length,g=i.length;++l<v;){var m=ai(c[l],f[l]);if(m)return l>=g?m:m*("desc"==i[l]?-1:1)}return a.index-o.index}(f,v,i)})}function Tc(a,o,i,l){return null==a?[]:(yr(o)||(o=null==o?[]:[o]),yr(i=l?void 0:i)||(i=null==i?[]:[i]),ca(a,o,i))}function pf(a){return Fi(function(o){return o=En(o,_a(Dr)),zr(function(i){var l=this;return a(o,function(c){return na(c,l,i)})})})}var mI=pf(En),Mr=Math.min,vS=zr(function(a,o){var i=(o=1==o.length&&yr(o[0])?En(o[0],_a(Dr)):En(Ri(o,1),_a(Dr))).length;return zr(function(l){for(var c=-1,f=Mr(l.length,i);++c<f;)l[c]=o[c].call(this,l[c]);return na(a,this,l)})}),xI=vS,CI=pf(y_),wI=pf(My),pS=9007199254740991,gS=Math.floor;function um(a,o){var i="";if(!a||o<1||o>pS)return i;do{o%2&&(i+=a),(o=gS(o/2))&&(a+=a)}while(o);return i}var yS=Dy("length"),mS="\\ud800-\\udfff",TI="["+mS+"]",hm="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",fm="\\ud83c[\\udffb-\\udfff]",Go="[^"+mS+"]",pl="(?:\\ud83c[\\udde6-\\uddff]){2}",dm="[\\ud800-\\udbff][\\udc00-\\udfff]",gl="(?:"+hm+"|"+fm+")?",pp="[\\ufe0e\\ufe0f]?",wS=pp+gl+"(?:\\u200d(?:"+[Go,pl,dm].join("|")+")"+pp+gl+")*",LI="(?:"+[Go+hm+"?",hm,pl,dm,TI].join("|")+")",yf=RegExp(fm+"(?="+fm+")|"+LI+wS,"g");function Ac(a){return Di(a)?function II(a){for(var o=yf.lastIndex=0;yf.test(a);)++o;return o}(a):yS(a)}var OI=Math.ceil;function gp(a,o){var i=(o=void 0===o?" ":pi(o)).length;if(i<2)return i?um(o,a):o;var l=um(o,OI(a/Ac(o)));return Di(o)?Oo(Ua(l),0,a).join(""):l.slice(0,a)}var RI=Math.ceil,FI=Math.floor,BI=/^\s+/,PI=ei.parseInt,pm=zr(function(a,o){return ps(a,32,void 0,o,vs(o,rc(pm)))});pm.placeholder={};var _S=pm,gm=zr(function(a,o){return ps(a,64,void 0,o,vs(o,rc(gm)))});gm.placeholder={};var SS=gm,HI=Gv(function(a,o,i){a[i?0:1].push(o)},function(){return[[],[]]}),ym=HI,mm=Fi(function(a,o){return null==a?{}:function GI(a,o){return yu(a,o,function(i,l){return rf(a,l)})}(a,o)}),mp=mm;function As(a,o,i,l){for(var c=i-1,f=a.length;++c<f;)if(l(a[c],o))return c;return-1}var Ec=Array.prototype.splice;function mu(a,o,i,l){var c=l?As:Jl,f=-1,v=o.length,g=a;for(a===o&&(o=ia(o)),i&&(g=En(a,_a(i)));++f<v;)for(var m=0,_=o[f],b=i?i(_):_;(m=c(g,b,m,l))>-1;)g!==a&&Ec.call(g,m,1),Ec.call(a,m,1);return a}function MS(a,o){return a&&a.length&&o&&o.length?mu(a,o):a}var Cm=zr(MS),YI=Array.prototype.splice;function _m(a,o){for(var i=a?o.length:0,l=i-1;i--;){var c=o[i];if(i==l||c!==f){var f=c;To(c)?YI.call(a,c,1):uS(a,c)}}return a}var TS=Fi(function(a,o){var i=null==a?0:a.length,l=fc(a,o);return _m(a,En(o,function(c){return To(c,i)?+c:c}).sort(ai)),l}),VI=TS,XI=Math.floor,AS=Math.random;function Sm(a,o){return a+XI(AS()*(o-a+1))}var $I=parseFloat,ZI=Math.min,qI=Math.random,JI=Math.ceil,KI=Math.max;function ES(a){return function(o,i,l){return l&&"number"!=typeof l&&$i(o,i,l)&&(i=l=void 0),o=fs(o),void 0===i?(i=o,o=0):i=fs(i),function QI(a,o,i,l){for(var c=-1,f=KI(JI((o-a)/(i||1)),0),v=Array(f);f--;)v[l?f:++c]=a,a+=i;return v}(o,i,l=void 0===l?o<i?1:-1:fs(l),a)}}var Lc=ES(),Mm=ES(!0),eO=Fi(function(a,o){return ps(a,256,void 0,void 0,void 0,o)}),rO=eO;function OS(a,o,i,l,c){return c(a,function(f,v,g){i=l?(l=!1,f):o(i,f,v,g)}),i}function xu(a,o,i){var l=yr(a)?vc:OS,c=arguments.length<3;return l(a,Dr(o),i,c,uo)}function nO(a,o,i,l){var c=null==a?0:a.length;for(l&&c&&(i=a[--c]);c--;)i=o(i,a[c],c,a);return i}var BS=Array.prototype.reverse;function Tm(a){return null==a?a:BS.call(a)}var PS=cy("round");function Am(a){var o=a.length;return o?a[Sm(0,o-1)]:void 0}function sO(a){return Am(zo(a))}function mf(a,o){var i=-1,l=a.length,c=l-1;for(o=void 0===o?l:o;++i<o;){var f=Sm(i,c),v=a[f];a[f]=a[i],a[i]=v}return a.length=o,a}function uO(a,o){return mf(ia(a),ol(o,0,a.length))}function cO(a,o){var i=zo(a);return mf(i,ol(o,0,i.length))}function xf(a,o,i){return null==a?a:vl(a,o,i)}function hO(a){return mf(ia(a))}function HS(a){return mf(zo(a))}var Cf="[object Map]",fO="[object Set]";function Cu(a){if(null==a)return 0;if(Xi(a))return cl(a)?Ac(a):a.length;var o=Fo(a);return o==Cf||o==fO?a.size:Bg(a).length}var vO=gc(function(a,o,i){return a+(i?"_":"")+o.toLowerCase()}),pO=vO;function GS(a,o){var i;return uo(a,function(l,c,f){return!(i=o(l,c,f))}),!!i}function WS(a,o,i){var l=yr(a)?My:GS;return i&&$i(a,o,i)&&(o=void 0),l(a,Dr(o))}var gO=zr(function(a,o){if(null==a)return[];var i=o.length;return i>1&&$i(a,o[0],o[1])?o=[]:i>2&&$i(o[0],o[1],o[2])&&(o=[o[0]]),ca(a,Ri(o,1),[])}),yO=gO,US=4294967294,mO=Math.floor,Lm=Math.min;function Im(a,o,i,l){var c=0,f=null==a?0:a.length;if(0===f)return 0;for(var v=(o=i(o))!=o,g=null===o,m=ra(o),_=void 0===o;c<f;){var b=mO((c+f)/2),A=i(a[b]),I=void 0!==A,O=null===A,F=A==A,B=ra(A);if(v)var P=l||F;else P=_?F&&(l||I):g?F&&I&&(l||!O):m?F&&I&&!O&&(l||!B):!O&&!B&&(l?A<=o:A<o);P?c=b+1:f=b}return Lm(f,US)}var CO=2147483647;function wf(a,o,i){var l=0,c=null==a?l:a.length;if("number"==typeof o&&o==o&&c<=CO){for(;l<c;){var f=l+c>>>1,v=a[f];null!==v&&!ra(v)&&(i?v<=o:v<o)?l=f+1:c=f}return c}return Im(a,o,Ii,i)}function YS(a,o){for(var i=-1,l=a.length,c=0,f=[];++i<l;){var v=a[i],g=o?o(v):v;if(!i||!io(g,m)){var m=g;f[c++]=0===v?0:v}}return f}var TO=4294967295;function $S(a,o,i){return i&&"number"!=typeof i&&$i(a,o,i)&&(o=i=void 0),(i=void 0===i?TO:i>>>0)?(a=tn(a))&&("string"==typeof o||null!=o&&!em(o))&&!(o=pi(o))&&Di(a)?Oo(Ua(a),0,i):a.split(o,i):[]}var Om=Math.max,AO=gc(function(a,o,i){return a+(i?" ":"")+dc(o)}),Rm=AO;function KS(){return!0}var LO=Eh(function(a,o){return a-o},0),QS=LO;function eM(a,o){return a&&a.length?lp(a,Dr(o)):0}var rM=Object.prototype,kO=rM.hasOwnProperty;function Fm(a,o,i,l){return void 0===a||io(a,rM[i])&&!kO.call(l,i)?o:a}var BO={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function _p(a){return"\\"+BO[a]}var nM=/<%=([\s\S]+?)%>/g,Dm={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:nM,variable:"",imports:{_:{escape:jv}}},_f=/\b__p \+= '';/g,Sp=/\b(__p \+=) '' \+/g,aM=/(__e\(.*?\)|\b__t\)) \+\n'';/g,oM=/[()=,{}\[\]\/\s]/,WO=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Mp=/($^)/,sM=/['\n\r\u2028\u2029\\]/g,lM=Object.prototype.hasOwnProperty,VO="Expected a function";function Bm(a,o,i){var l=!0,c=!0;if("function"!=typeof a)throw new TypeError(VO);return on(i)&&(l="leading"in i?!!i.leading:l,c="trailing"in i?!!i.trailing:c),nf(a,o,{leading:l,maxWait:o,trailing:c})}function Ic(a,o){return o(a)}var Ls=4294967295,Sf=Math.min;function cM(a,o){var i=a;return i instanceof Vr&&(i=i.value()),vc(o,function(l,c){return c.func.apply(c.thisArg,Ga([l],c.args))},i)}function Pm(){return cM(this.__wrapped__,this.__actions__)}var fM=9007199254740991;function Mf(a){return tn(a).toUpperCase()}function vM(a,o){for(var i=a.length;i--&&Jl(o,a[i],0)>-1;);return i}function pM(a,o){for(var i=-1,l=a.length;++i<l&&Jl(o,a[i],0)>-1;);return i}var gM=/^\s+/,KO=/\w*$/,rR=bv({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),yM=/&(?:amp|lt|gt|quot|#39);/g,nR=RegExp(yM.source),_u=yc&&1/Pv(new yc([,-0]))[1]==1/0?function(a){return new yc(a)}:tv,oR=_u,zB=200;function xi(a,o,i){var l=-1,c=Dh,f=a.length,v=!0,g=[],m=g;if(i)v=!1,c=Gy;else if(f>=zB){var _=o?null:oR(a);if(_)return Pv(_);v=!1,c=Qh,m=new su}else m=o?[]:g;t:for(;++l<f;){var b=a[l],A=o?o(b):b;if(b=i||0!==b?b:0,v&&A==A){for(var I=m.length;I--;)if(m[I]===A)continue t;o&&m.push(A),g.push(b)}else c(m,A,i)||(m!==g&&m.push(A),g.push(b))}return g}var Wo=zr(function(a){return xi(Ri(a,1,Un,!0))}),Su=Wo,mM=zr(function(a){var o=hn(a);return Un(o)&&(o=void 0),xi(Ri(a,1,Un,!0),Dr(o))}),Is=mM,sR=zr(function(a){var o=hn(a);return o="function"==typeof o?o:void 0,xi(Ri(a,1,Un,!0),void 0,o)}),lR=sR;function Uo(a){return a&&a.length?xi(a):[]}var cR=0;function Hm(a,o){return null==a||uS(a,o)}var fR=Math.max;function Gm(a){if(!a||!a.length)return[];var o=0;return a=sl(a,function(i){if(Un(i))return o=fR(i.length,o),!0}),ms(o,function(i){return En(a,Dy(i))})}function dR(a,o){if(!a||!a.length)return[];var i=Gm(a);return null==o?i:En(i,function(l){return na(o,void 0,l)})}function bp(a,o,i,l){return vl(a,o,i(nu(a,o)),l)}var pR=gc(function(a,o,i){return a+(i?" ":"")+o.toUpperCase()}),CM=pR,wM=zr(function(a,o){return Un(a)?xc(a,o):[]}),yR=wM,xR=Fi(function(a){var o=a.length,i=o?a[0]:0,l=this.__wrapped__,c=function(f){return fc(f,a)};return!(o>1||this.__actions__.length)&&l instanceof Vr&&To(i)?((l=l.slice(i,+i+(o?1:0))).__actions__.push({func:Ic,args:[c],thisArg:void 0}),new za(l,this.__chain__).thru(function(f){return o&&!f.length&&f.push(void 0),f})):this.thru(c)}),CR=xR;function _M(a,o,i){var l=a.length;if(l<2)return l?xi(a[0]):[];for(var c=-1,f=Array(l);++c<l;)for(var v=a[c],g=-1;++g<l;)g!=c&&(f[c]=xc(f[c]||v,a[g],o,i));return xi(Ri(f,1),o,i)}var SM=zr(function(a){return _M(sl(a,Un))}),MM=SM,SR=zr(function(a){var o=hn(a);return Un(o)&&(o=void 0),_M(sl(a,Un),Dr(o))}),bM=SR,MR=zr(function(a){var o=hn(a);return o="function"==typeof o?o:void 0,_M(sl(a,Un),void 0,o)}),bR=MR,Tp=zr(Gm);function TM(a,o,i){for(var l=-1,c=a.length,f=o.length,v={};++l<c;)i(v,a[l],l<f?o[l]:void 0);return v}var ER=zr(function(a){var o=a.length,i=o>1?a[o-1]:void 0;return i="function"==typeof i?(a.pop(),i):void 0,dR(a,i)}),ur={chunk:function Va(a,o,i){o=(i?$i(a,o,i):void 0===o)?1:wB(kr(o),0);var l=null==a?0:a.length;if(!l||o<1)return[];for(var c=0,f=0,v=Array(Yr(l/o));c<l;)v[f++]=Wa(a,c,c+=o);return v},compact:Do,concat:ko,difference:of,differenceBy:i_,differenceWith:a_,drop:function o_(a,o,i){var l=null==a?0:a.length;return l?Wa(a,(o=i||void 0===o?1:kr(o))<0?0:o,l):[]},dropRight:function s_(a,o,i){var l=null==a?0:a.length;return l?Wa(a,0,(o=l-(o=i||void 0===o?1:kr(o)))<0?0:o):[]},dropRightWhile:function B5(a,o){return a&&a.length?Zv(a,Dr(o),!0,!0):[]},dropWhile:function kB(a,o){return a&&a.length?Zv(a,Dr(o),!0):[]},fill:function J5(a,o,i,l){var c=null==a?0:a.length;return c?(i&&"number"!=typeof i&&$i(a,o,i)&&(i=0,l=c),function j5(a,o,i,l){var c=a.length;for((i=kr(i))<0&&(i=-i>c?0:c+i),(l=void 0===l||l>c?c:kr(l))<0&&(l+=c),l=i>l?0:Jv(l);i<l;)a[i++]=o;return a}(a,o,i,l)):[]},findIndex:Po,findLastIndex:Kv,first:Cc,flatten:Vg,flattenDeep:function oL(a){return null!=a&&a.length?Ri(a,Infinity):[]},flattenDepth:function sL(a,o){return null!=a&&a.length?Ri(a,o=void 0===o?1:kr(o)):[]},fromPairs:function tp(a){for(var o=-1,i=null==a?0:a.length,l={};++o<i;){var c=a[o];l[c[0]]=c[1]}return l},head:Cc,indexOf:D_,initial:function ML(a){return null!=a&&a.length?Wa(a,0,-1):[]},intersection:Qy,intersectionBy:TL,intersectionWith:EL,join:function eI(a,o){return null==a?"":cf.call(a,o)},last:hn,lastIndexOf:function op(a,o,i){var l=null==a?0:a.length;if(!l)return-1;var c=l;return void 0!==i&&(c=(c=kr(i))<0?nI(l+c,0):hl(c,l-1)),o==o?function du(a,o,i){for(var l=i+1;l--;)if(a[l]===o)return l;return l}(a,o,c):iv(a,Fh,c,!0)},nth:function sS(a,o){return a&&a.length?dl(a,kr(o)):void 0},pull:Cm,pullAll:MS,pullAllBy:function wm(a,o,i){return a&&a.length&&o&&o.length?mu(a,o,Dr(i)):a},pullAllWith:function WI(a,o,i){return a&&a.length&&o&&o.length?mu(a,o,void 0,i):a},pullAt:VI,remove:function FS(a,o){var i=[];if(!a||!a.length)return i;var l=-1,c=[],f=a.length;for(o=Dr(o);++l<f;){var v=a[l];o(v,l,a)&&(i.push(v),c.push(l))}return _m(a,c),i},reverse:Tm,slice:function dO(a,o,i){var l=null==a?0:a.length;return l?(i&&"number"!=typeof i&&$i(a,o,i)?(o=0,i=l):(o=null==o?0:kr(o),i=void 0===i?l:kr(i)),Wa(a,o,i)):[]},sortedIndex:function wO(a,o){return wf(a,o)},sortedIndexBy:function _O(a,o,i){return Im(a,o,Dr(i))},sortedIndexOf:function wp(a,o){var i=null==a?0:a.length;if(i){var l=wf(a,o);if(l<i&&io(a[l],o))return l}return-1},sortedLastIndex:function SO(a,o){return wf(a,o,!0)},sortedLastIndexBy:function MO(a,o,i){return Im(a,o,Dr(i),!0)},sortedLastIndexOf:function bO(a,o){if(null!=a&&a.length){var l=wf(a,o,!0)-1;if(io(a[l],o))return l}return-1},sortedUniq:function VS(a){return a&&a.length?YS(a):[]},sortedUniqBy:function XS(a,o){return a&&a.length?YS(a,Dr(o)):[]},tail:function IO(a){var o=null==a?0:a.length;return o?Wa(a,1,o):[]},take:function wu(a,o,i){return a&&a.length?Wa(a,0,(o=i||void 0===o?1:kr(o))<0?0:o):[]},takeRight:function OO(a,o,i){var l=null==a?0:a.length;return l?Wa(a,(o=l-(o=i||void 0===o?1:kr(o)))<0?0:o,l):[]},takeRightWhile:function RO(a,o){return a&&a.length?Zv(a,Dr(o),!1,!0):[]},takeWhile:function FO(a,o){return a&&a.length?Zv(a,Dr(o)):[]},union:Su,unionBy:Is,unionWith:lR,uniq:Uo,uniqBy:function xM(a,o){return a&&a.length?xi(a,Dr(o)):[]},uniqWith:function uR(a,o){return o="function"==typeof o?o:void 0,a&&a.length?xi(a,void 0,o):[]},unzip:Gm,unzipWith:dR,without:yR,xor:MM,xorBy:bM,xorWith:bR,zip:Tp,zipObject:function NB(a,o){return TM(a||[],o||[],ys)},zipObjectDeep:function AR(a,o){return TM(a||[],o||[],vl)},zipWith:ER},pn={countBy:By,each:Cr,eachRight:u_,every:sf,filter:$a,find:jn,findLast:Qv,flatMap:function C_(a,o){return Ri($r(a,o),1)},flatMapDeep:function nL(a,o){return Ri($r(a,o),Infinity)},flatMapDepth:function iL(a,o,i){return i=void 0===i?1:kr(i),Ri($r(a,o),i)},forEach:Cr,forEachRight:u_,groupBy:Zy,includes:yi,invokeMap:W_,keyBy:PB,map:$r,orderBy:Tc,partition:ym,reduce:xu,reduceRight:function iO(a,o,i){var l=yr(a)?nO:OS,c=arguments.length<3;return l(a,Dr(o),i,c,Uy)},reject:function RS(a,o){return(yr(a)?sl:m_)(a,Ur(Dr(o)))},sample:function lO(a){return(yr(a)?Am:sO)(a)},sampleSize:function zS(a,o,i){return o=(i?$i(a,o,i):void 0===o)?1:kr(o),(yr(a)?uO:cO)(a,o)},shuffle:function Cp(a){return(yr(a)?hO:HS)(a)},size:Cu,some:WS,sortBy:yO},IR={now:Wv},Bn={after:function M2(a,o){if("function"!=typeof o)throw new TypeError("Expected a function");return a=kr(a),function(){if(--a<1)return o.apply(this,arguments)}},ary:Tg,before:MC,bind:Vh,bindKey:LC,curry:Py,curryRight:zy,debounce:nf,defer:R5,delay:Xv,flip:function uL(a){return ps(a,512)},memoize:$n,negate:Ur,once:function hS(a){return MC(2,a)},overArgs:xI,partial:_S,partialRight:SS,rearg:rO,rest:function Es(a,o){if("function"!=typeof a)throw new TypeError("Expected a function");return zr(a,o=void 0===o?o:kr(o))},spread:function qS(a,o){if("function"!=typeof a)throw new TypeError("Expected a function");return o=null==o?0:Om(kr(o),0),zr(function(i){var l=i[o],c=Oo(i,0,o);return l&&Ga(c,l),na(a,this,c)})},throttle:Bm,unary:function QO(a){return Tg(a,1)},wrap:function mR(a,o){return _S(co(o),a)}},_r={castArray:function rw(){if(!arguments.length)return[];var a=arguments[0];return yr(a)?a:[a]},clone:Ss,cloneDeep:Sy,cloneDeepWith:function H4(a,o){return Xa(a,5,o="function"==typeof o?o:void 0)},cloneWith:function W4(a,o){return Xa(a,4,o="function"==typeof o?o:void 0)},conformsTo:function f5(a,o){return null==o||Zw(a,o,Kr(o))},eq:io,gt:jy,gte:_L,isArguments:eu,isArray:yr,isArrayBuffer:HL,isArrayLike:Xi,isArrayLikeObject:Un,isBoolean:No,isBuffer:nl,isDate:X_,isElement:function YL(a){return wn(a)&&1===a.nodeType&&!so(a)},isEmpty:Ve,isEqual:ii,isEqualWith:function ZL(a,o,i){var l=(i="function"==typeof i?i:void 0)?i(a,o):void 0;return void 0===l?mc(a,o,void 0,i):!!l},isError:$g,isFinite:function jL(a){return"number"==typeof a&&qL(a)},isFunction:Dn,isInteger:Z_,isLength:Hh,isMap:xy,isMatch:function JL(a,o){return a===o||Iy(a,o,Oy(o))},isMatchWith:function KL(a,o,i){return i="function"==typeof i?i:void 0,Iy(a,o,Oy(o),i)},isNaN:ki,isNative:function BB(a){if(q_(a))throw new Error("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return qd(a)},isNil:fn,isNull:function jr(a){return null===a},isNumber:qi,isObject:on,isObjectLike:wn,isPlainObject:so,isRegExp:em,isSafeInteger:function tI(a){return Z_(a)&&a>=-rm&&a<=rm},isSet:Ew,isString:cl,isSymbol:ra,isTypedArray:xs,isUndefined:Ho,isWeakMap:function Q_(a){return wn(a)&&"[object WeakMap]"==Fo(a)},isWeakSet:function nm(a){return wn(a)&&"[object WeakSet]"==Vi(a)},lt:eS,lte:sp,toArray:Sn,toFinite:fs,toInteger:kr,toLength:Jv,toNumber:ma,toPlainObject:t_,toSafeInteger:function $O(a){return a?ol(kr(a),-fM,fM):0===a?a:0},toString:tn},Pi={add:yE,ceil:F6,divide:k5,floor:uu,max:ho,maxBy:ff,mean:function oI(a){return up(a,Ii)},meanBy:function sI(a,o){return up(a,Dr(o))},min:lm,minBy:function dI(a,o){return a&&a.length?pu(a,Dr(o),sm):void 0},multiply:Yn,round:PS,subtract:QS,sum:function tM(a){return a&&a.length?lp(a,Ii):0},sumBy:eM},Ap_clamp=qh,Ap_inRange=Jy,Ir={assign:Pg,assignIn:vv,assignInWith:Eo,assignWith:I3,at:$3,create:function C5(a,o){var i=Mo(a);return null==o?i:Lv(i,o)},defaults:Ms,defaultsDeep:I5,entries:f_,entriesIn:v_,extend:vv,extendWith:Eo,findKey:function lu(a,o){return Xy(a,Dr(o),Bo)},findLastKey:function eL(a,o){return Xy(a,Dr(o),Wy)},forIn:S_,forInRight:function gL(a,o){return null==a?a:l_(a,co(o),oa)},forOwn:function yL(a,o){return a&&Bo(a,co(o))},forOwnRight:function _c(a,o){return a&&Wy(a,co(o))},functions:function mL(a){return null==a?[]:ep(a,Kr(a))},functionsIn:function Sc(a){return null==a?[]:ep(a,oa(a))},get:nr,has:Mc,hasIn:rf,invert:RL,invertBy:ip,invoke:kL,keys:Kr,keysIn:oa,mapKeys:nS,mapValues:function iS(a,o){var i={};return o=Dr(o),Bo(a,function(l,c,f){gs(i,c,o(l,c,f))}),i},merge:cp,mergeWith:Hy,omit:ua,omitBy:function dp(a,o){return Bi(a,Ur(Dr(o)))},pick:mp,pickBy:Bi,result:function aO(a,o,i){var l=-1,c=(o=ws(o,a)).length;for(c||(c=1,a=void 0);++l<c;){var f=a?.[oo(o[l])];void 0===f&&(l=c,f=i),a=Dn(f)?f.call(a):f}return a},set:xf,setWith:function NS(a,o,i,l){return l="function"==typeof l?l:void 0,null==a?a:vl(a,o,i,l)},toPairs:f_,toPairsIn:v_,transform:function dM(a,o,i){var l=yr(a),c=l||nl(a)||xs(a);if(o=Dr(o),null==i){var f=a&&a.constructor;i=c?l?new f:[]:on(a)&&Dn(f)?Mo(Yh(a)):{}}return(c?xa:Bo)(a,function(v,g,m){return o(i,v,g,m)}),i},unset:Hm,update:function Fc(a,o,i){return null==a?a:bp(a,o,co(i))},updateWith:function vR(a,o,i,l){return l="function"==typeof l?l:void 0,null==a?a:bp(a,o,co(i),l)},values:zo,valuesIn:function gR(a){return null==a?[]:np(a,oa(a))}},Yo={at:CR,chain:Ev,commit:function Rw(){return new za(this.value(),this.__chain__)},lodash:it,next:function yn(){void 0===this.__values__&&(this.__values__=Sn(this.value()));var a=this.__index__>=this.__values__.length;return{done:a,value:a?void 0:this.__values__[this.__index__++]}},plant:function yl(a){for(var o,i=this;i instanceof Qd;){var l=I2(i);l.__index__=0,l.__values__=void 0,o?c.__wrapped__=l:o=l;var c=l;i=i.__wrapped__}return c.__wrapped__=a,o},reverse:function _R(){var a=this.__wrapped__;if(a instanceof Vr){var o=a;return this.__actions__.length&&(o=new Vr(this)),(o=o.reverse()).__actions__.push({func:Ic,args:[Tm],thisArg:void 0}),new za(o,this.__chain__)}return this.thru(Tm)},tap:function DO(a,o){return o(a),a},thru:Ic,toIterator:function uM(){return this},toJSON:Pm,value:Pm,valueOf:Pm,wrapperChain:function wR(){return Ev(this)}},en={camelCase:O6,capitalize:Mv,deburr:Tv,endsWith:c_,escape:jv,escapeRegExp:function $5(a){return(a=tn(a))&&Vy.test(a)?a.replace(g_,"\\$&"):a},kebabCase:im,lowerCase:om,lowerFirst:aI,pad:function vm(a,o,i){a=tn(a);var l=(o=kr(o))?Ac(a):0;if(!o||l>=o)return a;var c=(o-l)/2;return gp(FI(c),i)+a+gp(RI(c),i)},padEnd:function DI(a,o,i){a=tn(a);var l=(o=kr(o))?Ac(a):0;return o&&l<o?a+gp(o-l,i):a},padStart:function kI(a,o,i){a=tn(a);var l=(o=kr(o))?Ac(a):0;return o&&l<o?gp(o-l,i)+a:a},parseInt:function yp(a,o,i){return i||null==o?o=0:o&&(o=+o),PI(tn(a).replace(BI,""),o||0)},repeat:function xp(a,o,i){return o=(i?$i(a,o,i):void 0===o)?1:kr(o),um(tn(a),o)},replace:function bm(){var a=arguments,o=tn(a[0]);return a.length<3?o:o.replace(a[1],a[2])},snakeCase:pO,split:$S,startCase:Rm,startsWith:function jS(a,o,i){return a=tn(a),i=null==i?0:ol(kr(i),0,a.length),o=pi(o),a.slice(i,i+o.length)==o},template:function YO(a,o,i){var l=Dm.imports._.templateSettings||Dm;i&&$i(a,o,i)&&(o=void 0),a=tn(a),o=Eo({},o,l,Fm);var g,m,c=Eo({},o.imports,l.imports,Fm),f=Kr(c),v=np(c,f),_=0,b=o.interpolate||Mp,A="__p += '",I=RegExp((o.escape||Mp).source+"|"+b.source+"|"+(b===nM?WO:Mp).source+"|"+(o.evaluate||Mp).source+"|$","g"),O=lM.call(o,"sourceURL")?"//# sourceURL="+(o.sourceURL+"").replace(/\s/g," ")+"\n":"";a.replace(I,function(P,H,Y,V,j,yt){return Y||(Y=V),A+=a.slice(_,yt).replace(sM,_p),H&&(g=!0,A+="' +\n__e("+H+") +\n'"),j&&(m=!0,A+="';\n"+j+";\n__p += '"),Y&&(A+="' +\n((__t = ("+Y+")) == null ? '' : __t) +\n'"),_=yt+P.length,P}),A+="';\n";var F=lM.call(o,"variable")&&o.variable;if(F){if(oM.test(F))throw new Error("Invalid `variable` option passed into `_.template`")}else A="with (obj) {\n"+A+"\n}\n";A=(m?A.replace(_f,""):A).replace(Sp,"$1").replace(aM,"$1;"),A="function("+(F||"obj")+") {\n"+(F?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(g?", __e = _.escape":"")+(m?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+A+"return __p\n}";var B=xv(function(){return Function(f,O+"return "+A).apply(void 0,v)});if(B.source=A,$g(B))throw B;return B},templateSettings:Dm,toLower:function Rc(a){return tn(a).toLowerCase()},toUpper:Mf,trim:function zm(a,o,i){if((a=tn(a))&&(i||void 0===o))return w2(a);if(!a||!(o=pi(o)))return a;var l=Ua(a),c=Ua(o);return Oo(l,pM(l,c),vM(l,c)+1).join("")},trimEnd:function ZO(a,o,i){if((a=tn(a))&&(i||void 0===o))return a.slice(0,x2(a)+1);if(!a||!(o=pi(o)))return a;var l=Ua(a);return Oo(l,0,vM(l,Ua(o))+1).join("")},trimStart:function qO(a,o,i){if((a=tn(a))&&(i||void 0===o))return a.replace(gM,"");if(!a||!(o=pi(o)))return a;var l=Ua(a);return Oo(l,pM(l,Ua(o))).join("")},truncate:function Nm(a,o){var i=30,l="...";if(on(o)){var c="separator"in o?o.separator:c;i="length"in o?kr(o.length):i,l="omission"in o?pi(o.omission):l}var f=(a=tn(a)).length;if(Di(a)){var v=Ua(a);f=v.length}if(i>=f)return a;var g=i-Ac(l);if(g<1)return l;var m=v?Oo(v,0,g).join(""):a.slice(0,g);if(void 0===c)return m+l;if(v&&(g+=m.length-g),em(c)){if(a.slice(g).search(c)){var _,b=m;for(c.global||(c=RegExp(c.source,tn(KO.exec(c))+"g")),c.lastIndex=0;_=c.exec(b);)var A=_.index;m=m.slice(0,void 0===A?g:A)}}else if(a.indexOf(pi(c),g)!=g){var I=m.lastIndexOf(c);I>-1&&(m=m.slice(0,I))}return m+l},unescape:function iR(a){return(a=tn(a))&&nR.test(a)?a.replace(yM,rR):a},upperCase:CM,upperFirst:dc,words:ew},ln={attempt:xv,bindAll:AC,cond:$w,conforms:function jw(a){return function qw(a){var o=Kr(a);return function(i){return Zw(i,a,o)}}(Xa(a,1))},constant:tc,defaultTo:function M5(a,o){return null==a||a!=a?o:a},flow:vL,flowRight:pL,identity:Ii,iteratee:function mi(a){return Dr("function"==typeof a?a:Xa(a,1))},matches:vu,matchesProperty:function hf(a,o){return Vw(a,Xa(o,1))},method:cI,methodOf:fI,mixin:la,noop:tv,nthArg:function lS(a){return a=kr(a),zr(function(o){return dl(o,a)})},over:mI,overEvery:CI,overSome:wI,property:Xw,propertyOf:function ml(a){return function(o){return null==a?void 0:nu(a,o)}},range:Lc,rangeRight:Mm,stubArray:hy,stubFalse:fv,stubObject:function EO(){return{}},stubString:function JS(){return""},stubTrue:KS,times:function Oc(a,o){if((a=kr(a))<1||a>9007199254740991)return[];var i=Ls,l=Sf(a,Ls);o=co(o),a-=Ls;for(var c=ms(l,o);++i<a;)o(i);return c},toPath:function hM(a){return yr(a)?En(a,oo):ra(a)?[a]:ia(Ug(tn(a)))},uniqueId:function hR(a){var o=++cR;return tn(a)+o}},FR=Math.max,DR=Math.min,zR=Math.min,Wm=4294967295,EM=Array.prototype,Dc=Object.prototype.hasOwnProperty,LM=Li?Li.iterator:void 0,YR=Math.max,IM=Math.min,Ep=function(a){return function(o,i,l){if(null==l){var c=on(i),f=c&&Kr(i),v=f&&f.length&&ep(i,f);(v?v.length:c)||(l=i,i=o,o=this)}return a(o,i,l)}}(la);it.after=Bn.after,it.ary=Bn.ary,it.assign=Ir.assign,it.assignIn=Ir.assignIn,it.assignInWith=Ir.assignInWith,it.assignWith=Ir.assignWith,it.at=Ir.at,it.before=Bn.before,it.bind=Bn.bind,it.bindAll=ln.bindAll,it.bindKey=Bn.bindKey,it.castArray=_r.castArray,it.chain=Yo.chain,it.chunk=ur.chunk,it.compact=ur.compact,it.concat=ur.concat,it.cond=ln.cond,it.conforms=ln.conforms,it.constant=ln.constant,it.countBy=pn.countBy,it.create=Ir.create,it.curry=Bn.curry,it.curryRight=Bn.curryRight,it.debounce=Bn.debounce,it.defaults=Ir.defaults,it.defaultsDeep=Ir.defaultsDeep,it.defer=Bn.defer,it.delay=Bn.delay,it.difference=ur.difference,it.differenceBy=ur.differenceBy,it.differenceWith=ur.differenceWith,it.drop=ur.drop,it.dropRight=ur.dropRight,it.dropRightWhile=ur.dropRightWhile,it.dropWhile=ur.dropWhile,it.fill=ur.fill,it.filter=pn.filter,it.flatMap=pn.flatMap,it.flatMapDeep=pn.flatMapDeep,it.flatMapDepth=pn.flatMapDepth,it.flatten=ur.flatten,it.flattenDeep=ur.flattenDeep,it.flattenDepth=ur.flattenDepth,it.flip=Bn.flip,it.flow=ln.flow,it.flowRight=ln.flowRight,it.fromPairs=ur.fromPairs,it.functions=Ir.functions,it.functionsIn=Ir.functionsIn,it.groupBy=pn.groupBy,it.initial=ur.initial,it.intersection=ur.intersection,it.intersectionBy=ur.intersectionBy,it.intersectionWith=ur.intersectionWith,it.invert=Ir.invert,it.invertBy=Ir.invertBy,it.invokeMap=pn.invokeMap,it.iteratee=ln.iteratee,it.keyBy=pn.keyBy,it.keys=Kr,it.keysIn=Ir.keysIn,it.map=pn.map,it.mapKeys=Ir.mapKeys,it.mapValues=Ir.mapValues,it.matches=ln.matches,it.matchesProperty=ln.matchesProperty,it.memoize=Bn.memoize,it.merge=Ir.merge,it.mergeWith=Ir.mergeWith,it.method=ln.method,it.methodOf=ln.methodOf,it.mixin=Ep,it.negate=Ur,it.nthArg=ln.nthArg,it.omit=Ir.omit,it.omitBy=Ir.omitBy,it.once=Bn.once,it.orderBy=pn.orderBy,it.over=ln.over,it.overArgs=Bn.overArgs,it.overEvery=ln.overEvery,it.overSome=ln.overSome,it.partial=Bn.partial,it.partialRight=Bn.partialRight,it.partition=pn.partition,it.pick=Ir.pick,it.pickBy=Ir.pickBy,it.property=ln.property,it.propertyOf=ln.propertyOf,it.pull=ur.pull,it.pullAll=ur.pullAll,it.pullAllBy=ur.pullAllBy,it.pullAllWith=ur.pullAllWith,it.pullAt=ur.pullAt,it.range=ln.range,it.rangeRight=ln.rangeRight,it.rearg=Bn.rearg,it.reject=pn.reject,it.remove=ur.remove,it.rest=Bn.rest,it.reverse=ur.reverse,it.sampleSize=pn.sampleSize,it.set=Ir.set,it.setWith=Ir.setWith,it.shuffle=pn.shuffle,it.slice=ur.slice,it.sortBy=pn.sortBy,it.sortedUniq=ur.sortedUniq,it.sortedUniqBy=ur.sortedUniqBy,it.split=en.split,it.spread=Bn.spread,it.tail=ur.tail,it.take=ur.take,it.takeRight=ur.takeRight,it.takeRightWhile=ur.takeRightWhile,it.takeWhile=ur.takeWhile,it.tap=Yo.tap,it.throttle=Bn.throttle,it.thru=Ic,it.toArray=_r.toArray,it.toPairs=Ir.toPairs,it.toPairsIn=Ir.toPairsIn,it.toPath=ln.toPath,it.toPlainObject=_r.toPlainObject,it.transform=Ir.transform,it.unary=Bn.unary,it.union=ur.union,it.unionBy=ur.unionBy,it.unionWith=ur.unionWith,it.uniq=ur.uniq,it.uniqBy=ur.uniqBy,it.uniqWith=ur.uniqWith,it.unset=Ir.unset,it.unzip=ur.unzip,it.unzipWith=ur.unzipWith,it.update=Ir.update,it.updateWith=Ir.updateWith,it.values=Ir.values,it.valuesIn=Ir.valuesIn,it.without=ur.without,it.words=en.words,it.wrap=Bn.wrap,it.xor=ur.xor,it.xorBy=ur.xorBy,it.xorWith=ur.xorWith,it.zip=ur.zip,it.zipObject=ur.zipObject,it.zipObjectDeep=ur.zipObjectDeep,it.zipWith=ur.zipWith,it.entries=Ir.toPairs,it.entriesIn=Ir.toPairsIn,it.extend=Ir.assignIn,it.extendWith=Ir.assignInWith,Ep(it,it),it.add=Pi.add,it.attempt=ln.attempt,it.camelCase=en.camelCase,it.capitalize=en.capitalize,it.ceil=Pi.ceil,it.clamp=Ap_clamp,it.clone=_r.clone,it.cloneDeep=_r.cloneDeep,it.cloneDeepWith=_r.cloneDeepWith,it.cloneWith=_r.cloneWith,it.conformsTo=_r.conformsTo,it.deburr=en.deburr,it.defaultTo=ln.defaultTo,it.divide=Pi.divide,it.endsWith=en.endsWith,it.eq=_r.eq,it.escape=en.escape,it.escapeRegExp=en.escapeRegExp,it.every=pn.every,it.find=pn.find,it.findIndex=ur.findIndex,it.findKey=Ir.findKey,it.findLast=pn.findLast,it.findLastIndex=ur.findLastIndex,it.findLastKey=Ir.findLastKey,it.floor=Pi.floor,it.forEach=pn.forEach,it.forEachRight=pn.forEachRight,it.forIn=Ir.forIn,it.forInRight=Ir.forInRight,it.forOwn=Ir.forOwn,it.forOwnRight=Ir.forOwnRight,it.get=Ir.get,it.gt=_r.gt,it.gte=_r.gte,it.has=Ir.has,it.hasIn=Ir.hasIn,it.head=ur.head,it.identity=Ii,it.includes=pn.includes,it.indexOf=ur.indexOf,it.inRange=Ap_inRange,it.invoke=Ir.invoke,it.isArguments=_r.isArguments,it.isArray=yr,it.isArrayBuffer=_r.isArrayBuffer,it.isArrayLike=_r.isArrayLike,it.isArrayLikeObject=_r.isArrayLikeObject,it.isBoolean=_r.isBoolean,it.isBuffer=_r.isBuffer,it.isDate=_r.isDate,it.isElement=_r.isElement,it.isEmpty=_r.isEmpty,it.isEqual=_r.isEqual,it.isEqualWith=_r.isEqualWith,it.isError=_r.isError,it.isFinite=_r.isFinite,it.isFunction=_r.isFunction,it.isInteger=_r.isInteger,it.isLength=_r.isLength,it.isMap=_r.isMap,it.isMatch=_r.isMatch,it.isMatchWith=_r.isMatchWith,it.isNaN=_r.isNaN,it.isNative=_r.isNative,it.isNil=_r.isNil,it.isNull=_r.isNull,it.isNumber=_r.isNumber,it.isObject=on,it.isObjectLike=_r.isObjectLike,it.isPlainObject=_r.isPlainObject,it.isRegExp=_r.isRegExp,it.isSafeInteger=_r.isSafeInteger,it.isSet=_r.isSet,it.isString=_r.isString,it.isSymbol=_r.isSymbol,it.isTypedArray=_r.isTypedArray,it.isUndefined=_r.isUndefined,it.isWeakMap=_r.isWeakMap,it.isWeakSet=_r.isWeakSet,it.join=ur.join,it.kebabCase=en.kebabCase,it.last=hn,it.lastIndexOf=ur.lastIndexOf,it.lowerCase=en.lowerCase,it.lowerFirst=en.lowerFirst,it.lt=_r.lt,it.lte=_r.lte,it.max=Pi.max,it.maxBy=Pi.maxBy,it.mean=Pi.mean,it.meanBy=Pi.meanBy,it.min=Pi.min,it.minBy=Pi.minBy,it.stubArray=ln.stubArray,it.stubFalse=ln.stubFalse,it.stubObject=ln.stubObject,it.stubString=ln.stubString,it.stubTrue=ln.stubTrue,it.multiply=Pi.multiply,it.nth=ur.nth,it.noop=ln.noop,it.now=IR.now,it.pad=en.pad,it.padEnd=en.padEnd,it.padStart=en.padStart,it.parseInt=en.parseInt,it.random=function jI(a,o,i){if(i&&"boolean"!=typeof i&&$i(a,o,i)&&(o=i=void 0),void 0===i&&("boolean"==typeof o?(i=o,o=void 0):"boolean"==typeof a&&(i=a,a=void 0)),void 0===a&&void 0===o?(a=0,o=1):(a=fs(a),void 0===o?(o=a,a=0):o=fs(o)),a>o){var l=a;a=o,o=l}if(i||a%1||o%1){var c=qI();return ZI(a+c*(o-a+$I("1e-"+((c+"").length-1))),o)}return Sm(a,o)},it.reduce=pn.reduce,it.reduceRight=pn.reduceRight,it.repeat=en.repeat,it.replace=en.replace,it.result=Ir.result,it.round=Pi.round,it.sample=pn.sample,it.size=pn.size,it.snakeCase=en.snakeCase,it.some=pn.some,it.sortedIndex=ur.sortedIndex,it.sortedIndexBy=ur.sortedIndexBy,it.sortedIndexOf=ur.sortedIndexOf,it.sortedLastIndex=ur.sortedLastIndex,it.sortedLastIndexBy=ur.sortedLastIndexBy,it.sortedLastIndexOf=ur.sortedLastIndexOf,it.startCase=en.startCase,it.startsWith=en.startsWith,it.subtract=Pi.subtract,it.sum=Pi.sum,it.sumBy=Pi.sumBy,it.template=en.template,it.times=ln.times,it.toFinite=_r.toFinite,it.toInteger=kr,it.toLength=_r.toLength,it.toLower=en.toLower,it.toNumber=_r.toNumber,it.toSafeInteger=_r.toSafeInteger,it.toString=_r.toString,it.toUpper=en.toUpper,it.trim=en.trim,it.trimEnd=en.trimEnd,it.trimStart=en.trimStart,it.truncate=en.truncate,it.unescape=en.unescape,it.uniqueId=ln.uniqueId,it.upperCase=en.upperCase,it.upperFirst=en.upperFirst,it.each=pn.forEach,it.eachRight=pn.forEachRight,it.first=ur.head,Ep(it,function(){var a={};return Bo(it,function(o,i){Dc.call(it.prototype,i)||(a[i]=o)}),a}(),{chain:!1}),it.VERSION="4.17.21",(it.templateSettings=en.templateSettings).imports._=it,xa(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){it[a].placeholder=it}),xa(["drop","take"],function(a,o){Vr.prototype[a]=function(i){i=void 0===i?1:YR(kr(i),0);var l=this.__filtered__&&!o?new Vr(this):this.clone();return l.__filtered__?l.__takeCount__=IM(i,l.__takeCount__):l.__views__.push({size:IM(i,Wm),type:a+(l.__dir__<0?"Right":"")}),l},Vr.prototype[a+"Right"]=function(i){return this.reverse()[a](i).reverse()}}),xa(["filter","map","takeWhile"],function(a,o){var i=o+1,l=1==i||3==i;Vr.prototype[a]=function(c){var f=this.clone();return f.__iteratees__.push({iteratee:Dr(c),type:i}),f.__filtered__=f.__filtered__||l,f}}),xa(["head","last"],function(a,o){var i="take"+(o?"Right":"");Vr.prototype[a]=function(){return this[i](1).value()[0]}}),xa(["initial","tail"],function(a,o){var i="drop"+(o?"":"Right");Vr.prototype[a]=function(){return this.__filtered__?new Vr(this):this[i](1)}}),Vr.prototype.compact=function(){return this.filter(Ii)},Vr.prototype.find=function(a){return this.filter(a).head()},Vr.prototype.findLast=function(a){return this.reverse().find(a)},Vr.prototype.invokeMap=zr(function(a,o){return"function"==typeof a?new Vr(this):this.map(function(i){return hu(i,a,o)})}),Vr.prototype.reject=function(a){return this.filter(Ur(Dr(a)))},Vr.prototype.slice=function(a,o){a=kr(a);var i=this;return i.__filtered__&&(a>0||o<0)?new Vr(i):(a<0?i=i.takeRight(-a):a&&(i=i.drop(a)),void 0!==o&&(i=(o=kr(o))<0?i.dropRight(-o):i.take(o-a)),i)},Vr.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},Vr.prototype.toArray=function(){return this.take(Wm)},Bo(Vr.prototype,function(a,o){var i=/^(?:filter|find|map|reject)|While$/.test(o),l=/^(?:head|last)$/.test(o),c=it[l?"take"+("last"==o?"Right":""):o],f=l||/^find/.test(o);c&&(it.prototype[o]=function(){var v=this.__wrapped__,g=l?[1]:arguments,m=v instanceof Vr,_=g[0],b=m||yr(v),A=function(H){var Y=c.apply(it,Ga([H],g));return l&&I?Y[0]:Y};b&&i&&"function"==typeof _&&1!=_.length&&(m=b=!1);var I=this.__chain__,F=f&&!I,B=m&&!this.__actions__.length;if(!f&&b){v=B?v:new Vr(this);var P=a.apply(v,g);return P.__actions__.push({func:Ic,args:[A],thisArg:void 0}),new za(P,I)}return F&&B?a.apply(this,g):(P=this.thru(A),F?l?P.value()[0]:P.value():P)})}),xa(["pop","push","shift","sort","splice","unshift"],function(a){var o=EM[a],i=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",l=/^(?:pop|shift)$/.test(a);it.prototype[a]=function(){var c=arguments;if(l&&!this.__chain__){var f=this.value();return o.apply(yr(f)?f:[],c)}return this[i](function(v){return o.apply(yr(v)?v:[],c)})}}),Bo(Vr.prototype,function(a,o){var i=it[o];if(i){var l=i.name+"";Dc.call(Ju,l)||(Ju[l]=[]),Ju[l].push({name:o,func:i})}}),Ju[Ph(void 0,2).name]=[{name:"wrapper",func:void 0}],Vr.prototype.clone=function OR(){var a=new Vr(this.__wrapped__);return a.__actions__=ia(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=ia(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=ia(this.__views__),a},Vr.prototype.reverse=function RR(){if(this.__filtered__){var a=new Vr(this);a.__dir__=-1,a.__filtered__=!0}else(a=this.clone()).__dir__*=-1;return a},Vr.prototype.value=function NR(){var a=this.__wrapped__.value(),o=this.__dir__,i=yr(a),l=o<0,c=i?a.length:0,f=function kR(a,o,i){for(var l=-1,c=i.length;++l<c;){var f=i[l],v=f.size;switch(f.type){case"drop":a+=v;break;case"dropRight":o-=v;break;case"take":o=DR(o,a+v);break;case"takeRight":a=FR(a,o-v)}}return{start:a,end:o}}(0,c,this.__views__),v=f.start,g=f.end,m=g-v,_=l?g:v-1,b=this.__iteratees__,A=b.length,I=0,O=zR(m,this.__takeCount__);if(!i||!l&&c==m&&O==m)return cM(a,this.__actions__);var F=[];t:for(;m--&&I<O;){for(var B=-1,P=a[_+=o];++B<A;){var H=b[B],V=H.type,j=(0,H.iteratee)(P);if(2==V)P=j;else if(!j){if(1==V)continue t;break t}}F[I++]=P}return F},it.prototype.at=Yo.at,it.prototype.chain=Yo.wrapperChain,it.prototype.commit=Yo.commit,it.prototype.next=Yo.next,it.prototype.plant=Yo.plant,it.prototype.reverse=Yo.reverse,it.prototype.toJSON=it.prototype.valueOf=it.prototype.value=Yo.value,it.prototype.first=it.prototype.head,LM&&(it.prototype[LM]=Yo.toIterator);var OM={exports:{}};!function(a){!function(o){var i=/^\s+/,l=/\s+$/,c=0,f=o.round,v=o.min,g=o.max,m=o.random;function _(vt,Wt){if(Wt=Wt||{},(vt=vt||"")instanceof _)return vt;if(!(this instanceof _))return new _(vt,Wt);var _t=function b(vt){var Wt={r:0,g:0,b:0},_t=1,He=null,ar=null,or=null,rn=!1,On=!1;return"string"==typeof vt&&(vt=function J1(vt){vt=vt.replace(i,"").replace(l,"").toLowerCase();var _t,Wt=!1;if(Ze[vt])vt=Ze[vt],Wt=!0;else if("transparent"==vt)return{r:0,g:0,b:0,a:0,format:"name"};return(_t=hi.rgb.exec(vt))?{r:_t[1],g:_t[2],b:_t[3]}:(_t=hi.rgba.exec(vt))?{r:_t[1],g:_t[2],b:_t[3],a:_t[4]}:(_t=hi.hsl.exec(vt))?{h:_t[1],s:_t[2],l:_t[3]}:(_t=hi.hsla.exec(vt))?{h:_t[1],s:_t[2],l:_t[3],a:_t[4]}:(_t=hi.hsv.exec(vt))?{h:_t[1],s:_t[2],v:_t[3]}:(_t=hi.hsva.exec(vt))?{h:_t[1],s:_t[2],v:_t[3],a:_t[4]}:(_t=hi.hex8.exec(vt))?{r:qr(_t[1]),g:qr(_t[2]),b:qr(_t[3]),a:ci(_t[4]),format:Wt?"name":"hex8"}:(_t=hi.hex6.exec(vt))?{r:qr(_t[1]),g:qr(_t[2]),b:qr(_t[3]),format:Wt?"name":"hex"}:(_t=hi.hex4.exec(vt))?{r:qr(_t[1]+""+_t[1]),g:qr(_t[2]+""+_t[2]),b:qr(_t[3]+""+_t[3]),a:ci(_t[4]+""+_t[4]),format:Wt?"name":"hex8"}:!!(_t=hi.hex3.exec(vt))&&{r:qr(_t[1]+""+_t[1]),g:qr(_t[2]+""+_t[2]),b:qr(_t[3]+""+_t[3]),format:Wt?"name":"hex"}}(vt)),"object"==typeof vt&&(go(vt.r)&&go(vt.g)&&go(vt.b)?(Wt=function A(vt,Wt,_t){return{r:255*Tr(vt,255),g:255*Tr(Wt,255),b:255*Tr(_t,255)}}(vt.r,vt.g,vt.b),rn=!0,On="%"===String(vt.r).substr(-1)?"prgb":"rgb"):go(vt.h)&&go(vt.s)&&go(vt.v)?(He=dn(vt.s),ar=dn(vt.v),Wt=function B(vt,Wt,_t){vt=6*Tr(vt,360),Wt=Tr(Wt,100),_t=Tr(_t,100);var He=o.floor(vt),ar=vt-He,or=_t*(1-Wt),rn=_t*(1-ar*Wt),On=_t*(1-(1-ar)*Wt),Vn=He%6;return{r:255*[_t,rn,or,or,On,_t][Vn],g:255*[On,_t,_t,rn,or,or][Vn],b:255*[or,or,On,_t,_t,rn][Vn]}}(vt.h,He,ar),rn=!0,On="hsv"):go(vt.h)&&go(vt.s)&&go(vt.l)&&(He=dn(vt.s),or=dn(vt.l),Wt=function O(vt,Wt,_t){var He,ar,or;function rn(Hi,Ps,La){return La<0&&(La+=1),La>1&&(La-=1),La<1/6?Hi+6*(Ps-Hi)*La:La<.5?Ps:La<2/3?Hi+(Ps-Hi)*(2/3-La)*6:Hi}if(vt=Tr(vt,360),Wt=Tr(Wt,100),_t=Tr(_t,100),0===Wt)He=ar=or=_t;else{var On=_t<.5?_t*(1+Wt):_t+Wt-_t*Wt,Vn=2*_t-On;He=rn(Vn,On,vt+1/3),ar=rn(Vn,On,vt),or=rn(Vn,On,vt-1/3)}return{r:255*He,g:255*ar,b:255*or}}(vt.h,He,or),rn=!0,On="hsl"),vt.hasOwnProperty("a")&&(_t=vt.a)),_t=un(_t),{ok:rn,format:vt.format||On,r:v(255,g(Wt.r,0)),g:v(255,g(Wt.g,0)),b:v(255,g(Wt.b,0)),a:_t}}(vt);this._originalInput=vt,this._r=_t.r,this._g=_t.g,this._b=_t.b,this._a=_t.a,this._roundA=f(100*this._a)/100,this._format=Wt.format||_t.format,this._gradientType=Wt.gradientType,this._r<1&&(this._r=f(this._r)),this._g<1&&(this._g=f(this._g)),this._b<1&&(this._b=f(this._b)),this._ok=_t.ok,this._tc_id=c++}function I(vt,Wt,_t){vt=Tr(vt,255),Wt=Tr(Wt,255),_t=Tr(_t,255);var or,rn,He=g(vt,Wt,_t),ar=v(vt,Wt,_t),On=(He+ar)/2;if(He==ar)or=rn=0;else{var Vn=He-ar;switch(rn=On>.5?Vn/(2-He-ar):Vn/(He+ar),He){case vt:or=(Wt-_t)/Vn+(Wt<_t?6:0);break;case Wt:or=(_t-vt)/Vn+2;break;case _t:or=(vt-Wt)/Vn+4}or/=6}return{h:or,s:rn,l:On}}function F(vt,Wt,_t){vt=Tr(vt,255),Wt=Tr(Wt,255),_t=Tr(_t,255);var or,rn,He=g(vt,Wt,_t),ar=v(vt,Wt,_t),On=He,Vn=He-ar;if(rn=0===He?0:Vn/He,He==ar)or=0;else{switch(He){case vt:or=(Wt-_t)/Vn+(Wt<_t?6:0);break;case Wt:or=(_t-vt)/Vn+2;break;case _t:or=(vt-Wt)/Vn+4}or/=6}return{h:or,s:rn,v:On}}function P(vt,Wt,_t,He){var ar=[Hr(f(vt).toString(16)),Hr(f(Wt).toString(16)),Hr(f(_t).toString(16))];return He&&ar[0].charAt(0)==ar[0].charAt(1)&&ar[1].charAt(0)==ar[1].charAt(1)&&ar[2].charAt(0)==ar[2].charAt(1)?ar[0].charAt(0)+ar[1].charAt(0)+ar[2].charAt(0):ar.join("")}function Y(vt,Wt,_t,He){return[Hr(Tn(He)),Hr(f(vt).toString(16)),Hr(f(Wt).toString(16)),Hr(f(_t).toString(16))].join("")}function V(vt,Wt){Wt=0===Wt?0:Wt||10;var _t=_(vt).toHsl();return _t.s-=Wt/100,_t.s=Mn(_t.s),_(_t)}function j(vt,Wt){Wt=0===Wt?0:Wt||10;var _t=_(vt).toHsl();return _t.s+=Wt/100,_t.s=Mn(_t.s),_(_t)}function yt(vt){return _(vt).desaturate(100)}function Lt(vt,Wt){Wt=0===Wt?0:Wt||10;var _t=_(vt).toHsl();return _t.l+=Wt/100,_t.l=Mn(_t.l),_(_t)}function Pt(vt,Wt){Wt=0===Wt?0:Wt||10;var _t=_(vt).toRgb();return _t.r=g(0,v(255,_t.r-f(-Wt/100*255))),_t.g=g(0,v(255,_t.g-f(-Wt/100*255))),_t.b=g(0,v(255,_t.b-f(-Wt/100*255))),_(_t)}function ge(vt,Wt){Wt=0===Wt?0:Wt||10;var _t=_(vt).toHsl();return _t.l-=Wt/100,_t.l=Mn(_t.l),_(_t)}function Me(vt,Wt){var _t=_(vt).toHsl(),He=(_t.h+Wt)%360;return _t.h=He<0?360+He:He,_(_t)}function Ie(vt){var Wt=_(vt).toHsl();return Wt.h=(Wt.h+180)%360,_(Wt)}function Pe(vt){var Wt=_(vt).toHsl(),_t=Wt.h;return[_(vt),_({h:(_t+120)%360,s:Wt.s,l:Wt.l}),_({h:(_t+240)%360,s:Wt.s,l:Wt.l})]}function $e(vt){var Wt=_(vt).toHsl(),_t=Wt.h;return[_(vt),_({h:(_t+90)%360,s:Wt.s,l:Wt.l}),_({h:(_t+180)%360,s:Wt.s,l:Wt.l}),_({h:(_t+270)%360,s:Wt.s,l:Wt.l})]}function lr(vt){var Wt=_(vt).toHsl(),_t=Wt.h;return[_(vt),_({h:(_t+72)%360,s:Wt.s,l:Wt.l}),_({h:(_t+216)%360,s:Wt.s,l:Wt.l})]}function ir(vt,Wt,_t){Wt=Wt||6,_t=_t||30;var He=_(vt).toHsl(),ar=360/_t,or=[_(vt)];for(He.h=(He.h-(ar*Wt>>1)+720)%360;--Wt;)He.h=(He.h+ar)%360,or.push(_(He));return or}function er(vt,Wt){Wt=Wt||6;for(var _t=_(vt).toHsv(),He=_t.h,ar=_t.s,or=_t.v,rn=[],On=1/Wt;Wt--;)rn.push(_({h:He,s:ar,v:or})),or=(or+On)%1;return rn}_.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var vt=this.toRgb();return(299*vt.r+587*vt.g+114*vt.b)/1e3},getLuminance:function(){var Wt,_t,He,vt=this.toRgb();return _t=vt.g/255,He=vt.b/255,.2126*((Wt=vt.r/255)<=.03928?Wt/12.92:o.pow((Wt+.055)/1.055,2.4))+.7152*(_t<=.03928?_t/12.92:o.pow((_t+.055)/1.055,2.4))+.0722*(He<=.03928?He/12.92:o.pow((He+.055)/1.055,2.4))},setAlpha:function(vt){return this._a=un(vt),this._roundA=f(100*this._a)/100,this},toHsv:function(){var vt=F(this._r,this._g,this._b);return{h:360*vt.h,s:vt.s,v:vt.v,a:this._a}},toHsvString:function(){var vt=F(this._r,this._g,this._b),Wt=f(360*vt.h),_t=f(100*vt.s),He=f(100*vt.v);return 1==this._a?"hsv("+Wt+", "+_t+"%, "+He+"%)":"hsva("+Wt+", "+_t+"%, "+He+"%, "+this._roundA+")"},toHsl:function(){var vt=I(this._r,this._g,this._b);return{h:360*vt.h,s:vt.s,l:vt.l,a:this._a}},toHslString:function(){var vt=I(this._r,this._g,this._b),Wt=f(360*vt.h),_t=f(100*vt.s),He=f(100*vt.l);return 1==this._a?"hsl("+Wt+", "+_t+"%, "+He+"%)":"hsla("+Wt+", "+_t+"%, "+He+"%, "+this._roundA+")"},toHex:function(vt){return P(this._r,this._g,this._b,vt)},toHexString:function(vt){return"#"+this.toHex(vt)},toHex8:function(vt){return function H(vt,Wt,_t,He,ar){var or=[Hr(f(vt).toString(16)),Hr(f(Wt).toString(16)),Hr(f(_t).toString(16)),Hr(Tn(He))];return ar&&or[0].charAt(0)==or[0].charAt(1)&&or[1].charAt(0)==or[1].charAt(1)&&or[2].charAt(0)==or[2].charAt(1)&&or[3].charAt(0)==or[3].charAt(1)?or[0].charAt(0)+or[1].charAt(0)+or[2].charAt(0)+or[3].charAt(0):or.join("")}(this._r,this._g,this._b,this._a,vt)},toHex8String:function(vt){return"#"+this.toHex8(vt)},toRgb:function(){return{r:f(this._r),g:f(this._g),b:f(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+f(this._r)+", "+f(this._g)+", "+f(this._b)+")":"rgba("+f(this._r)+", "+f(this._g)+", "+f(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:f(100*Tr(this._r,255))+"%",g:f(100*Tr(this._g,255))+"%",b:f(100*Tr(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+f(100*Tr(this._r,255))+"%, "+f(100*Tr(this._g,255))+"%, "+f(100*Tr(this._b,255))+"%)":"rgba("+f(100*Tr(this._r,255))+"%, "+f(100*Tr(this._g,255))+"%, "+f(100*Tr(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(Nr[P(this._r,this._g,this._b,!0)]||!1)},toFilter:function(vt){var Wt="#"+Y(this._r,this._g,this._b,this._a),_t=Wt,He=this._gradientType?"GradientType = 1, ":"";if(vt){var ar=_(vt);_t="#"+Y(ar._r,ar._g,ar._b,ar._a)}return"progid:DXImageTransform.Microsoft.gradient("+He+"startColorstr="+Wt+",endColorstr="+_t+")"},toString:function(vt){var Wt=!!vt;vt=vt||this._format;var _t=!1;return!Wt&&this._a<1&&this._a>=0&&("hex"===vt||"hex6"===vt||"hex3"===vt||"hex4"===vt||"hex8"===vt||"name"===vt)?"name"===vt&&0===this._a?this.toName():this.toRgbString():("rgb"===vt&&(_t=this.toRgbString()),"prgb"===vt&&(_t=this.toPercentageRgbString()),("hex"===vt||"hex6"===vt)&&(_t=this.toHexString()),"hex3"===vt&&(_t=this.toHexString(!0)),"hex4"===vt&&(_t=this.toHex8String(!0)),"hex8"===vt&&(_t=this.toHex8String()),"name"===vt&&(_t=this.toName()),"hsl"===vt&&(_t=this.toHslString()),"hsv"===vt&&(_t=this.toHsvString()),_t||this.toHexString())},clone:function(){return _(this.toString())},_applyModification:function(vt,Wt){var _t=vt.apply(null,[this].concat([].slice.call(Wt)));return this._r=_t._r,this._g=_t._g,this._b=_t._b,this.setAlpha(_t._a),this},lighten:function(){return this._applyModification(Lt,arguments)},brighten:function(){return this._applyModification(Pt,arguments)},darken:function(){return this._applyModification(ge,arguments)},desaturate:function(){return this._applyModification(V,arguments)},saturate:function(){return this._applyModification(j,arguments)},greyscale:function(){return this._applyModification(yt,arguments)},spin:function(){return this._applyModification(Me,arguments)},_applyCombination:function(vt,Wt){return vt.apply(null,[this].concat([].slice.call(Wt)))},analogous:function(){return this._applyCombination(ir,arguments)},complement:function(){return this._applyCombination(Ie,arguments)},monochromatic:function(){return this._applyCombination(er,arguments)},splitcomplement:function(){return this._applyCombination(lr,arguments)},triad:function(){return this._applyCombination(Pe,arguments)},tetrad:function(){return this._applyCombination($e,arguments)}},_.fromRatio=function(vt,Wt){if("object"==typeof vt){var _t={};for(var He in vt)vt.hasOwnProperty(He)&&(_t[He]="a"===He?vt[He]:dn(vt[He]));vt=_t}return _(vt,Wt)},_.equals=function(vt,Wt){return!(!vt||!Wt)&&_(vt).toRgbString()==_(Wt).toRgbString()},_.random=function(){return _.fromRatio({r:m(),g:m(),b:m()})},_.mix=function(vt,Wt,_t){_t=0===_t?0:_t||50;var He=_(vt).toRgb(),ar=_(Wt).toRgb(),or=_t/100;return _({r:(ar.r-He.r)*or+He.r,g:(ar.g-He.g)*or+He.g,b:(ar.b-He.b)*or+He.b,a:(ar.a-He.a)*or+He.a})},_.readability=function(vt,Wt){var _t=_(vt),He=_(Wt);return(o.max(_t.getLuminance(),He.getLuminance())+.05)/(o.min(_t.getLuminance(),He.getLuminance())+.05)},_.isReadable=function(vt,Wt,_t){var ar,or,He=_.readability(vt,Wt);switch(or=!1,ar=function Sk(vt){var Wt,_t;return"AA"!==(Wt=((vt=vt||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==Wt&&(Wt="AA"),"small"!==(_t=(vt.size||"small").toLowerCase())&&"large"!==_t&&(_t="small"),{level:Wt,size:_t}}(_t),ar.level+ar.size){case"AAsmall":case"AAAlarge":or=He>=4.5;break;case"AAlarge":or=He>=3;break;case"AAAsmall":or=He>=7}return or},_.mostReadable=function(vt,Wt,_t){var or,rn,On,Vn,He=null,ar=0;rn=(_t=_t||{}).includeFallbackColors,On=_t.level,Vn=_t.size;for(var Hi=0;Hi<Wt.length;Hi++)(or=_.readability(vt,Wt[Hi]))>ar&&(ar=or,He=_(Wt[Hi]));return _.isReadable(vt,He,{level:On,size:Vn})||!rn?He:(_t.includeFallbackColors=!1,_.mostReadable(vt,["#fff","#000"],_t))};var Ze=_.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Nr=_.hexNames=function Br(vt){var Wt={};for(var _t in vt)vt.hasOwnProperty(_t)&&(Wt[vt[_t]]=_t);return Wt}(Ze);function un(vt){return vt=parseFloat(vt),(isNaN(vt)||vt<0||vt>1)&&(vt=1),vt}function Tr(vt,Wt){(function Ni(vt){return"string"==typeof vt&&-1!=vt.indexOf(".")&&1===parseFloat(vt)})(vt)&&(vt="100%");var _t=function Ln(vt){return"string"==typeof vt&&-1!=vt.indexOf("%")}(vt);return vt=v(Wt,g(0,parseFloat(vt))),_t&&(vt=parseInt(vt*Wt,10)/100),o.abs(vt-Wt)<1e-6?1:vt%Wt/parseFloat(Wt)}function Mn(vt){return v(1,g(0,vt))}function qr(vt){return parseInt(vt,16)}function Hr(vt){return 1==vt.length?"0"+vt:""+vt}function dn(vt){return vt<=1&&(vt=100*vt+"%"),vt}function Tn(vt){return o.round(255*parseFloat(vt)).toString(16)}function ci(vt){return qr(vt)/255}var _t,He,ar,hi=(He="[\\s|\\(]+("+(_t="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+_t+")[,|\\s]+("+_t+")\\s*\\)?",ar="[\\s|\\(]+("+_t+")[,|\\s]+("+_t+")[,|\\s]+("+_t+")[,|\\s]+("+_t+")\\s*\\)?",{CSS_UNIT:new RegExp(_t),rgb:new RegExp("rgb"+He),rgba:new RegExp("rgba"+ar),hsl:new RegExp("hsl"+He),hsla:new RegExp("hsla"+ar),hsv:new RegExp("hsv"+He),hsva:new RegExp("hsva"+ar),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function go(vt){return!!hi.CSS_UNIT.exec(vt)}a.exports?a.exports=_:window.tinycolor=_}(Math)}(OM);var bf=OM.exports,VR=[95,85,75,30,15,0,15,30,45,60,80],kc=function(a){return bf(a).getLuminance()<=.5},FM=[{fontColorIndex:0,bgColorIndex:3},{fontColorIndex:13,bgColorIndex:8},{fontColorIndex:14,bgColorIndex:1}],Lp=function(a){void 0===a&&(a={});var o=Array.from(Array(15)).fill(ag),i=a.basicColorRelations,l=void 0===i?[]:i,f=function(a){for(var o=[],i=0;i<11;i++){var l=VR[i];o.push(Mf(0===l?a:bf.mix(a,i<5?"#FFFFFF":"#000000",l).toHexString()))}return o}(a.brandColor);return l.forEach(function(v){o[v.basicColorIndex]=f[v.standardColorIndex]}),FM.forEach(function(v){o[v.fontColorIndex]=kc(o[v.bgColorIndex])?ag:ql}),Ft(Ft({},a),{basicColors:o})},Ip=Lp({brandColor:"#3471F9",semanticColors:{red:"#FF4D4F",green:"#29A294",yellow:"#FAAD14"},others:{highlight:"#87B5FF",results:"#F0F7FF"},basicColorRelations:[{basicColorIndex:1,standardColorIndex:0},{basicColorIndex:2,standardColorIndex:1},{basicColorIndex:3,standardColorIndex:5},{basicColorIndex:4,standardColorIndex:6},{basicColorIndex:5,standardColorIndex:6},{basicColorIndex:6,standardColorIndex:6},{basicColorIndex:7,standardColorIndex:5},{basicColorIndex:9,standardColorIndex:1},{basicColorIndex:10,standardColorIndex:4},{basicColorIndex:11,standardColorIndex:4},{basicColorIndex:12,standardColorIndex:5}]}),Mu={default:Lp({brandColor:"#326EF4",semanticColors:{red:"#FF4D4F",green:"#29A294",yellow:"#FAAD14"},others:{highlight:"#87B5FF",results:"#F0F7FF"},basicColorRelations:[{basicColorIndex:1,standardColorIndex:0},{basicColorIndex:2,standardColorIndex:1},{basicColorIndex:3,standardColorIndex:1},{basicColorIndex:4,standardColorIndex:2},{basicColorIndex:5,standardColorIndex:7},{basicColorIndex:6,standardColorIndex:5},{basicColorIndex:7,standardColorIndex:5},{basicColorIndex:9,standardColorIndex:1},{basicColorIndex:10,standardColorIndex:2},{basicColorIndex:11,standardColorIndex:5},{basicColorIndex:12,standardColorIndex:5}]}),colorful:Ip,gray:Lp({brandColor:"#9DA7B6",semanticColors:{red:"#FF4D4F",green:"#29A294",yellow:"#FAAD14"},others:{highlight:"#87B5FF",results:"#F0F7FF"},basicColorRelations:[{basicColorIndex:1,standardColorIndex:0},{basicColorIndex:2,standardColorIndex:1},{basicColorIndex:3,standardColorIndex:1},{basicColorIndex:4,standardColorIndex:2},{basicColorIndex:5,standardColorIndex:7},{basicColorIndex:6,standardColorIndex:8},{basicColorIndex:7,standardColorIndex:5},{basicColorIndex:9,standardColorIndex:1},{basicColorIndex:10,standardColorIndex:2},{basicColorIndex:11,standardColorIndex:3},{basicColorIndex:12,standardColorIndex:3}]})},zi="Roboto, PingFangSC, BlinkMacSystemFont, Microsoft YaHei, Arial, sans-serif",Dp={zh_CN:{\u5c0f\u8ba1:"\u5c0f\u8ba1",\u603b\u8ba1:"\u603b\u8ba1",\u603b\u548c:"\u603b\u548c",\u9879:"\u9879",\u5df2\u9009\u62e9:"\u5df2\u9009\u62e9",\u5e8f\u53f7:"\u5e8f\u53f7",\u5ea6\u91cf:"\u5ea6\u91cf",\u6570\u503c:"\u6570\u503c",\u5171\u8ba1:"\u5171\u8ba1",\u6761:"\u6761",\u8d8b\u52bf:"\u8d8b\u52bf",\u9690\u85cf:"\u9690\u85cf",\u7ec4\u5185\u5347\u5e8f:"\u7ec4\u5185\u5347\u5e8f",\u5347\u5e8f:"\u5347\u5e8f",\u964d\u5e8f:"\u964d\u5e8f",\u7ec4\u5185\u964d\u5e8f:"\u7ec4\u5185\u964d\u5e8f",\u4e0d\u6392\u5e8f:"\u4e0d\u6392\u5e8f"},en_US:{\u5c0f\u8ba1:"Total",\u603b\u8ba1:"Total",\u603b\u548c:"SUM",\u9879:"items",\u5df2\u9009\u62e9:"selected",\u5e8f\u53f7:"Index",\u5ea6\u91cf:"Measure",\u6570\u503c:"Measure",\u5171\u8ba1:"Total",\u6761:"",\u9690\u85cf:"Hide",\u8d8b\u52bf:"Trend",\u7ec4\u5185\u5347\u5e8f:"Group ASC",\u7ec4\u5185\u964d\u5e8f:"Group DESC",\u5347\u5e8f:"ASC",\u964d\u5e8f:"DESC",\u4e0d\u6392\u5e8f:"No order"}},Kn=function(a,o){return void 0===o&&(o=a),nr(Dp,["zh_CN",a],o)},NM="".concat("antv-s2","-tooltip"),Ym="".concat(NM,"-container"),JR="".concat(Ym,"-show"),KR="".concat(Ym,"-hide"),HM_x=("".concat(NM,"-operation"),15),Xm=1;function oi(a){return"mobile"===a||/(iPhone|iPad|SymbianOS|Windows Phone|iPod|iOS|Android)/i.test(navigator.userAgent)}function $m(){return/windows/i.test(navigator.userAgent)}var si=function(){function a(o){this.x=0,this.y=0,this.width=0,this.height=0,this.colIndex=-1,this.level=0,this.isLeaf=!1,this.children=[],this.padding=0;var l=o.key,c=o.value,f=o.label,v=o.parent,g=o.level,m=o.rowIndex,_=o.isTotals,b=o.isGrandTotals,A=o.isSubTotals,I=o.isCollapsed,O=o.isTotalRoot,F=o.hierarchy,B=o.isPivotMode,P=o.seriesNumberWidth,H=o.field,Y=o.spreadsheet,V=o.query,j=o.belongsCell,yt=o.inCollapseNode,Lt=o.isTotalMeasure,Pt=o.isLeaf,ge=o.extra;this.id=o.id,this.key=l,this.value=c,this.label=f||c,this.parent=v,this.level=g,this.rowIndex=m,this.isTotals=_,this.isCollapsed=I,this.hierarchy=F,this.isPivotMode=B,this.seriesNumberWidth=P,this.field=H,this.spreadsheet=Y,this.query=V,this.belongsCell=j,this.inCollapseNode=yt,this.isTotalMeasure=Lt,this.isLeaf=Pt,this.isGrandTotals=b,this.isSubTotals=A,this.isTotalRoot=O,this.extra=ge}return a.getFieldPath=function(o,i){if(o&&!o.isTotals||o&&i){for(var l=o.parent,c=[o.field];l&&l.id!==Sh;)c.push(l.field),l=l.parent;return c.reverse()}return[]},a.getAllLeaveNodes=function(o){var i=[];if(o.isLeaf)return[o];for(var l=Ae([],de(o.children),!1),c=l.shift();c;)c.isLeaf?i.push(c):l.unshift.apply(l,Ae([],de(c.children),!1)),c=l.shift();return i},a.getAllChildrenNodes=function(o){var i=[];if(o.isLeaf)return[o];for(var l=Ae([],de(o.children||[]),!1),c=l.shift();c;)i.push(c),l.unshift.apply(l,Ae([],de(c.children),!1)),c=l.shift();return i},a.getAllBranch=function(o){for(var i=[],l=this.getAllLeaveNodes(o),c=l.shift(),f=[];c;){f.unshift(c);for(var v=c.parent;v&&!ii(v,o);)f.unshift(v),v=v.parent;i.push(f),c=l.shift(),f=[]}return i},a.blankNode=function(){return new a({id:"",key:"",value:""})},a.rootNode=function(){return new a({id:"root",key:"",value:""})},a.prototype.toJSON=function(){return ua(this,["config","hierarchy","parent","spreadsheet"])},a.prototype.getHeadLeafChild=function(){for(var o=this;!Ve(o.children);)o=Cc(o.children);return o},a}(),kp=function(){function a(){this.width=0,this.height=0,this.maxLevel=-1,this.sampleNodesForAllLevels=[],this.sampleNodeForLastLevel=null,this.allNodesWithoutRoot=[],this.indexNode=[]}return a.prototype.getLeaves=function(){return this.allNodesWithoutRoot.filter(function(o){return o.isLeaf})},a.prototype.getNodes=function(o){return void 0!==o?this.allNodesWithoutRoot.filter(function(i){return i.level===o}):this.allNodesWithoutRoot},a.prototype.getNodesLessThanLevel=function(o){return this.allNodesWithoutRoot.filter(function(i){return i.level<=o})},a.prototype.pushNode=function(o,i){void 0===i&&(i=-1),-1===i?this.allNodesWithoutRoot.push(o):this.allNodesWithoutRoot.splice(i,0,o)},a.prototype.pushIndexNode=function(o){this.indexNode.push(o)},a.prototype.getIndexNodes=function(){return this.indexNode},a}(),xl=function a(o){var l=o.isSubTotals,c=o.isGrandTotals,f=o.isTotalRoot;this.label=o.label,this.isSubTotals=l,this.isGrandTotals=c,this.isTotalRoot=f};function Tf(a,o){for(var i={},l=a;l&&l.key;)(!l.isTotalRoot||o)&&(i[l.key]=l.value),l=l.parent;return i}var WM=function(a,o,i,l){return o.layoutArrange?o.layoutArrange(o.spreadsheet,i,l,a):a},qm=function(a,o,i,l){var c,f;if(null===(f=null===(c=a.spreadsheet)||void 0===c?void 0:c.facet)||void 0===f?void 0:f.getHiddenColumnsInfo(i))return!1;var g=!0,m=function(B,P,H){void 0===P&&(P=-1),void 0===H&&(H=-1),-1===P?(o.children.push(B),l.pushNode(B)):(o.children.splice(P,0,B),l.pushNode(B,H))};if(a.layoutHierarchy){var _=a.layoutHierarchy(a.spreadsheet,i);if(_){var b=!!No(_?.delete)&&_?.delete;g=!b;var A=_.push,I=_.unshift,O=o.children.length,F=l.getNodes().length;Ve(I)||(Cr(I,function(B){m(B)}),O=o.children.length,F=l.getNodes().length),Ve(A)||Cr(A,function(B){m(B)}),b||m(i,O,F)}else m(i)}else m(i);return g},Bp=function(a,o,i){a?.layoutCoordinate&&(o?.isLeaf||i?.isLeaf)&&a?.layoutCoordinate(a.spreadsheet,o,i)},YM=function a(o){this.label=o},a8="Data Cell Render",Os=function(){function a(){var o=this;this.debug=!1,this.debugCallback=function(i,l){if(o.debug){var c=performance.now();l();var f=performance.now();console.log(i,"".concat(f-c," ms"))}else l()},this.logger=function(i){for(var l=[],c=1;c<arguments.length;c++)l[c-1]=arguments[c];o.debug&&console.log.apply(console,Ae([i],de(l),!1))}}return a.getInstance=function(){return a.instance||(a.instance=new a),a.instance},a.prototype.setDebug=function(o){this.debug=o},a}(),Km=Object.freeze({__proto__:null,ArrowDown:'\n<svg width="10px" height="10px" viewBox="0 0 10 10" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n<g id="\u9875\u9762-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" font-family="Roboto, PingFangSC, BlinkMacSystemFont, Microsoft YaHei, Arial, sans-serif" font-size="12" font-weight="bold">\n    <text id="\u2193" fill="#29A294">\n        <tspan x="-0.225097656" y="8.5">\u2193</tspan>\n    </text>\n</g>\n</svg>',ArrowUp:'<svg width="10px" height="10px" viewBox="0 0 10 10" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n<g id="\u9875\u9762-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" font-family="Roboto, PingFangSC, BlinkMacSystemFont, Microsoft YaHei, Arial, sans-serif" font-size="12" font-weight="bold">\n    <text id="\u2191" fill="#FF4D4F">\n        <tspan x="-0.225097656" y="8.5">\u2191</tspan>\n    </text>\n</g>\n</svg>\n',CellDown:'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="7px" height="9px" viewBox="0 0 7 9" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 58 (84663) - https://sketch.com --\x3e\n    <title>down</title>\n    <desc>Created with Sketch.</desc>\n    <g id="\u4e00\u671f\u5f00\u53d1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <polygon id="down" fill="#58AE57" transform="translate(3.500000, 4.500000) scale(1, -1) translate(-3.500000, -4.500000) " points="3.5 0 7 9 0 9"></polygon>\n    </g>\n</svg>',CellUp:'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="7px" height="9px" viewBox="0 0 7 9" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 58 (84663) - https://sketch.com --\x3e\n    <title>up</title>\n    <desc>Created with Sketch.</desc>\n    <g id="\u4e00\u671f\u5f00\u53d1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <polygon id="up" fill="#F46649" points="3.5 0 7 9 0 9"></polygon>\n    </g>\n</svg> ',GlobalAsc:'<svg t="1557124621626" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"\nxmlns="http://www.w3.org/2000/svg" p-id="17452"\nxmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="14">\n<defs>\n  <style type="text/css"></style>\n</defs>\n<path d="M182.272 167.04a8 8 0 0 0-12.544 0L57.728 309.056A8 8 0 0 0 64 321.984h76.032v530.048c0 4.352 3.584 7.936 7.936 7.936h56.064a8 8 0 0 0 7.936-7.936V321.92H288a8 8 0 0 0 6.272-12.992l-112-141.888z m209.728 626.944h176c4.416 0 8 3.584 8 8v56a8 8 0 0 1-8 8h-176A8 8 0 0 1 384 857.984v-56c0-4.416 3.584-8 8-8z m0-424h368c4.416 0 8 3.648 8 8v56a8 8 0 0 1-8 8h-368A8 8 0 0 1 384 433.984v-56c0-4.352 3.584-8 8-8z m528-139.968h-528A8 8 0 0 1 384 222.016v-56c0-4.416 3.584-8 8-8h528c4.416 0 8 3.584 8 8v56a8 8 0 0 1-8 8z m-256 424h-272A8 8 0 0 1 384 646.016v-56c0-4.416 3.584-8 8-8h272c4.416 0 8 3.584 8 8v56a8 8 0 0 1-8 8z" p-id="17453"></path>\n</svg>',GlobalDesc:'<svg t="1557124685600" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"\n  xmlns="http://www.w3.org/2000/svg" p-id="17561"\n  xmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="14">\n  <defs>\n    <style type="text/css"></style>\n  </defs>\n  <path d="M182.272 856.96a8 8 0 0 1-12.544 0l-112-141.952A8 8 0 0 1 64 702.08h76.032V172.032c0-4.416 3.584-8 7.936-8h56.064c4.352 0 7.936 3.584 7.936 8v529.984H288c6.72 0 10.496 7.808 6.272 12.992l-112 141.888z m209.728-626.944h176A8 8 0 0 0 576 222.016v-56a8 8 0 0 0-8-8h-176A8 8 0 0 0 384 166.016v56c0 4.416 3.584 8 8 8z m0 424h368a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8h-368A8 8 0 0 0 384 590.016v56c0 4.416 3.584 8 8 8z m528 139.968h-528a8 8 0 0 0-8 8v56c0 4.416 3.584 8 8 8h528a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z m-256-424h-272A8 8 0 0 0 384 377.984v56c0 4.416 3.584 8 8 8h272a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z" p-id="17562"></path>\n</svg>',GroupAsc:'<svg t="1557124695786" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"\n  xmlns="http://www.w3.org/2000/svg" p-id="17670"\n  xmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="14">\n  <defs>\n    <style type="text/css"></style>\n  </defs>\n  <path d="M182.272 167.04a8 8 0 0 0-12.544 0L57.728 309.056A8 8 0 0 0 64 321.984h76.032v530.048c0 4.352 3.584 7.936 7.936 7.936h56.064a8 8 0 0 0 7.936-7.936V321.92H288a8 8 0 0 0 6.272-12.992l-112-141.888z m209.728 62.976h304A8 8 0 0 0 704 222.016v-56a8 8 0 0 0-8-8h-304A8 8 0 0 0 384 166.016v56c0 4.416 3.584 8 8 8z m0 424h304a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8h-304A8 8 0 0 0 384 590.016v56c0 4.416 3.584 8 8 8z m528 139.968h-528a8 8 0 0 0-8 8v56c0 4.416 3.584 8 8 8h528a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z m0-424h-528A8 8 0 0 0 384 377.984v56c0 4.416 3.584 8 8 8h528a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z" p-id="17671"></path>\n</svg>',GroupDesc:'<svg t="1557124710652" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"\n  xmlns="http://www.w3.org/2000/svg" p-id="17779"\n  xmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="14">\n  <defs>\n    <style type="text/css"></style>\n  </defs>\n  <path d="M182.272 856.96a8 8 0 0 1-12.544 0l-112-141.952A8 8 0 0 1 64 702.08h76.032V172.032c0-4.416 3.584-8 7.936-8h56.064c4.352 0 7.936 3.584 7.936 8v529.984H288c6.72 0 10.496 7.808 6.272 12.992l-112 141.888z m209.728-626.944h304A8 8 0 0 0 704 222.016v-56a8 8 0 0 0-8-8h-304A8 8 0 0 0 384 166.016v56c0 4.416 3.584 8 8 8z m0 424h304a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8h-304A8 8 0 0 0 384 590.016v56c0 4.416 3.584 8 8 8z m528 139.968h-528a8 8 0 0 0-8 8v56c0 4.416 3.584 8 8 8h528a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z m0-424h-528A8 8 0 0 0 384 377.984v56c0 4.416 3.584 8 8 8h528a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z" p-id="17780"></path>\n</svg>',GroupNone:'<svg width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n<g id="\u8bbe\u8ba1\u8f93\u51fa" stroke="none" stroke-width="1" fill-opacity="0.25" fill-rule="evenodd">\n    <g id="\u8bbe\u8ba1\u8f93\u51fa-\u79fb\u52a8\u7aef\u6307\u6807\u8be6\u60c5\u9875-\u9605\u8bfb\u7aef" transform="translate(-3275.000000, -724.000000)" fill-rule="nonzero">\n        <g id="\u7f16\u7ec4-39" transform="translate(3064.500000, 667.000000)">\n            <g id="\u7f16\u7ec4-36" transform="translate(80.500000, 44.000000)">\n                <g id="\u4e0d\u6392\u5e8f" transform="translate(130.000000, 13.000000)">\n                    <path d="M12.0009375,12.40625 C12.0696875,12.40625 12.1259375,12.4625 12.1259375,12.53125 L12.1259375,12.53125 L12.1259375,13.40625 C12.1259375,13.475 12.0696875,13.53125 12.0009375,13.53125 L12.0009375,13.53125 L6.25093747,13.53125 C6.18218747,13.53125 6.12593747,13.475 6.12593747,13.40625 L6.12593747,13.40625 L6.12593747,12.53125 C6.12593747,12.4625 6.18218747,12.40625 6.25093747,12.40625 L6.25093747,12.40625 Z M2.93949997,2.5801875 L2.97437497,2.6109375 L4.72437497,4.828125 C4.78062497,4.89776786 4.74503823,4.99725765 4.66779698,5.02426203 L4.62593747,5.03125 L3.438,5.03089062 L3.43843747,10.9691406 L4.62593747,10.9691406 C4.73062497,10.9691406 4.78999997,11.0910156 4.72437497,11.1722656 L2.97437497,13.3894531 C2.92437497,13.4535156 2.82749997,13.4535156 2.77749997,13.3894531 L1.02749997,11.1722656 C0.961874969,11.0894531 1.02124997,10.9691406 1.12593747,10.9691406 L2.31343747,10.9691406 L2.313,5.03089062 L1.12593747,5.03125 C1.03620533,5.03125 0.979764,4.94285714 1.00679571,4.8654519 L1.02749997,4.828125 L2.77749997,2.6109375 C2.81749997,2.5596875 2.88749997,2.5494375 2.93949997,2.5801875 Z M10.5009375,9.09375 C10.5696875,9.09375 10.6259375,9.15 10.6259375,9.21875 L10.6259375,9.21875 L10.6259375,10.09375 C10.6259375,10.1625 10.5696875,10.21875 10.5009375,10.21875 L10.5009375,10.21875 L6.25093747,10.21875 C6.18218747,10.21875 6.12593747,10.1625 6.12593747,10.09375 L6.12593747,10.09375 L6.12593747,9.21875 C6.12593747,9.15 6.18218747,9.09375 6.25093747,9.09375 L6.25093747,9.09375 Z M14.5009375,5.78125 C14.5696875,5.78125 14.6259375,5.8375 14.6259375,5.90625 L14.6259375,5.90625 L14.6259375,6.78125 C14.6259375,6.85 14.5696875,6.90625 14.5009375,6.90625 L14.5009375,6.90625 L6.25093747,6.90625 C6.18218747,6.90625 6.12593747,6.85 6.12593747,6.78125 L6.12593747,6.78125 L6.12593747,5.90625 C6.12593747,5.8375 6.18218747,5.78125 6.25093747,5.78125 L6.25093747,5.78125 Z M9.00093747,2.46875 C9.06968747,2.46875 9.12593747,2.525 9.12593747,2.59375 L9.12593747,2.59375 L9.12593747,3.46875 C9.12593747,3.5375 9.06968747,3.59375 9.00093747,3.59375 L9.00093747,3.59375 L6.25093747,3.59375 C6.18218747,3.59375 6.12593747,3.5375 6.12593747,3.46875 L6.12593747,3.46875 L6.12593747,2.59375 C6.12593747,2.525 6.18218747,2.46875 6.25093747,2.46875 L6.25093747,2.46875 Z" id="\u5f62\u72b6\u7ed3\u5408"></path>\n                </g>\n            </g>\n        </g>\n    </g>q\n</g>\n</svg>',Minus:'<svg t="1557140120188" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"\nxmlns="http://www.w3.org/2000/svg" p-id="16909" xmlns:xlink="http://www.w3.org/1999/xlink"\nwidth="200" height="200">\n\t<defs>\n\t\t<style type="text/css">\n\t\t</style>\n\t</defs>\n\t<path d="M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"\n\tp-id="16910">\n\t</path>\n\t<path d="M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32z m-40 728H184V184h656v656z"\n\tp-id="16911">\n\t</path>\n</svg>',Plus:'<svg t="1557140186692" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"\nxmlns="http://www.w3.org/2000/svg" p-id="17025" xmlns:xlink="http://www.w3.org/1999/xlink"\nwidth="200" height="200">\n\t<defs>\n\t\t<style type="text/css">\n\t\t</style>\n\t</defs>\n\t<path d="M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"\n\tp-id="17026">\n\t</path>\n\t<path d="M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32z m-40 728H184V184h656v656z"\n\tp-id="17027">\n\t</path>\n</svg>',SortDown:'<svg t="1565940955886" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"\n     p-id="17472" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200">\n  <defs>\n    <style type="text/css"></style>\n  </defs>\n  <path\n    fill-opacity="0.45"\n    d="M948 392.992l-403.008 488.99200001Q532 896 512.992 896t-32-14.016L76 392.992q-18.016-20.992-7.008-46.016T108 321.98400001L916 321.98400001q28 0 39.008 24.99199999T948 392.992z"\n    p-id="17473" data-spm-anchor-id="a313x.7781069.0.i2" class="selected"></path>\n</svg>\n',SortUp:'<svg t="1565940979768" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"\n     p-id="17620" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200">\n  <defs>\n    <style type="text/css"></style>\n  </defs>\n  <path\n    fill-opacity="0.45"\n    d="M76 631.008l403.008-488.99200001Q492 128 511.008 128t32 14.016L948 631.008q18.016 20.992 7.008 46.016T916 702.01599999L108 702.01599999q-28 0-39.008-24.99199999T76 631.008z"\n    p-id="17621"></path>\n</svg>\n',SortDownSelected:'<svg t="1565940955886" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"\n     p-id="17472" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200">\n  <defs>\n    <style type="text/css"></style>\n  </defs>\n  <path\n    d="M948 392.992l-403.008 488.99200001Q532 896 512.992 896t-32-14.016L76 392.992q-18.016-20.992-7.008-46.016T108 321.98400001L916 321.98400001q28 0 39.008 24.99199999T948 392.992z"\n    p-id="17473" data-spm-anchor-id="a313x.7781069.0.i2" class="selected"></path>\n</svg>\n',SortUpSelected:'<svg t="1565940979768" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"\np-id="17620" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200">\n<defs>\n<style type="text/css"></style>\n</defs>\n<path\nd="M76 631.008l403.008-488.99200001Q492 128 511.008 128t32 14.016L948 631.008q18.016 20.992 7.008 46.016T916 702.01599999L108 702.01599999q-28 0-39.008-24.99199999T76 631.008z"\np-id="17621"></path>\n</svg>\n',InfoCircle:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1590389330617" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="19656" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><defs><style type="text/css"></style></defs><path d="M512 64c-247.4 0-448 200.6-448 448s200.6 448 448 448 448-200.6 448-448-200.6-448-448-448z m0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" fill="" p-id="19657"></path><path d="M464 336c0 26.5 21.5 48 48 48s48-21.5 48-48-21.5-48-48-48-48 21.5-48 48zM536 448h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-272c0-4.4-3.6-8-8-8z" fill="" p-id="19658"></path></svg>',ExpandColIcon:'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="23px" height="12px" viewBox="0 0 23 12" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>\u7f16\u7ec4 8\u5907\u4efd 3</title>\n    <g id="----\u9690\u85cf\u5217\u6807\u6ce8\uff01" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="\u9690\u85cf\u5217\u6807\u6ce8" transform="translate(-275.000000, -824.000000)">\n            <rect fill="#FFFFFF" x="0" y="0" width="1333" height="1167"></rect>\n            <g id="\u7f16\u7ec4-8\u5907\u4efd-3" transform="translate(275.000000, 824.000000)">\n                <rect id="\u77e9\u5f62" stroke-opacity="0.25" stroke="#000000" fill="#F7F7F7" x="0.5" y="0.5" width="11" height="11"></rect>\n                <rect id="\u77e9\u5f62\u5907\u4efd-9" stroke-opacity="0.25" stroke="#000000" fill="#F7F7F7" x="11.5" y="0.5" width="11" height="11"></rect>\n                <g id="7.Icon/arrow/15.down/fill" transform="translate(6.000000, 6.000000) rotate(90.000000) translate(-6.000000, -6.000000) " fill="#000000" fill-rule="nonzero" opacity="0.65">\n                    <path d="M7.25020811,6.37218077 L4.91348936,8.20968077 C4.82677061,8.27764952 4.69903624,8.21671202 4.69903624,8.10655577 L4.69903624,4.43272764 C4.69903624,4.32257139 4.82677061,4.26046202 4.91348936,4.32960264 L7.25020811,6.16593077 C7.31700499,6.21866514 7.31700499,6.31944639 7.25020811,6.37218077 Z" id="fill" transform="translate(5.999671, 6.269385) rotate(90.000000) translate(-5.999671, -6.269385) "></path>\n                </g>\n                <g id="7.Icon/arrow/15.down/fill" transform="translate(17.000000, 6.000000) rotate(270.000000) translate(-17.000000, -6.000000) translate(11.000000, 0.000000)" fill="#000000" fill-rule="nonzero" opacity="0.65">\n                    <path d="M7.25020811,6.37218077 L4.91348936,8.20968077 C4.82677061,8.27764952 4.69903624,8.21671202 4.69903624,8.10655577 L4.69903624,4.43272764 C4.69903624,4.32257139 4.82677061,4.26046202 4.91348936,4.32960264 L7.25020811,6.16593077 C7.31700499,6.21866514 7.31700499,6.31944639 7.25020811,6.37218077 Z" id="fill" transform="translate(5.999671, 6.269385) rotate(90.000000) translate(-5.999671, -6.269385) "></path>\n                </g>\n            </g>\n            <line x1="286.5" y1="813" x2="286.5" y2="864.5" id="\u8def\u5f84-2\u5907\u4efd-3" stroke="#000000" opacity="0.25"></line>\n        </g>\n    </g>\n</svg>',Trend:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1596433821690" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="20229" width="16" height="16" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><style type="text/css"></style></defs><path d="M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM305.8 637.7c3.1 3.1 8.1 3.1 11.3 0l138.3-137.6L583 628.5c3.1 3.1 8.2 3.1 11.3 0l275.4-275.3c3.1-3.1 3.1-8.2 0-11.3l-39.6-39.6c-3.1-3.1-8.2-3.1-11.3 0l-230 229.9L461.4 404c-3.1-3.1-8.2-3.1-11.3 0L266.3 586.7c-3.1 3.1-3.1 8.2 0 11.3l39.5 39.7z" p-id="20230"></path></svg>',DrillDownIcon:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1608030723688" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="21482" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16"><defs><style type="text/css"></style></defs><path d="M547.648 696a32 32 0 0 1 31.488 26.24l0.512 5.76v151.68l145.216-144.512a32 32 0 0 1 40.832-3.648l4.416 3.712a32 32 0 0 1 3.584 40.832l-3.712 4.48-203.072 202.24a32 32 0 0 1-40.768 3.648l-4.416-3.712-202.24-202.24a32 32 0 0 1 40.832-48.96l4.416 3.712 150.912 150.912v-158.144a32 32 0 0 1 32-32z m194.56-529.28l4.928 3.072 233.792 180.224a32 32 0 0 1 1.728 49.28l-4.864 3.52-409.792 245.568a32 32 0 0 1-27.328 2.624l-5.184-2.432-422.4-245.568a32 32 0 0 1-7.552-49.28l4.544-4.032 242.816-180.288a32 32 0 0 1 42.432 47.552l-4.288 3.84-203.84 151.296 364.16 211.648 353.28-211.712-196.608-151.552a32 32 0 0 1-8.896-40l3.136-4.864a32 32 0 0 1 40-8.96zM547.712 28.672a32 32 0 0 1 31.488 26.24l0.512 5.76v396.992a32 32 0 0 1-63.488 5.76l-0.512-5.76V60.736a32 32 0 0 1 32-32z" p-id="21483" fill="currentColor"></path></svg>\n',EyeOutlined:'<svg viewBox="64 64 896 896" focusable="false" data-icon="eye" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"></path></svg>'}),Qm={},JM=function(a,o){Qm[om(a)]=o};Kr(Km).forEach(function(a){JM(a,Km[a])});var QM="data:image/svg+xml",tb={},Af=function(a){function o(i){var l=a.call(this,i)||this;return l.isOnlineLink=function(c){return/^(https?:)?(\/\/)/.test(c)},l.render(),l}return Sr(o,a),o.prototype.getImage=function(i,l,c){var f=this;return new Promise(function(v,g){var m=function(a){return Qm[om(a)]}(i);if(m){var _=new Image;_.onload=function(){tb[l]=_,v(_)},_.onerror=g,m.includes(QM)||f.isOnlineLink(m)?_.src=m:(c&&(m=(m=m.replace(/fill=[\'\"]#?\w+[\'\"]/g,"")).replace(/fill>/g,">")),m=m.replace("<svg","".concat("<svg",' fill="').concat(c,'"')),_.src="".concat(QM,";utf-8,").concat(encodeURIComponent(m)))}})},o.prototype.render=function(){var i=this.cfg,l=i.name,c=i.fill,f=Ss(this.cfg),v=Ft(Ft({},ua(f,"fill")),{type:o.type}),g=new J0({attrs:v});this.iconImageShape=g,this.setImageAttrs({name:l,fill:c})},o.prototype.setImageAttrs=function(i){var l=this,c=i.name,f=i.fill,v=this.iconImageShape;f=f||v.attrs.fill;var g="".concat(c=c||v.attrs.name,"-").concat(f),m=tb[g];m?(v.attr("img",m),this.addShape("image",v)):this.getImage(c,g,f).then(function(_){l.destroyed||(v.attr("img",_),l.addShape("image",v))}).catch(function(_){console.error("GuiIcon ".concat(c," load failed"),_)})},o.type="__GUI_ICON__",o}(ss),Pn=(()=>(function(a){a.TOP="TOP",a.BOTTOM="BOTTOM",a.LEFT="LEFT",a.RIGHT="RIGHT"}(Pn||(Pn={})),Pn))(),Tu=(()=>(function(a){a.SUM="SUM",a.MIN="MIN",a.MAX="MAX",a.AVG="AVG"}(Tu||(Tu={})),Tu))(),Ea=(()=>(function(a){a.Row="row",a.Col="col",a.Series="series"}(Ea||(Ea={})),Ea))(),v8=function(){function a(){this.store=new Map}return a.prototype.set=function(o,i){return this.store.set(o,i)},a.prototype.get=function(o,i){var l;return null!==(l=this.store.get(o))&&void 0!==l?l:i},a.prototype.clear=function(){this.store.clear()},a.prototype.size=function(){return this.store.size},a}(),Pp=function(a){var o,i,l=a.facetCfg,c=a.level,f=a.fields,v=l.colCfg,g=l.spreadsheet,_=l.dataSet.moreThanOneValue(),b=null===(i=null===(o=g.dataCfg.fields)||void 0===o?void 0:o.valueInCols)||void 0===i||i,A=v?.hideMeasureColumn&&b&&!_&&yi(f,Pr);return c===f.length-(A?2:1)},eb=function(a){var o=a.addTotalMeasureInTotal,i=a.parentNode,l=a.currentField,c=a.fields,f=a.facetCfg,v=a.hierarchy,g=c.indexOf(l),m=f.dataSet,_=f.values,b=f.spreadsheet,A=[],I=m.getFieldName(l),O={},F=b.getTotalsConfig(l);if((i.isGrandTotals?F.totalsGroupDimensions:F.subTotalsGroupDimensions)?.includes(l)){O=Tf(i);var P=m.getTotalDimensionValues(l,O);A.push.apply(A,Ae([],de((P||[]).map(function(Y){return new xl({label:Y,isSubTotals:i.isSubTotals,isGrandTotals:i.isGrandTotals,isTotalRoot:!1})})),!1)),Ve(A)&&A.push(I)}else{if(!o||l!==Pr)return Pp({facetCfg:f,level:g,fields:c})?(i.isLeaf=!0,v.pushIndexNode(i),void(i.rowIndex=v.getIndexNodes().length-1)):void eb(Ft(Ft({},a),{currentField:c[g+1]}));O=Tf(i),A.push.apply(A,Ae([],de(_.map(function(Y){return new YM(Y)})),!1))}var H=A.filter(function(Y){return!Ho(Y)});nb(Ft(Ft({},a),{fieldValues:H,level:g,parentNode:i,query:O}))},rb=function(a){a.parentNode.isTotals?eb(a):function(a){var o,A,i=a.parentNode,l=a.currentField,c=a.fields,f=a.facetCfg,v=c.indexOf(l),g=f.dataSet,m=f.spreadsheet,_=[],b=g.getFieldName(l);A=Tf(i,!0);var I=g.getDimensionValues(l,A),O=WM(I,f,i,l);_.push.apply(_,Ae([],de(O||[]),!1)),Ve(_)&&(l===Pr?_.push.apply(_,Ae([],de(null===(o=g.fields)||void 0===o?void 0:o.values),!1)):_.push(b)),function(a){var o,m,_,i=a.isFirstField,l=a.currentField,c=a.fieldValues,g=a.spreadsheet.getTotalsConfig(i?l:a.lastField);i?g?.showGrandTotals&&(m=g.reverseLayout?"unshift":"push",_=new xl({label:g.label,isSubTotals:!1,isGrandTotals:!0,isTotalRoot:!0})):g?.showSubTotals&&(it.size(c)>1||!1!==it.get(g,"showSubTotals.always"))&&l!==Pr&&(m=g.reverseSubLayout?"unshift":"push",_=new xl({label:g.subLabel,isSubTotals:!0,isGrandTotals:!1,isTotalRoot:!0})),null===(o=c[m])||void 0===o||o.call(c,_)}({currentField:l,lastField:c[v-1],isFirstField:0===v,fieldValues:_,spreadsheet:m});var F=_.filter(function(B){return!Ho(B)});nb(Ft(Ft({},a),{fieldValues:F,level:v,parentNode:i,query:A}))}(a)},zc=function(a,o){return"".concat(a).concat(Fn).concat(o)},nb=function(a){var o,i,l,c,f,v,g,m,_,b,A=a.currentField,I=a.fields,O=a.fieldValues,F=a.facetCfg,B=a.hierarchy,P=a.parentNode,H=a.level,Y=a.query,V=a.addMeasureInTotalQuery,j=a.addTotalMeasureInTotal,yt=F.spreadsheet,Lt=F.collapsedCols;try{for(var Pt=Ei(O.entries()),ge=Pt.next();!ge.done;ge=Pt.next()){var Me=de(ge.value,2),Ie=Me[0],Pe=Me[1],$e=Pe instanceof xl,lr=Pe instanceof YM,ir=void 0,er=void 0,Ze=!1,Nr=!1,Br=!1,un=!1,Tr=A;$e?(Nr=Pe.isGrandTotals,Br=Pe.isSubTotals,un=Pe.isTotalRoot,ir=Kn(Pe.label),er=un?Y:Ft(Ft({},Y),((l={})[A]=ir,l)),V&&(er[Pr]=null===(g=yt?.dataSet)||void 0===g?void 0:g.fields.values[0]),Ze=Pp({facetCfg:F,level:H,fields:I})):lr?(ir=Kn(Pe.label),er=Ft(Ft({},Y),((c={})[Pr]=ir,c)),Tr=Pr,Nr=P.isGrandTotals,Br=P.isSubTotals,Ze=Pp({facetCfg:F,level:H,fields:I})):yt.isTableMode()?(ir=Pe,Tr=I[Ie],er=Ft(Ft({},Y),((f={})[Tr]=ir,f)),Ze=!0):(ir=Pe,er=Ft(Ft({},Y),((v={})[A]=ir,v)),Ze=Pp({facetCfg:F,level:H,fields:I}));var qr=zc(P.id,ir);if(!qr)return;var Ni=!!No(Lt?.[qr])&&Lt?.[qr],Ln=new si({id:qr,key:Tr,value:ir,level:H,field:Tr,parent:P,isTotals:$e||lr,isGrandTotals:Nr,isSubTotals:Br,isTotalMeasure:lr,isCollapsed:Ni,isTotalRoot:un,hierarchy:B,query:er,spreadsheet:yt,isLeaf:Ze||Ni}),Hr=qm(F,P,Ln,B),dn=null===(m=yt?.facet)||void 0===m?void 0:m.getHiddenColumnsInfo(Ln);dn&&P&&(P.hiddenChildNodeInfo=dn),H>B.maxLevel&&!Nr&&!P.isGrandTotals&&!P.isSubTotals&&!Ln.isSubTotals&&(B.sampleNodesForAllLevels.push(Ln),B.maxLevel=H,B.sampleNodeForLastLevel=dn?(null===(_=dn?.displaySiblingNode)||void 0===_?void 0:_.next)||(null===(b=dn?.displaySiblingNode)||void 0===b?void 0:b.prev):Ln),Ze||Ni||!Hr?(Ln.isLeaf=!0,B.pushIndexNode(Ln),Ln.rowIndex=B.getIndexNodes().length-1):rb({addTotalMeasureInTotal:j,addMeasureInTotalQuery:V,parentNode:Ln,currentField:I[H+1],fields:I,facetCfg:F,hierarchy:B})}}catch(ci){o={error:ci}}finally{try{ge&&!ge.done&&(i=Pt.return)&&i.call(Pt)}finally{if(o)throw o.error}}},ib=function(a,o,i,l){var c=o.facetCfg,f=o.hierarchy,v=o.parentNode,g=c.dataSet;a.forEach(function(m,_){"string"==typeof m&&(m={key:m});var b=m.key,A=b===$u?Kn("\u5e8f\u53f7"):g.getFieldName(b),I=l||v;if(nb({currentField:b,fields:[b],fieldValues:[A],facetCfg:c,hierarchy:f,parentNode:I,level:i,query:{},addMeasureInTotalQuery:!1,addTotalMeasureInTotal:!1}),m.children&&m.children.length){var O=I.children[_];O.isLeaf=!1,ib(m.children,o,i+1,O)}})},Au=function(a,o){return o>0&&a<o},Eu=function(a,o,i){return o>0&&a>=i-o},zp=function(a,o,i){return i>0&&a<o+i},Ef=function(a,o,i){return i>0&&a>=o+1-i},ab=function(a,o,i,l,c,f){var v=Po(i,function(A,I){var O=a-(fn(f)?0:f)+c.x;return O>=A&&O<i[I+1]},0);v=Math.max(v,0);var g=Po(i,function(A,I){var O=c.width+a+c.x;return O>=A&&O<i[I+1]},v);g=Math.min(-1===g?1/0:g,i.length-2);var m=l.getIndexRange(o+c.y,c.height+o+c.y);return[v,g,m.start,m.end]},g8=function(a,o,i){var c=Math.abs(a/o);return[(c<=.5?0:a)*i.horizontal,(c>2?0:o)*i.vertical]},wl=function(a,o,i){var l,c,f=a?.getMatrix(),v=null!==(l=f?.[6])&&void 0!==l?l:0,g=null!==(c=f?.[7])&&void 0!==c?c:0;a?.translate(o-v,i-g)},t1=function(a,o){var i,l=a?.getMatrix(),c=null!==(i=l?.[6])&&void 0!==i?i:0;a?.translate(o-c,0)},m8=function(a,o,i,l){var c=o.frozenColCount,v=o.frozenTrailingColCount,g=o.frozenTrailingRowCount,m=a.colIndex,_=a.rowIndex;return zp(_,l.start,o.frozenRowCount)?Gn.ROW:Ef(_,l.end,g)?Gn.TRAILING_ROW:Au(m,c)?Gn.COL:Eu(m,v,i)?Gn.TRAILING_COL:Gn.SCROLL},x8=function(a,o,i){for(var l,c=a.frozenColCount,f=a.frozenRowCount,v=a.frozenTrailingColCount,g=a.frozenTrailingRowCount,m=((l={})[Gn.TOP]=[],l[Gn.BOTTOM]=[],l),_=0;_<c;_++){for(var b=i.start;b<i.start+f;b++)m[Gn.TOP].push({x:_,y:b});if(g>0)for(b=0;b<g;b++)m[Gn.BOTTOM].push({x:_,y:i.end-b})}for(_=0;_<v;_++){var I=o-1-_;for(b=i.start;b<i.start+f;b++)m[Gn.TOP].push({x:I,y:b});if(g>0)for(b=0;b<g;b++)m[Gn.BOTTOM].push({x:I,y:i.end-b})}return m},Np=function(a,o,i){var l=o,c=i,f=function(v){return v.isLeaf?1:v.children?v.children.reduce(function(g,m){return g+f(m)},0):0};return o&&(l=a.slice(0,o).reduce(function(v,g){return v+f(g)},0)),i&&(c=a.slice(a.length-i).reduce(function(v,g){return v+f(g)},0)),{colCount:l,trailingColCount:c}},ob=function(a,o){return a.reduce(function(i,l){"string"==typeof l&&(l={key:l});var c=Ft({},l);return c.children?(c.children=ob(c.children,o),i.push(c),i):(o[c.key]&&i.push(c),i)},[])},ja=function(a){return"root"===a.parent.id},Lu=function(a){var o=function(a){var o=[],i=function(l){l.forEach(function(c){"string"!=typeof c&&c.children?i(c.children):o.push(c)})};return i(a),o}(a);return o.map(function(i){return"string"==typeof i?i:i.key})},Lf=function(a){var o=a.children[0];return o?o.isLeaf?o:Lf(o):a},e1=function(a,o,i){return a.sort(function(l,c){i&&(l=i(l),c=i(c));var f=o.indexOf(l),v=o.indexOf(c);return-1===f&&-1===v?0:-1===f?1:-1===v?-1:f-v})},If=function(a){return $a(a,function(o){return!Ho(o)&&"undefined"!==o})},r1=function(a){var o;return null===(o=Kr(a))||void 0===o?void 0:o.reduce(function(i,l){var c=nr(a,l);return Array.isArray(c)?i=i.concat(r1(c)):i?.push(c),i},[])},n1=function(a){var o=[];if(Array.isArray(a))for(var l=(a.length+("undefined"in a?1:0)),c=0,f=function(){var v=c===a.length?a.undefined:a[c];c++,v&&"undefined"in v?Kr(v).forEach(function(g){o.push(v[g])}):Array.isArray(v)?o.push.apply(o,Ae([],de(v),!1)):o.push(v)};c<l;)f();else o.push(a);return o},cb=function(a,o){var i=[];return a?.forEach(function(l,c){void 0===l&&o[c]&&i.push(o[c])}),i},hb=function(a,o){return!sf(a,function(i){return o[i]})};function fb(a,o){var i=o.rows,l=o.columns;return xu(a,function(c,f){return hb([].concat(i).concat(l),f)&&c.push(f),c},[])}"KMBTP".split("");var Nc=function(a){return Number.parseFloat((ma(a)||0).toPrecision(16))},_l=function(a,o,i){if(void 0===i&&(i=0),!Object.values(a).find(function(v){return v>0}))return a;var l=Ft({},a);l.frozenColCount>=o&&(l.frozenColCount=o);var c=o-l.frozenColCount;l.frozenTrailingColCount>c&&(l.frozenTrailingColCount=c),l.frozenRowCount>=i&&(l.frozenRowCount=i);var f=i-l.frozenRowCount;return l.frozenTrailingRowCount>f&&(l.frozenTrailingRowCount=f),l};function ha(a,o,i){var l;return null===(l=a?.addShape)||void 0===l?void 0:l.call(a,"rect",Ft({zIndex:1,attrs:o},i||{}))}function db(a,o){var i;return null===(i=a?.addShape)||void 0===i?void 0:i.call(a,"circle",{attrs:o})}function Iu(a,o,i,l,c,f,v,g){var m;return!Ve(o)&&a&&Cr(o,function(_){a.contain(_)&&a.removeChild(_,!0)}),null===(m=a?.addShape)||void 0===m?void 0:m.call(a,"text",{attrs:Ft(Ft({x:i,y:l,text:c,originalText:g},f),v)})}function li(a,o,i){var l;return null===(l=a?.addShape)||void 0===l?void 0:l.call(a,"line",{zIndex:100,attrs:Ft(Ft({},o),i)})}function fa(a,o,i){Ve(a)||(yr(a)?a:[a]).forEach(function(c){xf(c,"attrs.".concat(o),i)})}function a1(a,o){var i=new Af(o);return a?.add(i),i}function o1(a,o,i,l,c){var f=new Af(Ft(Ft({name:l?"Plus":"Minus"},o),{fill:i}));return Dn(c)&&f.on("click",c),a?.add(f),f}var Vp,s1="s2-offscreen-canvas",I8=function(a){var o;return null!==(o=a?.position)&&void 0!==o?o:"right"},vb=function(a,o){var i,l,c,f=a.data,v=a.encode,g=a.type,m=o.getMeta(),_=m.x,b=m.y,A=m.height,I=m.width,O=o.getStyle(We.DATA_CELL),F=O.cell,B=O.miniChart,P=[],H=$r(f,function(lr){return P.push(lr?.[v.y]),{x:lr[v.x],y:lr[v.y]}}),Y=ho(P),V=lm(P),j=Y-V,yt=_+F.padding.left,Lt=_+I-F.padding.right,Pt=b+F.padding.top,ge=b+A-F.padding.bottom,Me=ge-Pt,Ie=g===ls.Bar?(Lt-yt-(P.length-1)*(null===(i=B?.bar)||void 0===i?void 0:i.intervalPadding))/P.length+(null===(l=B?.bar)||void 0===l?void 0:l.intervalPadding):null!==(c=(Lt-yt)/(P.length-1))&&void 0!==c?c:0,Pe=[];return{points:$r(H,function(lr,ir){var er,Nr,Ze=yt+ir*Ie;if(Nr=0!==j?ge-(lr?.y-V)/j*Me:V>0?Pt:ge,g===ls.Bar){var Br=void 0,un=void 0;V<0&&Y>0&&0!==j?(Br=ge-(0-V)/j*Me,un=Math.abs(Nr-Br),lr?.y<0&&(Nr=Br)):(Br=V<0?Pt:ge,un=0===(j=ho([Math.abs(Y),Math.abs(V)]))?Me:Math.abs(lr?.y-0)/j*Me,Nr=Br);var Tr=Ie-(null===(er=B?.bar)||void 0===er?void 0:er.intervalPadding);Pe.push([Tr,un])}return[Ze,Nr]}),box:Pe}},D8=function(a,o,i){var l=Number(o)-Number(a);return Number.isNaN(l)||Number(a)<0?i.bad:l<=.1?i.good:l>.1&&l<=.2?i.satisfactory:i.bad},z8=function(a,o){switch(o?.type){case ls.Line:!function(a,o){if(!Ve(a?.data)&&!Ve(o)){var c=o.getStyle(We.DATA_CELL).miniChart.line,f=c.point,v=c.linkLine,g=vb(a,o).points;!function A8(a,o){var i;null===(i=a?.addShape)||void 0===i||i.call(a,"polyline",{attrs:o})}(o,{points:g,stroke:v.fill,lineWidth:v.size,opacity:v.opacity});for(var m=0;m<g.length;m++)db(o,{x:g[m][0],y:g[m][1],r:f.size,fill:f.fill,fillOpacity:f.opacity})}}(o,a);break;case ls.Bar:!function(a,o){if(!Ve(a?.data)&&!Ve(o))for(var c=o.getStyle(We.DATA_CELL).miniChart.bar,f=vb(a,o),v=f.points,g=f.box,m=0;m<v.length;m++)ha(o,{x:v[m][0],y:v[m][1],width:g[m][0],height:g[m][1],fill:c.fill,fillOpacity:c.opacity})}(o,a);break;default:!function(a,o){var i,l=o.getStyle(We.DATA_CELL),c=o.getMeta(),f=c.x,v=c.y,g=c.height,m=c.width,_=c.spreadsheet;if(Ve(a))Iu(o,[],f+m-l.cell.padding.right,v+g/2,Ou(o,_.options.placeholder),l.text);else{var b=l.miniChart.bullet,A=b.progressBar,I=b.comparativeMeasure,O=b.rangeColors,F=b.backgroundColor,B=a.measure,P=a.target,H=Math.max(Number(B),0),Y=Math.max(Number(P),0),V=function(a,o){var i,l;void 0===o&&(o={min:0,max:0});var c=Number(a);if(Number.isNaN(c))return a;var f=null!==(i=o?.min)&&void 0!==i?i:o,v=null!==(l=o?.max)&&void 0!==l?l:o;return new Intl.NumberFormat("en-US",{minimumFractionDigits:f,maximumFractionDigits:v,useGrouping:!1,style:"percent"}).format(c)}(B,2),yt=l.cell.padding,Lt=m-yt.left-yt.right,Pt=(A?.widthPercent>1?A?.widthPercent/100:A?.widthPercent)*Lt,ge=Lt-Pt,Me=f+m-yt.right-Pt,Ie=v+g/2-A.height/2;ha(o,{x:Me,y:Ie,width:Pt,height:A.height,fill:F,textBaseline:l.text.textBaseline});var Pe=nr(o.getMeta(),"spreadsheet.options.bullet.getRangeColor"),$e=Math.max(Math.min(Pt*H,Pt),0);ha(o,{x:Me,y:Ie+(A.height-A.innerHeight)/2,width:$e,height:A.innerHeight,fill:null!==(i=Pe?.(H,Y))&&void 0!==i?i:D8(H,Y,O)});var lr=Me+Pt*Y;li(o,{x1:lr,y1:v+(g-I.height)/2,x2:lr,y2:v+(g-I.height)/2+I.height},{stroke:I?.fill||I?.color,lineWidth:I.width,opacity:I?.opacity}),Iu(o,[],Me-yt.right,v+g/2,Sl({measureTextWidth:_.measureTextWidth,text:V,maxWidth:ge-yt.right,fontParam:l.text}),l.text)}}(o,a)}},pb=function(a,o){return{x:a.x+o?.left,y:a.y+o?.top,width:a.width-o?.left-o?.right,height:a.height-o?.top-o?.bottom}},gb=function(a){return cp({size:0,position:"right",margin:{left:0,right:0}},a)},l1=function(a,o){return a-(o=gb(o)).size-o.margin.right-o.margin.left},Of=function(a,o,i){var l=a.y,c=a.height;void 0===i&&(i=0);var f=0;switch(o){case"top":f=l;break;case"middle":f=l+c/2-i/2;break;default:f=l+c-i}return f},Hc=function(a,o,i,l,c){void 0===i&&(i=0),void 0===c&&(c=1);var F,B,f=a.x,v=a.width,g=o.textAlign,m=o.textBaseline,_=gb(l),b=_.size,A=_.margin,I=_.position,O=c*(b+A.left)+(c?A.right:0);switch(g){case"left":F=f+("left"===I?O:0),B=f+("left"===I?A.left:i+A.left);break;case"center":var H=f+v/2-(O-("left"===I?A.left:A.right)+i)/2;F=H+i/2+("left"===I?O-A.left:0),B=H+("left"===I?0:i+A.left);break;default:F=f+v-("right"===I?O:0),B=f+v-("right"===I?O-A.left:i+O-A.left)}return{text:{x:F,y:Of(a,m,0)},icon:{x:B,y:Of(a,m,b)}}},Rs=function(a,o,i){var O,F,B,P,H,l=o.x,c=o.y,f=o.width,v=o.height,g=i.horizontalBorderWidth,b=i.verticalBorderWidth;if(a===Pn.TOP||a===Pn.BOTTOM){var Y;F=Y=a===Pn.TOP?c+b/2:c+v-b/2,P=Y,O=l,B=l+f,H={lineWidth:g,stroke:i.horizontalBorderColor,strokeOpacity:i.horizontalBorderColorOpacity}}if(a===Pn.LEFT||a===Pn.RIGHT){var V;O=V=a===Pn.LEFT?l+g/2:l+f-g/2,B=V,F=c,P=c+v,H={lineWidth:b,stroke:i.verticalBorderColor,strokeOpacity:i.verticalBorderColorOpacity}}return{position:{x1:O,x2:B,y1:F,y2:P},style:H}},mb=($n(function(a,o){if(void 0===a&&(a=""),!o)return 0;var i=function(){var a=document.getElementById(s1);return a||((a=document.createElement("canvas")).id=s1,a.style.display="none",document.body.appendChild(a),a)}().getContext("2d"),f=o.fontFamily;return i.font=[o.fontStyle,o.fontVariant,o.fontWeight,"".concat(o.fontSize,"px"),f].join(" ").trim(),i.measureText("".concat(a)).width},function(a,o){return Ae([a],de(zo(o)),!1).join("")}),function(a,o,i,l){var v,f=a(us,l);v=cl(o)?o:tn(o);var _,b,g=i,m=[];if(a(o,l)<=i)return o;for(var A=!0;A;){if((b=a(_=v.substr(0,16),l))+f>g&&b>g){A=!1;break}if(m.push(_),g-=b,!(v=v.substr(16)))return m.join("")}for(var I=!0;I;){if((b=a(_=v.substr(0,1),l))+f>g){I=!1;break}if(m.push(_),g-=b,!(v=v.substr(1)))return m.join("")}return"".concat(m.join(""),"...")}),Sl=function(a){var o=a.measureTextWidth,i=a.text,l=a.maxWidth,c=a.fontParam,f=a.priorityParam,g={},m=a.placeholder??"-",_=fn(i)||""===i?m:"".concat(i),b=f;if(c&&yr(c)?b=c:g=c||{},!b||!b.length)return mb(o,_,l,g);var A=[],I=[_];b.forEach(function(P){I.forEach(function(H,Y){var V=-1,j=H.match(new RegExp(P));if(j){var yt=j[0];V=j.index,A.push(yt);var Lt=V+yt.length,Me=[H.slice(0,V),H.slice(Lt)].filter(function(Ie){return!!Ie});I.splice.apply(I,Ae([Y,1],de(Me),!1))}})}),I=A.concat(I);var O=_,F=o(us,g),B=l;return I.forEach(function(P){if(B<=0){var H=O.indexOf(P),Y=O.slice(H-3,H);if(Y&&Y!==us){var V=o(P,g);O=O.replace(P,V>F?us:P)}else O=O.replace(P,"");B-=F}else if(V=o(P,g),B<V&&V>F){var j=mb(o,P,B,g);O=O.replace(P,j),B=0}else B-=V}),O},u1=function(a,o,i,l){void 0===l&&(l="left");var c=o.right,v=i||0;return"left"===l?a+c/2+v:"right"===l?a-c/2-v:a+o.left/2+v},Cb=function(a){var f=a.textStyle,v=a.textCondition,g=f.fill;return v?.mapping&&(g=v?.mapping(a.data,{rowIndex:a.rowIndex,colIndex:a.colIndex,meta:a.meta}).fill),Ft(Ft({},f),{fill:g})},Ou=function(a,o){return Dn(o)?o(a):o},h1=function(a,o){return void 0===o&&(o=1),a?.width*o};function _b(a,o){return o.map(function(i){var l=a[i];return void 0===l?l:"".concat(l)})}function Yp(a){return a.map(function(o){var i=o?.split(Fn);return i[i?.length-1]||o})}function Rf(a){var i=a.colDimensionValues,l=a.careUndefined,c=a.isFirstCreate,f=a.onFirstCreate,v=a.rowFields,g=a.colFields,m=a.rowPivotMeta,_=a.colPivotMeta,b=function(O,F,B,P){void 0===F&&(F=!0);for(var H=F?B:P,Y=F?v:g,V=[],j=0;j<O.length;j++){var yt=O[j];if(!H.has(yt))if(c)H.set(yt,{level:H.size,children:new Map}),f?.({isRow:F,dimension:Y?.[j],dimensionPath:O.slice(0,j+1)});else{var Lt=H.get(yt);if(Lt&&V.push(Lt.level),!l)break}var Pt=H.get(yt);Ho(yt)&&l?V.push(yt):V.push(Pt?.level),Pt&&(c&&(Pt.childField=Y?.[j+1]),H=Pt?.children)}return V},A=b(a.rowDimensionValues,!0,m,_),I=b(i,!1,m,_);return A.concat.apply(A,Ae([],de(I),!1))}function Ml(a,o){return xu(a,function(i,l){return i.push(o[l]),i},[])}function f1(a){var o=a.rows,i=a.columns,l=a.originData,c=void 0===l?[]:l,f=a.indexesData,v=void 0===f?[]:f,g=a.totalData,m=void 0===g?[]:g,_=a.sortedDimensionValues,b=a.rowPivotMeta,A=a.colPivotMeta,I=[],O=new Set(Qy(o,i)),F=function(P){var Y=P.dimension,V=P.dimensionPath;!P.isRow&&O.has(Y)||(_[Y]||(_[Y]=[])).push(V.map(function(j){return"".concat(j)}).join(Fn))};return c.concat(m).forEach(function(P){var V=Rf({rowDimensionValues:_b(P,o),colDimensionValues:_b(P,i),rowPivotMeta:b,colPivotMeta:A,isFirstCreate:!0,onFirstCreate:F,careUndefined:m?.length>0,rowFields:o,colFields:i});I.push(V),xf(v,V,P)}),{paths:I,indexesData:v,rowPivotMeta:b,colPivotMeta:A,sortedDimensionValues:_}}function Mb(a,o){if(a&&o){var i=o.split(Fn),l=hn(i),c=a;Cr(i,function(f,v){var g=c.get(f);return g?(f===l?(g.children=new Map,g.childField=void 0):c=g.children,!0):0===v&&f===Sh})}}function W8(a,o,i){return{field:Pr,name:o||i,formatter:function(v){return function(v){return nr(jn(a,function(m){return m.field===v}),"name",v)}(v)}}}function Ff(a,o){return{isRowTotal:a.isGrandTotals,isRowSubTotal:a.isSubTotals,isColTotal:o.isGrandTotals,isColSubTotal:o.isSubTotals}}function bb(a,o){return!(!a||!o)&&String(a).toLowerCase()===String(o).toLowerCase()}var Xp=function(a,o){var i=a.getColumnNodes().find(function(l){return l.id===o});return a.isPivotMode()?i?.value:i?.field},Df=function(a,o){var i=o.getColumnNodes().find(function(c){return c.colIndex===a}),l=Xp(o,i.id);return o.options.interaction.copyWithFormat?o.dataSet.getFieldFormatter(l):function(c){return c}},Ab=function(a,o,i){return Df(a.colIndex,i)(function(a,o,i){var l,c;if(i.isPivotMode()){var f=de(function(a,o){var i=a.rowIndex,l=a.colIndex;return[o.getRowNodes().find(function(c){return c.rowIndex===i}),o.getColumnNodes().find(function(c){return c.colIndex===l})]}(a,i),2),v=f[0],g=f[1],m=function(a){var o,i,l,c;return(null===(c=null===(l=null===(i=a.options)||void 0===i?void 0:i.style)||void 0===l?void 0:l.colCfg)||void 0===c?void 0:c.hideMeasureColumn)&&a.isValueInCols()?((o={})[Pr]=a.dataCfg.fields.values[0],o):{}}(i);return null!==(l=i.dataSet.getCellData({query:Ft(Ft(Ft({},v.query),g.query),m),rowNode:v,isTotals:v.isTotals||v.isTotalMeasure||g.isTotals||g.isTotalMeasure,totalStatus:Ff(v,g)})?.[ro])&&void 0!==l?l:""}var b=function(a,o){var i=o.getColumnNodes().find(function(l){return l.colIndex===a});return Xp(o,i.id)}(a.colIndex,i);return null===(c=o[a.rowIndex])||void 0===c?void 0:c[b]}(a,o,i))},d1=function(a){return/\n/.test(a)?'"'+a.replace(/\r\n?/g,"\n")+'"':a},Ru=function(a,o){var i=a.split(Fn);return o?i.slice(i.length-o):(i.shift(),i)},mn=(()=>(function(a){a.PLAIN="text/plain",a.HTML="text/html"}(mn||(mn={})),mn))(),Eb=((Vp={})[mn.PLAIN]=function(a){return{type:mn.PLAIN,content:$r(a,function(o){return o.join("\t")}).join("\r\n")}},Vp[mn.HTML]=function(a){return{type:mn.HTML,content:'<meta charset="utf-8"><table><tbody>'.concat(function i(l,c){return l.map(function(f){return"<".concat(c,">").concat(function o(l,c){return l.map(function(f){return"<".concat(c,">").concat(jv(f),"</").concat(c,">")}).join("")}(f,"td"),"</").concat(c,">")}).join("")}(a,"tr"),"</tbody></table>")}},Vp);function ui(a){return Eb[a]}var Lb=function(a,o,i){var l,c,f,v,g,m,_=null!==(c=null===(l=a[0])||void 0===l?void 0:l.length)&&void 0!==c?c:0,b=null!==(f=o?.length)&&void 0!==f?f:0,A=null!==(g=null===(v=i[0])||void 0===v?void 0:v.length)&&void 0!==g?g:0,I=null!==(m=i.length)&&void 0!==m?m:0,O=_+A,F=b+I,B=Array.from(Array(F),function(){return new Array(O)});return B=$r(B,function(P,H){return $r(P,function(Y,V){return V>=0&&V<_&&H>=0&&H<b?"":V>=_&&V<=O&&H>=0&&H<b?o[H][V-_]:V>=0&&V<_&&H>=b&&H<F?a[H-b][V]:V>=_&&V<=O&&H>=b&&H<F?i[H-b][V-_]:void 0})}),[ui(mn.PLAIN)(B),ui(mn.HTML)(B)]},Ib=function(a,o,i){return $r(a,function(l){return o.map(function(c){var f,v=i.dataSet.getCellData({query:Ft(Ft({},l.query),c.query),rowNode:l,isTotals:l.isTotals||l.isTotalMeasure||c.isTotals||c.isTotalMeasure,totalStatus:Ff(l,c)});return Df(c.colIndex,i)(null!==(f=v?.[ro])&&void 0!==f?f:"")})})},Q8=function(a,o,i){var l=Ib(o,i,a);return[ui(mn.PLAIN)(l),ui(mn.HTML)(l)]},tF=function(a,o,i){var l=$r(o,function(v){return Ru(v.id)}),c=Tp.apply(void 0,Ae([],de($r(i,function(v){return Ru(v.id)})),!1)),f=Ib(o,i,a);return Lb(l,c,f)};function Ob(a,o,i){return a.options.interaction.copyWithHeader?tF(a,o,i):Q8(a,o,i)}var $p=function(a,o,i){return o.isPivotMode()?function(a,o){var i=a.getRowNodes().filter(function(f){return f.isLeaf||a.isHierarchyTreeType()}),l=a.getColumnNodes().filter(function(f){return f.isLeaf}),c=o.length?o.reduce(function(f,v){return f.push.apply(f,Ae([],de(l.filter(function(g){return g.id.startsWith(v.id)})),!1)),f},[]):l;return Ob(a,i,c)}(o,i):function(a,o){var i=a.dataSet.getDisplayDataSet(),l=o.length?o.map(function(f){return{field:Xp(a,f.id),formatter:Df(f.colIndex,a)}}):a.dataCfg.fields.columns.map(function(f){return a.getColumnNodes().find(function(v){return v.field===f})}).map(function(f){return{field:Xp(a,f.id),formatter:Df(f.colIndex,a)}}),c=i.map(function(f){return l.map(function(v){return d1((0,v.formatter)(f[v.field]))})});return[ui(mn.PLAIN)(c),ui(mn.HTML)(c)]}(o,i)};function oF(a){var o,i=function iF(a){var o=new Set;return Cr(a,function(i){var l=i.getMeta().level;o.has(l)||o.add(l)}),o}(a),l=null!==(o=ho(Array.from(i)))&&void 0!==o?o:0,c=function v1(a,o){return $a(a,function(i){var l=i.getMeta(),c=l.level===o,f=l.isTotals&&Ve(l.children);return c||f})}(a,l),f=a[0].cellType===We.COL_CELL,v=function aF(a,o,i){return $r(a,function(l){var c=l.getMeta(),v=c.label,m=c.id;c.isTotals&&(m=function p1(a,o){for(var i=a,l={level:o},c=i.label;i.level>=0;){for(var f=l.level-i.level;f>0;)c="".concat(i.label).concat(Fn).concat(c),f--;l=i,i=i.parent}return c}(c,o));var _=l.getActualText();return $r(Ru(m,i.size),function(A){return ii(A,v)?_:A})})}(c,l,i);return f&&(v=Tp.apply(void 0,Ae([],de(v),!1))),[ui(mn.PLAIN)(v),ui(mn.HTML)(v)]}var sF=function(a,o,i){return $r(o,function(l){var c;return null!==(c=a[l])&&void 0!==c?c:i})},uF=function(a){var o,c,i=a.interaction,l=i.getState().cells||[],f=null!==(o=i.getInteractedCells())&&void 0!==o?o:[];return c=!Ve(f)&&sf(f,function(g){return g.cellType===We.ROW_CELL||g.cellType===We.COL_CELL})?oF(f):function lF(a,o){var i,l,c=o.filter(function(b){return b.type===We.COL_CELL}),f=o.filter(function(b){return b.type===We.ROW_CELL}),v=a.dataSet.getDisplayDataSet();if(a.interaction.getCurrentStateName()===Qe.ALL_SELECTED)l=$p(0,a,[]);else if(c.length)l=$p(0,a,c);else if(f.length)l=function(a,o,i){return o.isPivotMode()?function(a,o){var i=a.getRowNodes().filter(function(f){return f.isLeaf||a.isHierarchyTreeType()}),l=a.getColumnNodes().filter(function(f){return f.isLeaf}),c=o.reduce(function(f,v){return f.push.apply(f,Ae([],de(i.filter(function(g){return g.id.startsWith(v.id)})),!1)),f},[]);return Ob(a,c,l)}(o,i):function(a,o){var l=a.dataSet.getDisplayDataSet().filter(function(c,f){return o.map(function(v){return v.rowIndex}).includes(f)}).map(function(c){var f=a.getColumnNodes().reduce(function(v,g,m){return v[g.field]=m,v},{});return Object.keys(c).sort(function(v,g){return f[v]-f[g]}).map(function(v){return a.getColumnNodes().find(function(g){return g.field===v})}).filter(Boolean).map(function(v){return d1(Df(v.colIndex,a)(c[v.field]))})});return[ui(mn.PLAIN)(l),ui(mn.HTML)(l)]}(o,i)}(0,a,f);else{if(!o.length)return;var g=function(a){if(!a?.length)return[];var o=de([{row:1/0,col:1/0},{row:0,col:0}],2),i=o[0],l=o[1];a.forEach(function(m){var _=m.rowIndex,b=m.colIndex;i.col=Math.min(b,i.col),i.row=Math.min(_,i.row),l.col=Math.max(b,l.col),l.row=Math.max(_,l.row)});var c=de([l.row-i.row+1,l.col-i.col+1],2),v=c[1],g=new Array(c[0]).fill("").map(function(){return new Array(v).fill("")});return a.forEach(function(m){var A=de([m.rowIndex-i.row,m.colIndex-i.col],2);g[A[0]][A[1]]=m}),g}(o);if(a.interaction.getSelectedCellHighlight().currentRow){var _=Tc(o,"rowIndex","asc").map(function(b){return a.dataSet.getRowData(b)});l=function(a,o){var l=a.dataCfg.fields,c=l.rows,f=l.columns,v=l.values,g=Ou(a,a.options.placeholder),m=a.getColumnLeafNodes(),_=[];if(a.isTableMode()){var b=$a(m,function(F){return F.field!==$u});_=$r(o,function(F){return $r(b,function(B){var P;return null!==(P=F?.[B.field])&&void 0!==P?P:g})})}else if(a.isPivotMode()){var A=Ae(Ae(Ae([],de(c),!1),de(f),!1),de(v),!1);_=xu(r1(o).filter(function(F){return Ae(Ae([],de(c),!1),de(f),!1).every(function(B){return!fn(F[B])})}),function(F,B){return Ae(Ae([],de(F),!1),[sF(B,A,g)],!1)},[])}return[ui(mn.PLAIN)(_),ui(mn.HTML)(_)]}(a,_)}else l=null!==(i=a.options.interaction)&&void 0!==i&&i.copyWithHeader?function(a,o,i){var l=Tp.apply(void 0,Ae([],de($r(a[0],function(v){var g,m,_=null!==(m=null===(g=v.id.split("-"))||void 0===g?void 0:g[1])&&void 0!==m?m:"";return Ru(_)})),!1)),c=$r(a,function(v){var g,m,_=null!==(m=null===(g=v[0].id.split("-"))||void 0===g?void 0:g[0])&&void 0!==m?m:"";return Ru(_)}),f=$r(a,function(v){return $r(v,function(g){return Ab(g,o,i)})});return Lb(c,l,f)}(g,v,a):function(a,o,i){var l=o.map(function(c){return c.map(function(f){return f?d1(Ab(f,a,i)):""})});return[ui(mn.PLAIN)(l),ui(mn.HTML)(l)]}(v,g,a)}return l}(a,l),c&&kb(c),function Bf(a,o){return void 0===o&&(o=mn.PLAIN),Array.isArray(o)?[].concat(a).filter(function(i){return o.includes(i.type)}).map(function(i){return i.content}):[].concat(a).filter(function(i){return i?.type===o}).map(function(i){return i.content})[0]||""}(c,mn.PLAIN)},g1=function(a){return new Promise(function(o,i){var l;l=Array.isArray(a)?nr(a.filter(function(v){return v.type===mn.PLAIN}),"[0].content",""):a.content||"";var c=document.createElement("textarea");c.value=l,document.body.appendChild(c),c.focus({preventScroll:!0}),c.select();var f=document.execCommand("copy");document.body.removeChild(c),f?o():i()})},kb=function(a,o){var i;return void 0===o&&(o=!1),i="string"==typeof a?{content:a,type:mn.PLAIN}:a,navigator.clipboard&&window.ClipboardItem&&!o?function(a){return navigator.clipboard.write([new ClipboardItem([].concat(a).reduce(function(o,i){var l,c=i.type,v=i.content.replace(/\x00/g,"");return Ft(Ft({},o),((l={})[c]=new Blob([v],{type:c}),l))},{}))]).catch(function(){return g1(a)})}(i):g1(i)},m1=function(a,o,i){var l,c=a.split(Fn);if(i)l=[a];else{l=[zc(c[0],c[1])];for(var f=2;f<c.length;f+=1)l.push(zc(l[f-2],c[f]))}return $a(o,function(g){var m;return l.includes(null===(m=g.getMeta())||void 0===m?void 0:m.id)})},zb=function(a,o,i){a&&Cr(m1(a,o),function(c){c.updateByState(i)})},Nb=function(a){function o(i,l){for(var c=[],f=2;f<arguments.length;f++)c[f-2]=arguments[f];var v=a.call(this,{})||this;return v.textShapes=[],v.actualTextWidth=0,v.conditionIconShapes=[],v.stateShapes=new Map,v.meta=i,v.spreadsheet=l,v.theme=l.theme,v.conditions=v.spreadsheet.options.conditions,v.handleRestOptions.apply(v,Ae([],de(c),!1)),v.shouldInit()&&v.initCell(),v}return Sr(o,a),o.prototype.getMeta=function(){return this.meta},o.prototype.setMeta=function(i){this.meta=i},o.prototype.getIconStyle=function(){return this.theme[this.cellType].icon},o.prototype.getTextAndIconPosition=function(i){void 0===i&&(i=1);var l=this.getTextStyle(),c=this.getIconStyle();return Hc(this.getContentArea(),l,this.actualTextWidth,c,i)},o.prototype.getActualText=function(){return this.actualText},o.prototype.getFieldValue=function(){return this.getFormattedFieldValue().formattedValue},o.prototype.handleRestOptions=function(){for(var i=[],l=0;l<arguments.length;l++)i[l]=arguments[l]},o.prototype.shouldInit=function(){var i=this.meta;return i.width>0&&i.height>0},o.prototype.getStyle=function(i){return nr(this.theme,i||this.cellType)},o.prototype.getResizeAreaStyle=function(){return this.getStyle("resizeArea")},o.prototype.shouldDrawResizeAreaByType=function(i,l){var c=this.spreadsheet.options.interaction.resize;return No(c)?c:Dn(c.visible)?c.visible(l):c[i]},o.prototype.getCellArea=function(){var i=this.meta;return{x:i.x,y:i.y,height:i.height,width:i.width}},o.prototype.getContentArea=function(){var l=(this.getStyle()||this.theme.dataCell)?.cell.padding;return pb(this.getCellArea(),l)},o.prototype.getIconPosition=function(i){return void 0===i&&(i=1),this.getTextAndIconPosition(i).icon},o.prototype.drawTextShape=function(){var i=this.getFormattedFieldValue().formattedValue,l=this.getMaxTextWidth(),c=this.getTextStyle(),f=this.spreadsheet,g=f.measureTextWidth,m=Ou(this,f.options.placeholder),_=Sl({measureTextWidth:g,text:i,maxWidth:l,fontParam:c,placeholder:m});this.actualText=_,this.actualTextWidth=g(_,c);var b=this.getTextPosition();this.textShape=Iu(this,[this.textShape],b.x,b.y,_,c),this.textShapes.push(this.textShape)},o.prototype.drawLinkFieldShape=function(i,l){if(i){if(!oi(this.spreadsheet.options.style.device)){var f=this.getTextStyle(),g=this.getTextPosition().x;"center"===f.textAlign?g-=this.actualTextWidth/2:"right"===f.textAlign&&(g-=this.actualTextWidth);var m=this.textShape.getBBox().maxY;this.linkFieldShape=li(this,{x1:g,y1:m+1,x2:g+this.actualTextWidth,y2:m+1},{stroke:l,lineWidth:1})}this.textShape.attr({fill:l,cursor:"pointer",appendInfo:{isLinkFieldText:!0,cellData:this.meta}})}},o.prototype.getLinkFieldStyle=function(){return this.getTextStyle().linkTextFill},o.prototype.drawLinkField=function(i){var l=this.spreadsheet.options.interaction.linkFields,c=void 0===l?[]:l,f=this.getLinkFieldStyle(),v=function(a,o){return"function"==typeof a?a(o):a.some(function(i){return i===o.key||i===o.id||i===o.valueField})}(c,i);this.drawLinkFieldShape(v,f)},o.prototype.updateByState=function(i,l){var c=this;this.spreadsheet.interaction.setInteractedCells(l),Cr(nr(this.theme,"".concat(this.cellType,".cell.interactionState.").concat(i)),function(v,g){Kr(Bi(d2,function(_){return yi(_,g)})).forEach(function(_){var b=c.stateShapes.has(_),A=b?c.stateShapes.get(_):c[_],I=yr(A)?A:[A];b&&I.forEach(function(F){F.set("visible",!0)}),"interactiveBorderShape"===_&&"borderWidth"===g&&qi(v)&&Cr(c.getInteractiveBorderShapeStyle(v),function(F,B){fa(I,B,F)}),fa(I,ga[g],v)})})},o.prototype.getInteractiveBorderShapeStyle=function(i){var l=this.getCellArea(),m=this.theme.dataCell.cell,_=m.horizontalBorderWidth,b=m.verticalBorderWidth;return{x:l.x+b/2+i/2,y:l.y+_/2+i/2,width:l.width-b-i,height:l.height-_-i}},o.prototype.hideInteractionShape=function(){this.stateShapes.forEach(function(i){fa(i,ga.backgroundOpacity,0),fa(i,ga.backgroundColor,"transparent"),fa(i,ga.borderOpacity,0),fa(i,ga.borderWidth,1),fa(i,ga.borderColor,"transparent")})},o.prototype.clearUnselectedState=function(){fa(this.backgroundShape,ga.backgroundOpacity,1),fa(this.textShapes,ga.textOpacity,1),fa(this.linkFieldShape,ga.opacity,1)},o.prototype.getTextShape=function(){return this.textShape},o.prototype.getTextShapes=function(){return this.textShapes||[this.textShape]},o.prototype.addTextShape=function(i){i&&this.textShapes.push(i)},o.prototype.getConditionIconShape=function(){return this.conditionIconShape},o.prototype.getConditionIconShapes=function(){return this.conditionIconShapes||[this.conditionIconShape]},o.prototype.addConditionIconShape=function(i){i&&this.conditionIconShapes.push(i)},o.prototype.resetTextAndConditionIconShapes=function(){this.textShapes=[],this.conditionIconShapes=[]},Object.defineProperty(o.prototype,"cellConditions",{get:function(){return this.conditions},enumerable:!1,configurable:!0}),o.prototype.drawConditionIconShapes=function(){var i,l=this.findFieldCondition(null===(i=this.conditions)||void 0===i?void 0:i.icon);if(l&&l.mapping){var c=this.mappingValue(l),f=this.getIconPosition(),v=this.theme.dataCell.icon.size;Ve(c?.icon)||(this.conditionIconShape=a1(this,Ft(Ft({},f),{name:c.icon,width:v,height:v,fill:c.fill})),this.addConditionIconShape(this.conditionIconShape))}},o.prototype.getTextConditionFill=function(i){var l,c,f=i.fill,v=this.findFieldCondition(null===(l=this.conditions)||void 0===l?void 0:l.text);return v?.mapping&&(f=(null===(c=this.mappingValue(v))||void 0===c?void 0:c.fill)||i.fill),f},o.prototype.getCrossBackgroundColor=function(i){var l=this.getStyle().cell,c=l.crossBackgroundColor,f=l.backgroundColorOpacity;return c&&i%2==0?{backgroundColorOpacity:f,backgroundColor:c}:{backgroundColorOpacity:f,backgroundColor:this.getStyle().cell.backgroundColor}},o}(ss),x1=function(a,o){return o?o(a[Pr],a[ro]):a[ro]},Tl=function(a,o){var i=o.getMeta().id;return a.some(function(l){return ii(l.id,i)})},Gc=function(a,o){return"".concat(a).concat("-").concat(o)},Pf=function(a){return a.type===We.DATA_CELL},Al=function(a){function o(){return null!==a&&a.apply(this,arguments)||this}return Sr(o,a),Object.defineProperty(o.prototype,"cellType",{get:function(){return We.DATA_CELL},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"valueRangeByField",{get:function(){return this.spreadsheet.dataSet.getValueRangeByField(this.meta.valueField)},enumerable:!1,configurable:!0}),o.prototype.handleByStateName=function(i,l){Tl(i,this)&&this.updateByState(l)},o.prototype.handleSearchResult=function(i){Tl(i,this)&&(jn(i,function(c){return c?.isTarget}).id===this.getMeta().id?this.updateByState(Qe.HIGHLIGHT):this.updateByState(Qe.SEARCH_RESULT))},o.prototype.handleSelect=function(i){var l;switch(null===(l=i?.[0])||void 0===l?void 0:l.type){case We.COL_CELL:this.changeRowColSelectState("colIndex");break;case We.ROW_CELL:this.changeRowColSelectState("rowIndex");break;case We.DATA_CELL:!function(a){var o=a.interaction.getSelectedCellHighlight();return o.currentRow||o.currentCol||o.rowHeader||o.colHeader}(this.spreadsheet)?Tl(i,this)?this.updateByState(Qe.SELECTED):this.spreadsheet.options.interaction.selectedCellsSpotlight&&this.updateByState(Qe.UNSELECTED):function(a,o,i){var l=i.interaction.getSelectedCellHighlight(),c=l.rowHeader,f=l.colHeader,v=l.currentRow,g=l.currentCol,m=o.cellType===We.ROW_CELL,_=i.isTableMode()&&i.options.showSeriesNumber&&c&&m;(v||_)&&function(a,o){Cr(a,function(i){Pf(i)&&i.rowIndex===o.getMeta().rowIndex&&o.updateByState(Qe.SELECTED)})}(a,o),g&&function(a,o){Cr(a,function(i){Pf(i)&&i.colIndex===o.getMeta().colIndex&&o.updateByState(Qe.SELECTED)})}(a,o),(c||f)&&function(a,o){Cr(a,function(i){Pf(i)&&i.rowIndex===o.getMeta().rowIndex&&i.colIndex===o.getMeta().colIndex&&o.updateByState(Qe.SELECTED)})}(a,o)}(i,this,this.spreadsheet)}},o.prototype.handleHover=function(i){var l=Cc(i);if(l.type===We.DATA_CELL){var c=this.spreadsheet.interaction.getHoverHighlight(),f=c.currentRow,v=c.currentCol;(f||v)&&(v&&this.meta.colIndex===l?.colIndex||f&&this.meta.rowIndex===l?.rowIndex?this.updateByState(Qe.HOVER):this.hideInteractionShape());var _=this.getMeta(),A=_.rowIndex,I=_.colIndex;ii(l.id,_.id)&&ii(l.rowIndex,A)&&ii(l.colIndex,I)&&this.updateByState(Qe.HOVER_FOCUS)}else this.hideInteractionShape()},o.prototype.update=function(){var i=this.spreadsheet.interaction.getCurrentStateName(),l=this.spreadsheet.interaction.getCells();if(i!==Qe.ALL_SELECTED){if(!Ve(l)&&i)switch(i){case Qe.SELECTED:this.handleSelect(l);break;case Qe.HOVER_FOCUS:case Qe.HOVER:this.handleHover(l);break;case Qe.SEARCH_RESULT:this.handleSearchResult(l);break;default:this.handleByStateName(l,i)}}else this.updateByState(Qe.SELECTED)},o.prototype.setMeta=function(i){a.prototype.setMeta.call(this,i),this.initCell()},o.prototype.drawTextShape=function(){a.prototype.drawTextShape.call(this),this.drawLinkField(this.meta)},o.prototype.initCell=function(){this.resetTextAndConditionIconShapes(),this.drawBackgroundShape(),this.drawInteractiveBgShape(),this.shouldHideRowSubtotalData()||(this.drawConditionIntervalShape(),this.drawTextShape(),this.drawConditionIconShapes()),this.drawInteractiveBorderShape(),this.meta.isFrozenCorner&&this.drawBorderShape(),this.update()},o.prototype.getDefaultTextFill=function(i){var l=i.fill,c=this.getBackgroundColor(),v=c.intelligentReverseTextColor;return kc(c.backgroundColor)&&i.fill===ql&&v&&(l=ag),l},o.prototype.getTextStyle=function(){var l=this.meta.isTotals?this.theme.dataCell.bolderText:this.theme.dataCell.text,c=this.getTextConditionFill(Ft(Ft({},l),{fill:this.getDefaultTextFill(l)}));return Ft(Ft({},l),{fill:c})},o.prototype.getIconStyle=function(){var i,l=this.theme.dataCell.icon,c=l.size,f=l.margin,v=this.findFieldCondition(null===(i=this.conditions)||void 0===i?void 0:i.icon);return v&&v.mapping&&{size:c,margin:f,position:I8(v)}},o.prototype.drawConditionIntervalShape=function(){this.conditionIntervalShape=function(a){var o,i,l,c,f,v;if(!Ve(a)){var g=a.getCellArea(),m=g.x,_=g.y,b=g.height,A=g.width,I=a.findFieldCondition(null===(o=a.cellConditions)||void 0===o?void 0:o.interval);if(I&&I.mapping){var O=a.mappingValue(I);if(!O)return;var F=O.isCompare?O:a.valueRangeByField,B=Nc(F.minValue),P=Nc(F.maxValue),H=fn(O?.fieldValue)?Nc(a.getMeta().fieldValue):Nc(O?.fieldValue);if(H<B||H>P)return;var Y=null!==(l=null===(i=a.getStyle().miniChart.interval)||void 0===i?void 0:i.height)&&void 0!==l?l:a.getStyle().cell.miniBarChartHeight,V=null!==(f=null===(c=a.getStyle().miniChart.interval)||void 0===c?void 0:c.fill)&&void 0!==f?f:a.getStyle().cell.miniBarChartFillColor,j=function(a,o){void 0===a&&(a=0),void 0===o&&(o=0),a=Nc(a),o=Nc(o);var i=a>=0,l=o>=0&&a<=0,f=l?0:i?a:o,v=o-a;return function(g){var m=i?0:1;return{zeroScale:l?qh(Math.abs(0-a)/v,0,1):m,scale:qh((g-f)/v,-1,1)}}}(B,P),yt=j(H);return ha(a,{x:m+A*yt.zeroScale,y:_+b/2-Y/2,width:A*yt.scale,height:Y,fill:null!==(v=O.fill)&&void 0!==v?v:V})}}}(this)},o.prototype.shouldHideRowSubtotalData=function(){var i,l=(null!==(i=this.spreadsheet.options.totals)&&void 0!==i?i:{}).row,v=this.spreadsheet.facet.layoutResult.rowLeafNodes[this.meta.rowIndex];return"tree"===this.spreadsheet.options.hierarchyType&&!(void 0===l?{}:l).showSubTotals&&!v?.isGrandTotals&&v?.isTotals},o.prototype.getFormattedFieldValue=function(){if(this.shouldHideRowSubtotalData())return{value:null,formattedValue:"-"};var i=this.meta,l=i.rowId,c=i.valueField,f=i.fieldValue,v=i.data,g=this.spreadsheet.dataSet.getFieldMeta(l);return{value:f,formattedValue:this.spreadsheet.dataSet.getFieldFormatter(g?l:c)(f,v,this.meta)}},o.prototype.getMaxTextWidth=function(){var i=this.getContentArea().width;return l1(i,this.getIconStyle())},o.prototype.getTextPosition=function(){return this.getTextAndIconPosition().text},o.prototype.getBackgroundColor=function(){var i,l=this.getCrossBackgroundColor(this.meta.rowIndex),c=l.backgroundColor,f=l.backgroundColorOpacity;if(this.shouldHideRowSubtotalData())return{backgroundColor:c,backgroundColorOpacity:f};var v=this.findFieldCondition(null===(i=this.conditions)||void 0===i?void 0:i.background),g=!1;if(v&&v.mapping){var m=this.mappingValue(v);m&&(c=m.fill,g=m.intelligentReverseTextColor)}return{backgroundColor:c,backgroundColorOpacity:f,intelligentReverseTextColor:g}},o.prototype.drawBackgroundShape=function(){var i=this.getBackgroundColor(),l=i.backgroundColor,c=i.backgroundColorOpacity;this.backgroundShape=ha(this,Ft(Ft({},this.getCellArea()),{fill:l,fillOpacity:c}))},o.prototype.drawInteractiveBorderShape=function(){var l=this.getCellArea();this.stateShapes.set("interactiveBorderShape",ha(this,{x:l.x+1,y:l.y+1,width:l.width-2,height:l.height-2},{capture:!1,visible:!1}))},o.prototype.drawInteractiveBgShape=function(){this.stateShapes.set("interactiveBgShape",ha(this,Ft({},this.getCellArea()),{visible:!1}))},o.prototype.changeRowColSelectState=function(i){var l=this.spreadsheet.interaction,c=nr(this.meta,i),f=l.getState(),v=f.nodes,g=void 0===v?[]:v,m=f.cells,_=void 0===m?[]:m;(this.spreadsheet.isTableMode()&&g.length?g[0].hierarchy.getLeaves().some(function(I,O){return!!g.some(function(F){return F===I})&&O===c}):Ae(Ae([],de(g),!1),de(_),!1).some(function(I){return nr(I,i)===c}))?this.updateByState(Qe.SELECTED):this.spreadsheet.options.interaction.selectedCellsSpotlight?this.updateByState(Qe.UNSELECTED):this.hideInteractionShape()},o.prototype.drawBorderShape=function(){var i=this;[Pn.BOTTOM,Pn.RIGHT].forEach(function(l){var c=Rs(l,i.getCellArea(),i.getStyle().cell);li(i,c.position,c.style)})},o.prototype.findFieldCondition=function(i){var l=this;return Qv(i,function(c){return c.field instanceof RegExp?c.field.test(l.meta.valueField):c.field===l.meta.valueField})},o.prototype.mappingValue=function(i){var l=this.meta.fieldValue,c=this.spreadsheet.isTableMode()?this.spreadsheet.dataSet.getCellData({query:{rowIndex:this.meta.rowIndex}}):this.meta.data;return i?.mapping(l,c)},o.prototype.updateByState=function(i){if(a.prototype.updateByState.call(this,i,this),i===Qe.UNSELECTED){var l=nr(this.theme,"".concat(this.cellType,".cell.interactionState.").concat(i));l&&this.toggleConditionIntervalShapeOpacity(l.opacity)}},o.prototype.clearUnselectedState=function(){a.prototype.clearUnselectedState.call(this),this.toggleConditionIntervalShapeOpacity(1)},o.prototype.toggleConditionIntervalShapeOpacity=function(i){fa(this.conditionIntervalShape,ga.backgroundOpacity,i),fa(this.conditionIconShapes,ga.opacity,i)},o.prototype.drawLeftBorder=function(){var i=Rs(Pn.LEFT,this.getCellArea(),this.getStyle().cell);li(this,i.position,i.style)},o}(Nb),bF=function(a){function o(i,l,c){return a.call(this,c,i,l)||this}return Sr(o,a),o.prototype.handleRestOptions=function(){for(var i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];var c=de(i,1);this.cells=c[0]},Object.defineProperty(o.prototype,"cellType",{get:function(){return We.MERGED_CELL},enumerable:!1,configurable:!0}),o.prototype.update=function(){},o.prototype.initCell=function(){this.resetTextAndConditionIconShapes(),this.conditions=this.spreadsheet.options.conditions,this.drawBackgroundShape(),this.drawTextShape()},o.prototype.drawBackgroundShape=function(){var i=C1(this.cells),l=this.theme.dataCell.cell;this.backgroundShape=function T8(a,o){var i;return null===(i=a?.addShape)||void 0===i?void 0:i.call(a,"polygon",{attrs:o})}(this,{points:i,stroke:l.horizontalBorderColor,fill:l.backgroundColor,lineHeight:l.horizontalBorderWidth})},o.prototype.drawTextShape=function(){Ve(this.meta)||(on(this.meta.fieldValue)?function(a,o,i){var l,c,f,v;void 0===i&&(i=!0);var g=a.getContentArea(),m=g.x,_=g.y,b=g.height,A=g.width,I=o||a.getMeta().fieldValue,O=I.values,F=a.getMeta().spreadsheet,B=F.options,P=F.measureTextWidth,H=B.style.cellCfg.valuesCfg,Y=null===(c=null===(l=B?.conditions)||void 0===l?void 0:l.text)||void 0===c?void 0:c[0],V=null===(v=null===(f=B?.conditions)||void 0===f?void 0:f.icon)||void 0===v?void 0:v[0];if(yr(O)){var j=H?.widthPercent,yt=0;if(I?.label){var Pt=a.getStyle(We.DATA_CELL).bolderText,ge=Iu(a,[],m,_+(yt=b/(O.length+1))/2,Sl({measureTextWidth:P,text:I.label,maxWidth:A,fontParam:Pt}),Pt);a.addTextShape(ge)}for(var ir,Me=function(a){var o,i,l=a.getMeta().isTotals,c=null===(i=(o=a).isMeasureField)||void 0===i?void 0:i.call(o),f=a.getStyle(c?We.COL_CELL:We.DATA_CELL);return{cellStyle:f,textStyle:c?f.measureText:l?f.bolderText:f.text}}(a),Pe=Me.textStyle,$e=Me.cellStyle?.icon,lr=V&&V.mapping&&{size:$e?.size,margin:$e?.margin,position:V?.position},er=function(a,o,i){for(var _,b,A,l=a.x,c=a.y,f=a.width,g=a.height/Cu(o),m=[],I=0,O=$r(i,function(H){return H>1?H/100:H}),F=0;F<Cu(o);F++){b=c+g*F;var B=[];_=l,I=0;for(var P=0;P<Cu(o[F]);P++)A=Ve(O)?f/Cu(o[0]):f*O[P],_=u1(l,{left:0,right:0},I,"left"),I+=A,B.push({x:_,y:b,width:A,height:g});m.push(B)}return m}({x:m,y:_+yt,height:b-yt,width:A},O,j),Ze=0;Ze<O.length;Ze++)for(var Nr=Ss(O[Ze]),Br=0;Br<Nr.length;Br++){ir=Nr[Br];var un=i?Cb({rowIndex:Ze,colIndex:Br,meta:a?.getMeta(),data:ir,textStyle:Pe,textCondition:Y}):Pe,Tr=a?.getMeta().spreadsheet.options.placeholder,Mn=Ou(a?.getMeta(),Tr),qr=l1(er[Ze][Br].width,$e),Ni=Sl({measureTextWidth:P,text:ir,maxWidth:qr,fontParam:un,placeholder:Mn}),Ln=P(Ni,Pe),Hr=Hc(er[Ze][Br],Pe,Ln,lr,V?1:0);if(ge=Iu(a,[],Hr.text.x,Hr.text.y,Ni,un,{},ir?.toString()),a.addTextShape(ge),V&&i){var dn=V?.mapping(ir,{rowIndex:Ze,colIndex:Br,meta:a?.getMeta()});if(dn){var Tn=a1(a,Ft(Ft({},Hr.icon),{name:dn.icon,width:$e?.size,height:$e?.size,fill:dn.fill}));a.addConditionIconShape(Tn)}}}}else z8(a,O)}(this):a.prototype.drawTextShape.call(this))},o}(Al),Fs=function(a,o){return jn(o,function(i){return ii(i[0],a[1])})},C1=function(a){var o=[];a.forEach(function(v){var g=v.getMeta();o=o.concat(function(a,o,i,l){var c=[a,o],f=[a+i,o],v=[a+i,o+l],g=[a,o+l];return[[c,f],[f,v],[v,g],[g,c]]}(g.x,g.y,g.width,g.height))}),o=function(a){var o=[];return Cr(a,function(i){var l=[i[1],i[0]];JSON.stringify(a).includes(JSON.stringify(l))||o.push(i)}),o}(o);for(var i=[],l=o[0],c=l,f=[];!ii(l,f);)i=i.concat(c),c=f=Fs(c,o);return i},Hb=function(a,o,i){var l;void 0===i&&(i=[]);var c=function(a,o){var c,i=[],l=[];return Cr(a,function(f){var v=jn(o,function(g){var m,_=null===(m=g?.getMeta)||void 0===m?void 0:m.call(g);if(_?.colIndex===f?.colIndex&&_?.rowIndex===f?.rowIndex)return g});v?(i.push(v),c=f?.showText?v?.getMeta():c):l.push(f)}),{cells:i,invisibleCellInfo:l,cellsMeta:c}}(i,a),v=c.cells,g=c.invisibleCellInfo,m=c.cellsMeta,_=v;if(g?.length>0&&g.length<i.length){var A=function(a,o){var l,i=[];return Cr(a,function(c){var f,v,g,m=null===(v=null===(f=o?.facet)||void 0===f?void 0:f.layoutResult)||void 0===v?void 0:v.getCellMeta(c.rowIndex,c.colIndex);if(m){var _=null===(g=o?.facet)||void 0===g?void 0:g.cfg.dataCell(m);l=c?.showText?m:l,i.push(_)}}),{cells:i,cellsMeta:l}}(g,o);m=m||A.cellsMeta,_=v.concat(A.cells)}return!Ve(v)&&!m&&(m=null===(l=_[0])||void 0===l?void 0:l.getMeta()),{cells:_,viewMeta:m}},Gb=function(a,o,i){return a.options.mergedCell?a.options.mergedCell(a,o,i):new bF(a,o,i)},LF=function(a,o,i){var l,c=o||function(a){var i=a.interaction.getActiveCells(),l=[];return Cr(i,function(c,f){var v=c.getMeta();l.push(Ft(Ft({},0===f?{showText:!0}:{}),{colIndex:v?.colIndex,rowIndex:v?.rowIndex}))}),l}(a);if(c?.length<=1)console.error("then merged cells must be more than one");else{var f=a.interaction.getPanelGroupAllDataCells(),v=Hb(f,a,c),g=v.cells,m=v.viewMeta;if(!Ve(g)){var _=(null===(l=a.options)||void 0===l?void 0:l.mergedCellsInfo)||[];_.push(c),a.setOptions({mergedCellsInfo:_}),a.panelScrollGroup.addMergeCell(Gb(a,g,i?void 0:m))}}},OF=function(a,o){var i,l,c;if(o&&o.cellType===We.MERGED_CELL){var f=function(a,o){var i=$r(a.cells,function(l){return{colIndex:l.getMeta().colIndex,rowIndex:l.getMeta().rowIndex}});return $a(o,function(l){return!ii(l.map(function(f){return f.showText?{colIndex:f.colIndex,rowIndex:f.rowIndex}:f}),i)})}(o,null===(i=a.options)||void 0===i?void 0:i.mergedCellsInfo);f?.length!==(null===(c=null===(l=a.options)||void 0===l?void 0:l.mergedCellsInfo)||void 0===c?void 0:c.length)&&(a.setOptions({mergedCellsInfo:f}),o.remove(!0))}else console.error("unmergeCell: the ".concat(o," is not a MergedCell"))},Wb=function(a,o){return a_(a,o,function(i,l){return ii(i.viewMeta.id,l.viewMeta.id)})},Ub=function(a){return a.includes(Fn)?"id":"field"},Fu=function(a,o){void 0===o&&(o=[]);var i=a.getInitColumnLeafNodes();return Do(o.map(function(l){var c=Ub(l);return i.find(function(f){return f[c]===l})}))},Yb=function(a,o,i){void 0===o&&(o=[]),void 0===i&&(i=!1);var l=function(A,I){void 0===A&&(A=[]),void 0===I&&(I=[]),a.setOptions({interaction:{hiddenColumnFields:A}}),a.interaction.reset(),a.store.set("hiddenColumnsDetail",I),a.render(!1,{reBuildHiddenColumnsDetail:!1})};if(Ve(o)&&i)l();else{var c=a.store.get("hiddenColumnsDetail",[]),f=a.options.interaction.hiddenColumnFields;if(!ii(o,f)||i){var v=Uo(Ae(Ae([],de(o),!1),de(f),!1)),g=Fu(a,v).every(function(A,I,O){var F=O[I+1];return!F||1===Math.abs(A.colIndex-F.colIndex)}),m=function(a,o){if(void 0===o&&(o=[]),Ve(o))return{prev:null,next:null};var i=a.getInitColumnLeafNodes(),l=Fu(a,o).map(function(m){return m?.colIndex}),c=Math.max.apply(Math,Ae([],de(l),!1)),f=Math.min.apply(Math,Ae([],de(l),!1)),v=i.find(function(m){return m.colIndex===c+1});return{prev:i.find(function(m){return m.colIndex===f-1})||null,next:v||null}}(a,g?v:o),_={hideColumnNodes:Fu(a,o),displaySiblingNode:m},b=Ae(Ae([],de(c),!1),[_],!1);a.emit(ae.LAYOUT_COLS_HIDDEN,_,b),l(v,b)}}},jp=function(a,o,i){void 0===o&&(o=[]),void 0===i&&(i=!1),Ve(o)&&i&&Yb(a,o,!0);var l=function(a){var o=a.dataCfg.fields.columns,i=void 0===o?[]:o;return a.isTableMode()?i:a.getInitColumnLeafNodes().map(function(l){return l.id})}(a),f=function(a,o){if(Ve(o))return[];var i=Number.NEGATIVE_INFINITY;return a.reduce(function(l,c,f){return o.includes(c)?(f===i+1?hn(l).push(c):l.push([c]),i=f,l):l},[])}(Lu(l),o);f.forEach(function(v){Yb(a,v,i)})},_1=function(a,o){return function(a){var o=function(a){return a?.next||a?.prev}(a);return o?.id}(a)===o},Wc=function(a){var o=a.type,i=a.id,l=a.theme,c=a.width,f=a.height,v=ug(a,["type","id","theme","width","height"]),g=o===ya.Horizontal?l.size:null,m=o===ya.Vertical?l.size:null;return{fill:l.background,fillOpacity:l.backgroundOpacity,cursor:"".concat(o,"-resize"),width:g,height:m,appendInfo:Ft(Ft({},v),{isResizeArea:!0,type:o,id:i,width:c,height:f,size:l.size})}},Nf=function(a,o){if(a.foregroundGroup)return a.foregroundGroup.findById(o)||a.foregroundGroup.addGroup({id:o,zIndex:5})},S1=function(a,o,i){var l=i??{},c=l.scrollX,f=void 0===c?0:c,v=l.scrollY,g=void 0===v?0:v;return!(a.x-f>o.x+o.width||a.x+a.width-f<o.x||a.y-g>o.y+o.height||a.y+a.height-g<o.y)},Vb=function(a,o,i){var l=jn(a,function(f){return function(a,o,i){if(!a)return!1;var l=a.iconNames,c=a.displayCondition,f=a.belongsCell;return!Ve(l)&&f===i&&(!c||l.some(function(v){return c(o,v)}))}(f,o,i)});if(l){var c=l.iconNames;return l.displayCondition&&(c=c.filter(function(f){return l.displayCondition(o,f)})),Ft(Ft({},l),{iconNames:c})}},PF=function(a,o){var i=a.label;return ii(a.field,Pr)?{formattedValue:o||i,value:i}:{formattedValue:i,value:i}},Uc=function(a){return"ASC"===Mf(a)},Jp=function(a){return"DESC"===Mf(a)},M1=function(a){return!ki(Number(a))},Xb=function(a,o,i){var l=Uc(o)?1:-1,c=["-",void 0];return a?.sort(function(f,v){var g=f,m=v;if(i){if(m=v[i],M1(g=f[i])&&M1(m))return(Number(g)-Number(m))*l;if(g&&c?.includes(g?.toString()))return-l;if(Number(g)&&c?.includes(m?.toString()))return l}return fn(g)||fn(m)?g?l:-l:g.toString().localeCompare(m.toString(),"zh")*l})},$b=function(a,o,i){return i?function(a,o){var i;return null===(i=a?.filter(function(l){return!o?.includes(l)}))||void 0===i?void 0:i.concat(o)}(o,Uo(a)):Ae([],de(new Set(Ae(Ae([],de(a),!1),de(o),!1))),!1)},Ds=function(a){var o=a.sortByValues,i=a.originValues,c=i.filter(function(g){return o.find(function(m){return c_(g,m)})}).map(function(g){var m=g.split(Fn);return m.length>1?[m.slice(0,m.length-1).join(Fn),m[m.length-1]]:m}),f=Array.from(new Set(c.map(function(g){return g[0]})));c.sort(function(g,m){var _=g.slice(0,g.length-1),b=m.slice(0,m.length-1);return _.join()!==b.join()?f.indexOf(_[0])-f.indexOf(b[0]):o.indexOf(g[g.length-1])-o.indexOf(m[m.length-1])});var v=c.map(function(g){return g.join(Fn)});return e1(i,v)},Zb=function(a){var o=a.sortParam,i=a.originValues,v=o.sortMethod,g=o.sortBy,m=i,_={originValues:i,measureValues:a.measureValues,sortParam:o,dataSet:a.dataSet};return o.sortFunc?m=function(a){var o=a.originValues,l=a.sortParam,c=a.dataSet,v=l.sortFieldId,g=l.sortMethod,m=(0,l.sortFunc)(Ft({data:a.measureValues},l));return m?.length?(c.fields.rows.indexOf(v)>0||c.fields.columns.indexOf(v)>0)&&!yi(m[0],Fn)?Ds({sortByValues:m,originValues:o}):$b(m,o,Uc(g)):o}(_):g?m=Ds({sortByValues:g,originValues:i}):(Uc(v)||Jp(v))&&(m=function(a){var O,o=a.sortParam,i=a.measureValues,l=a.originValues,f=o.sortByMeasure,v=o.query,g=o.sortFieldId,m=o.sortMethod,_=a.dataSet.fields,b=_.rows,A=_.columns,I=b.includes(g);if(f){var F=Xb(i,m,f===a2?v[Pr]:f);O=function Sb(a,o,i){var l,c=o.slice(0,o.indexOf(a)+1);return null===(l=i.map(function(f){return c.map(function(v){return f[v]}).join("".concat(Fn))}))||void 0===l?void 0:l.filter(function(f){return f})}(g,I?b:Lu(A),F)}else O=$r(Xb(i,m));return $b(O,l,Uc(m))}(_)),m},jb=function(a){return a.filter(function(o){return o!==Pr})},r7=function(a){var f,o=a.dataSet,i=a.sortParam,l=a.originValues;return f=a.isSortByMeasure?function(a){var o=a.dataSet,i=a.sortParam,l=a.originValues,c=o.fields,f=i.sortByMeasure,v=i.query,g=i.sortFieldId,m=o.getMultiData(v),_=Lu(c.columns);if(f!==a2){var b=ko(c.rows,_);return m.filter(function(Y){var V=new Set(Kr(Y));return b.every(function(j){return V.has(j)})})}var A=yi(c.rows,g),I=jb(A?c.rows:_),O=jb(A?_:c.rows),F=I[I.indexOf(g)+1],B=Kr(v),P=O.filter(function(Y){return!B.includes(Y)}),H=m.filter(function(Y){var V=new Set(Kr(Y));return!(!V.has(g)||V.has(F))&&P.every(function(yt){return!V.has(yt)})});return Ve(H)?Do($r(l,function(Y){var V=function(a,o,i){var l,c={};if(yi(a,Fn))for(var v=$S(a,Fn),g=null!==(l=o?.rows)&&void 0!==l&&l.includes(i)?o.rows:Lu(o.columns),m=0;m<=D_(g,i);m++)c[g[m]]=v[m];else c[i]=a;return c}(Y,c,g);return o.getTotalValue(Ft(Ft({},v),V))})):H}(a):l,Zb({sortParam:i,originValues:l,measureValues:f,dataSet:o})},Jb=function(a,o){if(a?.sortMethod){if(Uc(a?.sortMethod))return"groupAsc";if(Jp(a?.sortMethod))return"groupDesc"}if(o)return"SortDown"},T1=function(a){function o(){return null!==a&&a.apply(this,arguments)||this}return Sr(o,a),o.prototype.handleRestOptions=function(){for(var i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];var c=de(i,1);this.headerConfig=Ft({},c[0]);var v=this.meta,g=v.value,m=v.query,_=this.spreadsheet.dataCfg.sortParams,b=this.isSortCell(),A=jn(Ae([],de(_),!1).reverse(),function(O){return b&&O?.sortByMeasure===g&&ii(nr(O,"query"),m)}),I=Jb(A,b);this.headerConfig.sortParam=Ft(Ft(Ft({},this.headerConfig.sortParam),A||{query:m}),{type:I})},o.prototype.initCell=function(){this.resetTextAndConditionIconShapes(),this.actionIcons=[],this.hasDefaultHiddenIcon=!1},o.prototype.getInteractiveBorderShapeStyle=function(i){var l=this.getCellArea();return{x:l.x+i,y:l.y+i,width:l.width-2*i,height:l.height-2*i}},o.prototype.getFormattedFieldValue=function(){var i=this.meta,l=i.label,c=i.isTotalRoot,f=i.isGrandTotals,v=this.spreadsheet.dataSet.getFieldFormatter(this.meta.field);return{formattedValue:this.spreadsheet.isTableMode()||(!this.spreadsheet.isHierarchyTreeType()||f)&&c||!v?l:v(l,void 0,this.meta),value:l}},o.prototype.getActionIconCfg=function(){return Vb(this.spreadsheet.options.headerActionIcons,this.meta,this.cellType)},o.prototype.showSortIcon=function(){var i=this.spreadsheet,l=i.options,f=Ve(i.dataCfg.fields.values);if(l.showDefaultHeaderActionIcon&&!f){var v=this.headerConfig.sortParam,g=this.meta.query;return g&&ii(v?.query,g)&&v?.type&&"none"!==v?.type}return!1},o.prototype.getActionIconsCount=function(){if(this.showSortIcon())return 1;var i=this.getActionIconCfg();return i?i.iconNames.length:0},o.prototype.getActionIconsWidth=function(){var i=this.getStyle().icon;return(i.size+i.margin.left)*this.getActionIconsCount()},o.prototype.drawSortIcons=function(){var i=this;if(this.showSortIcon()){var l=this.getStyle(),c=l.icon,v=this.getTextConditionFill(l.text),g=this.headerConfig.sortParam,m=this.getIconPosition(),_=new Af(Ft(Ft({name:nr(g,"type","none")},m),{width:c.size,height:c.size,fill:v}));_.on("click",function(b){i.spreadsheet.emit(ae.GLOBAL_ACTION_ICON_CLICK,b),i.spreadsheet.handleGroupSort(b,i.meta)}),this.add(_),this.actionIcons.push(_)}},o.prototype.hasDefaultHideActionIcon=function(){return this.hasDefaultHiddenIcon},o.prototype.addActionIcon=function(i){var l=this,c=i.x,f=i.y,v=i.iconName,g=i.defaultHide,m=i.action,_=i.onClick,b=i.onHover,A=this.getStyle(),I=A.icon,F=this.getTextConditionFill(A.text),P=new Af({name:v,x:c,y:f,width:I?.size,height:I?.size,fill:I?.fill||F});P.set("visible",!g),P.on("mouseover",function(H){l.spreadsheet.emit(ae.GLOBAL_ACTION_ICON_HOVER,H),b?.({hovering:!0,iconName:v,meta:l.meta,event:H})}),P.on("mouseleave",function(H){l.spreadsheet.emit(ae.GLOBAL_ACTION_ICON_HOVER_OFF,H),b?.({hovering:!1,iconName:v,meta:l.meta,event:H})}),P.on("click",function(H){var Y;l.spreadsheet.emit(ae.GLOBAL_ACTION_ICON_CLICK,H),null===(Y=_||m)||void 0===Y||Y({iconName:v,meta:l.meta,event:H})}),this.actionIcons.push(P),this.add(P)},o.prototype.drawActionIcons=function(){var i=this;if(this.showSortIcon())this.drawSortIcons();else{var l=this.getActionIconCfg();if(l){var c=l.iconNames,f=l.action,v=l.onClick,g=l.onHover,m=l.defaultHide,_=this.getIconPosition(c.length),b=this.getStyle().icon,A=b.size,I=b.margin;Cr(c,function(O,F){var B=_.x+F*A+F*I.left,P=_.y,H="function"==typeof m?m(i.meta,O):m;H&&(i.hasDefaultHiddenIcon=!0),i.addActionIcon({iconName:O,x:B,y:P,defaultHide:H,action:f,onClick:v,onHover:g})})}}},o.prototype.drawBackgroundShape=function(){var i=this.getBackgroundColor(),l=i.backgroundColor,c=i.backgroundColorOpacity;this.backgroundShape=ha(this,Ft(Ft({},this.getCellArea()),{fill:l,fillOpacity:c}))},o.prototype.isSortCell=function(){var i,l,c,f=null===(l=null===(i=this.meta.spreadsheet)||void 0===i?void 0:i.isValueInCols)||void 0===l?void 0:l.call(i),v=this.meta.level===(null===(c=this.meta.hierarchy)||void 0===c?void 0:c.maxLevel);return f?v&&this.cellType===We.COL_CELL:v&&this.cellType===We.ROW_CELL},o.prototype.handleByStateName=function(i,l){Tl(i,this)&&this.updateByState(l)},o.prototype.handleSearchResult=function(i){Tl(i,this)&&(jn(i,function(c){return c?.isTarget}).id===this.getMeta().id?this.updateByState(Qe.HIGHLIGHT):this.updateByState(Qe.SEARCH_RESULT))},o.prototype.handleHover=function(i){var l;Tl(i,this)&&(this.updateByState(Qe.HOVER),this.hasDefaultHideActionIcon()&&this.toggleActionIcon(null===(l=i?.[0])||void 0===l?void 0:l.id))},o.prototype.handleSelect=function(i,l){Tl(i,this)&&this.updateByState(Qe.SELECTED),yi($r(l,"id"),this.meta.id)&&this.updateByState(Qe.SELECTED)},o.prototype.getTextStyle=function(){var v,i=this.getStyle(),l=i.text,c=i.bolderText,f=i.measureText;v=this.isMeasureField()?f||l:this.isBolderText()?c:l;var g=this.getTextConditionFill(v);return Ft(Ft({},v),{fill:g})},o.prototype.getBackgroundColor=function(){var i,l=(null===(i=this.getStyle())||void 0===i?void 0:i.cell)||{};return this.getBackgroundColorByCondition(l.backgroundColor,l.backgroundColorOpacity)},o.prototype.getBackgroundColorByCondition=function(i,l){var c,f=i,v=this.findFieldCondition(null===(c=this.conditions)||void 0===c?void 0:c.background);if(v&&v.mapping){var g=this.mappingValue(v);g&&(f=g.fill)}return{backgroundColor:f,backgroundColorOpacity:l}},o.prototype.toggleActionIcon=function(i){if(this.getMeta().id===i){var l=[];Cr(this.actionIcons,function(c){c.get("visible")||(c.set("visible",!0),l.push(c))}),this.spreadsheet.store.set("visibleActionIcons",l)}},o.prototype.update=function(){var i=this.spreadsheet.interaction,l=i?.getState(),c=i?.getCells([We.CORNER_CELL,We.COL_CELL,We.ROW_CELL]);if(Cc(c))switch(l?.stateName){case Qe.SELECTED:this.handleSelect(c,l?.nodes);break;case Qe.HOVER_FOCUS:case Qe.HOVER:this.handleHover(c);break;case Qe.SEARCH_RESULT:this.handleSearchResult(c);break;default:this.handleByStateName(c,l?.stateName)}},o.prototype.updateByState=function(i){a.prototype.updateByState.call(this,i,this)},o.prototype.hideInteractionShape=function(){a.prototype.hideInteractionShape.call(this)},o.prototype.isMeasureField=function(){return[Pr,Vk].includes(this.meta.field)},o.prototype.mappingValue=function(i){var l=this.getMeta().label;return i?.mapping(l,this.meta)},o.prototype.findFieldCondition=function(i){var l=this;return Qv(i,function(c){return c.field instanceof RegExp?c.field.test(l.meta.field):c.field===l.meta.field})},o}(Nb),Hf=function(a){function o(){return null!==a&&a.apply(this,arguments)||this}return Sr(o,a),Object.defineProperty(o.prototype,"cellType",{get:function(){return We.COL_CELL},enumerable:!1,configurable:!0}),o.prototype.initCell=function(){a.prototype.initCell.call(this),this.drawBackgroundShape(),this.drawInteractiveBgShape(),this.drawInteractiveBorderShape(),this.drawTextShape(),this.drawConditionIconShapes(),this.drawActionIcons(),this.drawBorders(),this.drawResizeArea(),this.addExpandColumnIconShapes(),this.update()},o.prototype.drawInteractiveBgShape=function(){this.stateShapes.set("interactiveBgShape",ha(this,Ft({},this.getCellArea()),{visible:!1}))},o.prototype.drawInteractiveBorderShape=function(){this.stateShapes.set("interactiveBorderShape",ha(this,this.getInteractiveBorderShapeStyle(2),{visible:!1}))},o.prototype.getMaxTextWidth=function(){return this.getContentArea().width-this.getActionIconsWidth()},o.prototype.getIconPosition=function(){if(this.meta.isLeaf)return a.prototype.getIconPosition.call(this,this.getActionIconsCount());var i=this.getIconStyle(),l=i.margin.left,c=this.getTextStyle(),f=this.textPosition,v=f.x,g=f.y-i.size/2;return"left"===c.textAlign?{x:v+this.actualTextWidth+l,y:g}:"right"===c.textAlign?{x:v+l,y:g}:{x:v+this.actualTextWidth/2+l,y:g}},o.prototype.isBolderText=function(){var i=this.meta;return!(!i.isTotals&&i.isLeaf)},o.prototype.getTextPosition=function(){var i,l=this.meta.isLeaf,c=this.headerConfig,f=c.width,v=c.scrollContainsRowHeader,g=c.cornerWidth,m=c.scrollX,_=this.getTextStyle(),b=this.getContentArea(),A=this.getIconStyle();if(l)return Hc(b,_,this.actualTextWidth,A,this.getActionIconsCount()).text;var I={start:m-(v?g:0),width:f+(v?g:0)},O=this.getTextStyle().textAlign,F=function(a,o,i){void 0===i&&(i={left:0,right:0});var l=Ft({},a);return"left"===o?(l.start+=i.left,l.width-=i.left):"right"===o&&(l.width-=i.right),l}(I,O,null===(i=this.getStyle().cell)||void 0===i?void 0:i.padding),B=this.getActionIconsWidth(),H=function(a,o,i){var f,v,l=o.start+o.width,c=a.start+a.width;if(o.start<=a.start&&l>=c)f=a.start+a.width/2,v=a.width;else if(o.start<=a.start)f=(g=o.width-(a.start-o.start))<i?l-i/2:l-g/2,v=g;else if(l>=c){var g;f=(g=o.width-(l-c))<i?o.start+i/2:o.start+g/2,v=g}else f=o.start+o.width/2,v=o.width;return{start:f,width:v}}(F,{start:b.x,width:b.width},this.actualTextWidth+B),Y=function(a,o,i,l){var c=o+i,f=a.start;if("center"===l)return f-i/2;var g=a.width-c>0?a.width/2:c/2;return"left"===l?f-g:f+g-i}(H,this.actualTextWidth,B,O);return this.textPosition={x:Y,y:b.y+b.height/2},this.textPosition},o.prototype.getActionIconsWidth=function(){var i=this.getStyle().icon,l=i.size,c=i.margin,f=this.getActionIconsCount();return(l+c.left)*f+(f>0?c.right:0)},o.prototype.getColResizeAreaKey=function(){return this.meta.key},o.prototype.getColResizeArea=function(){return Nf(this.spreadsheet,VA)},o.prototype.getHorizontalResizeAreaName=function(){return"".concat(u2).concat(this.meta.key)},o.prototype.drawHorizontalResizeArea=function(){var i,l;if(0!==(null===(l=null===(i=this.spreadsheet.options.style)||void 0===i?void 0:i.colCfg)||void 0===l?void 0:l.height)&&this.shouldDrawResizeAreaByType("colCellVertical",this)){var f=this.headerConfig,v=f.cornerWidth,g=f.viewportWidth,m=this.meta,_=m.y,b=m.height,A=this.getResizeAreaStyle(),I=this.getColResizeArea(),O=this.getHorizontalResizeAreaName();if(!I.find(function(P){return P.attrs.name===O})){var B=v+g;I.addShape("rect",{attrs:Ft(Ft({},Wc({theme:A,type:ya.Vertical,id:this.getColResizeAreaKey(),effect:ti.Field,offsetX:0,offsetY:_,width:B,height:b,meta:this.meta})),{name:O,x:0,y:_+b-A.size/2,width:B})})}}},o.prototype.shouldAddVerticalResizeArea=function(){var i=this.meta,l=i.x,c=i.y,f=i.width,v=i.height,g=this.headerConfig,m=g.scrollX,_=g.scrollY,b=g.scrollContainsRowHeader,A=g.cornerWidth,I=g.height,O=g.width,F=this.getResizeAreaStyle();return S1({x:l+f-F.size/2,y:c,width:F.size,height:v},{x:b?-A:0,y:0,width:b?A+O:O,height:I},{scrollX:m,scrollY:_})},o.prototype.getVerticalResizeAreaOffset=function(){var i=this.meta,f=this.headerConfig,g=f.position;return{x:g.x+i.x-f.scrollX,y:g.y+i.y}},o.prototype.drawVerticalResizeArea=function(){if(this.meta.isLeaf&&this.shouldDrawResizeAreaByType("colCellHorizontal",this)){var i=this.meta,l=i.label,c=i.width,f=i.height,v=this.getResizeAreaStyle(),g=this.getColResizeArea();if(this.shouldAddVerticalResizeArea()){var m=this.getVerticalResizeAreaOffset(),_=m.x,b=m.y;g.addShape("rect",{attrs:Ft(Ft({},Wc({theme:v,type:ya.Horizontal,effect:ti.Cell,id:l,offsetX:_,offsetY:b,width:c,height:f,meta:this.meta})),{x:_+c-v.size/2,y:b,height:f})})}}},o.prototype.drawResizeArea=function(){this.drawHorizontalResizeArea(),this.drawVerticalResizeArea()},o.prototype.drawHorizontalBorder=function(){var i=Rs(Pn.TOP,this.meta,this.theme.colCell.cell);li(this,i.position,i.style)},o.prototype.drawVerticalBorder=function(i){var l=Rs(i,this.meta,this.theme.colCell.cell);li(this,l.position,l.style)},o.prototype.drawBorders=function(){var i=this.spreadsheet,l=i.options;0===this.meta.colIndex&&(0,i.isTableMode)()&&!l.showSeriesNumber&&this.drawVerticalBorder(Pn.LEFT),this.drawHorizontalBorder(),this.drawVerticalBorder(Pn.RIGHT)},o.prototype.hasHiddenColumnCell=function(){var i=this,l=this.spreadsheet.options,c=l.interaction.hiddenColumnFields,f=void 0===c?[]:c,v=l.tooltip.operation,g=this.spreadsheet.store.get("hiddenColumnsDetail",[]);return!(Ve(g)||Ve(f)||!v.hiddenColumns||!g.find(function(m){return _1(m?.displaySiblingNode,i.meta.id)}))},o.prototype.getExpandIconTheme=function(){return this.getStyle().icon},o.prototype.addExpandColumnSplitLine=function(){var i=this.meta,l=i.x,c=i.y,f=i.width,v=i.height,g=this.theme.splitLine,m=g.horizontalBorderColor,_=g.horizontalBorderWidth,b=g.horizontalBorderColorOpacity,A=this.isLastColumn()?l+f-_:l;li(this,{x1:A,y1:c,x2:A,y2:c+v},{stroke:m,lineWidth:_,strokeOpacity:b})},o.prototype.addExpandColumnIconShapes=function(){this.hasHiddenColumnCell()&&(this.addExpandColumnSplitLine(),this.addExpandColumnIcons())},o.prototype.addExpandColumnIcons=function(){var i=this.isLastColumn();this.addExpandColumnIcon(i),this.isAllDisplaySiblingNodeHidden()&&i&&this.addExpandColumnIcon(!1)},o.prototype.addExpandColumnIcon=function(i){var l=this,c=this.getExpandColumnIconConfig(i);a1(this,Ft(Ft({},c),{name:"ExpandColIcon",cursor:"pointer"})).on("click",function(){l.spreadsheet.emit(ae.LAYOUT_COLS_EXPANDED,l.meta)})},o.prototype.getExpandColumnIconConfig=function(i){var l=this.getExpandIconTheme().size,c=this.getCellArea(),_=c.x-l;return{x:i?_+c.width:_,y:c.y+c.height/2-l/2,width:2*l,height:l}},o.prototype.isLastColumn=function(){return function(a,o){var i=a.getColumnLeafNodes(),l=a.getInitColumnLeafNodes(),c=Ub(o);return nr(hn(i),c)===o&&nr(hn(l),c)!==o}(this.spreadsheet,this.meta.id)},o.prototype.isAllDisplaySiblingNodeHidden=function(){var i=this.meta.id,l=this.spreadsheet.store.get("hiddenColumnsDetail",[]),c=l.find(function(v){var g;return(null===(g=v.displaySiblingNode?.next)||void 0===g?void 0:g.id)===i});return l.find(function(v){var g;return(null===(g=v.displaySiblingNode?.prev)||void 0===g?void 0:g.id)===i})&&c},o}(T1),HF=function(a){function o(){return null!==a&&a.apply(this,arguments)||this}return Sr(o,a),o.prototype.isBolderText=function(){return this.meta.cornerType===Ea.Col},Object.defineProperty(o.prototype,"cellType",{get:function(){return We.CORNER_CELL},enumerable:!1,configurable:!0}),o.prototype.initCell=function(){a.prototype.initCell.call(this),this.resetTextAndConditionIconShapes(),this.drawBackgroundShape(),this.drawTreeIcon(),this.drawCellText(),this.drawConditionIconShapes(),this.drawActionIcons(),this.drawBorderShape(),this.drawResizeArea(),this.update()},o.prototype.drawCellText=function(){this.drawTextShape()},o.prototype.drawTextShape=function(){var i=this.getContentArea().x,l=this.getCellArea(),c=l.y,f=l.height,v=this.getTextStyle(),g=this.getCornerText(),m=this.getMaxTextWidth(),_=Ou(this.meta,this.spreadsheet.options.placeholder),b=this.spreadsheet.measureTextWidth,A=Sl({measureTextWidth:b,text:g,maxWidth:m,fontParam:v,placeholder:_});this.actualText=A;var I=A.indexOf(us),O=A,F="";if(-1!==I&&this.spreadsheet.isHierarchyTreeType()){var B=I+(function r8(){return/iPhone/gi.test(navigator.userAgent)&&812===window.screen.height&&375===window.screen.width}()?1:0);O=g.substr(0,B),F=g.slice(B),F=Sl({measureTextWidth:b,text:F,maxWidth:m,fontParam:v})}var P=function(a,o){return Hc(a,o).text}({x:i+this.getTreeIconWidth(),y:c,width:m,height:f},v).x,H=c+(Ve(F)?f/2:f/4);this.addTextShape(Iu(this,[this.textShapes[0]],P,H,O,v)),Ve(F)||this.addTextShape(Iu(this,[this.textShapes[1]],P,c+.75*f,F,v)),this.actualTextWidth=ho([b(O,v),b(F,v)])},o.prototype.drawTreeIcon=function(){var i=this;if(this.showTreeIcon()&&this.meta.cornerType!==Ea.Col){var l=this.headerConfig.hierarchyCollapse,c=this.getStyle().icon.size,f=this.getTextStyle(),v=f.textBaseline,g=f.fill,m=this.getContentArea();this.treeIcon=o1(this,{x:m.x,y:Of(m,v,c),width:c,height:c},g,l,function(){i.headerConfig.spreadsheet.store.set("scrollY",0),i.headerConfig.spreadsheet.emit(ae.LAYOUT_TREE_ROWS_COLLAPSE_ALL,l)})}},o.prototype.drawBorderShape=function(){var i=this;[Pn.TOP,Pn.LEFT].forEach(function(l){var c=Rs(l,i.getCellArea(),i.getStyle().cell);li(i,c.position,c.style)})},o.prototype.isLastRowCornerCell=function(){var i=this.meta,c=i.field,f=this.headerConfig.rows;return i.cornerType===Ea.Row&&(this.spreadsheet.isHierarchyTreeType()||hn(f)===c)},o.prototype.getResizeAreaEffect=function(){return this.meta.cornerType===Ea.Series?ti.Series:this.isLastRowCornerCell()&&this.spreadsheet.isHierarchyTreeType()?ti.Tree:ti.Field},o.prototype.drawResizeArea=function(){if(this.shouldDrawResizeAreaByType("cornerCellHorizontal",this)){var i=this.getResizeAreaStyle(),l=Nf(this.spreadsheet,s2),c=this.headerConfig,f=c.position,v=c.scrollX,_=c.height,b=this.meta,A=b.x,I=b.y,O=b.width,F=b.height,B=b.field;if(b.cornerType!==Ea.Col&&S1({x:A+O-i.size/2,y:I,width:i.size,height:F},{x:0,y:0,width:c.width,height:_},{scrollX:v,scrollY:c.scrollY})){var V=f.x+A-v,j=f.y+(this.isLastRowCornerCell()?0:I);l.addShape("rect",{attrs:Ft(Ft({},Wc({theme:i,id:B,type:ya.Horizontal,effect:this.getResizeAreaEffect(),offsetX:V,offsetY:j,width:O,height:F,meta:this.meta})),{x:V+O-i.size/2,y:j,height:this.isLastRowCornerCell()?_:F})})}}},o.prototype.showTreeIcon=function(){var i;return this.spreadsheet.isHierarchyTreeType()&&0===(null===(i=this.meta)||void 0===i?void 0:i.x)},o.prototype.getIconPosition=function(){var i,l,c=null===(l=null===(i=this.textShapes)||void 0===i?void 0:i[0])||void 0===l?void 0:l.cfg.attrs,f=this.getTextStyle(),v=f.textBaseline,g=f.textAlign,m=this.getStyle().icon,_=m.size,b=m.margin;return{x:c?.x+$w([[vu("center"),tc(this.actualTextWidth/2)],[vu("right"),tc(0)],[KS,tc(this.actualTextWidth)]])(g)+b.left,y:Of(this.getContentArea(),v,_)}},o.prototype.getTreeIconWidth=function(){var i=this.getStyle().icon,l=i.size,c=i.margin;return this.showTreeIcon()?l+c.right:0},o.prototype.getTextStyle=function(){var i=this.getStyle(),l=i.text,c=i.bolderText,f=this.isBolderText()?l:c,v=this.getTextConditionFill(f);return Ft(Ft({},f),{fill:v})},o.prototype.getMaxTextWidth=function(){return this.getContentArea().width-this.getTreeIconWidth()-this.getActionIconsWidth()},o.prototype.getTextPosition=function(){return{x:0,y:0}},o.prototype.getFormattedFieldValue=function(){return PF(this.meta,this.spreadsheet.dataSet.getFieldName(this.meta.label))},o.prototype.getCornerText=function(){return this.getFormattedFieldValue().formattedValue},o}(T1),Kp=function(){function a(o){this.EVENT="gesture",this.gm=o}return a.prototype.do=function(o){switch(o.type){case"touchstart":this.onTouchStart(o);break;case"touchmove":this.onTouchMove(o);break;case"touchend":this.onTouchEnd(o);break;case"touchcancel":this.onTouchCancel(o);break;default:return}},a.prototype.emit=function(o){this.gm.emit(this.EVENT,o)},a}(),Qp=function(a){function o(){var i=null!==a&&a.apply(this,arguments)||this;return i.EVENT="pan",i}return Sr(o,a),o.prototype.onTouchCancel=function(i){},o.prototype.onTouchEnd=function(i){},o.prototype.onTouchMove=function(i){var l=i.x,c=i.y,f=l-this.preX,v=c-this.preY;this.preX=l,this.preY=c,this.emit({x:l,y:c,deltaX:f,deltaY:v,event:i})},o.prototype.onTouchStart=function(i){var c=i.y;this.preX=i.x,this.preY=c},o}(Kp),Ci="object"==typeof performance&&performance.now?performance:Date,GF=function(a){function o(){var i=null!==a&&a.apply(this,arguments)||this;return i.EVENT="press",i}return Sr(o,a),o.prototype.onTouchCancel=function(i){this.clearTimeout()},o.prototype.onTouchEnd=function(i){this.clearTimeout()},o.prototype.onTouchMove=function(i){(i.x-this.touchStartX>10||i.y-this.touchStartY>10)&&this.clearTimeout()},o.prototype.onTouchStart=function(i){var l=this;this.clearTimeout();var c=i.x,f=i.y;this.touchStartTime=Ci.now(),this.touchStartX=c,this.touchStartY=f,this.pressTimeout=window.setTimeout(function(){l.emit({x:c,y:f,event:i})},300)},o.prototype.clearTimeout=function(){window.clearTimeout(this.pressTimeout)},o}(Kp),A1=function(a){function o(){var i=null!==a&&a.apply(this,arguments)||this;return i.EVENT="swipe",i.latestMoveTime=0,i.ms=0,i.speedX=0,i.speedY=0,i.preX=0,i.preY=0,i}return Sr(o,a),o.prototype.onTouchCancel=function(i){},o.prototype.onTouchEnd=function(i){var l=this.speedX,c=this.speedY;Ci.now()-this.latestMoveTime<100&&this.emit({x:i.x,y:i.y,speedX:l,speedY:c,event:i})},o.prototype.onTouchMove=function(i){var l=i.x,c=i.y,f=Ci.now(),g=c-this.preY,m=f-this.ms;this.speedX=(l-this.preX)/m,this.speedY=g/m,this.latestMoveTime=f},o.prototype.onTouchStart=function(i){var l=i.x,c=i.y;this.speedX=this.speedY=0,this.preX=l,this.preY=c,this.ms=Ci.now()},o}(Kp),Qb=function(a){function o(){var i=null!==a&&a.apply(this,arguments)||this;return i.EVENT="tap",i}return Sr(o,a),o.prototype.onTouchCancel=function(i){},o.prototype.onTouchEnd=function(i){var l=i.x,c=i.y;l-this.touchStartX<2&&c-this.touchStartY<2&&Ci.now()-this.touchStartTime<300&&this.emit({x:l,y:c,event:i})},o.prototype.onTouchMove=function(i){},o.prototype.onTouchStart=function(i){var l=i.x,c=i.y;this.touchStartTime=Ci.now(),this.touchStartX=l,this.touchStartY=c},o}(Kp),tT={Pan:Qp,Press:GF,Swipe:A1,Tap:Qb},I1=function(a){function o(i,l){void 0===l&&(l={});var c=a.call(this)||this;return c.onTouchStart=function(f){c.preventEvent(f),c.element.on("touchmove",c.onTouchMove),c.element.on("touchend",c.onTouchEnd),c.element.on("touchcancel",c.onTouchCancel),c.emit("touchdown",f),c.doGestures(f)},c.onTouchMove=function(f){c.preventEvent(f),c.emit("touchmove",f),c.doGestures(f)},c.onTouchEnd=function(f){c.preventEvent(f),c.emit("touchend",f),c.element.off("touchmove",c.onTouchMove),c.element.off("touchend",c.onTouchEnd),c.element.off("touchcancel",c.onTouchCancel),c.doGestures(f)},c.onTouchCancel=function(f){c.preventEvent(f),c.emit("touchcancel",f),c.element.off("touchmove",c.onTouchMove),c.element.off("touchend",c.onTouchEnd),c.element.off("touchcancel",c.onTouchCancel),c.doGestures(f)},c.element=i,c.options=l,c.initialGestures(),c.bindTouchStart(),c}return Sr(o,a),o.prototype.destroy=function(){this.element.off("touchstart",this.onTouchStart),this.off()},o.prototype.initialGestures=function(){var i=this;this.gestures=(this.options.gestures||["Pan","Press","Swipe","Tap"]).map(function(c){var f=function(a){return tT[a]}(c);return new f(i)})},o.prototype.bindTouchStart=function(){this.element.on("touchstart",this.onTouchStart)},o.prototype.preventEvent=function(i){(this.options.prevents||[]).includes(i.type)&&i.preventDefault()},o.prototype.doGestures=function(i){this.gestures.forEach(function(l){l.do(i)})},o}(sr),UF=O0,VF="swipe",n7="pan",eT="wheel",XF=function(a){function o(i){var l=a.call(this)||this;return l.rafMs=0,l.onPan=function(c){l.raf&&cancelAnimationFrame(l.raf);var g=l.getWrapperEvent(c,c.deltaX,c.deltaY);l.emit(eT,g)},l.onSwipe=function(c){var f=c.speedX,v=c.speedY;l.rafMs=Ci.now(),l.ms=l.rafMs,(0!==f||0!==v)&&l.rafInertia(c)},l.element=i,l.gm=new I1(i,{gestures:["Pan","Swipe"]}),l.gm.on(VF,l.onSwipe),l.gm.on(n7,l.onPan),l}return Sr(o,a),o.prototype.destroy=function(){window.cancelAnimationFrame(this.raf),this.gm.destroy(),this.off()},o.prototype.rafInertia=function(i){var l=this,c=i.speedX,f=i.speedY;this.raf=window.requestAnimationFrame(function(){var v=Ci.now(),g=(v-l.ms)/800;if(g<1){g=UF(1-g);var m=v-l.rafMs,A=l.getWrapperEvent(i,c*g*m,f*g*m);l.emit(eT,A),l.rafMs=v,l.rafInertia(i)}})},o.prototype.getWrapperEvent=function(i,l,c){return Ft(Ft({},i),{deltaX:-l,deltaY:-c})},o}(sr),e0=function(a,o,i,l,c){var m=i+l;return a+c>=m?a:m<a+(o+c)/2?i+l-c:i>a+(o-c)/2?a+o-i>c?i:a+o-c:a+(o-c)/2},r0=function(a){function o(){return null!==a&&a.apply(this,arguments)||this}return Sr(o,a),Object.defineProperty(o.prototype,"cellType",{get:function(){return We.ROW_CELL},enumerable:!1,configurable:!0}),o.prototype.destroy=function(){var i;a.prototype.destroy.call(this),null===(i=this.gm)||void 0===i||i.destroy()},o.prototype.initCell=function(){a.prototype.initCell.call(this),this.drawBackgroundShape(),this.drawInteractiveBgShape(),this.drawInteractiveBorderShape(),this.drawTextShape(),this.drawConditionIconShapes(),this.drawTreeIcon(),this.drawTreeLeafNodeAlignDot(),this.drawRectBorder(),this.drawResizeAreaInLeaf(),this.drawActionIcons(),this.update()},o.prototype.getBackgroundColor=function(){var i=this.getCrossBackgroundColor(this.meta.rowIndex);return this.getBackgroundColorByCondition(i.backgroundColor,i.backgroundColorOpacity)},o.prototype.drawInteractiveBorderShape=function(){this.stateShapes.set("interactiveBorderShape",ha(this,this.getInteractiveBorderShapeStyle(2),{visible:!1}))},o.prototype.drawInteractiveBgShape=function(){this.stateShapes.set("interactiveBgShape",ha(this,Ft({},this.getCellArea()),{visible:!1}))},o.prototype.showTreeIcon=function(){return this.spreadsheet.isHierarchyTreeType()&&!this.meta.isLeaf},o.prototype.showTreeLeafNodeAlignDot=function(){var i;return(null===(i=this.spreadsheet.options.style)||void 0===i?void 0:i.showTreeLeafNodeAlignDot)&&this.spreadsheet.isHierarchyTreeType()},o.prototype.getParentTreeIconCfg=function(){if(this.showTreeLeafNodeAlignDot()&&this.spreadsheet.isHierarchyTreeType()&&this.meta.isLeaf)return nr(this.meta,"parent.belongsCell.treeIcon.cfg")},o.prototype.drawTreeIcon=function(){var i=this;if(this.showTreeIcon()){var l=this.meta,c=l.isCollapsed,f=l.id,v=l.hierarchy,g=this.getContentArea().x,m=this.getTextStyle().fill,_=this.getStyle().icon.size,A=g+this.getContentIndent(),I=this.getIconYPosition();this.treeIcon=o1(this,{x:A,y:I,width:_,height:_},m,c,function(){if(!oi()){if(!c){var O=i.spreadsheet.store.get("scrollY"),F=i.spreadsheet.facet.panelBBox.viewportHeight||0,B=function(a){var o=0;return a.children?.forEach(function(l){o+=l.height||0}),o}(i.meta),P=v.height-B;if(O>0&&O+F>P){var H=P-F;i.spreadsheet.store.set("scrollY",H>0?H:0)}}i.spreadsheet.emit(ae.ROW_CELL_COLLAPSE_TREE_ROWS,{id:f,isCollapsed:!c,node:i.meta})}}),oi()&&(this.gm=new I1(this,{gestures:["Tap"]}),this.gm.on("tap",function(){i.spreadsheet.emit(ae.ROW_CELL_COLLAPSE_TREE_ROWS,{id:f,isCollapsed:!c,node:i.meta})}))}},o.prototype.drawTreeLeafNodeAlignDot=function(){var i=this.getParentTreeIconCfg();if(i){var l=this.getStyle().icon,c=l.size,v=i.x+c+l.margin.right,g=this.getTextPosition().y,m=this.getTextStyle(),A=c/5;this.treeLeafNodeAlignDot=db(this,{x:v+c/2,y:g+(m.fontSize-A)/2,r:A,fill:m.fill,fillOpacity:.3})}},o.prototype.isBolderText=function(){var i=this.meta;return!i.isLeaf&&0===i.level||i.isTotals},o.prototype.drawTextShape=function(){a.prototype.drawTextShape.call(this),this.drawLinkField(this.meta)},o.prototype.drawRectBorder=function(){var i=this,l=this.getCellArea().x,c=this.getContentIndent(),f=this.spreadsheet.isHierarchyTreeType()?l:l+c;[Pn.BOTTOM,Pn.LEFT].forEach(function(v){var g=Rs(v,Ft(Ft({},i.getCellArea()),{x:f}),i.getStyle().cell);li(i,g.position,g.style)})},o.prototype.drawResizeAreaInLeaf=function(){if(this.meta.isLeaf&&this.shouldDrawResizeAreaByType("rowCellVertical",this)){var i=this.getCellArea(),l=i.x,c=i.y,f=i.width,v=i.height,g=this.getResizeAreaStyle(),m=Nf(this.spreadsheet,_h),_=this.headerConfig,b=_.position,A=_.seriesNumberWidth,I=_.width,F=_.scrollX,B=_.scrollY;if(S1({x:l,y:c+v-g.size/2,width:f,height:g.size},{x:0,y:0,width:I,height:_.viewportHeight},{scrollX:F,scrollY:B})){var Y=b?.x+l-F+A,V=b?.y+c-B,j=this.spreadsheet.isFrozenRowHeader()?I-A-(l-F):f;m.addShape("rect",{attrs:Ft(Ft({},Wc({id:this.meta.id,theme:g,type:ya.Vertical,effect:ti.Cell,offsetX:Y,offsetY:V,width:f,height:v,meta:this.meta})),{x:Y,y:V+v-g.size/2,width:j})})}}},o.prototype.getContentIndent=function(){if(!this.spreadsheet.isHierarchyTreeType())return 0;for(var i=this.getStyle(),l=i.icon,c=i.cell,f=l.size+l.margin.right,v=this.meta.parent,g=0;v;)0!==v.height&&(g+=f),v=v.parent;return this.showTreeLeafNodeAlignDot()&&(g+=this.isTreeLevel()?0:c.padding.right+l.margin.right),g},o.prototype.getTextIndent=function(){var i=this.getStyle().icon,l=i.size,c=i.margin;return this.getContentIndent()+(this.showTreeIcon()||this.isTreeLevel()&&this.showTreeLeafNodeAlignDot()?l+c.right:0)},o.prototype.isTreeLevel=function(){return jn(nr(this.meta,"parent.children"),function(i){return!i.isLeaf})},o.prototype.getIconPosition=function(){var i=this.textShape.cfg.attrs,l=i.x,c=i.y,f=i.textAlign,v=this.getStyle().icon.margin.left;return"left"===f?{x:l+this.actualTextWidth+v,y:c}:"right"===f?{x:l+v,y:c}:{x:l+this.actualTextWidth/2+v,y:c}},o.prototype.getMaxTextWidth=function(){return this.getContentArea().width-this.getTextIndent()-this.getActionIconsWidth()},o.prototype.getTextArea=function(){var i=this.getContentArea(),l=this.getTextIndent();return Ft(Ft({},i),{x:i.x+l,width:i.width-l})},o.prototype.getAdjustTextAreaHeight=function(i,l,c){var f=i.height;return!this.spreadsheet.facet.vScrollBar&&i.y+i.height>l+c&&(f=l+c-i.y),f},o.prototype.getTextPosition=function(){var i=this.getTextArea(),l=this.headerConfig,c=l.scrollY,f=l.viewportHeight,v=this.getAdjustTextAreaHeight(i,c,f),g=this.getTextStyle().fontSize,m=e0(i.y,v,c,f,g);return{x:Hc(i,this.getTextStyle(),0,this.getIconStyle(),this.getActionIconsCount()).text.x,y:m}},o.prototype.getIconYPosition=function(){var i=this.getTextPosition().y,l=this.getStyle().icon.size;return i+(this.getTextStyle().fontSize-l)/2},o}(T1),nT=function(a,o,i){var l,c,f=(null===(l=i.icon.margin)||void 0===l?void 0:l.left)||0,v=(null===(c=i.icon.margin)||void 0===c?void 0:c.right)||0,g=a.store.get("hiddenColumnsDetail",[]),m=!1,_=!1;g.forEach(function(A){var I,O,F,B;(null===(O=null===(I=A?.displaySiblingNode)||void 0===I?void 0:I.prev)||void 0===O?void 0:O.field)===o&&(m=!0),(null===(B=null===(F=A?.displaySiblingNode)||void 0===F?void 0:F.next)||void 0===B?void 0:B.field)===o&&(_=!0)});var b=nr(i,"icon.size");return{left:_?b+v:0,right:m?b+f:0}},iT=function(a){function o(){return null!==a&&a.apply(this,arguments)||this}return Sr(o,a),o.prototype.handleRestOptions=function(){for(var i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];var c=de(i,1);this.headerConfig=Ft({},c[0]);var v=this.meta.field,m=jn(this.spreadsheet.dataCfg.sortParams,function(b){return b?.sortFieldId===v}),_=Jb(m,!0);this.headerConfig.sortParam=Ft(Ft(Ft({},this.headerConfig.sortParam),m||{}),{type:_})},o.prototype.isFrozenCell=function(){var i=this.spreadsheet.options,l=i.frozenColCount,c=i.frozenTrailingColCount,f=this.spreadsheet.facet.layoutResult.colNodes.filter(function(g){return ja(g)}),v=function(a){for(;!ja(a);)a=a.parent;return a}(this.meta).colIndex;return Au(v,l)||Eu(v,c,f.length)},o.prototype.getFormattedFieldValue=function(){return PF(this.meta,this.spreadsheet.dataSet.getFieldName(this.meta.label))},o.prototype.shouldAddVerticalResizeArea=function(){return!!this.isFrozenCell()||a.prototype.shouldAddVerticalResizeArea.call(this)},o.prototype.getVerticalResizeAreaOffset=function(){var i=this.meta,l=i.x,c=i.y,f=this.headerConfig,v=f.scrollX,g=f.position;return this.isFrozenCell()?{x:l,y:c}:{x:g.x+l-v,y:g.y+c}},o.prototype.getColResizeArea=function(){return this.isFrozenCell()?Nf(this.spreadsheet,l2):a.prototype.getColResizeArea.call(this)},o.prototype.isSortCell=function(){return!0},o.prototype.showSortIcon=function(){return this.spreadsheet.options.showDefaultHeaderActionIcon},o.prototype.getTextStyle=function(){return this.getStyle()?.bolderText},o.prototype.getContentArea=function(){var i,l=((null===(i=this.getStyle())||void 0===i?void 0:i.cell)||this.theme.dataCell.cell).padding,c=Ft({},l),f=nT(this.spreadsheet,this.meta.field,this.getStyle());return f.left&&(c.left=(c.left||0)+f.left),f.right&&(c.right=(c.right||0)+f.right),pb(this.getCellArea(),c)},o.prototype.getHorizontalResizeAreaName=function(){return"".concat(u2).concat("table-col-cell")},o.prototype.drawBackgroundShape=function(){var i=this.getStyle().cell.backgroundColor;this.backgroundShape=ha(this,Ft(Ft({},this.getCellArea()),{fill:i}))},o}(Hf),qF=function(a){function o(){return null!==a&&a.apply(this,arguments)||this}return Sr(o,a),o.prototype.getStyle=function(i){return i?this.theme[i]:nr(this,"theme.cornerCell")},o.prototype.showSortIcon=function(){return!1},o.prototype.drawLeftBorder=function(){var i=Rs(Pn.LEFT,this.getCellArea(),this.getStyle().cell);li(this,i.position,i.style)},o.prototype.drawBorders=function(){a.prototype.drawBorders.call(this),0===this.meta.colIndex&&this.drawLeftBorder()},o}(iT),Yc=function(a){function o(){return null!==a&&a.apply(this,arguments)||this}return Sr(o,a),o.prototype.getLinkFieldStyle=function(){return this.theme.rowCell.text.linkTextFill},o.prototype.drawBorderShape=function(){a.prototype.drawBorderShape.call(this),0===this.meta.colIndex&&this.drawLeftBorder()},o.prototype.shouldDrawResizeArea=function(){return 0===this.meta.colIndex},o.prototype.drawResizeArea=function(){if(this.shouldDrawResizeArea()){var i=this.getCellArea(),l=i.x,c=i.y,f=i.width,v=i.height,g=this.meta.rowIndex,m=this.getResizeAreaStyle(),_=this.spreadsheet.options,b=_.frozenRowCount,A=_.frozenTrailingRowCount,I=this.spreadsheet.facet.getCellRange(),O=zp(g,I.start,b),F=Ef(g,I.end,A),H=Nf(this.spreadsheet,O||F?WA:_h),Y=this.spreadsheet.facet.layoutResult.colsHierarchy.height,V=this.spreadsheet.facet.getScrollOffset().scrollY,j=this.spreadsheet.facet.getPaginationScrollY(),Lt=c+(F?0:Y);F||(Lt-=O?j:V+j),H.addShape("rect",{attrs:Ft(Ft({},Wc({id:String(this.meta.rowIndex),theme:m,type:ya.Vertical,effect:ti.Cell,offsetX:l,offsetY:Lt,width:f,height:v,meta:this.meta})),{x:l,y:Lt+v-m.size/2,width:f})})}},o}(Al),aT=function(a){function o(){return null!==a&&a.apply(this,arguments)||this}return Sr(o,a),Object.defineProperty(o.prototype,"cellType",{get:function(){return We.ROW_CELL},enumerable:!1,configurable:!0}),o.prototype.getTextStyle=function(){return this.theme.rowCell.seriesText},o}(Yc),n0=function(a){return[vi.META,vi.CONTROL].includes(a.key)},a0=function(a){return a.ctrlKey||a.metaKey},Vo=function(a){var i=a.getMeta()||{};return{id:i.id,colIndex:i.colIndex,rowIndex:i.rowIndex,type:a.cellType,rowQuery:i.rowQuery}};function O1(a,o){var i=Math.min(a.rowIndex,o.rowIndex),l=Math.max(a.rowIndex,o.rowIndex);return{start:{rowIndex:i,colIndex:Math.min(a.colIndex,o.colIndex)},end:{rowIndex:l,colIndex:Math.max(a.colIndex,o.colIndex)}}}var s0,Bs,R1=function(a,o){var i=a.getSelectedCellHighlight(),c=i.rowHeader;i.colHeader&&a.updateCells(a.getAllColHeaderCells()),c&&a.updateCells(a.getAllRowHeaderCells()),o()},sT=function(a){var o=a.store.get("visibleActionIcons"),i=a.interaction.getInteractedCells(),l=a.interaction.getState().cells;return!(Ve(i)&&Ve(l)&&Ve(o))&&(Cr(o,function(f){f.set("visible",!1)}),a.store.set("visibleActionIcons",[]),Cr(i,function(f){f.hideInteractionShape()}),a.interaction.resetState(),a.options.interaction.selectedCellsSpotlight&&Cr(a.interaction.getPanelGroupAllUnSelectedDataCells()||[],function(f){f.clearUnselectedState()}),!0)},eD=function(a,o,i){var l,c,f=i.facet,g=f?.frozenGroupInfo,m=null!==(l=g?.frozenCol.width)&&void 0!==l?l:0,_=null!==(c=g?.frozenTrailingCol.width)&&void 0!==c?c:0,b=f.layoutResult.colLeafNodes[a];return o===Wn.SCROLL_UP?b.x-m:b.x+b.width-(f.panelBBox.width-_)},rD=function(a,o,i){var l,c,f=i.facet,v=f.viewCellHeights.getCellOffsetY,g=f.panelBBox.height,m=v(a+1);if(fn(m))return 0;var _=f?.frozenGroupInfo,b=null!==(l=_?.frozenRow.height)&&void 0!==l?l:0,A=null!==(c=_?.frozenTrailingRow.height)&&void 0!==c?c:0;return o===Wn.SCROLL_UP?v(a)-b:m-(g-A)},ks=function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];var l=Ae(Ae([],de(a),!1),[function(c,f){if(yr(c)&&yr(f))return f}],!1);return Hy.apply(void 0,Ae([{}],de(l),!1))},nD=function(a){var i=["rows","columns","values"].reduce(function(l,c){var f=a[c],v=Uo(f);return ii(v,f)||console.warn("fields.".concat(c,":[").concat(f,"] should be unique")),l[c]=v,l},{});return Ft(Ft({},a),i)},F1=function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];var i=ks.apply(void 0,Ae([cB],de(a),!1));return i.fields=nD(i.fields),(!Ve(i.fields.customTreeItems)||Ve(i.fields.values))&&(i.fields.valueInCols=!1),i},iD=function(a){return ks(rE,a)},wi=9e15,da=1e9,D1="0123456789abcdef",Gf="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Wf="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",o0={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-wi,maxE:wi,crypto:!1},Rr=!0,l0="[DecimalError] ",El=l0+"Invalid argument: ",lT=l0+"Precision limit exceeded",uT=l0+"crypto unavailable",k1="[object Decimal]",Zn=Math.floor,zn=Math.pow,Uf=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,cT=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,aD=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,hT=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ja=1e7,br=7,dT=Gf.length-1,Vc=Wf.length-1,Re={toStringTag:k1};function _i(a){var o,i,l,c=a.length-1,f="",v=a[0];if(c>0){for(f+=v,o=1;o<c;o++)(i=br-(l=a[o]+"").length)&&(f+=$o(i)),f+=l;(i=br-(l=(v=a[o])+"").length)&&(f+=$o(i))}else if(0===v)return"0";for(;v%10==0;)v/=10;return f+v}function va(a,o,i){if(a!==~~a||a<o||a>i)throw Error(El+a)}function Yf(a,o,i,l){var c,f,v,g;for(f=a[0];f>=10;f/=10)--o;return--o<0?(o+=br,c=0):(c=Math.ceil((o+1)/br),o%=br),f=zn(10,br-o),g=a[c]%f|0,null==l?o<3?(0==o?g=g/100|0:1==o&&(g=g/10|0),v=i<4&&99999==g||i>3&&49999==g||5e4==g||0==g):v=(i<4&&g+1==f||i>3&&g+1==f/2)&&(a[c+1]/f/100|0)==zn(10,o-2)-1||(g==f/2||0==g)&&0==(a[c+1]/f/100|0):o<4?(0==o?g=g/1e3|0:1==o?g=g/100|0:2==o&&(g=g/10|0),v=(l||i<4)&&9999==g||!l&&i>3&&4999==g):v=((l||i<4)&&g+1==f||!l&&i>3&&g+1==f/2)&&(a[c+1]/f/1e3|0)==zn(10,o-3)-1,v}function u0(a,o,i){for(var l,f,c=[0],v=0,g=a.length;v<g;){for(f=c.length;f--;)c[f]*=o;for(c[0]+=D1.indexOf(a.charAt(v++)),l=0;l<c.length;l++)c[l]>i-1&&(void 0===c[l+1]&&(c[l+1]=0),c[l+1]+=c[l]/i|0,c[l]%=i)}return c.reverse()}Re.absoluteValue=Re.abs=function(){var a=new this.constructor(this);return a.s<0&&(a.s=1),mr(a)},Re.ceil=function(){return mr(new this.constructor(this),this.e+1,2)},Re.clampedTo=Re.clamp=function(a,o){var l=this,c=l.constructor;if(a=new c(a),o=new c(o),!a.s||!o.s)return new c(NaN);if(a.gt(o))throw Error(El+o);return l.cmp(a)<0?a:l.cmp(o)>0?o:new c(l)},Re.comparedTo=Re.cmp=function(a){var o,i,l,c,f=this,v=f.d,g=(a=new f.constructor(a)).d,m=f.s,_=a.s;if(!v||!g)return m&&_?m!==_?m:v===g?0:!v^m<0?1:-1:NaN;if(!v[0]||!g[0])return v[0]?m:g[0]?-_:0;if(m!==_)return m;if(f.e!==a.e)return f.e>a.e^m<0?1:-1;for(o=0,i=(l=v.length)<(c=g.length)?l:c;o<i;++o)if(v[o]!==g[o])return v[o]>g[o]^m<0?1:-1;return l===c?0:l>c^m<0?1:-1},Re.cosine=Re.cos=function(){var a,o,i=this,l=i.constructor;return i.d?i.d[0]?(o=l.rounding,l.precision=(a=l.precision)+Math.max(i.e,i.sd())+br,l.rounding=1,i=function oD(a,o){var i,l,c;if(o.isZero())return o;(l=o.d.length)<32?c=(1/f0(4,i=Math.ceil(l/3))).toString():(i=16,c="2.3283064365386962890625e-10"),a.precision+=i,o=Xc(a,1,o.times(c),new a(1));for(var f=i;f--;){var v=o.times(o);o=v.times(v).minus(v).times(8).plus(1)}return a.precision-=i,o}(l,gT(l,i)),l.precision=a,l.rounding=o,mr(2==Bs||3==Bs?i.neg():i,a,o,!0)):new l(1):new l(NaN)},Re.cubeRoot=Re.cbrt=function(){var a,o,i,l,c,f,v,g,m,_,b=this,A=b.constructor;if(!b.isFinite()||b.isZero())return new A(b);for(Rr=!1,(f=b.s*zn(b.s*b,1/3))&&Math.abs(f)!=1/0?l=new A(f.toString()):(i=_i(b.d),(f=((a=b.e)-i.length+1)%3)&&(i+=1==f||-2==f?"0":"00"),f=zn(i,1/3),a=Zn((a+1)/3)-(a%3==(a<0?-1:2)),(l=new A(i=f==1/0?"5e"+a:(i=f.toExponential()).slice(0,i.indexOf("e")+1)+a)).s=b.s),v=(a=A.precision)+3;;)if(_=(m=(g=l).times(g).times(g)).plus(b),l=xn(_.plus(b).times(g),_.plus(m),v+2,1),_i(g.d).slice(0,v)===(i=_i(l.d)).slice(0,v)){if("9999"!=(i=i.slice(v-3,v+1))&&(c||"4999"!=i)){(!+i||!+i.slice(1)&&"5"==i.charAt(0))&&(mr(l,a+1,1),o=!l.times(l).times(l).eq(b));break}if(!c&&(mr(g,a+1,0),g.times(g).times(g).eq(b))){l=g;break}v+=4,c=1}return Rr=!0,mr(l,a,A.rounding,o)},Re.decimalPlaces=Re.dp=function(){var a,o=this.d,i=NaN;if(o){if(i=((a=o.length-1)-Zn(this.e/br))*br,a=o[a])for(;a%10==0;a/=10)i--;i<0&&(i=0)}return i},Re.dividedBy=Re.div=function(a){return xn(this,new this.constructor(a))},Re.dividedToIntegerBy=Re.divToInt=function(a){var i=this.constructor;return mr(xn(this,new i(a),0,1,1),i.precision,i.rounding)},Re.equals=Re.eq=function(a){return 0===this.cmp(a)},Re.floor=function(){return mr(new this.constructor(this),this.e+1,3)},Re.greaterThan=Re.gt=function(a){return this.cmp(a)>0},Re.greaterThanOrEqualTo=Re.gte=function(a){var o=this.cmp(a);return 1==o||0===o},Re.hyperbolicCosine=Re.cosh=function(){var a,o,i,l,c,f=this,v=f.constructor,g=new v(1);if(!f.isFinite())return new v(f.s?1/0:NaN);if(f.isZero())return g;l=v.rounding,v.precision=(i=v.precision)+Math.max(f.e,f.sd())+4,v.rounding=1,(c=f.d.length)<32?o=(1/f0(4,a=Math.ceil(c/3))).toString():(a=16,o="2.3283064365386962890625e-10"),f=Xc(v,1,f.times(o),new v(1),!0);for(var m,_=a,b=new v(8);_--;)m=f.times(f),f=g.minus(m.times(b.minus(m.times(b))));return mr(f,v.precision=i,v.rounding=l,!0)},Re.hyperbolicSine=Re.sinh=function(){var a,o,i,l,c=this,f=c.constructor;if(!c.isFinite()||c.isZero())return new f(c);if(i=f.rounding,f.precision=(o=f.precision)+Math.max(c.e,c.sd())+4,f.rounding=1,(l=c.d.length)<3)c=Xc(f,2,c,c,!0);else{a=1.4*Math.sqrt(l),c=Xc(f,2,c=c.times(1/f0(5,a=a>16?16:0|a)),c,!0);for(var v,g=new f(5),m=new f(16),_=new f(20);a--;)v=c.times(c),c=c.times(g.plus(v.times(m.times(v).plus(_))))}return f.precision=o,f.rounding=i,mr(c,o,i,!0)},Re.hyperbolicTangent=Re.tanh=function(){var a,o,i=this,l=i.constructor;return i.isFinite()?i.isZero()?new l(i):(o=l.rounding,l.precision=(a=l.precision)+7,l.rounding=1,xn(i.sinh(),i.cosh(),l.precision=a,l.rounding=o)):new l(i.s)},Re.inverseCosine=Re.acos=function(){var a,o=this,i=o.constructor,l=o.abs().cmp(1),c=i.precision,f=i.rounding;return-1!==l?0===l?o.isNeg()?Nn(i,c,f):new i(0):new i(NaN):o.isZero()?Nn(i,c+4,f).times(.5):(i.precision=c+6,i.rounding=1,o=o.asin(),a=Nn(i,c+4,f).times(.5),i.precision=c,i.rounding=f,a.minus(o))},Re.inverseHyperbolicCosine=Re.acosh=function(){var a,o,i=this,l=i.constructor;return i.lte(1)?new l(i.eq(1)?0:NaN):i.isFinite()?(o=l.rounding,l.precision=(a=l.precision)+Math.max(Math.abs(i.e),i.sd())+4,l.rounding=1,Rr=!1,i=i.times(i).minus(1).sqrt().plus(i),Rr=!0,l.precision=a,l.rounding=o,i.ln()):new l(i)},Re.inverseHyperbolicSine=Re.asinh=function(){var a,o,i=this,l=i.constructor;return!i.isFinite()||i.isZero()?new l(i):(o=l.rounding,l.precision=(a=l.precision)+2*Math.max(Math.abs(i.e),i.sd())+6,l.rounding=1,Rr=!1,i=i.times(i).plus(1).sqrt().plus(i),Rr=!0,l.precision=a,l.rounding=o,i.ln())},Re.inverseHyperbolicTangent=Re.atanh=function(){var a,o,i,l,c=this,f=c.constructor;return c.isFinite()?c.e>=0?new f(c.abs().eq(1)?c.s/0:c.isZero()?c:NaN):(a=f.precision,o=f.rounding,l=c.sd(),Math.max(l,a)<2*-c.e-1?mr(new f(c),a,o,!0):(f.precision=i=l-c.e,c=xn(c.plus(1),new f(1).minus(c),i+a,1),f.precision=a+4,f.rounding=1,c=c.ln(),f.precision=a,f.rounding=o,c.times(.5))):new f(NaN)},Re.inverseSine=Re.asin=function(){var a,o,i,l,c=this,f=c.constructor;return c.isZero()?new f(c):(o=c.abs().cmp(1),i=f.precision,l=f.rounding,-1!==o?0===o?((a=Nn(f,i+4,l).times(.5)).s=c.s,a):new f(NaN):(f.precision=i+6,f.rounding=1,c=c.div(new f(1).minus(c.times(c)).sqrt().plus(1)).atan(),f.precision=i,f.rounding=l,c.times(2)))},Re.inverseTangent=Re.atan=function(){var a,o,i,l,c,f,v,g,m,_=this,b=_.constructor,A=b.precision,I=b.rounding;if(_.isFinite()){if(_.isZero())return new b(_);if(_.abs().eq(1)&&A+4<=Vc)return(v=Nn(b,A+4,I).times(.25)).s=_.s,v}else{if(!_.s)return new b(NaN);if(A+4<=Vc)return(v=Nn(b,A+4,I).times(.5)).s=_.s,v}for(b.precision=g=A+10,b.rounding=1,a=i=Math.min(28,g/br+2|0);a;--a)_=_.div(_.times(_).plus(1).sqrt().plus(1));for(Rr=!1,o=Math.ceil(g/br),l=1,m=_.times(_),v=new b(_),c=_;-1!==a;)if(c=c.times(m),f=v.minus(c.div(l+=2)),c=c.times(m),void 0!==(v=f.plus(c.div(l+=2))).d[o])for(a=o;v.d[a]===f.d[a]&&a--;);return i&&(v=v.times(2<<i-1)),Rr=!0,mr(v,b.precision=A,b.rounding=I,!0)},Re.isFinite=function(){return!!this.d},Re.isInteger=Re.isInt=function(){return!!this.d&&Zn(this.e/br)>this.d.length-2},Re.isNaN=function(){return!this.s},Re.isNegative=Re.isNeg=function(){return this.s<0},Re.isPositive=Re.isPos=function(){return this.s>0},Re.isZero=function(){return!!this.d&&0===this.d[0]},Re.lessThan=Re.lt=function(a){return this.cmp(a)<0},Re.lessThanOrEqualTo=Re.lte=function(a){return this.cmp(a)<1},Re.logarithm=Re.log=function(a){var o,i,l,c,f,v,g,m,_=this,b=_.constructor,A=b.precision,I=b.rounding;if(null==a)a=new b(10),o=!0;else{if(i=(a=new b(a)).d,a.s<0||!i||!i[0]||a.eq(1))return new b(NaN);o=a.eq(10)}if(i=_.d,_.s<0||!i||!i[0]||_.eq(1))return new b(i&&!i[0]?-1/0:1!=_.s?NaN:i?0:1/0);if(o)if(i.length>1)f=!0;else{for(c=i[0];c%10==0;)c/=10;f=1!==c}if(Rr=!1,v=Ll(_,g=A+5),l=o?B1(b,g+10):Ll(a,g),Yf((m=xn(v,l,g,1)).d,c=A,I))do{if(v=Ll(_,g+=10),l=o?B1(b,g+10):Ll(a,g),m=xn(v,l,g,1),!f){+_i(m.d).slice(c+1,c+15)+1==1e14&&(m=mr(m,A+1,0));break}}while(Yf(m.d,c+=10,I));return Rr=!0,mr(m,A,I)},Re.minus=Re.sub=function(a){var o,i,l,c,f,v,g,m,_,b,A,I,O=this,F=O.constructor;if(a=new F(a),!O.d||!a.d)return O.s&&a.s?O.d?a.s=-a.s:a=new F(a.d||O.s!==a.s?O:NaN):a=new F(NaN),a;if(O.s!=a.s)return a.s=-a.s,O.plus(a);if(I=a.d,g=F.precision,m=F.rounding,!(_=O.d)[0]||!I[0]){if(I[0])a.s=-a.s;else{if(!_[0])return new F(3===m?-0:0);a=new F(O)}return Rr?mr(a,g,m):a}if(i=Zn(a.e/br),b=Zn(O.e/br),_=_.slice(),f=b-i){for((A=f<0)?(o=_,f=-f,v=I.length):(o=I,i=b,v=_.length),f>(l=Math.max(Math.ceil(g/br),v)+2)&&(f=l,o.length=1),o.reverse(),l=f;l--;)o.push(0);o.reverse()}else{for((A=(l=_.length)<(v=I.length))&&(v=l),l=0;l<v;l++)if(_[l]!=I[l]){A=_[l]<I[l];break}f=0}for(A&&(o=_,_=I,I=o,a.s=-a.s),l=I.length-(v=_.length);l>0;--l)_[v++]=0;for(l=I.length;l>f;){if(_[--l]<I[l]){for(c=l;c&&0===_[--c];)_[c]=Ja-1;--_[c],_[l]+=Ja}_[l]-=I[l]}for(;0===_[--v];)_.pop();for(;0===_[0];_.shift())--i;return _[0]?(a.d=_,a.e=c0(_,i),Rr?mr(a,g,m):a):new F(3===m?-0:0)},Re.modulo=Re.mod=function(a){var o,i=this,l=i.constructor;return a=new l(a),!i.d||!a.s||a.d&&!a.d[0]?new l(NaN):!a.d||i.d&&!i.d[0]?mr(new l(i),l.precision,l.rounding):(Rr=!1,9==l.modulo?(o=xn(i,a.abs(),0,3,1)).s*=a.s:o=xn(i,a,0,l.modulo,1),o=o.times(a),Rr=!0,i.minus(o))},Re.naturalExponential=Re.exp=function(){return P1(this)},Re.naturalLogarithm=Re.ln=function(){return Ll(this)},Re.negated=Re.neg=function(){var a=new this.constructor(this);return a.s=-a.s,mr(a)},Re.plus=Re.add=function(a){var o,i,l,c,f,v,g,m,_,b,A=this,I=A.constructor;if(a=new I(a),!A.d||!a.d)return A.s&&a.s?A.d||(a=new I(a.d||A.s===a.s?A:NaN)):a=new I(NaN),a;if(A.s!=a.s)return a.s=-a.s,A.minus(a);if(b=a.d,g=I.precision,m=I.rounding,!(_=A.d)[0]||!b[0])return b[0]||(a=new I(A)),Rr?mr(a,g,m):a;if(f=Zn(A.e/br),l=Zn(a.e/br),_=_.slice(),c=f-l){for(c<0?(i=_,c=-c,v=b.length):(i=b,l=f,v=_.length),c>(v=(f=Math.ceil(g/br))>v?f+1:v+1)&&(c=v,i.length=1),i.reverse();c--;)i.push(0);i.reverse()}for((v=_.length)-(c=b.length)<0&&(c=v,i=b,b=_,_=i),o=0;c;)o=(_[--c]=_[c]+b[c]+o)/Ja|0,_[c]%=Ja;for(o&&(_.unshift(o),++l),v=_.length;0==_[--v];)_.pop();return a.d=_,a.e=c0(_,l),Rr?mr(a,g,m):a},Re.precision=Re.sd=function(a){var o,i=this;if(void 0!==a&&a!==!!a&&1!==a&&0!==a)throw Error(El+a);return i.d?(o=Vf(i.d),a&&i.e+1>o&&(o=i.e+1)):o=NaN,o},Re.round=function(){var a=this,o=a.constructor;return mr(new o(a),a.e+1,o.rounding)},Re.sine=Re.sin=function(){var a,o,i=this,l=i.constructor;return i.isFinite()?i.isZero()?new l(i):(o=l.rounding,l.precision=(a=l.precision)+Math.max(i.e,i.sd())+br,l.rounding=1,i=function lD(a,o){var i,l=o.d.length;if(l<3)return o.isZero()?o:Xc(a,2,o,o);i=1.4*Math.sqrt(l),o=Xc(a,2,o=o.times(1/f0(5,i=i>16?16:0|i)),o);for(var c,f=new a(5),v=new a(16),g=new a(20);i--;)c=o.times(o),o=o.times(f.plus(c.times(v.times(c).minus(g))));return o}(l,gT(l,i)),l.precision=a,l.rounding=o,mr(Bs>2?i.neg():i,a,o,!0)):new l(NaN)},Re.squareRoot=Re.sqrt=function(){var a,o,i,l,c,f,v=this,g=v.d,m=v.e,_=v.s,b=v.constructor;if(1!==_||!g||!g[0])return new b(!_||_<0&&(!g||g[0])?NaN:g?v:1/0);for(Rr=!1,0==(_=Math.sqrt(+v))||_==1/0?(((o=_i(g)).length+m)%2==0&&(o+="0"),_=Math.sqrt(o),m=Zn((m+1)/2)-(m<0||m%2),l=new b(o=_==1/0?"5e"+m:(o=_.toExponential()).slice(0,o.indexOf("e")+1)+m)):l=new b(_.toString()),i=(m=b.precision)+3;;)if(l=(f=l).plus(xn(v,f,i+2,1)).times(.5),_i(f.d).slice(0,i)===(o=_i(l.d)).slice(0,i)){if("9999"!=(o=o.slice(i-3,i+1))&&(c||"4999"!=o)){(!+o||!+o.slice(1)&&"5"==o.charAt(0))&&(mr(l,m+1,1),a=!l.times(l).eq(v));break}if(!c&&(mr(f,m+1,0),f.times(f).eq(v))){l=f;break}i+=4,c=1}return Rr=!0,mr(l,m,b.rounding,a)},Re.tangent=Re.tan=function(){var a,o,i=this,l=i.constructor;return i.isFinite()?i.isZero()?new l(i):(o=l.rounding,l.precision=(a=l.precision)+10,l.rounding=1,(i=i.sin()).s=1,i=xn(i,new l(1).minus(i.times(i)).sqrt(),a+10,0),l.precision=a,l.rounding=o,mr(2==Bs||4==Bs?i.neg():i,a,o,!0)):new l(NaN)},Re.times=Re.mul=function(a){var o,i,l,c,f,v,g,m,_,b=this,A=b.constructor,I=b.d,O=(a=new A(a)).d;if(a.s*=b.s,!(I&&I[0]&&O&&O[0]))return new A(!a.s||I&&!I[0]&&!O||O&&!O[0]&&!I?NaN:I&&O?0*a.s:a.s/0);for(i=Zn(b.e/br)+Zn(a.e/br),(m=I.length)<(_=O.length)&&(f=I,I=O,O=f,v=m,m=_,_=v),f=[],l=v=m+_;l--;)f.push(0);for(l=_;--l>=0;){for(o=0,c=m+l;c>l;)g=f[c]+O[l]*I[c-l-1]+o,f[c--]=g%Ja|0,o=g/Ja|0;f[c]=(f[c]+o)%Ja|0}for(;!f[--v];)f.pop();return o?++i:f.shift(),a.d=f,a.e=c0(f,i),Rr?mr(a,A.precision,A.rounding):a},Re.toBinary=function(a,o){return H1(this,2,a,o)},Re.toDecimalPlaces=Re.toDP=function(a,o){var i=this,l=i.constructor;return i=new l(i),void 0===a?i:(va(a,0,da),void 0===o?o=l.rounding:va(o,0,8),mr(i,a+i.e+1,o))},Re.toExponential=function(a,o){var i,l=this,c=l.constructor;return void 0===a?i=Xo(l,!0):(va(a,0,da),void 0===o?o=c.rounding:va(o,0,8),i=Xo(l=mr(new c(l),a+1,o),!0,a+1)),l.isNeg()&&!l.isZero()?"-"+i:i},Re.toFixed=function(a,o){var i,l,c=this,f=c.constructor;return void 0===a?i=Xo(c):(va(a,0,da),void 0===o?o=f.rounding:va(o,0,8),i=Xo(l=mr(new f(c),a+c.e+1,o),!1,a+l.e+1)),c.isNeg()&&!c.isZero()?"-"+i:i},Re.toFraction=function(a){var o,i,l,c,f,v,g,m,_,b,A,I,O=this,F=O.d,B=O.constructor;if(!F)return new B(O);if(_=i=new B(1),l=m=new B(0),f=(o=new B(l)).e=Vf(F)-O.e-1,o.d[0]=zn(10,(v=f%br)<0?br+v:v),null==a)a=f>0?o:_;else{if(!(g=new B(a)).isInt()||g.lt(_))throw Error(El+g);a=g.gt(o)?f>0?o:_:g}for(Rr=!1,g=new B(_i(F)),b=B.precision,B.precision=f=F.length*br*2;A=xn(g,o,0,1,1),1!=(c=i.plus(A.times(l))).cmp(a);)i=l,l=c,_=m.plus(A.times(c=_)),m=c,o=g.minus(A.times(c=o)),g=c;return c=xn(a.minus(i),l,0,1,1),m=m.plus(c.times(_)),i=i.plus(c.times(l)),m.s=_.s=O.s,I=xn(_,l,f,1).minus(O).abs().cmp(xn(m,i,f,1).minus(O).abs())<1?[_,l]:[m,i],B.precision=b,Rr=!0,I},Re.toHexadecimal=Re.toHex=function(a,o){return H1(this,16,a,o)},Re.toNearest=function(a,o){var i=this,l=i.constructor;if(i=new l(i),null==a){if(!i.d)return i;a=new l(1),o=l.rounding}else{if(a=new l(a),void 0===o?o=l.rounding:va(o,0,8),!i.d)return a.s?i:a;if(!a.d)return a.s&&(a.s=i.s),a}return a.d[0]?(Rr=!1,i=xn(i,a,0,o,1).times(a),Rr=!0,mr(i)):(a.s=i.s,i=a),i},Re.toNumber=function(){return+this},Re.toOctal=function(a,o){return H1(this,8,a,o)},Re.toPower=Re.pow=function(a){var o,i,l,c,f,v,g=this,m=g.constructor,_=+(a=new m(a));if(!(g.d&&a.d&&g.d[0]&&a.d[0]))return new m(zn(+g,_));if((g=new m(g)).eq(1))return g;if(l=m.precision,f=m.rounding,a.eq(1))return mr(g,l,f);if((o=Zn(a.e/br))>=a.d.length-1&&(i=_<0?-_:_)<=9007199254740991)return c=h0(m,g,i,l),a.s<0?new m(1).div(c):mr(c,l,f);if((v=g.s)<0){if(o<a.d.length-1)return new m(NaN);if(1&a.d[o]||(v=1),0==g.e&&1==g.d[0]&&1==g.d.length)return g.s=v,g}return(o=0!=(i=zn(+g,_))&&isFinite(i)?new m(i+"").e:Zn(_*(Math.log("0."+_i(g.d))/Math.LN10+g.e+1)))>m.maxE+1||o<m.minE-1?new m(o>0?v/0:0):(Rr=!1,m.rounding=g.s=1,i=Math.min(12,(o+"").length),(c=P1(a.times(Ll(g,l+i)),l)).d&&Yf((c=mr(c,l+5,1)).d,l,f)&&+_i((c=mr(P1(a.times(Ll(g,(o=l+10)+i)),o),o+5,1)).d).slice(l+1,l+15)+1==1e14&&(c=mr(c,l+1,0)),c.s=v,Rr=!0,m.rounding=f,mr(c,l,f))},Re.toPrecision=function(a,o){var i,l=this,c=l.constructor;return void 0===a?i=Xo(l,l.e<=c.toExpNeg||l.e>=c.toExpPos):(va(a,1,da),void 0===o?o=c.rounding:va(o,0,8),i=Xo(l=mr(new c(l),a,o),a<=l.e||l.e<=c.toExpNeg,a)),l.isNeg()&&!l.isZero()?"-"+i:i},Re.toSignificantDigits=Re.toSD=function(a,o){var l=this.constructor;return void 0===a?(a=l.precision,o=l.rounding):(va(a,1,da),void 0===o?o=l.rounding:va(o,0,8)),mr(new l(this),a,o)},Re.toString=function(){var a=this,o=a.constructor,i=Xo(a,a.e<=o.toExpNeg||a.e>=o.toExpPos);return a.isNeg()&&!a.isZero()?"-"+i:i},Re.truncated=Re.trunc=function(){return mr(new this.constructor(this),this.e+1,1)},Re.valueOf=Re.toJSON=function(){var a=this,o=a.constructor,i=Xo(a,a.e<=o.toExpNeg||a.e>=o.toExpPos);return a.isNeg()?"-"+i:i};var xn=function(){function a(l,c,f){var v,g=0,m=l.length;for(l=l.slice();m--;)l[m]=(v=l[m]*c+g)%f|0,g=v/f|0;return g&&l.unshift(g),l}function o(l,c,f,v){var g,m;if(f!=v)m=f>v?1:-1;else for(g=m=0;g<f;g++)if(l[g]!=c[g]){m=l[g]>c[g]?1:-1;break}return m}function i(l,c,f,v){for(var g=0;f--;)l[f]-=g,l[f]=(g=l[f]<c[f]?1:0)*v+l[f]-c[f];for(;!l[0]&&l.length>1;)l.shift()}return function(l,c,f,v,g,m){var _,b,A,I,O,F,B,P,H,Y,V,j,yt,Lt,Pt,ge,Me,Ie,Pe,$e,lr=l.constructor,ir=l.s==c.s?1:-1,er=l.d,Ze=c.d;if(!(er&&er[0]&&Ze&&Ze[0]))return new lr(l.s&&c.s&&(er?!Ze||er[0]!=Ze[0]:Ze)?er&&0==er[0]||!Ze?0*ir:ir/0:NaN);for(m?(O=1,b=l.e-c.e):(m=Ja,b=Zn(l.e/(O=br))-Zn(c.e/O)),Pe=Ze.length,Me=er.length,Y=(H=new lr(ir)).d=[],A=0;Ze[A]==(er[A]||0);A++);if(Ze[A]>(er[A]||0)&&b--,null==f?(Lt=f=lr.precision,v=lr.rounding):Lt=g?f+(l.e-c.e)+1:f,Lt<0)Y.push(1),F=!0;else{if(Lt=Lt/O+2|0,A=0,1==Pe){for(I=0,Ze=Ze[0],Lt++;(A<Me||I)&&Lt--;A++)Y[A]=(Pt=I*m+(er[A]||0))/Ze|0,I=Pt%Ze|0;F=I||A<Me}else{for((I=m/(Ze[0]+1)|0)>1&&(Ze=a(Ze,I,m),er=a(er,I,m),Pe=Ze.length,Me=er.length),ge=Pe,j=(V=er.slice(0,Pe)).length;j<Pe;)V[j++]=0;($e=Ze.slice()).unshift(0),Ie=Ze[0],Ze[1]>=m/2&&++Ie;do{I=0,(_=o(Ze,V,Pe,j))<0?(yt=V[0],Pe!=j&&(yt=yt*m+(V[1]||0)),(I=yt/Ie|0)>1?(I>=m&&(I=m-1),1==(_=o(B=a(Ze,I,m),V,P=B.length,j=V.length))&&(I--,i(B,Pe<P?$e:Ze,P,m))):(0==I&&(_=I=1),B=Ze.slice()),(P=B.length)<j&&B.unshift(0),i(V,B,j,m),-1==_&&(_=o(Ze,V,Pe,j=V.length))<1&&(I++,i(V,Pe<j?$e:Ze,j,m)),j=V.length):0===_&&(I++,V=[0]),Y[A++]=I,_&&V[0]?V[j++]=er[ge]||0:(V=[er[ge]],j=1)}while((ge++<Me||void 0!==V[0])&&Lt--);F=void 0!==V[0]}Y[0]||Y.shift()}if(1==O)H.e=b,s0=F;else{for(A=1,I=Y[0];I>=10;I/=10)A++;H.e=A+b*O-1,mr(H,g?f+H.e+1:f,v,F)}return H}}();function mr(a,o,i,l){var c,f,v,g,m,_,b,A,I,O=a.constructor;t:if(null!=o){if(!(A=a.d))return a;for(c=1,g=A[0];g>=10;g/=10)c++;if((f=o-c)<0)f+=br,m=(b=A[I=0])/zn(10,c-(v=o)-1)%10|0;else if((I=Math.ceil((f+1)/br))>=(g=A.length)){if(!l)break t;for(;g++<=I;)A.push(0);b=m=0,c=1,v=(f%=br)-br+1}else{for(b=g=A[I],c=1;g>=10;g/=10)c++;m=(v=(f%=br)-br+c)<0?0:b/zn(10,c-v-1)%10|0}if(l=l||o<0||void 0!==A[I+1]||(v<0?b:b%zn(10,c-v-1)),_=i<4?(m||l)&&(0==i||i==(a.s<0?3:2)):m>5||5==m&&(4==i||l||6==i&&(f>0?v>0?b/zn(10,c-v):0:A[I-1])%10&1||i==(a.s<0?8:7)),o<1||!A[0])return A.length=0,_?(A[0]=zn(10,(br-(o-=a.e+1)%br)%br),a.e=-o||0):A[0]=a.e=0,a;if(0==f?(A.length=I,g=1,I--):(A.length=I+1,g=zn(10,br-f),A[I]=v>0?(b/zn(10,c-v)%zn(10,v)|0)*g:0),_)for(;;){if(0==I){for(f=1,v=A[0];v>=10;v/=10)f++;for(v=A[0]+=g,g=1;v>=10;v/=10)g++;f!=g&&(a.e++,A[0]==Ja&&(A[0]=1));break}if(A[I]+=g,A[I]!=Ja)break;A[I--]=0,g=1}for(f=A.length;0===A[--f];)A.pop()}return Rr&&(a.e>O.maxE?(a.d=null,a.e=NaN):a.e<O.minE&&(a.e=0,a.d=[0])),a}function Xo(a,o,i){if(!a.isFinite())return z1(a);var l,c=a.e,f=_i(a.d),v=f.length;return o?(i&&(l=i-v)>0?f=f.charAt(0)+"."+f.slice(1)+$o(l):v>1&&(f=f.charAt(0)+"."+f.slice(1)),f=f+(a.e<0?"e":"e+")+a.e):c<0?(f="0."+$o(-c-1)+f,i&&(l=i-v)>0&&(f+=$o(l))):c>=v?(f+=$o(c+1-v),i&&(l=i-c-1)>0&&(f=f+"."+$o(l))):((l=c+1)<v&&(f=f.slice(0,l)+"."+f.slice(l)),i&&(l=i-v)>0&&(c+1===v&&(f+="."),f+=$o(l))),f}function c0(a,o){var i=a[0];for(o*=br;i>=10;i/=10)o++;return o}function B1(a,o,i){if(o>dT)throw Rr=!0,i&&(a.precision=i),Error(lT);return mr(new a(Gf),o,1,!0)}function Nn(a,o,i){if(o>Vc)throw Error(lT);return mr(new a(Wf),o,i,!0)}function Vf(a){var o=a.length-1,i=o*br+1;if(o=a[o]){for(;o%10==0;o/=10)i--;for(o=a[0];o>=10;o/=10)i++}return i}function $o(a){for(var o="";a--;)o+="0";return o}function h0(a,o,i,l){var c,f=new a(1),v=Math.ceil(l/br+4);for(Rr=!1;;){if(i%2&&yT((f=f.times(o)).d,v)&&(c=!0),0===(i=Zn(i/2))){i=f.d.length-1,c&&0===f.d[i]&&++f.d[i];break}yT((o=o.times(o)).d,v)}return Rr=!0,f}function vT(a){return 1&a.d[a.d.length-1]}function pT(a,o,i){for(var l,c=new a(o[0]),f=0;++f<o.length;){if(!(l=new a(o[f])).s){c=l;break}c[i](l)&&(c=l)}return c}function P1(a,o){var i,l,c,f,v,g,m,_=0,b=0,A=0,I=a.constructor,O=I.rounding,F=I.precision;if(!a.d||!a.d[0]||a.e>17)return new I(a.d?a.d[0]?a.s<0?0:1/0:1:a.s?a.s<0?0:a:NaN);for(null==o?(Rr=!1,m=F):m=o,g=new I(.03125);a.e>-2;)a=a.times(g),A+=5;for(m+=l=Math.log(zn(2,A))/Math.LN10*2+5|0,i=f=v=new I(1),I.precision=m;;){if(f=mr(f.times(a),m,1),i=i.times(++b),_i((g=v.plus(xn(f,i,m,1))).d).slice(0,m)===_i(v.d).slice(0,m)){for(c=A;c--;)v=mr(v.times(v),m,1);if(null!=o)return I.precision=F,v;if(!(_<3&&Yf(v.d,m-l,O,_)))return mr(v,I.precision=F,O,Rr=!0);I.precision=m+=10,i=f=g=new I(1),b=0,_++}v=g}}function Ll(a,o){var i,l,c,f,v,g,m,_,b,A,I,O=1,B=a,P=B.d,H=B.constructor,Y=H.rounding,V=H.precision;if(B.s<0||!P||!P[0]||!B.e&&1==P[0]&&1==P.length)return new H(P&&!P[0]?-1/0:1!=B.s?NaN:P?0:B);if(null==o?(Rr=!1,b=V):b=o,H.precision=b+=10,l=(i=_i(P)).charAt(0),!(Math.abs(f=B.e)<15e14))return _=B1(H,b+2,V).times(f+""),B=Ll(new H(l+"."+i.slice(1)),b-10).plus(_),H.precision=V,null==o?mr(B,V,Y,Rr=!0):B;for(;l<7&&1!=l||1==l&&i.charAt(1)>3;)l=(i=_i((B=B.times(a)).d)).charAt(0),O++;for(f=B.e,l>1?(B=new H("0."+i),f++):B=new H(l+"."+i.slice(1)),A=B,m=v=B=xn(B.minus(1),B.plus(1),b,1),I=mr(B.times(B),b,1),c=3;;){if(v=mr(v.times(I),b,1),_i((_=m.plus(xn(v,new H(c),b,1))).d).slice(0,b)===_i(m.d).slice(0,b)){if(m=m.times(2),0!==f&&(m=m.plus(B1(H,b+2,V).times(f+""))),m=xn(m,new H(O),b,1),null!=o)return H.precision=V,m;if(!Yf(m.d,b-10,Y,g))return mr(m,H.precision=V,Y,Rr=!0);H.precision=b+=10,_=v=B=xn(A.minus(1),A.plus(1),b,1),I=mr(B.times(B),b,1),c=g=1}m=_,c+=2}}function z1(a){return String(a.s*a.s/0)}function N1(a,o){var i,l,c;for((i=o.indexOf("."))>-1&&(o=o.replace(".","")),(l=o.search(/e/i))>0?(i<0&&(i=l),i+=+o.slice(l+1),o=o.substring(0,l)):i<0&&(i=o.length),l=0;48===o.charCodeAt(l);l++);for(c=o.length;48===o.charCodeAt(c-1);--c);if(o=o.slice(l,c)){if(c-=l,a.e=i=i-l-1,a.d=[],l=(i+1)%br,i<0&&(l+=br),l<c){for(l&&a.d.push(+o.slice(0,l)),c-=br;l<c;)a.d.push(+o.slice(l,l+=br));o=o.slice(l),l=br-o.length}else l-=c;for(;l--;)o+="0";a.d.push(+o),Rr&&(a.e>a.constructor.maxE?(a.d=null,a.e=NaN):a.e<a.constructor.minE&&(a.e=0,a.d=[0]))}else a.e=0,a.d=[0];return a}function Xc(a,o,i,l,c){var f,v,g,m,_=a.precision,b=Math.ceil(_/br);for(Rr=!1,m=i.times(i),g=new a(l);;){if(v=xn(g.times(m),new a(o++*o++),_,1),g=c?l.plus(v):l.minus(v),l=xn(v.times(m),new a(o++*o++),_,1),void 0!==(v=g.plus(l)).d[b]){for(f=b;v.d[f]===g.d[f]&&f--;);if(-1==f)break}f=g,g=l,l=v,v=f}return Rr=!0,v.d.length=b+1,v}function f0(a,o){for(var i=a;--o;)i*=a;return i}function gT(a,o){var i,l=o.s<0,c=Nn(a,a.precision,1),f=c.times(.5);if((o=o.abs()).lte(f))return Bs=l?4:1,o;if((i=o.divToInt(c)).isZero())Bs=l?3:2;else{if((o=o.minus(i.times(c))).lte(f))return Bs=vT(i)?l?2:3:l?4:1,o;Bs=vT(i)?l?1:4:l?3:2}return o.minus(c).abs()}function H1(a,o,i,l){var c,f,v,g,m,_,b,A,I,O=a.constructor,F=void 0!==i;if(F?(va(i,1,da),void 0===l?l=O.rounding:va(l,0,8)):(i=O.precision,l=O.rounding),a.isFinite()){for(F?(c=2,16==o?i=4*i-3:8==o&&(i=3*i-2)):c=o,(v=(b=Xo(a)).indexOf("."))>=0&&(b=b.replace(".",""),(I=new O(1)).e=b.length-v,I.d=u0(Xo(I),10,c),I.e=I.d.length),f=m=(A=u0(b,10,c)).length;0==A[--m];)A.pop();if(A[0]){if(v<0?f--:((a=new O(a)).d=A,a.e=f,A=(a=xn(a,I,i,l,0,c)).d,f=a.e,_=s0),v=A[i],g=c/2,_=_||void 0!==A[i+1],_=l<4?(void 0!==v||_)&&(0===l||l===(a.s<0?3:2)):v>g||v===g&&(4===l||_||6===l&&1&A[i-1]||l===(a.s<0?8:7)),A.length=i,_)for(;++A[--i]>c-1;)A[i]=0,i||(++f,A.unshift(1));for(m=A.length;!A[m-1];--m);for(v=0,b="";v<m;v++)b+=D1.charAt(A[v]);if(F){if(m>1)if(16==o||8==o){for(v=16==o?4:3,--m;m%v;m++)b+="0";for(m=(A=u0(b,c,o)).length;!A[m-1];--m);for(v=1,b="1.";v<m;v++)b+=D1.charAt(A[v])}else b=b.charAt(0)+"."+b.slice(1);b=b+(f<0?"p":"p+")+f}else if(f<0){for(;++f;)b="0"+b;b="0."+b}else if(++f>m)for(f-=m;f--;)b+="0";else f<m&&(b=b.slice(0,f)+"."+b.slice(f))}else b=F?"0p+0":"0";b=(16==o?"0x":2==o?"0b":8==o?"0o":"")+b}else b=z1(a);return a.s<0?"-"+b:b}function yT(a,o){if(a.length>o)return a.length=o,!0}function uD(a){return new this(a).abs()}function G1(a){return new this(a).acos()}function cD(a){return new this(a).acosh()}function hD(a,o){return new this(a).plus(o)}function fD(a){return new this(a).asin()}function dD(a){return new this(a).asinh()}function W1(a){return new this(a).atan()}function Xf(a){return new this(a).atanh()}function d0(a,o){a=new this(a),o=new this(o);var i,l=this.precision,c=this.rounding,f=l+4;return a.s&&o.s?a.d||o.d?!o.d||a.isZero()?(i=o.s<0?Nn(this,l,c):new this(0)).s=a.s:!a.d||o.isZero()?(i=Nn(this,f,1).times(.5)).s=a.s:o.s<0?(this.precision=f,this.rounding=1,i=this.atan(xn(a,o,f,1)),o=Nn(this,f,1),this.precision=l,this.rounding=c,i=a.s<0?i.minus(o):i.plus(o)):i=this.atan(xn(a,o,f,1)):(i=Nn(this,f,1).times(o.s>0?.25:.75)).s=a.s:i=new this(NaN),i}function vD(a){return new this(a).cbrt()}function pD(a){return mr(a=new this(a),a.e+1,2)}function mT(a,o,i){return new this(a).clamp(o,i)}function gD(a){if(!a||"object"!=typeof a)throw Error(l0+"Object expected");var o,i,l,c=!0===a.defaults,f=["precision",1,da,"rounding",0,8,"toExpNeg",-wi,0,"toExpPos",0,wi,"maxE",0,wi,"minE",-wi,0,"modulo",0,9];for(o=0;o<f.length;o+=3)if(i=f[o],c&&(this[i]=o0[i]),void 0!==(l=a[i])){if(!(Zn(l)===l&&l>=f[o+1]&&l<=f[o+2]))throw Error(El+i+": "+l);this[i]=l}if(i="crypto",c&&(this[i]=o0[i]),void 0!==(l=a[i])){if(!0!==l&&!1!==l&&0!==l&&1!==l)throw Error(El+i+": "+l);if(l){if(!(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes)))throw Error(uT);this[i]=!0}else this[i]=!1}return this}function yD(a){return new this(a).cos()}function mD(a){return new this(a).cosh()}function xD(a,o){return new this(a).div(o)}function CD(a){return new this(a).exp()}function wD(a){return mr(a=new this(a),a.e+1,3)}function CT(){var a,o,i=new this(0);for(Rr=!1,a=0;a<arguments.length;)if((o=new this(arguments[a++])).d)i.d&&(i=i.plus(o.times(o)));else{if(o.s)return Rr=!0,new this(1/0);i=o}return Rr=!0,i.sqrt()}function wT(a){return a instanceof vo||a&&a.toStringTag===k1||!1}function _T(a){return new this(a).ln()}function _D(a,o){return new this(a).log(o)}function Zo(a){return new this(a).log(2)}function SD(a){return new this(a).log(10)}function MD(){return pT(this,arguments,"lt")}function ST(){return pT(this,arguments,"gt")}function bD(a,o){return new this(a).mod(o)}function TD(a,o){return new this(a).mul(o)}function AD(a,o){return new this(a).pow(o)}function ED(a){var o,i,l,c,f=0,v=new this(1),g=[];if(void 0===a?a=this.precision:va(a,1,da),l=Math.ceil(a/br),this.crypto)if(crypto.getRandomValues)for(o=crypto.getRandomValues(new Uint32Array(l));f<l;)(c=o[f])>=429e7?o[f]=crypto.getRandomValues(new Uint32Array(1))[0]:g[f++]=c%1e7;else{if(!crypto.randomBytes)throw Error(uT);for(o=crypto.randomBytes(l*=4);f<l;)(c=o[f]+(o[f+1]<<8)+(o[f+2]<<16)+((127&o[f+3])<<24))>=214e7?crypto.randomBytes(4).copy(o,f):(g.push(c%1e7),f+=4);f=l/4}else for(;f<l;)g[f++]=1e7*Math.random()|0;for(l=g[--f],a%=br,l&&a&&(c=zn(10,br-a),g[f]=(l/c|0)*c);0===g[f];f--)g.pop();if(f<0)i=0,g=[0];else{for(i=-1;0===g[0];i-=br)g.shift();for(l=1,c=g[0];c>=10;c/=10)l++;l<br&&(i-=br-l)}return v.e=i,v.d=g,v}function LD(a){return mr(a=new this(a),a.e+1,this.rounding)}function ID(a){return(a=new this(a)).d?a.d[0]?a.s:0*a.s:a.s||NaN}function OD(a){return new this(a).sin()}function RD(a){return new this(a).sinh()}function FD(a){return new this(a).sqrt()}function DD(a,o){return new this(a).sub(o)}function kD(){var a=0,o=arguments,i=new this(o[a]);for(Rr=!1;i.s&&++a<o.length;)i=i.plus(o[a]);return Rr=!0,mr(i,this.precision,this.rounding)}function BD(a){return new this(a).tan()}function PD(a){return new this(a).tanh()}function zD(a){return mr(a=new this(a),a.e+1,1)}Re[Symbol.for("nodejs.util.inspect.custom")]=Re.toString,Re[Symbol.toStringTag]="Decimal";var vo=Re.constructor=function xT(a){var o,i,l;function c(f){var v,g,m,_=this;if(!(_ instanceof c))return new c(f);if(_.constructor=c,wT(f))return _.s=f.s,void(Rr?!f.d||f.e>c.maxE?(_.e=NaN,_.d=null):f.e<c.minE?(_.e=0,_.d=[0]):(_.e=f.e,_.d=f.d.slice()):(_.e=f.e,_.d=f.d?f.d.slice():f.d));if("number"==(m=typeof f)){if(0===f)return _.s=1/f<0?-1:1,_.e=0,void(_.d=[0]);if(f<0?(f=-f,_.s=-1):_.s=1,f===~~f&&f<1e7){for(v=0,g=f;g>=10;g/=10)v++;return void(Rr?v>c.maxE?(_.e=NaN,_.d=null):v<c.minE?(_.e=0,_.d=[0]):(_.e=v,_.d=[f]):(_.e=v,_.d=[f]))}return 0*f!=0?(f||(_.s=NaN),_.e=NaN,void(_.d=null)):N1(_,f.toString())}if("string"!==m)throw Error(El+f);return 45===(g=f.charCodeAt(0))?(f=f.slice(1),_.s=-1):(43===g&&(f=f.slice(1)),_.s=1),hT.test(f)?N1(_,f):function sD(a,o){var i,l,c,f,v,g,m,_,b;if(o.indexOf("_")>-1){if(o=o.replace(/(\d)_(?=\d)/g,"$1"),hT.test(o))return N1(a,o)}else if("Infinity"===o||"NaN"===o)return+o||(a.s=NaN),a.e=NaN,a.d=null,a;if(cT.test(o))i=16,o=o.toLowerCase();else if(Uf.test(o))i=2;else{if(!aD.test(o))throw Error(El+o);i=8}for((f=o.search(/p/i))>0?(m=+o.slice(f+1),o=o.substring(2,f)):o=o.slice(2),f=o.indexOf("."),l=a.constructor,(v=f>=0)&&(f=(g=(o=o.replace(".","")).length)-f,c=h0(l,new l(i),f,2*f)),f=b=(_=u0(o,i,Ja)).length-1;0===_[f];--f)_.pop();return f<0?new l(0*a.s):(a.e=c0(_,b),a.d=_,Rr=!1,v&&(a=xn(a,c,4*g)),m&&(a=a.times(Math.abs(m)<54?zn(2,m):vo.pow(2,m))),Rr=!0,a)}(_,f)}if(c.prototype=Re,c.ROUND_UP=0,c.ROUND_DOWN=1,c.ROUND_CEIL=2,c.ROUND_FLOOR=3,c.ROUND_HALF_UP=4,c.ROUND_HALF_DOWN=5,c.ROUND_HALF_EVEN=6,c.ROUND_HALF_CEIL=7,c.ROUND_HALF_FLOOR=8,c.EUCLID=9,c.config=c.set=gD,c.clone=xT,c.isDecimal=wT,c.abs=uD,c.acos=G1,c.acosh=cD,c.add=hD,c.asin=fD,c.asinh=dD,c.atan=W1,c.atanh=Xf,c.atan2=d0,c.cbrt=vD,c.ceil=pD,c.clamp=mT,c.cos=yD,c.cosh=mD,c.div=xD,c.exp=CD,c.floor=wD,c.hypot=CT,c.ln=_T,c.log=_D,c.log10=SD,c.log2=Zo,c.max=MD,c.min=ST,c.mod=bD,c.mul=TD,c.pow=AD,c.random=ED,c.round=LD,c.sign=ID,c.sin=OD,c.sinh=RD,c.sqrt=FD,c.sub=DD,c.sum=kD,c.tan=BD,c.tanh=PD,c.trunc=zD,void 0===a&&(a={}),a&&!0!==a.defaults)for(l=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],o=0;o<l.length;)a.hasOwnProperty(i=l[o++])||(a[i]=this[i]);return c.config(a),c}(o0);Gf=new vo(Gf),Wf=new vo(Wf);var $f,ND=function(a){return"number"==typeof a?Number.isNaN(a):!a||"string"!=typeof a||Number.isNaN(Number(a))},MT=function(a,o,i){return void 0===i&&(i=!1),a?.length?a.reduce(function(l,c){var f=nr(c,o),v=ND(f);return i&&v||l.push(new vo(v?0:f)),l},[]):[]},bT=function(a,o){var i=MT(a,o);return i.length?vo.sum.apply(vo,Ae([],de(i),!1)).toNumber():0},Zf=function(a,o,i){var l=MT(o,i,!0);if(l?.length)return vo[a].apply(vo,Ae([],de(l),!1)).toNumber()},TT=(($f={})[Tu.SUM]=bT,$f[Tu.MIN]=function(a,o){return Zf("min",a,o)},$f[Tu.MAX]=function(a,o){return Zf("max",a,o)},$f[Tu.AVG]=function(a,o){var i=MT(a,o);return i?.length?vo.sum.apply(vo,Ae([],de(i),!1)).dividedBy(i.length).toNumber():0},$f),ET=function(a){return Ft(Ft({},a?.colQuery),a?.rowQuery)},v0=function(a,o){var i;if(a){var l=o.style,c=o.className,f=void 0===c?[]:c,v=o.visible;if(l&&Object.assign(a.style,l),f.length){var g=f.filter(Boolean);(i=a.classList).add.apply(i,Ae([],de(g),!1))}a.classList.toggle(JR,v),a.classList.toggle(KR,!v)}},LT=function(a,o){var i,l=null===(i=a?.dataSet)||void 0===i?void 0:i.getFieldFormatter(o);return function(c,f){return function(a){var o=qi(a)&&Number.isNaN(a),i=""===a;return fn(a)||o||i?"-":a}(l(c,f))}},p0=function(a,o){var i,l=o.data,c=o.field,f=o.valueField,v=o.useCompleteDataForFormatter,g=void 0===v||v,m=null===(i=a?.dataSet)||void 0===i?void 0:i.getFieldName(c),_=LT(a,c),b=on(l[c])?JSON.stringify(l[c]):l[c];return{name:m,value:_(f||b,g?l:void 0)}},IT=function(a,o,i){return $r($a(ko([],o),function(f){return f!==Pr&&i[f]}),function(f){return p0(a,{data:i,field:f,useCompleteDataForFormatter:!1})})},OT=function(a,o,i){void 0===i&&(i=!0);var l=[];return Cr(o,function(c,f){Cr(a,function(v){i||-1===v.colIndex?i&&-1!==v.rowIndex&&l.push([v.rowIndex,f]):l.push([f,v.colIndex])})}),l},ZD=function(a){var o=a.spreadsheet,i=a.targetCell,l=a.options,c=void 0===l?{}:l,f=[],v={};return o.isTableMode()&&c?.showSingleTips?[{selectedData:o.dataSet.getMultiData({}),name:"",value:""}]:(Cr(function(a,o,i){var l,c=null===(l=a.facet)||void 0===l?void 0:l.layoutResult,f=function(m){var _=o?.getMeta(),b=_?.isTotals,A=o?.cellType===We.COL_CELL;if(!A&&o?.cellType!==We.ROW_CELL)return!1;var O=c.colNodes.find(function(P){return P.colIndex===m.colIndex}),F=c.rowNodes.find(function(P){return P.rowIndex===m.rowIndex});return!b&&m?.isTotals||b&&(A?F?.isTotals:O?.isTotals)};if(i){var v=function(a,o){var i,l=o.rowLeafNodes,c=o.colLeafNodes,f=a.interaction.getState(),v=f.nodes,g=void 0===v?[]:v,m=f.cells,b=null===(i=(void 0===m?[]:m)?.[0])||void 0===i?void 0:i.type;return b===We.COL_CELL?OT(g,l,!1):b===We.ROW_CELL?OT(g,c):[]}(a,c);return Do($r(v,function(m){var _=de(m,2),I=c.getCellMeta(_[0],_[1]);if(!f(I))return I?.data||ET(I)}))}return a.interaction.getCells().filter(function(m){var _=c.getCellMeta(m.rowIndex,m.colIndex);return!f(_)}).map(function(m){var _=c.getCellMeta(m.rowIndex,m.colIndex);return _?.data||ET(_)})}(o,i,c.showSingleTips),function(b){var A;v[b?.[Pr]]?null===(A=v[b?.[Pr]])||void 0===A||A.push(b):v[b?.[Pr]]=[b]}),nS(v,function(b,A){var I,O=function(a,o,i){var l;if(i)return Kn("\u603b\u8ba1");var c=null===(l=a?.dataSet)||void 0===l?void 0:l.getFieldName(o);return c&&"undefined"!==c?c:""}(o,A,c?.isTotals),F="",B="";if(sf(b,function(j){return ND(nr(j,ro))})){var H=Ou(v,o.options.placeholder);F=H,B=H}else{var Y=LT(o,A),V=bT(b,ro);B=V,F=null!==(I=Y?.(V,b))&&void 0!==I?I:parseFloat(V.toPrecision(16))}f.push({selectedData:b,name:O,value:F,originValue:B})}),f)},jD=function(a){var o=a.spreadsheet,i=a.cellInfos,l=void 0===i?[]:i,c=a.options,f=void 0===c?{}:c,v=a.targetCell,g=null,m=null,_=null,b=function(a){if(a){var o=a.getMeta();if(!o.isTotals){var l=jn(o.spreadsheet.dataCfg.meta,{field:o.field||o.value||o.valueField})?.field;return o.spreadsheet.dataSet.getFieldDescription(l)}}}(v),A=l[0]||{};if(f?.hideSummary)if(f.showSingleTips){var O=LT(o,A.valueField)(A.value),F=f.enableFormat?o.dataSet.getFieldName(A.value)||O:o.dataSet.getFieldName(A.valueField);A.name=F||""}else m=function(a,o,i){var l,c,f,v,g=(i||{}).isTotals,m=[],_=[];if(o){var b=null===(c=null===(l=a?.dataSet)||void 0===l?void 0:l.fields)||void 0===c?void 0:c.columns,A=null===(v=null===(f=a?.dataSet)||void 0===f?void 0:f.fields)||void 0===v?void 0:v.rows;m=IT(a,Lu(b||[]),o),_=IT(a,A,o)}return Ve(m)&&Ve(_)&&g&&(m=[{value:Kn("\u603b\u8ba1")}]),{cols:m,rows:_}}(o,A,f),_=function(a,o,i){if(o){var c=o[Pr],f=o[c],v=[];if(i.isTotals)v.push(p0(a,{data:o,field:c,valueField:nr(o,ro)}));else if(function(a){return on(a)&&"values"in a}(f)&&a.getTooltipDataItemMappingCallback()){var g=x1(o,a.getTooltipDataItemMappingCallback());Cr(g,function(m,_){v.push(p0(a,{data:g,field:_}))})}else v.push(p0(a,{data:o,field:c}));return v}}(o,A,f);else g=ZD({spreadsheet:o,options:f,targetCell:v});var B=A||{};return{summaries:g,interpretation:B.interpretation,infos:B.infos,tips:B.tips,name:B.name,headInfo:m,details:_,description:b}},Y1=function(a){if(!a.interaction.isSelectedState())return[];var o=a.dataCfg.fields.valueInCols;return a.interaction.getCells().reduce(function(i,l){var c=a.facet.layoutResult.getCellMeta(l?.rowIndex,l?.colIndex),f=ET(c);if(Ve(c)||Ve(f))return[];var v=Ft(Ft({},f),{colIndex:o?c.colIndex:null,rowIndex:o?null:c.rowIndex});return i.find(function(m){return ii(v,m)})||i.push(v),i},[])},RT=function(a,o){var i;if(o&&a){var l=null===(i=a.getCellType)||void 0===i?void 0:i.call(a,o?.target);return function(a,o){void 0===a&&(a={});var i=function(g){return ks(a,g)},c=a.row,f=a.data,v=a.corner;return o===We.COL_CELL?i(a.col):o===We.ROW_CELL?i(c):o===We.DATA_CELL?i(f):o===We.CORNER_CELL?i(v):Ft({},a)}(a.options.tooltip,l)}},KD=function(a,o){var i=o.defaultMenus,l=void 0===i?[]:i,c=o.cell,f=function(g){return void 0===g&&(g=[]),g.filter(function(m){var _;return Dn(m.visible)?m.visible(c):null===(_=m.visible)||void 0===_||_}).map(function(m){return m.children&&(m.children=f(m.children)),m})},v=f(a.menus);return{onClick:a.onClick,menus:Do(Ae(Ae([],de(l),!1),de(v),!1))}},g0=function(){function a(o){var i=this;this.getFieldMeta=$n(function(l,c){return jn(i.meta||c,function(f){return f.field===l})}),this.spreadsheet=o}return a.prototype.getFieldName=function(o){return nr(this.getFieldMeta(o,this.meta),"name",o)},a.prototype.getFieldFormatter=function(o){return nr(this.getFieldMeta(o,this.meta),"formatter",Ii)},a.prototype.getFieldDescription=function(o){return nr(this.getFieldMeta(o,this.meta),"description")},a.prototype.setDataCfg=function(o){this.getFieldMeta.cache.clear();var i=this.processDataCfg(o),c=i.meta,f=i.data,v=i.totalData,g=i.sortParams,m=i.filterParams;this.fields=i.fields,this.meta=c,this.originData=f,this.totalData=v,this.sortParams=g,this.filterParams=m,this.displayData=this.originData,this.indexesData=[]},a.prototype.processMeta=function(o,i){var l,c;return void 0===o&&(o=[]),Ae(Ae([],de(o),!1),[W8(o,null===(c=null===(l=this.spreadsheet)||void 0===l?void 0:l.options)||void 0===c?void 0:c.cornerExtraFieldText,i)],!1)},a.prototype.getDisplayDataSet=function(){return this.displayData},a.prototype.getValueRangeByField=function(o){var i,l=function(a,o){return a.store.get(Ks,cs)[o]}(this.spreadsheet,o);if(l)return l;var c=Do($r(this.originData,function(v){var g=v[o];return fn(g)?null:Number.parseFloat(g)})),f={maxValue:ho(c),minValue:lm(c)};return function(a,o){var i=a.store.get(Ks,cs);a.store.set(Ks,Ft(Ft({},i),o))}(this.spreadsheet,((i={})[o]=f,i)),f},a.prototype.moreThanOneValue=function(){var o,i;return(null===(i=null===(o=this.fields)||void 0===o?void 0:o.values)||void 0===i?void 0:i.length)>1},a}(),V1=function(a){function o(){var i=null!==a&&a.apply(this,arguments)||this;return i.handleDimensionValuesSort=function(){Cr(i.sortParams,function(l){var c=l.sortFieldId,f=l.sortByMeasure;if(c){var v=Ae([],de(i.sortedDimensionValues[c]||[]),!1),g=r7({dataSet:i,sortParam:l,originValues:v,isSortByMeasure:!Ve(f)});i.sortedDimensionValues[c]=g}})},i.getCustomData=function(l){for(var c,f=!1,v=i.indexesData,g=function(_){var b=l[_];f?v=Ho(b)?n1(v):null===(c=zo(v))||void 0===c?void 0:c.map(function(A){return A&&nr(A,b)}):Ho(b)?f=!0:v=v?.[b]},m=0;m<l.length;m++)g(m);return v},i.getTotalStatus=function(l){var c=i.fields,f=c.columns,v=c.rows,g=function(_,b){if(b){var A=jn(_,function(I){return!Mc(l,I)});return A&&A!==Cc(_)}return sf(_,function(I){return!Mc(l,I)})},m=function(_,b){return b?_.filter(function(A){return A!==Pr}):_};return{isRowTotal:g(m(v,!i.spreadsheet.isValueInCols())),isRowSubTotal:g(v,!0),isColTotal:g(m(f,i.spreadsheet.isValueInCols())),isColSubTotal:g(f,!0)}},i}return Sr(o,a),o.prototype.setDataCfg=function(i){var l=this;a.prototype.setDataCfg.call(this,i),this.sortedDimensionValues={},this.rowPivotMeta=new Map,this.colPivotMeta=new Map,this.totalData=[].concat(fb(i.data,i.fields)).concat(this.totalData),Os.getInstance().debugCallback("Transform Data",function(){var c=l.fields,g=f1({rows:c.rows,columns:c.columns,originData:l.originData,totalData:l.totalData,indexesData:l.indexesData,sortedDimensionValues:l.sortedDimensionValues,rowPivotMeta:l.rowPivotMeta,colPivotMeta:l.colPivotMeta}).indexesData;l.indexesData=g}),this.handleDimensionValuesSort()},o.prototype.transformDrillDownData=function(i,l,c){var v,f=this,g=this.fields,m=g.columns,_=g.values,A=Ae(Ae([],de(si.getFieldPath(c,!0)),!1),[i],!1),I=this.spreadsheet.store,O=this.standardTransform(l,_),F=fb(O,{columns:this.fields.columns,rows:A}),B=of(O,F),P=c?.id,H=null!==(v=I.get("drillDownIdPathMap"))&&void 0!==v?v:new Map;H.has(P)&&(Cr(H.get(P),function(ge){Hm(f.indexesData,ge)}),Mb(this.rowPivotMeta,P));var Y=f1({rows:A,columns:m,originData:B,totalData:F,indexesData:this.indexesData,sortedDimensionValues:this.sortedDimensionValues,rowPivotMeta:this.rowPivotMeta,colPivotMeta:this.colPivotMeta}),V=Y.paths,yt=Y.rowPivotMeta,Lt=Y.colPivotMeta,Pt=Y.sortedDimensionValues;this.indexesData=Y.indexesData,this.rowPivotMeta=yt,this.colPivotMeta=Lt,this.sortedDimensionValues=Pt,H.set(P,V),I.set("drillDownIdPathMap",H)},o.prototype.clearDrillDownData=function(i){var l=this,c=this.spreadsheet.store,f=c.get("drillDownIdPathMap");if(f){var v=c.get("drillDownDataCache",[]);if(i){var g=f.get(i);g&&Cr(g,function(O){Hm(l.indexesData,O)}),Mb(this.rowPivotMeta,i),f.delete(i);var m=$a(v,function(O){return f.has(O?.rowId)});c.set("drillDownDataCache",m);var _=m.map(function(O){return O?.drillLevel}),A=c.get("drillDownFieldInLevel",[]).filter(function(O){return yi(_,O?.drillLevel)});c.set("drillDownFieldInLevel",A)}else{f.clear();var I=this.spreadsheet.store.get("originalDataCfg");Ve(I)||this.spreadsheet.setDataCfg(I),this.spreadsheet.store.set("drillItemsNum",-1),this.spreadsheet.store.set("drillDownDataCache",[]),this.spreadsheet.store.set("drillDownFieldInLevel",[])}c.set("drillDownIdPathMap",f)}},o.prototype.standardTransform=function(i,l){if(Ve(l))return i;var c=[];return Cr(l,function(f){Cr(i,function(v){var g;Mc(v,f)&&c.push(Ft(Ft({},v),((g={})[Pr]=f,g[ro]=v[f],g)))})}),c},o.prototype.processDataCfg=function(i){var l=i.data,c=i.meta,f=void 0===c?[]:c,v=i.fields,g=i.sortParams,m=void 0===g?[]:g,_=i.totalData,b=v.columns,A=v.rows,I=v.values,F=v.customValueOrder,B=b,P=A;v.valueInCols?B=this.isCustomMeasuresPosition(F)?this.handleCustomMeasuresOrder(F,B):Uo(Ae(Ae([],de(b),!1),[Pr],!1)):P=this.isCustomMeasuresPosition(F)?this.handleCustomMeasuresOrder(F,P):Uo(Ae(Ae([],de(A),!1),[Pr],!1));var H=this.processMeta(f,Kn("\u6570\u503c")),Y=this.standardTransform(l,I),V=this.standardTransform(_,I);return{data:Y,meta:H,fields:Ft(Ft({},v),{rows:P,columns:B,values:I}),totalData:V,sortParams:m}},o.prototype.getDimensionsByField=function(i){var l=this.fields||{},c=l.rows,f=void 0===c?[]:c,v=l.columns,g=void 0===v?[]:v;return yi(f,i)?f:yi(g,i)?g:[]},o.prototype.getTotalDimensionValues=function(i,l){var c=this,f=this.getDimensionsByField(i),v=(this.sortedDimensionValues[i]||[]).filter(function(g){return c.checkAccordQueryWithDimensionValue({dimensionValues:g,query:l,dimensions:f,field:i})});return If(Uo(Yp(Ae([],de(v),!1))))},o.prototype.getDimensionValues=function(i,l){var c,f,v,g,m=this.fields||{},_=m.rows,b=void 0===_?[]:_,A=m.columns,I=void 0===A?[]:A,O=new Map,F=[];if(yi(b,i)?(O=this.rowPivotMeta,F=b):yi(I,i)&&(O=this.colPivotMeta,F=I),!Ve(l)){var B=[],P=[],H=function(Lt){var Pt=nr(l,Lt);P.push("".concat(Pt));var ge=P.join("".concat(Fn));if(O.has(Pt)&&!Ho(Pt)){var Me=null===(v=O.get(Pt))||void 0===v?void 0:v.childField;if(O=O.get(Pt).children,jn(Y.sortParams,function(Pe){return Pe.sortFieldId===Me})&&Y.sortedDimensionValues[Me]){var Ie=null===(g=Y.sortedDimensionValues[Me])||void 0===g?void 0:g.filter(function(Pe){return Pe?.startsWith(ge)});B=Yp(Ae([],de(Ie),!1))}else B=Ae([],de(O.keys()),!1)}},Y=this;try{for(var V=Ei(F),j=V.next();!j.done;j=V.next())H(j.value)}catch(Lt){c={error:Lt}}finally{try{j&&!j.done&&(f=V.return)&&f.call(V)}finally{if(c)throw c.error}}return Ve(B)?[]:If(e1(Ae([],de(O.keys()),!1),B))}return If(this.sortedDimensionValues[i]?Yp(Ae([],de(this.sortedDimensionValues[i]),!1)):Ae([],de(O.keys()),!1))},o.prototype.getTotalValue=function(i,l){var c,f,m=function b8(a,o){var i=a.isRowTotal,l=a.isRowSubTotal,f=a.isColSubTotal,v=o||{},_=v.row||{},b=_.calcTotals,A=void 0===b?{}:b,I=_.calcSubTotals,O=void 0===I?{}:I,F=v.col||{},B=F.calcTotals,H=F.calcSubTotals,Y=void 0===H?{}:H,V=function(j,yt){if((j.aggregation||j.calcFunc)&&yt)return{aggregation:j.aggregation,calcFunc:j.calcFunc}};return V(void 0===B?{}:B,a.isColTotal)||V(Y,f)||V(A,i)||V(O,l)}(WS(l)?l:this.getTotalStatus(i),null===(f=this.spreadsheet.options)||void 0===f?void 0:f.totals)||{},b=m.calcFunc,A=TT[m.aggregation];if(A||b){var I=this.getMultiData(i),O=void 0;return b?O=b(i,I):A&&(O=A(I,ro)),Ft(Ft({},i),((c={})[ro]=O,c[i[Pr]]=O,c))}},o.prototype.getCellData=function(i){var l,c,f,v=i||{},g=v.query,m=v.rowNode,_=v.isTotals,b=void 0!==_&&_,A=v.totalStatus,I=this.fields,O=I.columns,F=I.rows,B=F,P=null===(l=this.spreadsheet)||void 0===l?void 0:l.store.get("drillDownIdPathMap"),H=Array.from(null!==(c=P?.keys())&&void 0!==c?c:[]).some(function(Lt){return m.id.startsWith(Lt)});(!b||H)&&(B=null!==(f=si.getFieldPath(m,H))&&void 0!==f?f:F);var j=Rf({rowDimensionValues:Ml(B,g),colDimensionValues:Ml(O,g),careUndefined:b||hb([].concat(F).concat(O),g),rowPivotMeta:this.rowPivotMeta,colPivotMeta:this.colPivotMeta}),yt=nr(this.indexesData,j);return yt||(b?this.getTotalValue(g,A):yt)},o.prototype.checkExistDimensionGroup=function(i){var l=this.fields,f=l.columns,v=function(g){for(var m=!1,_=g.length;_>0;_--){var b=g[_-1];if(Kr(i).includes(b))b!==Pr&&(m=!0);else if(m)return!0}return!1};return v(l.rows)||v(f)},o.prototype.checkAccordQueryWithDimensionValue=function(i){var l,c,f=i.dimensionValues,v=i.query,g=i.dimensions,m=i.field;try{for(var _=Ei(g.entries()),b=_.next();!b.done;b=_.next()){var A=de(b.value,2),I=A[0],O=A[1],F=nr(v,O);if(F&&f.split(Fn)[I]!==F)return!1;if(m===O)break}}catch(H){l={error:H}}finally{try{b&&!b.done&&(c=_.return)&&c.call(_)}finally{if(l)throw l.error}}return!0},o.prototype.getTotalGroupQueries=function(i,l){for(var c=[l],f=null,v=function(_){var b,A,I=i[_-1];if(Kr(l).includes(I))I!==Pr&&(f=I);else if(f){var O=g.sortedDimensionValues[f],F=[],B=O[0].split(Fn).length,P=function(j){var yt,Lt,Pt=[];try{for(var ge=(yt=void 0,Ei(O)),Me=ge.next();!Me.done;Me=ge.next()){var Ie=Me.value;if(g.checkAccordQueryWithDimensionValue({dimensionValues:Ie,query:j,dimensions:i,field:f})){var $e=Ie.split(Fn)[B-2];"undefined"!==$e&&Pt.push($e)}}}catch(ir){yt={error:ir}}finally{try{Me&&!Me.done&&(Lt=ge.return)&&Lt.call(ge)}finally{if(yt)throw yt.error}}var lr=Uo(Pt).map(function(ir){var er;return Ft(Ft({},j),((er={})[I]=ir,er))});F=ko(F,lr)};try{for(var H=(b=void 0,Ei(c)),Y=H.next();!Y.done;Y=H.next())P(Y.value)}catch(j){b={error:j}}finally{try{Y&&!Y.done&&(A=H.return)&&A.call(H)}finally{if(b)throw b.error}}c=F,f=I}},g=this,m=i.length;m>0;m--)v(m);return c},o.prototype.getGroupTotalMultiData=function(i,l){var c,f,v,g,m=this.fields,_=m.rows,b=m.columns,A=[],I=this.getTotalGroupQueries(i,l),O=[];try{for(var F=Ei(I),B=F.next();!B.done;B=F.next())O=ko(O,this.getTotalGroupQueries(b,P=B.value))}catch(Pt){c={error:Pt}}finally{try{B&&!B.done&&(f=F.return)&&f.call(F)}finally{if(c)throw c.error}}try{for(var H=Ei(O),Y=H.next();!Y.done;Y=H.next()){var P,yt=Rf({rowDimensionValues:Ml(i,P=Y.value),colDimensionValues:Ml(b,P),careUndefined:!0,isFirstCreate:!0,rowFields:_,colFields:b,rowPivotMeta:this.rowPivotMeta,colPivotMeta:this.colPivotMeta}),Lt=this.getCustomData(yt);A=ko(A,Do(n1(Lt)))}}catch(Pt){v={error:Pt}}finally{try{Y&&!Y.done&&(g=H.return)&&g.call(H)}finally{if(v)throw v.error}}return A},o.prototype.getMultiData=function(i,l,c,f){var v;if(Ve(i))return Do(r1(this.indexesData));var g=this.fields,m=g.rows,_=g.columns,b=g.values,A=Ve(f)?m:m.concat(f),O=[];if(this.checkExistDimensionGroup(i))O=this.getGroupTotalMultiData(A,i);else{var F=Ml(A,i),B=Ml(_,i),P=Rf({rowDimensionValues:F,colDimensionValues:B,careUndefined:!0,isFirstCreate:!0,rowFields:m,colFields:_,rowPivotMeta:this.rowPivotMeta,colPivotMeta:this.colPivotMeta}),H=this.getCustomData(P);if(O=Do(n1(H)),l){var Y=[],V=cb(F,m),j=cb(B,_);if(c)Y=V;else if(1===(null===(v=Kr(i))||void 0===v?void 0:v.length)&&Mc(i,Pr))Y=j;else{var Lt=function(Me){return function(a){return a?.every(function(o){return Ho(o)})}(Me?.filter(function(Ie){return!b?.includes(Ie)}))},Pt=Lt(B),ge=Lt(F);Y=Pt?V:ge?j:Ae(Ae([],de(V),!1),de(j),!1)}O=O.filter(function(Me){return!Y?.find(function(Ie){var Pe;return Ie!==Pr&&(null===(Pe=Kr(Me))||void 0===Pe?void 0:Pe.includes(Ie))})})}}return O||[]},o.prototype.getFieldFormatter=function(i,l){return i===a2?this.getFieldFormatterForTotalValue(l):a.prototype.getFieldFormatter.call(this,i)},o.prototype.getFieldFormatterForTotalValue=function(i){var l;return!this.spreadsheet.isValueInCols()&&i&&(l=nr(i.rowQuery,Pr)),l=l??nr(this.fields.values,0),a.prototype.getFieldFormatter.call(this,l)},o.prototype.handleCustomMeasuresOrder=function(i,l){var c=Uo(Ae([],de(l),!1));return l.length>=i?(c.splice(i,0,Pr),c):Ae(Ae([],de(c),!1),[Pr],!1)},o.prototype.isCustomMeasuresPosition=function(i){return qi(i)},o.prototype.getRowData=function(i){return this.getMultiData(i.rowQuery)},o}(g0),nk=function(a){function o(){var i=null!==a&&a.apply(this,arguments)||this;return i.handleDimensionValueFilter=function(){Cr(i.filterParams,function(l){var c=l.filterKey,v=l.customFilter,g=new Set(l.filteredValues),m=function(_){return!g.has(_[c])};i.displayData=Ae(Ae(Ae([],de(i.getStartRows()),!1),de($a(i.getMovableRows(),function(_){return v?v(_)&&m(_):m(_)})),!1),de(i.getEndRows()),!1)})},i.handleDimensionValuesSort=function(){Cr(i.sortParams,function(l){var c=l.sortFieldId,f=l.sortBy,v=l.sortFunc,g=l.sortMethod,m=l.query;if(c){var _=i.getMovableRows(),b=[];if(m){var A=[];_.forEach(function(B){for(var P=Object.keys(m),H=!0,Y=0;Y<P.length;Y++){var V=P[Y];if(B[V]!==m[V]){H=!1,b.push(B);break}}H&&A.push(B)}),_=A}var I=_;if(v)I=v(Ft(Ft({},l),{data:_}));else if(f&&!Dn(f)){var O=Ae([],de(f),!1).reverse();I=_.sort(function(B,P){var H=O.indexOf(B[c]);return O.indexOf(P[c])-H})}else(Uc(g)||Jp(g))&&(I=Tc(_,[(Dn(f)?f:null)||c],[g.toLocaleLowerCase()]));b.length&&(I=Ae(Ae([],de(I),!1),de(b),!1)),i.displayData=Ae(Ae(Ae([],de(i.getStartRows()),!1),de(I),!1),de(i.getEndRows()),!1)}})},i}return Sr(o,a),o.prototype.processDataCfg=function(i){return i},o.prototype.setDataCfg=function(i){a.prototype.setDataCfg.call(this,i),this.handleDimensionValueFilter(),this.handleDimensionValuesSort()},o.prototype.getStartRows=function(){var i=(this.spreadsheet.options||{}).frozenRowCount;return i?this.displayData.slice(0,i):[]},o.prototype.getEndRows=function(){var i=(this.spreadsheet.options||{}).frozenTrailingRowCount;return i?this.displayData.slice(-i):[]},o.prototype.getMovableRows=function(){var l=this.spreadsheet.options||{};return this.displayData.slice(l.frozenRowCount||0,-l.frozenTrailingRowCount||void 0)},o.prototype.getTotalDimensionValues=function(i,l){return[]},o.prototype.getDimensionValues=function(i,l){return[]},o.prototype.getCellData=function(i){var l=i.query;if(0!==this.displayData.length||0!==l.rowIndex){var c=this.displayData[l.rowIndex];return"col"in l&&on(c)?c[l.col]:c}},o.prototype.getMultiData=function(i,l){return this.displayData},o.prototype.getRowData=function(i){return this.getCellData({query:{rowIndex:i.rowIndex}})},o}(g0),ik=function(a){function o(){return null!==a&&a.apply(this,arguments)||this}return Sr(o,a),o.prototype.getCellData=function(i){var l=i.query,c=this.fields,f=c.columns,v=c.rows,_=Rf({rowDimensionValues:Ml(v,l),colDimensionValues:Ml(f,l),rowPivotMeta:this.rowPivotMeta,colPivotMeta:this.colPivotMeta,isFirstCreate:!0,careUndefined:!0,rowFields:v,colFields:f});return nr(this.indexesData,_)},o.prototype.setDataCfg=function(i){a.prototype.setDataCfg.call(this,i),this.sortedDimensionValues={},this.rowPivotMeta=new Map,this.colPivotMeta=new Map;var l=this.fields,v=f1({rows:l.rows,columns:l.columns,originData:this.originData,totalData:[],indexesData:this.indexesData,sortedDimensionValues:this.sortedDimensionValues,rowPivotMeta:this.rowPivotMeta,colPivotMeta:this.colPivotMeta}).indexesData;this.indexesData=v,this.handleDimensionValuesSort()},o.prototype.processDataCfg=function(i){i.fields.valueInCols=!1;var l=i.data,c=i.meta,f=ug(i,["data","meta"]),v=i.fields.values,g=[];Cr(l,function(_){Ve(Qy(Kr(_),v))?g.push(_):Cr(v,function(b){var A;Mc(_,b)&&g.push(Ft(Ft({},_),((A={})[Pr]=b,A[ro]=_[b],A)))})});var m=this.processMeta(c,Kn("\u6307\u6807"));return Ft(Ft({},f),{meta:m,data:Uo(g),fields:Ft(Ft({},i.fields),{rows:[Pr]})})},o}(V1),Il=(()=>(function(a){a.ScrollChange="scroll-change",a.ScrollEnd="scroll-end"}(Il||(Il={})),Il))(),X1=function(a){function o(i){var l=a.call(this,i)||this;l.isMobile=!1,l.eventHandlers=[],l.scrollFrameId=null,l.getCoordinatesName=function(){return{from:l.isHorizontal?"x1":"y1",to:l.isHorizontal?"x2":"y2"}},l.getCoordinatesWithBBoxExtraPadding=function(){var O=l.theme.size;return{start:l.thumbOffset+(l.isHorizontal?0:O/2),end:l.thumbOffset+l.thumbLen-(l.isHorizontal?O:O/2)}},l.current=function(){return l.thumbOffset/l.trackLen/(1-l.thumbLen/l.trackLen)},l.updateThumbLen=function(O){if(l.thumbLen!==O){l.thumbLen=O;var F=l.getCoordinatesName();l.thumbShape.attr(F.to,l.thumbOffset+O),l.emitScrollChange(l.thumbOffset/(l.trackLen-l.thumbLen)*l.scrollTargetMaxOffset,!1)}},l.updateThumbOffset=function(O,F){var B;void 0===F&&(F=!0);var P=l.validateRange(O);if(l.thumbOffset!==P||0===P){l.thumbOffset=P;var Y=l.getCoordinatesName(),V=Y.from,j=Y.to,yt=l.getCoordinatesWithBBoxExtraPadding(),Pt=yt.end;l.thumbShape.attr(((B={})[V]=yt.start,B[j]=Pt,B)),F&&l.emitScrollChange(P/(l.trackLen-l.thumbLen)*l.scrollTargetMaxOffset,!1)}},l.onlyUpdateThumbOffset=function(O){var F;l.updateThumbOffset(O,!1),null===(F=l.get("canvas"))||void 0===F||F.draw()},l.emitScrollChange=function(O,F){void 0===F&&(F=!0),cancelAnimationFrame(l.scrollFrameId),l.scrollFrameId=requestAnimationFrame(function(){l.emit(Il.ScrollChange,{offset:O,updateThumbOffset:F})})},l.addEventListener=function(O,F,B){return O?.addEventListener(F,B,!1),{remove:function(){O?.removeEventListener(F,B,!1)}}},l.addEvent=function(O,F,B){O.on(F,B),l.eventHandlers.push({target:O,type:F,handler:B})},l.initScrollBar=function(){l.scrollBarGroup=l.createScrollBarGroup(),l.scrollBarGroup.move(l.position.x,l.position.y),l.bindEvents()},l.createScrollBarGroup=function(){var O=l.addGroup({className:l.isHorizontal?"horizontalBar":"verticalBar"});return l.trackShape=l.createTrackShape(O),l.thumbShape=l.createThumbShape(O),O},l.createTrackShape=function(O){var F=l.theme,B=F.lineCap,Y=F.size,V={lineWidth:Y,stroke:F.trackColor,lineCap:void 0===B?"round":B};return O.addShape("line",l.isHorizontal?{attrs:Ft(Ft({},V),{x1:0,y1:Y/2,x2:l.trackLen,y2:Y/2})}:{attrs:Ft(Ft({},V),{x1:Y/2,y1:0,x2:Y/2,y2:l.trackLen})})},l.createThumbShape=function(O){var F=l.theme,B=F.size,P=F.lineCap,V={lineWidth:B,stroke:F.thumbColor,lineCap:void 0===P?"round":P,cursor:"default"},j=l.getCoordinatesWithBBoxExtraPadding(),yt=j.start,Lt=j.end;return O.addShape("line",l.isHorizontal?{attrs:Ft(Ft({},V),{x1:yt,y1:B/2,x2:Lt,y2:B/2})}:{attrs:Ft(Ft({},V),{x1:B/2,y1:yt,x2:B/2,y2:Lt})})},l.bindEvents=function(){l.on("mousedown",l.onStartEvent(!1)),l.on("mouseup",l.onMouseUp),l.on("touchstart",l.onStartEvent(!0)),l.on("touchend",l.onMouseUp),l.trackShape.on("click",l.onTrackClick),l.thumbShape.on("mouseover",l.onTrackMouseOver),l.thumbShape.on("mouseout",l.onTrackMouseOut)},l.onStartEvent=function(O){return function(F){F.preventDefault(),l.isMobile=O;var B=l.isMobile?nr(F,"touches.0",F):F;l.startPos=l.isHorizontal?B.clientX:B.clientY,l.bindLaterEvent()}},l.bindLaterEvent=function(){var O=l.get("canvas"),F=document.body,B=[];l.isMobile?(B=[l.addEventListener(F,"touchmove",l.onMouseMove),l.addEventListener(F,"touchend",l.onMouseUp),l.addEventListener(F,"touchcancel",l.onMouseUp)],l.addEvent(O,"touchend",l.onMouseUp),l.addEvent(O,"touchcancel",l.onMouseUp)):(B=[l.addEventListener(F,"mousemove",l.onMouseMove),l.addEventListener(F,"mouseup",l.onMouseUp),l.addEventListener(F,"mouseleave",l.onMouseUp)],l.addEvent(O,"mouseup",l.onMouseUp)),l.clearEvents=function(){B.forEach(function(P){P?.remove()}),Cr(l.eventHandlers,function(P){var H;null===(H=P.target)||void 0===H||H.off(P.type,P.handler)}),l.eventHandlers.length=0}},l.onTrackClick=function(O){var B=l.validateRange(l.isHorizontal?O.x-l.position.x-l.thumbLen/2:O.y-l.position.y-l.thumbLen/2);l.updateThumbOffset(B)},l.onMouseMove=function(O){O.preventDefault();var F=l.isMobile?nr(O,"touches.0",O):O,H=l.isHorizontal?F.clientX:F.clientY,Y=H-l.startPos;l.startPos=H,l.updateThumbOffset(l.thumbOffset+Y)},l.onMouseUp=function(O){var F;l.emit(Il.ScrollEnd,{}),O.preventDefault(),null===(F=l.clearEvents)||void 0===F||F.call(l)},l.onTrackMouseOver=function(){var O=l.theme,B=O.hoverSize;l.thumbShape.attr("stroke",O.thumbHoverColor),l.thumbShape.attr("lineWidth",B)},l.onTrackMouseOut=function(){var O=l.theme,B=O.size;l.thumbShape.attr("stroke",O.thumbColor),l.thumbShape.attr("lineWidth",B)},l.validateRange=function(O){var F=O;return O+l.thumbLen>l.trackLen?F=l.trackLen-l.thumbLen:O+l.thumbLen<l.thumbLen&&(F=0),F};var c=i.isHorizontal,v=i.trackLen,g=i.thumbLen,m=i.position,_=i.thumbOffset,b=void 0===_?0:_,A=i.theme,I=i.scrollTargetMaxOffset;return l.isHorizontal=void 0!==c&&c,l.thumbOffset=b,l.trackLen=v,l.thumbLen=g,l.position=m,l.theme=A,l.scrollTargetMaxOffset=I,l.initScrollBar(),l}return Sr(o,a),o}(ss),FT=function(a,o,i){if(i<=0)return{start:0,end:0};var l=Po(a,function(f,v){return o>=f&&o<a[v+1]},0);l=Math.max(l,0);var c=i===o?l:Po(a,function(f,v){return i>f&&i<=a[v+1]},l);return{start:l,end:c=Math.min(-1===c?1/0:c,a.length-2)}},ak=function(a,o){var c=Math.min(o.originalWidth-o.width,a);return c<0?0:c},$1=function(a,o,i){var l=Math.min(o-i,a);return l<0?0:l},qf=function(a,o){if(void 0===a&&(a=[]),Ve(a))return[];var i=[];return a.forEach(function(l){l instanceof o&&i.push(l),l instanceof ss&&l.getChildren().forEach(function(f){f instanceof o&&i.push(f)})}),i},DT=function(a,o,i){return i.slice(a,o+1).map(function(l){return l.x+l.width})},Z1=function(a,o,i){for(var l=[],c=a;c<o+1;c++)l.push(i.getCellOffsetY(c+1));return l},kT=function(a,o,i){var l=de(i,4);return a>=l[0]&&a<=l[1]&&o>=l[2]&&o<=l[3]},BT=function(a){for(var o=de(a,4),l=o[1],c=o[2],f=o[3],v=[],g=o[0];g<=l;g+=1)for(var m=c;m<=f;m+=1)v.push([g,m]);return v},lk=function(a,o){var i=[],l=[];return Object.keys(o).forEach(function(c){var f=function(a,o){var i=[],l=[];if(Ve(a))return Ve(o)?{add:i,remove:l}:{add:BT(o),remove:l};if(Ve(o))return{add:i,remove:BT(a)};for(var c=de(a,4),f=c[0],v=c[1],g=c[2],m=c[3],_=de(o,4),b=_[0],A=_[1],I=_[2],O=_[3],F=f;F<=v;F++)for(var B=g;B<=m;B++)kT(F,B,o)||l.push([F,B]);for(F=b;F<=A;F+=1)for(B=I;B<=O;B+=1)kT(F,B,a)||i.push([F,B]);return{add:i,remove:l}}(a?.[c]||[],o[c]),g=f.remove;i.push.apply(i,Ae([],de(f.add),!1)),l.push.apply(l,Ae([],de(g),!1))}),{add:i,remove:l}},PT=function a(o,i){void 0===i&&(i=!1),this.x=0,this.y=0,this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.width=0,this.height=0,this.originalWidth=0,this.originalHeight=0,this.viewportHeight=0,this.viewportWidth=0,this.facet=o,this.spreadsheet=o.spreadsheet,this.layoutResult=o.layoutResult,i&&this.calculateBBox()},zT=function(a){function o(){return null!==a&&a.apply(this,arguments)||this}return Sr(o,a),o.prototype.calculateBBox=function(){var i=this.getCornerBBoxWidth(),l=this.getCornerBBoxHeight();this.width=i,this.height=l,this.maxX=i,this.maxY=l},o.prototype.getCornerBBoxOriginalHeight=function(){var i=this.layoutResult.colsHierarchy,l=this.spreadsheet.options.style.colCfg;return i.sampleNodeForLastLevel?Math.floor(i.height):l?.height},o.prototype.getCornerBBoxHeight=function(){return this.originalHeight=this.getCornerBBoxOriginalHeight(),this.originalHeight},o.prototype.getCornerBBoxWidth=function(){return this.originalWidth=Math.floor(this.layoutResult.rowsHierarchy.width+this.facet.getSeriesNumberWidth()),this.spreadsheet.isScrollContainsRowHeader()?this.originalWidth:this.adjustCornerBBoxWidth()},o.prototype.adjustCornerBBoxWidth=function(){var l=this.spreadsheet.options.width,c=.5*l,f=this.layoutResult.colsHierarchy?.width,v=l-this.originalWidth;if(this.originalWidth<=c||f<=v)return this.originalWidth;return Math.floor(f<=l-c?this.originalWidth-(f-v):c)},o}(PT),uk=function(a){function o(){return null!==a&&a.apply(this,arguments)||this}return Sr(o,a),o.prototype.calculateBBox=function(){this.originalWidth=this.facet.getRealWidth(),this.originalHeight=this.facet.getRealHeight();var i=this.facet.cornerBBox,l={x:Math.floor(i.maxX),y:Math.floor(i.maxY)},c=this.spreadsheet.theme.scrollBar.size,f=this.spreadsheet.options,g=f.height,m=Math.max(0,f.width-l.x),_=Math.max(0,g-l.y-c);this.x=l.x,this.y=l.y,this.width=m,this.height=_,this.viewportHeight=Math.abs(Math.floor(Math.min(_,this.originalHeight))),this.viewportWidth=Math.abs(Math.floor(Math.min(m,this.originalWidth))),this.maxX=l.x+this.viewportWidth,this.maxY=l.y+this.viewportHeight,this.minX=l.x,this.minY=l.y;var b=this.spreadsheet.options,I=b.frozenTrailingRowCount;b.frozenTrailingColCount>0&&(this.viewportWidth=this.width,this.maxX=l.x+this.width),I>0&&(this.viewportHeight=this.height,this.maxY=l.y+this.height)},o}(PT),y0=function(a){function o(i){var l=a.call(this,i)||this;return l.isHeaderCellInViewport=function(c,f,v,g){return c+f>=v&&v+g>=c},l.headerConfig=i,l}return Sr(o,a),o.prototype.getConfig=function(){return this.headerConfig},o.prototype.clearResizeAreaGroup=function(i){var c=this.get("parent")?.findById(i);c?.clear()},o.prototype.render=function(i){this.clearResizeAreaGroup(i),this.clear(),this.layout(),this.offset(),this.clip()},o.prototype.onScrollXY=function(i,l,c){this.headerConfig.scrollX=i,this.headerConfig.scrollY=l,this.render(c)},o.prototype.onRowScrollX=function(i,l){this.headerConfig.scrollX=i,this.render(l)},o.prototype.clear=function(){a.prototype.clear.call(this)},o}(ss),q1=function(a){function o(i){var l=a.call(this,i)||this;return l.scrollGroup=l.addGroup({name:XA,zIndex:NA}),l}return Sr(o,a),o.prototype.onColScroll=function(i,l){this.headerConfig.scrollX!==i&&(this.headerConfig.scrollX=i,this.render(l))},o.prototype.clip=function(){var i=this.headerConfig,l=i.width,c=i.height,f=i.scrollX,g=i.spreadsheet.isFrozenRowHeader();this.scrollGroup.setClip({type:"rect",attrs:{x:g?f:0,y:0,width:g?l:l+f,height:c}})},o.prototype.clear=function(){var i,l;null===(i=this.scrollGroup)||void 0===i||i.clear(),null===(l=this.background)||void 0===l||l.remove(!0)},o.prototype.getCellInstance=function(i,l,c){return new Hf(i,l,c)},o.prototype.getCellGroup=function(i){return this.scrollGroup},o.prototype.isColCellInRect=function(i){var l=this.headerConfig,f=l.cornerWidth,g=l.scrollX;return l.width+g>i.x&&g-(l.spreadsheet.isFrozenRowHeader()?0:f)<i.x+i.width},o.prototype.layout=function(){var i=this,l=this.headerConfig,f=l.spreadsheet,v=f.options.colCell;Cr(l.data,function(g){var m=g;if(i.isColCellInRect(m)){var _=v?.(m,f,i.headerConfig)||i.getCellInstance(m,f,i.headerConfig);m.belongsCell=_,i.getCellGroup(m).add(_)}})},o.prototype.offset=function(){var i=this.headerConfig;t1(this.scrollGroup,i.position.x-i.scrollX)},o}(y0),ck=function(a){function o(i){return a.call(this,i)||this}return Sr(o,a),o.getCornerHeader=function(i,l,c,f,v,g){var m=i.width,_=i.height,b=l.originalWidth,A=l.originalHeight,I=l.width,O=l.height;return new o({data:this.getCornerNodes({x:l.x,y:l.y},b,A,f.rows,f.columns,v.rowsHierarchy,v.colsHierarchy,f.dataSet,c,g),position:{x:l.x,y:l.y},width:I,height:O,originalHeight:A,originalWidth:b,viewportWidth:m,viewportHeight:_,hierarchyType:f.hierarchyType,hierarchyCollapse:f.hierarchyCollapse,rows:f.rows,columns:f.columns,seriesNumberWidth:c,spreadsheet:g})},o.getCornerNodes=function(i,l,c,f,v,g,m,_,b,A){var I,O,F,B=[],H=m?.sampleNodeForLastLevel,Y=null!==(I=H?.y)&&void 0!==I?I:0,V=null!==(F=null!==(O=H?.height)&&void 0!==O?O:A.options.style.colCfg?.height)&&void 0!==F?F:0;if(b){var j=new si({id:"",key:"series-number-node",value:Kn("\u5e8f\u53f7")});j.x=i?.x,j.y=Y,j.width=b,j.height=V,j.isPivotMode=!0,j.spreadsheet=A,j.cornerType=Ea.Series,B.push(j)}if(A.isHierarchyTreeType()){var yt=this.getTreeCornerText(A),Lt=new si({key:"",id:yt,value:yt});Lt.x=i.x+b,Lt.y=Y,Lt.width=l-b,Lt.height=V,Lt.seriesNumberWidth=b,Lt.isPivotMode=!0,Lt.spreadsheet=A,Lt.cornerType=Ea.Row,B.push(Lt)}else g.sampleNodesForAllLevels.forEach(function(Pt){var ge=f[Pt.level],Me=new si({key:ge,id:ge,value:_.getFieldName(ge)});Me.x=Pt.x+b,Me.y=Y,Me.width=Pt.width,Me.height=V,Me.field=ge,Me.isPivotMode=!0,Me.cornerType=Ea.Row,Me.spreadsheet=A,B.push(Me)});return m.sampleNodesForAllLevels.forEach(function(Pt){if(Pt.level<m.maxLevel){var ge=v[Pt.level],Me=new si({key:ge,id:ge,value:_.getFieldName(ge)});Me.x=i.x,Me.y=Pt.y,Me.width=l,Me.height=Pt.height,Me.field=ge,Me.isPivotMode=!0,Me.cornerType=Ea.Col,Me.spreadsheet=A,B.push(Me)}}),B},o.getTreeCornerText=function(i){var l=i.dataSet.fields.rows,c=void 0===l?[]:l,f=i.options.cornerText;if(f)return f;var g=i.store.get("drillDownFieldInLevel",[]).map(function(_){return _.drillField});return c.filter(function(_){return!yi(g,_)}).map(function(_){return i.dataSet.getFieldName(_)}).join("/")},o.prototype.onCorScroll=function(i,l){this.headerConfig.scrollX=i,this.render(l)},o.prototype.destroy=function(){a.prototype.destroy.call(this)},o.prototype.layout=function(){this.renderCells()},o.prototype.renderCells=function(){var l,c,f,v,i=this,g=this.headerConfig,m=g.data,_=g.spreadsheet,b=null===(c=null===(l=_?.facet)||void 0===l?void 0:l.cfg)||void 0===c?void 0:c.cornerHeader,A=null===(v=null===(f=_?.facet)||void 0===f?void 0:f.cfg)||void 0===v?void 0:v.cornerCell;b?b(this,_,this.headerConfig):m.forEach(function(I){var O;A&&(O=A(I,i.headerConfig.spreadsheet,i.headerConfig)),Ve(O)&&(O=new HF(I,i.headerConfig.spreadsheet,i.headerConfig)),i.add(O)})},o.prototype.offset=function(){t1(this,-this.headerConfig.scrollX)},o.prototype.clip=function(){var i=this.headerConfig;this.setClip({type:"rect",attrs:{x:i.scrollX,y:0,width:i.width,height:i.height}})},o.prototype.getNodes=function(){return this.headerConfig.data||[]},o}(y0),hk=function(a){function o(i){var l=a.call(this,i)||this;return l.render(),l}return Sr(o,a),o.prototype.layout=function(){this.addCornerBottomBorder(),this.addCornerRightBorder(),this.addSplitLineShadow()},o.prototype.render=function(){this.clear(),this.layout()},o.prototype.onBorderScroll=function(i){this.cfg.scrollX=i,wl(this,this.cfg.position.x-i,0),this.render()},o.prototype.onChangeShadowVisibility=function(i,l){this.cfg.showViewportLeftShadow=i>0,this.cfg.showViewportRightShadow=Math.floor(i)<Math.floor(l),this.render()},o.prototype.addCornerRightBorder=function(){var i,l=this.cfg;if(l.isPivotMode){var m=l.position,b=null===(i=l.spreadsheet.theme)||void 0===i?void 0:i.splitLine,A=m.x+l.width;this.addShape("line",{attrs:{x1:A,y1:m.y,x2:A,y2:m.y+l.height+l.viewportHeight,stroke:b.verticalBorderColor,lineWidth:b.verticalBorderWidth,opacity:b.verticalBorderColorOpacity}})}},o.prototype.addCornerBottomBorder=function(){var i,l=this.cfg,g=l.position,A=null===(i=l.spreadsheet.theme)||void 0===i?void 0:i.splitLine,I=g.x,F=g.y+l.height-1;this.addShape("line",{attrs:{x1:I,y1:F,x2:I+l.width+l.viewportWidth+(l.scrollContainsRowHeader?l.scrollX:0),y2:F,stroke:A.horizontalBorderColor,lineWidth:A.horizontalBorderWidth,opacity:A.horizontalBorderColorOpacity}})},o.prototype.addSplitLineShadow=function(){var i,l=this.cfg,f=l.spreadsheet,v=null===(i=f.theme)||void 0===i?void 0:i.splitLine;!l.isPivotMode||!v.showShadow||!f.isFrozenRowHeader()||(this.addSplitLineLeftShadow(),this.addSplitLineRightShadow())},o.prototype.addSplitLineLeftShadow=function(){var i,l,c;if(this.cfg.showViewportLeftShadow){var f=this.cfg,_=f.position,A=null===(i=f.spreadsheet.theme)||void 0===i?void 0:i.splitLine;this.addShape("rect",{attrs:{x:_.x+f.width,y:_.y,width:A.shadowWidth,height:f.viewportHeight+f.height,fill:"l (0) 0:".concat(null===(l=A.shadowColors)||void 0===l?void 0:l.left," 1:").concat(null===(c=A.shadowColors)||void 0===c?void 0:c.right)}})}},o.prototype.addSplitLineRightShadow=function(){var i,l,c;if(this.cfg.showViewportRightShadow){var f=this.cfg,b=f.position,I=null===(i=f.spreadsheet.theme)||void 0===i?void 0:i.splitLine;this.addShape("rect",{attrs:{x:b.x+f.width+f.viewportWidth-I.shadowWidth,y:b.y,width:I.shadowWidth,height:f.viewportHeight+f.height,fill:"l (0) 0:".concat(null===(l=I.shadowColors)||void 0===l?void 0:l.right," 1:").concat(null===(c=I.shadowColors)||void 0===c?void 0:c.left)}})}},o}(ss),NT=function(a){function o(i){return a.call(this,i)||this}return Sr(o,a),o.prototype.destroy=function(){a.prototype.destroy.call(this),this.gm&&this.gm.destroy()},o.prototype.layout=function(){var l,c,i=this,f=this.headerConfig,g=f.spreadsheet,m=f.width,_=f.viewportHeight,b=f.seriesNumberWidth,A=f.scrollY,I=f.scrollX,O=null===(c=null===(l=g?.facet)||void 0===l?void 0:l.cfg)||void 0===c?void 0:c.rowCell;Cr(f.data,function(B){if(function(B){return _+A>B.y&&A<B.y+B.height&&m-b+I>B.x&&I-b<B.x+B.width}(B)&&0!==B.height){var P=void 0;O&&(P=O(B,g,i.headerConfig)),Ve(P)&&g.isPivotMode()&&(P=new r0(B,g,i.headerConfig)),B.belongsCell=P,i.add(P)}})},o.prototype.offset=function(){var i=this.headerConfig,f=i.position;wl(this,f.x-i.scrollX+i.seriesNumberWidth,f.y-i.scrollY)},o.prototype.clip=function(){var i=this.headerConfig;this.setClip({type:"rect",attrs:{x:i.scrollX-i.seriesNumberWidth,y:i.scrollY,width:i.width,height:i.viewportHeight}})},o}(y0),fk=function(a){function o(i){return a.call(this,i)||this}return Sr(o,a),o.getSeriesNumberHeader=function(i,l,c,f,v){var g=i.height,m=i.viewportHeight,_=[],b=f.isHierarchyTreeType();return c.forEach(function(A){if(!A.isTotals||b){var I=new si({id:"",key:"",value:"".concat(_.length+1)});I.x=A.x,I.y=A.y,I.height=A.height,I.width=l,_.push(I)}}),new o({width:v,height:g,viewportWidth:v,viewportHeight:m,position:{x:0,y:i.y},data:_,spreadsheet:f})},o.prototype.clip=function(){var i=this.headerConfig;this.setClip({type:"rect",attrs:{x:0,y:i.scrollY,width:i.width,height:i.viewportHeight}})},o.prototype.layout=function(){var i=this,l=this.headerConfig,c=l.data,f=l.scrollY,v=l.viewportHeight;l.spreadsheet.isPivotMode&&this.addBackGround();var m=this.addGroup();Cr(c,function(_){var I=_.isLeaf;if(i.isHeaderCellInViewport(_.y,_.height,f,v)){var F=i.addGroup();i.addText(F,_),i.add(F),I||i.addBorder(m,_)}})},o.prototype.offset=function(){var i=this.headerConfig,l=i.scrollY,f=i.position;wl(this,f.x-i.scrollX,f.y-l),this.backgroundShape&&this.backgroundShape.translate(f.x,f.y+l),this.leftBorderShape&&this.leftBorderShape.translate(f.x,f.y+l)},o.prototype.addBackGround=function(){var i=this.getStyle().cell,l=this.headerConfig,c=l.position,f=l.width,v=l.viewportHeight;this.backgroundShape=ha(this,{x:c.x,y:-c.y,width:f,height:v,fill:i.backgroundColor,stroke:"transparent",opacity:i.backgroundColorOpacity});var g=Rs(Pn.LEFT,{x:c.x,y:-c.y,width:f,height:v},i);this.leftBorderShape=li(this,g.position,g.style)},o.prototype.addBorder=function(i,l){var c=this.getStyle().cell,f=Rs(Pn.BOTTOM,l,c);li(i,f.position,f.style)},o.prototype.getStyle=function(){return this.headerConfig.spreadsheet.theme.rowCell},o.prototype.addText=function(i,l){var c=this.headerConfig,f=c.scrollY,v=c.viewportHeight,g=Ft(Ft({},this.getStyle().seriesText),{textBaseline:"top"}),m=l.label,_=l.x,b=l.y,I=l.height,O=this.getTextPadding(m,l.width),F=e0(b+O.top,I-O.top-O.bottom,f,v,g.fontSize);i.addShape("text",{attrs:Ft(Ft({x:_+O.left,y:F,text:m},g),{cursor:"pointer"})})},o.prototype.getTextPadding=function(i,l){var c=this.getStyle(),f=this.headerConfig.spreadsheet.measureTextWidth(i,c.seriesText),v=Math.max(Math.abs((l-f)/2),4);return Ft(Ft({},c.cell.padding),{left:v,right:v})},o}(y0),HT=function(){function a(o){var i=this;this.scrollFrameId=null,this.hideScrollBar=function(){var l,c,f;null===(l=i.hRowScrollBar)||void 0===l||l.hide(),null===(c=i.hScrollBar)||void 0===c||c.hide(),null===(f=i.vScrollBar)||void 0===f||f.hide()},this.delayHideScrollBar=nf(this.hideScrollBar,1e3),this.delayHideScrollbarOnMobile=function(){oi()&&i.delayHideScrollBar()},this.showVerticalScrollBar=function(){var l;null===(l=i.vScrollBar)||void 0===l||l.show()},this.showHorizontalScrollBar=function(){var l,c;null===(l=i.hRowScrollBar)||void 0===l||l.show(),null===(c=i.hScrollBar)||void 0===c||c.show()},this.onContainerWheel=function(){i.onContainerWheelForPc(),i.onContainerWheelForMobile()},this.onContainerWheelForPc=function(){i.spreadsheet.getCanvasElement()?.addEventListener("wheel",i.onWheel)},this.onContainerWheelForMobile=function(){i.mobileWheel=new XF(i.spreadsheet.container),i.mobileWheel.on("wheel",function(l){i.spreadsheet.hideTooltip();var f=l.deltaX,v=l.deltaY,g=l.x,m=l.y;i.onWheel(Ft(Ft({},l.event),{deltaX:f,deltaY:v,offsetX:g,offsetY:m}))})},this.bindEvents=function(){i.onContainerWheel(),i.emitPaginationEvent()},this.setScrollOffset=function(l){Object.keys(l).forEach(function(c){var f=l[c];Ho(f)||i.spreadsheet.store.set(c,Math.floor(f))})},this.getScrollOffset=function(){var l=i.spreadsheet.store;return{scrollX:l.get("scrollX",0),scrollY:l.get("scrollY",0),rowHeaderScrollX:l.get("rowHeaderScrollX",0)}},this.emitPaginationEvent=function(){var l=i.cfg.pagination;if(l){var c=l.current,f=void 0===c?Xm:c,v=l.pageSize,g=i.viewCellHeights.getTotalLength(),m=Math.floor((g-1)/v)+1;i.cfg.spreadsheet.emit(ae.LAYOUT_PAGINATION,{pageSize:v,pageCount:m,total:g,current:f})}},this.unbindEvents=function(){i.spreadsheet.getCanvasElement()?.removeEventListener("wheel",i.onWheel),i.mobileWheel.destroy()},this.clipPanelGroup=function(){var l;i.foregroundGroup=i.spreadsheet.foregroundGroup,i.backgroundGroup=i.spreadsheet.backgroundGroup,i.panelGroup=i.spreadsheet.panelGroup;var c=i.panelBBox;null===(l=i.spreadsheet.panelScrollGroup)||void 0===l||l.setClip({type:"rect",attrs:{x:0,y:i.cornerBBox.height,width:c.width,height:c.height}})},this.calculateCellWidthHeight=function(){var c=xu(i.layoutResult.colLeafNodes,function(f,v){return f.push(hn(f)+v.width),f},[0]);i.viewCellWidths=c,i.viewCellHeights=i.getViewCellHeights(i.layoutResult)},this.getRealScrollX=function(l,c){return void 0===c&&(c=0),i.cfg.spreadsheet.isScrollContainsRowHeader()?l:c},this.calculatePanelBBox=function(){i.panelBBox=new uk(i,!0)},this.getRealWidth=function(){return hn(i.viewCellWidths)},this.getRealHeight=function(){var c=i.viewCellHeights;if(i.cfg.pagination){var f=i.getCellRange(),v=f.start;return c.getCellOffsetY(f.end+1)-c.getCellOffsetY(v)}return c.getTotalHeight()},this.clearAllGroup=function(){for(var l=i.panelGroup.getChildren()||[],c=l.length-1;c>=0;c--){var f=l[c];f instanceof ss?f.set("children",[]):l[c].remove()}i.foregroundGroup.set("children",[]),i.backgroundGroup.set("children",[])},this.scrollWithAnimation=function(l,c,f){var v,g,m,_;void 0===l&&(l={}),void 0===c&&(c=200);var b=i.getAdjustedScrollOffset({scrollX:(null===(v=l.offsetX)||void 0===v?void 0:v.value)||0,scrollY:(null===(g=l.offsetY)||void 0===g?void 0:g.value)||0,rowHeaderScrollX:(null===(m=l.rowHeaderOffsetX)||void 0===m?void 0:m.value)||0}),A=b.scrollX,I=b.scrollY,O=b.rowHeaderScrollX;null===(_=i.timer)||void 0===_||_.stop();var F=i.getScrollOffset(),B=[A??F.scrollX,I??F.scrollY,O??F.rowHeaderScrollX],P=Ki(Object.values(F),B);i.timer=rh(function(H){try{var Y=Math.min(H/c,1),V=de(P(Y),3);i.setScrollOffset({rowHeaderScrollX:V[2],scrollX:V[0],scrollY:V[1]}),i.startScroll(),H>c&&(i.timer.stop(),f?.())}catch(Pt){console.error(Pt),i.timer.stop()}})},this.scrollImmediately=function(l){var c,f,v;void 0===l&&(l={});var g=i.getAdjustedScrollOffset({scrollX:(null===(c=l.offsetX)||void 0===c?void 0:c.value)||0,scrollY:(null===(f=l.offsetY)||void 0===f?void 0:f.value)||0,rowHeaderScrollX:(null===(v=l.rowHeaderOffsetX)||void 0===v?void 0:v.value)||0});i.setScrollOffset({scrollX:g.scrollX,scrollY:g.scrollY,rowHeaderScrollX:g.rowHeaderScrollX}),i.startScroll()},this.startScroll=function(l){var c,f,v;void 0===l&&(l=!1);var g=i.getScrollOffset(),_=g.scrollX,b=g.scrollY;null===(c=i.hRowScrollBar)||void 0===c||c.onlyUpdateThumbOffset(i.getScrollBarOffset(g.rowHeaderScrollX,i.hRowScrollBar)),null===(f=i.hScrollBar)||void 0===f||f.onlyUpdateThumbOffset(i.getScrollBarOffset(_,i.hScrollBar)),null===(v=i.vScrollBar)||void 0===v||v.onlyUpdateThumbOffset(i.getScrollBarOffset(b,i.vScrollBar)),i.dynamicRenderCell(l)},this.getRendererHeight=function(){var l=i.getCellRange(),c=l.start;return i.viewCellHeights.getCellOffsetY(l.end+1)-i.viewCellHeights.getCellOffsetY(c)},this.getAdjustedScrollOffset=function(l){var f=l.scrollY,v=l.rowHeaderScrollX;return{scrollX:$1(l.scrollX,i.layoutResult.colsHierarchy.width,i.panelBBox.width),scrollY:$1(f,i.getRendererHeight(),i.panelBBox.height),rowHeaderScrollX:ak(v,i.cornerBBox)}},this.renderRowScrollBar=function(l){if(!i.cfg.spreadsheet.isScrollContainsRowHeader()&&i.cornerBBox.width<i.cornerBBox.originalWidth){var c=i.cornerBBox.originalWidth-i.cornerBBox.width,f=i.getScrollbarPosition().maxY,v=i.spreadsheet.theme,g=v.splitLine,_=Math.max(i.cornerBBox.width*i.cornerBBox.width/i.cornerBBox.originalWidth,v.scrollBar?.thumbHorizontalMinSize);i.hRowScrollBar=new X1({isHorizontal:!0,trackLen:i.cornerBBox.width,thumbLen:_-g?.verticalBorderWidth,position:{x:i.cornerBBox.minX+i.scrollBarSize/2,y:f},thumbOffset:l*(i.cornerBBox.width-_)/c,theme:i.scrollBarTheme,scrollTargetMaxOffset:c}),i.hRowScrollBar.on(Il.ScrollChange,function(A){var I,O,B=i.getValidScrollBarOffset(A.offset,c),P=Math.floor(B);i.setScrollOffset({rowHeaderScrollX:P}),null===(I=i.rowHeader)||void 0===I||I.onRowScrollX(P,_h),null===(O=i.rowIndexHeader)||void 0===O||O.onRowScrollX(P,YA),i.cornerHeader.onRowScrollX(P,s2);var H=i.getScrollBarOffset(P,i.hRowScrollBar),Y=i.getScrollOffset(),yt={scrollX:Y.scrollX,scrollY:Y.scrollY,rowHeaderScrollX:H};i.hRowScrollBar.updateThumbOffset(H,!1),i.spreadsheet.emit(ae.ROW_CELL_SCROLL,yt),i.spreadsheet.emit(ae.GLOBAL_SCROLL,yt)}),i.foregroundGroup.add(i.hRowScrollBar)}},this.getValidScrollBarOffset=function(l,c){return qh(l,0,c)},this.renderHScrollBar=function(l,c,f){if(Math.floor(l)<Math.floor(c)){var v=i.scrollBarSize/2,g=i.getScrollbarPosition().maxY,m=l+(i.cfg.spreadsheet.isScrollContainsRowHeader()?Math.min(i.cornerBBox.width,i.getCanvasHW().width):0),_={x:i.panelBBox.minX+(i.cfg.spreadsheet.isScrollContainsRowHeader()?-i.cornerBBox.width+v:v),y:g},b=c+(i.cfg.spreadsheet.isScrollContainsRowHeader()?i.cornerBBox.width:0),I=b-m,O=Math.max(m/b*m,i.spreadsheet.theme.scrollBar?.thumbHorizontalMinSize);i.hScrollBar=new X1({isHorizontal:!0,trackLen:m,thumbLen:O,position:_,thumbOffset:f*(m-O)/I,theme:i.scrollBarTheme,scrollTargetMaxOffset:I}),i.hScrollBar.on(Il.ScrollChange,function(F){var P=F.updateThumbOffset,H=i.getValidScrollBarOffset(F.offset,I);P&&i.hScrollBar.updateThumbOffset(i.getScrollBarOffset(H,i.hScrollBar),!1),i.setScrollOffset({scrollX:H}),i.dynamicRenderCell()}),i.foregroundGroup.add(i.hScrollBar)}},this.getScrollbarPosition=function(){var l=i.panelBBox,c=l.maxX,f=l.maxY,v=i.getCanvasHW(),_=i.spreadsheet.options.interaction.scrollbarPosition===bh.CONTENT;return{maxX:(_?c:v.width)-i.scrollBarSize,maxY:_?f:v.height-i.scrollBarSize}},this.renderVScrollBar=function(l,c,f){if(l<c){var g=Math.max(l/c*l,i.spreadsheet.theme.scrollBar?.thumbVerticalMinSize),m=c-l,_=i.getScrollbarPosition().maxX;i.vScrollBar=new X1({isHorizontal:!1,trackLen:l,thumbLen:g,thumbOffset:f*(l-g)/m,position:{x:_,y:i.panelBBox.minY},theme:i.scrollBarTheme,scrollTargetMaxOffset:m}),i.vScrollBar.on(Il.ScrollChange,function(b){var I=b.updateThumbOffset,O=i.getValidScrollBarOffset(b.offset,m);I&&i.vScrollBar.updateThumbOffset(i.getScrollBarOffset(O,i.vScrollBar),!1),i.setScrollOffset({scrollY:O}),i.dynamicRenderCell()}),i.foregroundGroup.add(i.vScrollBar)}},this.getScrollBarOffset=function(l,c){return l*(c.trackLen-c.thumbLen)/c.scrollTargetMaxOffset},this.isScrollOverThePanelArea=function(l){var c=l.offsetX,f=l.offsetY;return c>i.panelBBox.minX&&c<i.panelBBox.maxX&&f>i.panelBBox.minY&&f<i.panelBBox.maxY},this.isScrollOverTheCornerArea=function(l){var c=l.offsetX,f=l.offsetY;return c>i.cornerBBox.minX&&c<i.cornerBBox.maxX&&f>i.cornerBBox.minY&&f<i.cornerBBox.maxY+i.panelBBox.height},this.updateHorizontalRowScrollOffset=function(l){var c,f=l.offset;i.isScrollOverTheCornerArea({offsetX:l.offsetX,offsetY:l.offsetY})&&(null===(c=i.hRowScrollBar)||void 0===c||c.emitScrollChange(f))},this.updateHorizontalScrollOffset=function(l){var c,f=l.offset;(!i.hRowScrollBar||i.isScrollOverThePanelArea({offsetX:l.offsetX,offsetY:l.offsetY}))&&(null===(c=i.hScrollBar)||void 0===c||c.emitScrollChange(f))},this.isScrollToLeft=function(l){var c=l.deltaX;if(!i.hScrollBar&&!i.hRowScrollBar)return!0;var g=!i.hRowScrollBar||i.isScrollOverThePanelArea({offsetY:l.offsetY,offsetX:l.offsetX})||i.hRowScrollBar.thumbOffset<=0;return c<=0&&(!i.hScrollBar||i.hScrollBar.thumbOffset<=0)&&g},this.isScrollToRight=function(l){var c,f,v,g,m,_,b=l.deltaX,A=l.offsetX,I=l.offsetY;if(!i.hScrollBar&&!i.hRowScrollBar)return!0;var O=i.spreadsheet.isFrozenRowHeader()?null===(c=i.panelBBox)||void 0===c?void 0:c.width:null===(f=i.panelBBox)||void 0===f?void 0:f.maxX,F=!i.hRowScrollBar||i.isScrollOverThePanelArea({offsetY:I,offsetX:A})||(null===(v=i.hRowScrollBar)||void 0===v?void 0:v.thumbOffset)+(null===(g=i.hRowScrollBar)||void 0===g?void 0:g.thumbLen)>=i.cornerBBox.width,B=i.hRowScrollBar&&i.isScrollOverTheCornerArea({offsetX:A,offsetY:I})||(null===(m=i.hScrollBar)||void 0===m?void 0:m.thumbOffset)+(null===(_=i.hScrollBar)||void 0===_?void 0:_.thumbLen)>=O;return b>=0&&B&&F},this.isScrollToTop=function(l){var c;return!i.vScrollBar||l<=0&&(null===(c=i.vScrollBar)||void 0===c?void 0:c.thumbOffset)<=0},this.isScrollToBottom=function(l){var c,f,v;return!i.vScrollBar||l>=0&&(null===(c=i.vScrollBar)||void 0===c?void 0:c.thumbOffset)+(null===(f=i.vScrollBar)||void 0===f?void 0:f.thumbLen)>=(null===(v=i.panelBBox)||void 0===v?void 0:v.height)},this.isVerticalScrollOverTheViewport=function(l){return!i.isScrollToTop(l)&&!i.isScrollToBottom(l)},this.isHorizontalScrollOverTheViewport=function(l){return!i.isScrollToLeft(l)&&!i.isScrollToRight(l)},this.isScrollOverTheViewport=function(l){var c=l.deltaY,f=l.deltaX;return!(l.offsetY<=i.cornerBBox.maxY)&&(0!==c?i.isVerticalScrollOverTheViewport(c):0!==f&&i.isHorizontalScrollOverTheViewport(l))},this.cancelScrollFrame=function(){return!(oi()&&i.scrollFrameId||(cancelAnimationFrame(i.scrollFrameId),0))},this.clearScrollFrameIdOnMobile=function(){oi()&&(i.scrollFrameId=null)},this.stopScrollChainingIfNeeded=function(l){"auto"!==i.spreadsheet.options.interaction.overscrollBehavior&&i.stopScrollChaining(l)},this.stopScrollChaining=function(l){var c,f;l?.cancelable&&(null===(c=l?.preventDefault)||void 0===c||c.call(l));var v=l?.originalEvent;v?.cancelable&&(null===(f=v?.preventDefault)||void 0===f||f.call(v))},this.onWheel=function(l){var c=i.spreadsheet.options.interaction,f=l.deltaX,v=l.deltaY,g=l.offsetX,m=l.offsetY;l.shiftKey&&$m()&&(g=g-f+v,f=v,m-=v,v=0);var b=de(g8(f,v,c.scrollSpeedRatio),2),A=b[0],I=b[1];i.spreadsheet.hideTooltip(),i.spreadsheet.interaction.clearHoverTimer(),i.isScrollOverTheViewport({deltaX:A,deltaY:I,offsetX:g,offsetY:m})?(i.stopScrollChaining(l),i.spreadsheet.interaction.addIntercepts([hr.HOVER]),i.cancelScrollFrame()&&(i.scrollFrameId=requestAnimationFrame(function(){var O,F=i.getScrollOffset(),B=F.scrollX,P=F.scrollY,H=F.rowHeaderScrollX;0!==A&&(i.showHorizontalScrollBar(),i.updateHorizontalRowScrollOffset({offsetX:g,offsetY:m,offset:A+H}),i.updateHorizontalScrollOffset({offsetX:g,offsetY:m,offset:A+B})),0!==I&&(i.showVerticalScrollBar(),null===(O=i.vScrollBar)||void 0===O||O.emitScrollChange(I+P)),i.delayHideScrollbarOnMobile(),i.clearScrollFrameIdOnMobile()}))):i.stopScrollChainingIfNeeded(l)},this.addCell=function(l){i.spreadsheet.panelScrollGroup?.add(l)},this.realCellRender=function(l,c){var f=i.calculateXYIndexes(l,c);Os.getInstance().logger("renderIndex:",i.preCellIndexes,f);var v=lk(i.preCellIndexes,f),g=v.add,m=v.remove;Os.getInstance().debugCallback(a8,function(){Cr(g,function(b){var A=de(b,2),I=A[0],O=A[1],F=i.layoutResult.getCellMeta(O,I);if(F){var B=i.cfg.dataCell(F);B.set("name","".concat(I,"-").concat(O)),i.addCell(B)}});var _=qf(i.panelGroup.getChildren(),Al);Cr(m,function(b){var A=de(b,2),I=A[0],O=A[1];jn(_,function(B){return B.get("name")==="".concat(I,"-").concat(O)})?.remove(!0)}),Os.getInstance().logger("Render Cell Panel: ".concat(_?.length,", Add: ").concat(g?.length,", Remove: ").concat(m?.length))}),i.preCellIndexes=f,i.spreadsheet.emit(ae.LAYOUT_AFTER_REAL_DATA_CELL_RENDER,{add:g,remove:m,spreadsheet:i.spreadsheet})},this.getGridInfo=function(){var l=de(i.preCellIndexes.center,4),v=l[2],g=l[3];return{cols:DT(l[0],l[1],i.layoutResult.colLeafNodes),rows:Z1(v,g,i.viewCellHeights)}},this.onAfterScroll=nf(function(){var l=i.spreadsheet,c=l.interaction,f=l.container;if(!c.isSelectedState()&&(c.removeIntercepts([hr.HOVER]),c.getHoverAfterScroll())){var v=c.eventController.canvasMousemoveEvent;if(v){var _=f.getShape(v.x,v.y);_&&f.emit(Yi.MOUSE_MOVE,Ft(Ft({},v),{shape:_,target:_,timestamp:performance.now()}))}}},300),this.cfg=o,this.spreadsheet=o.spreadsheet,this.init()}return Object.defineProperty(a.prototype,"scrollBarTheme",{get:function(){return this.spreadsheet.theme.scrollBar},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"scrollBarSize",{get:function(){return this.scrollBarTheme.size},enumerable:!1,configurable:!0}),a.prototype.getCellCustomWidth=function(o,i){return Dn(i)?i?.(o):i},a.prototype.getCellDraggedWidth=function(o){return nr(this.cfg.colCfg?.widthByFieldValue,"".concat(o.value))},a.prototype.render=function(){(function(a){return Ve(a.rows)&&Ve(a.columns)&&Ve(a.values)&&Ve(a.customTreeItems)})(this.spreadsheet.dataCfg.fields)||(this.adjustScrollOffset(),this.renderHeaders(),this.renderScrollBars(),this.renderBackground(),this.dynamicRenderCell())},a.prototype.adjustScrollOffset=function(){var o=this.getAdjustedScrollOffset(this.getScrollOffset());this.setScrollOffset(o)},a.prototype.getSeriesNumberWidth=function(){return this.cfg.showSeriesNumber?this.spreadsheet.theme.rowCell.seriesNumberWidth:0},a.prototype.getCanvasHW=function(){return{width:this.cfg.width,height:this.cfg.height}},a.prototype.updateScrollOffset=function(o){var i,l,c,f,v,g;void 0===(null===(i=o.rowHeaderOffsetX)||void 0===i?void 0:i.value)?void 0===(null===(c=o.offsetX)||void 0===c?void 0:c.value)?void 0!==(null===(v=o.offsetY)||void 0===v?void 0:v.value)&&(null!==(g=o.offsetY)&&void 0!==g&&g.animate?this.scrollWithAnimation(o):this.scrollImmediately(o)):null!==(f=o.offsetX)&&void 0!==f&&f.animate?this.scrollWithAnimation(o):this.scrollImmediately(o):null!==(l=o.rowHeaderOffsetX)&&void 0!==l&&l.animate?this.scrollWithAnimation(o):this.scrollImmediately(o)},a.prototype.getPaginationScrollY=function(){var o=this.cfg.pagination;if(o){var i=o.current,f=this.viewCellHeights,v=Math.max(((void 0===i?Xm:i)-1)*o.pageSize,0);return f.getCellOffsetY(v)}return 0},a.prototype.destroy=function(){this.unbindEvents(),this.clearAllGroup(),this.preCellIndexes=null,cancelAnimationFrame(this.scrollFrameId)},a.prototype.calculateXYIndexes=function(o,i){var l=this.panelBBox;return{center:ab(o,i,this.viewCellWidths,this.viewCellHeights,{width:l.viewportWidth,height:l.viewportHeight,x:0,y:0},this.getRealScrollX(this.cornerBBox.width))}},a.prototype.calculateCornerBBox=function(){this.cornerBBox=new zT(this,!0)},a.prototype.getCellRange=function(){return function(a,o){var i=a,l=0,c=i.getTotalLength()-1;if(o){var f=o.current,v=void 0===f?Xm:f,g=o.pageSize;l=Math.max((v-1)*g,0),c=Math.min(v*g-1,i.getTotalLength()-1)}return{start:l,end:c}}(this.viewCellHeights,this.cfg.pagination)},a.prototype.clip=function(o,i){var l,c=this.spreadsheet.isFrozenRowHeader();null===(l=this.spreadsheet.panelScrollGroup)||void 0===l||l.setClip({type:"rect",attrs:{x:c?o:0,y:i,width:this.panelBBox.width+(c?0:o),height:this.panelBBox.height}})},a.prototype.translateRelatedGroups=function(o,i,l){var c,f,v,g,m,_;wl(this.spreadsheet.panelScrollGroup,this.cornerBBox.width-o,this.cornerBBox.height-i),null===(c=this.rowHeader)||void 0===c||c.onScrollXY(this.getRealScrollX(o,l),i,_h),null===(f=this.rowIndexHeader)||void 0===f||f.onScrollXY(this.getRealScrollX(o,l),i,YA),null===(v=this.cornerHeader)||void 0===v||v.onCorScroll(this.getRealScrollX(o,l),s2),null===(g=this.centerFrame)||void 0===g||g.onChangeShadowVisibility(o,this.getRealWidth()-this.panelBBox.width),null===(m=this.centerFrame)||void 0===m||m.onBorderScroll(this.getRealScrollX(o)),null===(_=this.columnHeader)||void 0===_||_.onColScroll(o,VA)},a.prototype.init=function(){var o=this;Os.getInstance().debugCallback("Header Layout",function(){o.layoutResult=o.doLayout(),o.saveInitColumnLeafNodes(o.layoutResult.colLeafNodes),o.spreadsheet.emit(ae.LAYOUT_AFTER_HEADER_LAYOUT,o.layoutResult)}),this.calculateCellWidthHeight(),this.calculateCornerBBox(),this.calculatePanelBBox(),this.clipPanelGroup(),this.bindEvents()},a.prototype.renderBackground=function(){var o=this.getCanvasHW(),c=this.spreadsheet.theme.background;this.backgroundGroup.addShape("rect",{attrs:{fill:c.color,opacity:c.opacity,x:0,y:0,width:o.width,height:o.height}})},a.prototype.renderScrollBars=function(){var o=this.getScrollOffset(),i=o.scrollX,l=o.scrollY,c=o.rowHeaderScrollX,f=this.panelBBox,v=f.width,g=f.height,m=this.layoutResult.colsHierarchy.width,_=this.getRealHeight();this.renderRowScrollBar(c),this.renderHScrollBar(v,m,i),this.renderVScrollBar(g,_,l)},a.prototype.renderHeaders=function(){var o=this.getSeriesNumberWidth();this.rowHeader=this.getRowHeader(),this.columnHeader=this.getColHeader(),o>0&&!this.rowIndexHeader&&(this.rowIndexHeader=this.getSeriesNumberHeader()),this.cornerHeader=this.getCornerHeader(),this.centerFrame=this.getCenterFrame(),this.rowIndexHeader&&this.foregroundGroup.add(this.rowIndexHeader),this.rowHeader&&this.foregroundGroup.add(this.rowHeader),this.foregroundGroup.add(this.columnHeader),this.foregroundGroup.add(this.cornerHeader),this.foregroundGroup.add(this.centerFrame)},a.prototype.getRowHeader=function(){var o,i,l;if(!this.rowHeader){var c=this.panelBBox,f=c.y,v=c.viewportHeight,g=c.viewportWidth,m=c.height,_=this.getSeriesNumberWidth();return new NT({width:this.cornerBBox.width,height:m,viewportWidth:g,viewportHeight:v,position:{x:0,y:f},data:this.layoutResult.rowNodes,hierarchyType:this.cfg.hierarchyType,linkFields:null!==(l=null===(i=null===(o=this.cfg.spreadsheet.options)||void 0===o?void 0:o.interaction)||void 0===i?void 0:i.linkFields)&&void 0!==l?l:[],seriesNumberWidth:_,spreadsheet:this.spreadsheet})}return this.rowHeader},a.prototype.getColHeader=function(){if(!this.columnHeader){var o=this.panelBBox;return new q1({width:o.width,cornerWidth:this.cornerBBox.width,height:this.cornerBBox.height,viewportWidth:o.viewportWidth,viewportHeight:o.viewportHeight,position:{x:o.x,y:0},data:this.layoutResult.colNodes,scrollContainsRowHeader:this.cfg.spreadsheet.isScrollContainsRowHeader(),sortParam:this.cfg.spreadsheet.store.get("sortParam"),spreadsheet:this.spreadsheet})}return this.columnHeader},a.prototype.getCornerHeader=function(){return this.cornerHeader?this.cornerHeader:ck.getCornerHeader(this.panelBBox,this.cornerBBox,this.getSeriesNumberWidth(),this.cfg,this.layoutResult,this.spreadsheet)},a.prototype.getSeriesNumberHeader=function(){return fk.getSeriesNumberHeader(this.panelBBox,this.getSeriesNumberWidth(),this.layoutResult.rowsHierarchy.getNodes(0),this.spreadsheet,this.cornerBBox.width)},a.prototype.getCenterFrame=function(){var o;if(!this.centerFrame){var i=this.panelBBox,g=null===(o=this.cfg)||void 0===o?void 0:o.frame,m={position:{x:this.cornerBBox.x,y:this.cornerBBox.y},width:this.cornerBBox.width,height:this.cornerBBox.height,viewportWidth:i.viewportWidth,viewportHeight:i.viewportHeight,showViewportLeftShadow:!1,showViewportRightShadow:!1,scrollContainsRowHeader:this.cfg.spreadsheet.isScrollContainsRowHeader(),isPivotMode:this.cfg.spreadsheet.isPivotMode(),spreadsheet:this.cfg.spreadsheet};return g?g(m):new hk(m)}return this.centerFrame},a.prototype.updatePanelScrollGroup=function(){this.gridInfo=this.getGridInfo(),this.spreadsheet.panelScrollGroup.update(this.gridInfo)},a.prototype.dynamicRenderCell=function(o){var i=this.getScrollOffset(),l=i.scrollX,f=i.rowHeaderScrollX,v=i.scrollY+this.getPaginationScrollY(),g=$1(v,this.viewCellHeights.getTotalHeight(),this.panelBBox.viewportHeight);this.spreadsheet.hideTooltip(),this.spreadsheet.interaction.clearHoverTimer(),this.realCellRender(l,g),this.updatePanelScrollGroup(),this.translateRelatedGroups(l,g,f),this.clip(l,g),o||this.emitScrollEvent({scrollX:l,scrollY:g,rowHeaderScrollX:f}),this.onAfterScroll()},a.prototype.emitScrollEvent=function(o){this.spreadsheet.emit(ae.LAYOUT_CELL_SCROLL,o),this.spreadsheet.emit(ae.GLOBAL_SCROLL,o)},a.prototype.saveInitColumnLeafNodes=function(o){void 0===o&&(o=[]);var i=this.spreadsheet,l=i.store;o.length+i.options.interaction.hiddenColumnFields.length!==l.get("initColumnLeafNodes",[]).length&&l.set("initColumnLeafNodes",o)},a.prototype.getHiddenColumnsInfo=function(o){var i=this.spreadsheet.store.get("hiddenColumnsDetail",[]);return Ve(i)?null:i.find(function(l){var c;return null===(c=l?.hideColumnNodes)||void 0===c?void 0:c.some(function(f){return f.id===o.id})})},a.prototype.getCornerNodes=function(){var o;return(null===(o=this.cornerHeader)||void 0===o?void 0:o.getNodes())||[]},a}(),GT=function(a){var o,i,l,c=a.facetCfg,f=a.customTreeItems,v=void 0===f?[]:f,g=a.level,m=a.parentNode,_=a.hierarchy,b=c.spreadsheet,A=c.collapsedRows,I=c.hierarchyCollapse;try{for(var O=Ei(v),F=O.next();!F.done;F=O.next()){var B=F.value,P=B.key,H=B.title,Y=B.collapsed,V=B.children,j=ug(B,["key","title","collapsed","children"]),yt=((l={})[Pr]=P,l),Lt=zc(m.id,H),Pt=Y??!1,Me=nr(A,Lt)??(I||Pt),Ie=new si({id:Lt,key:P,label:H,value:H,level:g,parent:m,field:P,isTotals:!1,isCollapsed:Me,hierarchy:_,query:yt,spreadsheet:b,extra:j});g>_.maxLevel&&(_.maxLevel=g),Ve(V)&&(Ie.isLeaf=!0);var Pe=qm(c,m,Ie,_);!Ve(V)&&!Me&&Pe&&GT({facetCfg:c,parentNode:Ie,level:g+1,hierarchy:_,customTreeItems:V})}}catch($e){o={error:$e}}finally{try{F&&!F.done&&(i=O.return)&&i.call(O)}finally{if(o)throw o.error}}},vk=(Sh+Fn).length,WT=function(a){var o,i,l,c,f,v,g,m=a.parentNode,_=a.currentField,b=a.level,A=a.facetCfg,I=a.hierarchy,O=a.pivotMeta,F=A.spreadsheet,P=A.collapsedRows,H=A.hierarchyCollapse,Y=A.rowExpandDepth,V=m.query,j=m.id,yt=(null===(c=F.dataCfg.fields.rows)||void 0===c?void 0:c.length)<=b,Lt=(null===(f=A.dataSet?.sortedDimensionValues)||void 0===f?void 0:f[_])||[],Pt=If(Array.from(O.keys())),ge=e1(Pt,Lt,function(ci){return Sh===j?ci:zc(j,ci).slice(vk)}),Me=WM(ge,A,m,_),Ie=F.store.get("drillItemsNum");yt&&Ie>0&&(Me=Me.slice(0,Ie)),0===b&&function(a,o,i){var l=a.getTotalsConfig(o);l.showGrandTotals&&i[l.reverseLayout?"unshift":"push"](new xl({label:l.label,isSubTotals:!1,isGrandTotals:!0}))}(F,_,Me);try{for(var Pe=Ei(Me),$e=Pe.next();!$e.done;$e=Pe.next()){var lr=$e.value,ir=lr instanceof xl,er=ir?null:O.get(lr),Ze=void 0,Nr=V,Br=!1,un=!1;ir?(Br=lr.isGrandTotals,un=lr.isSubTotals,Ze=Kn(lr.label),Nr=V):(Ze=lr,Nr=Ft(Ft({},V),((l={})[_]=Ze,l)));var Mn=zc(j,Ze),qr=P?.[Mn],Ni=qi(Y)?b>Y:null,Ln=null!==(v=qr??Ni)&&void 0!==v?v:H,Hr=new si({id:Mn,key:_,label:Ze,value:Ze,level:b,parent:m,field:_,isTotals:ir,isGrandTotals:Br,isSubTotals:un,isCollapsed:Ln,hierarchy:I,query:Nr,spreadsheet:F});b>I.maxLevel&&(I.maxLevel=b);var dn=!(null!==(g=er?.children)&&void 0!==g&&g.size);(dn||ir)&&(Hr.isLeaf=!0),dn||(Hr.isTotals=!0);var Tn=qm(A,m,Hr,I);!dn&&!Ln&&!ir&&Tn&&WT({level:b+1,currentField:er.childField,pivotMeta:er.children,facetCfg:A,parentNode:Hr,hierarchy:I})}}catch(ci){o={error:ci}}finally{try{$e&&!$e.done&&(i=Pe.return)&&i.call(Pe)}finally{if(o)throw o.error}}},UT=function(a){var m,_,o=a.isValueInCols,i=a.moreThanOneValue,v=a.fields;a.isRowHeader?(m=!o&&i,_=!o&&!i):(m=o&&i,_=o&&!i),rb({addTotalMeasureInTotal:m,addMeasureInTotalQuery:_,parentNode:a.rootNode,currentField:v[0],fields:v,facetCfg:a.facetCfg,hierarchy:a.hierarchy})},j1=function(a){var o=a.isRowHeader,i=a.facetCfg,l=i.spreadsheet,c=i.rows,f=void 0===c?[]:c,v=i.columns,g=void 0===v?[]:v,m=l.dataCfg.fields.valueInCols,_=l.isPivotMode(),b=i.dataSet.moreThanOneValue(),A=si.rootNode(),I=new kp,O={isValueInCols:m,isPivotMode:_,moreThanOneValue:b,rootNode:A,hierarchy:I,spreadsheet:l,facetCfg:i,fields:o?f:g,isRowHeader:o};return o?function(a){a.spreadsheet.isHierarchyTreeType()?function(a){var o=a.facetCfg;"tree"===o.hierarchyType?WT({level:0,currentField:o.rows[0],pivotMeta:o.dataSet.rowPivotMeta,facetCfg:o,parentNode:a.rootNode,hierarchy:a.hierarchy}):function(a){var o=a.facetCfg;GT({customTreeItems:o.dataSet.fields.customTreeItems,facetCfg:o,level:0,parentNode:a.rootNode,hierarchy:a.hierarchy})}(a)}(a):UT(a)}(O):function(a){var i=a.hierarchy,l=a.rootNode,c=a.facetCfg;a.isPivotMode?UT(a):function(a){var o=a.facetCfg,i=o.columns,c=o.spreadsheet.store.get("hiddenColumnsDetail"),f=o?.showSeriesNumber,m=Ae([],de(Lu(i).filter(function(A){return!c||c.every(function(I){return I.hideColumnNodes.every(function(O){return O.field!==A})})})),!1),_=Ae([],de(i),!1),b={};f&&(_.unshift({key:$u}),b[$u]=!0),m.reduce(function(A,I){return A[I]=!0,A},b),ib(ob(_,b),a,0,null)}({parentNode:l,hierarchy:i,facetCfg:c})}(O),{hierarchy:I,leafNodes:o&&l.isHierarchyTreeType()?I.getNodes():I.getLeaves()}},xk=function(a){function o(){return null!==a&&a.apply(this,arguments)||this}return Sr(o,a),Object.defineProperty(o.prototype,"rowCellTheme",{get:function(){return this.spreadsheet.theme.rowCell.cell},enumerable:!1,configurable:!0}),o.prototype.getContentHeight=function(){var i=this.layoutResult;return i.rowsHierarchy.height+i.colsHierarchy.height},o.prototype.doLayout=function(){var i=j1({isRowHeader:!0,facetCfg:this.cfg}),l=i.leafNodes,c=i.hierarchy,f=j1({isRowHeader:!1,facetCfg:this.cfg}),v=f.leafNodes,g=f.hierarchy;this.calculateNodesCoordinate(l,c,v,g);var m=this.cfg,_=m.dataSet,b=m.spreadsheet,I={colNodes:g.getNodes(),colsHierarchy:g,rowNodes:c.getNodes(),rowsHierarchy:c,rowLeafNodes:l,colLeafNodes:v,getCellMeta:function(O,F){var B,P,H,Y=O||0,V=F||0,j=l[Y],yt=v[V];if(!j||!yt)return null;var er,Lt=j.query,Pt=yt.query,ge=j.isTotals||j.isTotalMeasure||yt.isTotals||yt.isTotalMeasure,Me=b.options.hierarchyType,Pe=null!==(P=nr(b,"facet.cfg.colCfg.hideMeasureColumn"))&&void 0!==P&&P&&"customTree"!==Me?((B={})[Pr]=null===(H=_.fields.values)||void 0===H?void 0:H[0],B):{},$e=cp({},Lt,Pt,Pe),lr=Ff(j,yt),ir=_.getCellData({query:$e,rowNode:j,isTotals:ge,totalStatus:lr}),Ze=null;return Ve(ir)?er=nr($e,[Pr],""):(er=nr(ir,[Pr],""),Ze=nr(ir,[ro],null),ge&&(er=nr($e,[Pr],""),Ze=nr(ir,er,null))),{spreadsheet:b,x:yt.x,y:j.y,width:yt.width,height:j.height,data:ir,rowIndex:Y,colIndex:V,isTotals:ge,valueField:er,fieldValue:Ze,rowQuery:Lt,colQuery:Pt,rowId:j.id,colId:yt.id,id:Gc(j.id,yt.id)}},spreadsheet:b};return function(a,o){var i=a?.layoutDataPosition;if(i){var c=i(a.spreadsheet,o.getCellMeta);return Ft(Ft({},o),{getCellMeta:c})}return o}(this.cfg,I)},o.prototype.calculateNodesCoordinate=function(i,l,c,f){this.calculateRowNodesCoordinate(i,l,c),this.calculateColNodesCoordinate(c,f,i,l.width)},o.prototype.calculateColNodesCoordinate=function(i,l,c,f){for(var v,g,m,_=si.blankNode(),b=l.getNodes(),A=l.sampleNodesForAllLevels,I=0;I<A.length;I++){var O=A[I];if(O.height=this.getColNodeHeight(O),l.height+=O.height,0===O.level)O.y=0;else{var F=A[I-1];O.y=null!==(v=F?.y+F?.height)&&void 0!==v?v:0}}for(var B=0,P=function(V){var j=b[V];if(j.isLeaf&&(j.colIndex=B,B+=1,j.x=_.x+_.width,j.width=H.calculateColLeafNodesWidth(j,i,c,f),l.width+=j.width,_=j),0===j.level)j.y=0;else{var yt=l.sampleNodesForAllLevels.find(function(Lt){return Lt.level===j.level-1});j.y=null!==(g=yt?.y+yt?.height)&&void 0!==g?g:0}j.height=H.getColNodeHeight(j),Bp(H.cfg,null,j)},H=this,Y=0;Y<b.length;Y++)P(Y);this.autoCalculateColNodeWidthAndX(i),Ve(null===(m=this.spreadsheet.options.totals)||void 0===m?void 0:m.col)||(this.adjustTotalNodesCoordinate({hierarchy:l,isRowHeader:!1,isSubTotal:!0}),this.adjustTotalNodesCoordinate({hierarchy:l,isRowHeader:!1,isSubTotal:!1}))},o.prototype.autoCalculateColNodeWidthAndX=function(i){for(var l,c=null,f=i.slice(0);f.length;){var g=f.shift().parent;if(c!==g&&g){f.push(g);var _=(null===(l=g.children)||void 0===l?void 0:l.find(function(A){return!A.hiddenChildNodeInfo}))?.x,b=eM(g.children,"width");g.x=_,g.width=b,c=g}}},o.prototype.calculateColLeafNodesWidth=function(i,l,c,f){var v,g,m,_,b,A=this.cfg,I=A.colCfg,O=A.dataSet,F=A.filterDisplayDataItem,B=this.getCellDraggedWidth(i);if(qi(B))return B;var P=this.getCellCustomWidth(i,I?.width);if(qi(P))return P;if(this.spreadsheet.getLayoutWidthType()===Pa.Compact){for(var H=this.spreadsheet.theme.colCell,Y=H.bolderText,V=H.cell,j=H.icon,Lt=null!==(v=this.spreadsheet.dataSet.getFieldFormatter(i.field)?.(i.value))&&void 0!==v?v:i.label,Pt=this.getExpectedCellIconWidth(We.COL_CELL,this.spreadsheet.isValueInCols()&&this.spreadsheet.options.showDefaultHeaderActionIcon,j),ge=this.spreadsheet.measureTextWidthRoughly(Lt)+Pt,Me=void 0,Ie=0,Pe=0;Pe<50;Pe++){var $e=c[Pe];if($e){var lr=O.getCellData({query:Ft(Ft({},i.query),$e.query),rowNode:$e,isTotals:i.isTotals||i.isTotalMeasure||$e.isTotals||$e.isTotalMeasure,totalStatus:Ff($e,i)});if(lr){var ir=x1(lr,F),er=null!==(m=null===(g=this.spreadsheet.dataSet.getFieldFormatter(lr[Pr]))||void 0===g?void 0:g(ir))&&void 0!==m?m:ir,Ze="".concat(er),Nr=this.spreadsheet.measureTextWidthRoughly(Ze);Nr>Ie&&(Me=Ze,Ie=Nr)}}}var Br=ge>Ie,un=Br?Lt:Me,Tr=Br?Pt:0;return Os.getInstance().logger("Max Label In Col:",i.field,un),this.spreadsheet.measureTextWidth(un,Y)+(null===(_=V.padding)||void 0===_?void 0:_.left)+(null===(b=V.padding)||void 0===b?void 0:b.right)+Tr}return this.spreadsheet.isHierarchyTreeType()?this.getAdaptTreeColWidth(i,l,c):this.getAdaptGridColWidth(l,f)},o.prototype.getColNodeHeight=function(i){var l=this.cfg.colCfg;return nr(l,["heightByField",i.key])??l?.height},o.prototype.getExpectedCellIconWidth=function(i,l,c){var f,v=0;return(v=l?1:null!==(f=Vb($r(this.spreadsheet.options.headerActionIcons,function(m){return Ft(Ft({},m),{displayCondition:function(){return!0}})}),null,i)?.iconNames.length)&&void 0!==f?f:0)?v*(c.size+c.margin.left)+c.margin.right:0},o.prototype.calculateRowNodesCoordinate=function(i,l,c){var f,v,g,m,_,b,A,I,O,F,B=this.cfg,P=B.cellCfg,H=B.spreadsheet,Y=H.isHierarchyTreeType(),V=nr(H,"options.style.rowCfg.heightByField",{}),j=null!==(g=l.sampleNodesForAllLevels)&&void 0!==g?g:[];if(Y)l.width=this.getTreeRowHeaderWidth();else try{for(var yt=Ei(l.sampleNodesForAllLevels),Lt=yt.next();!Lt.done;Lt=yt.next()){var Pt=Lt.value;Pt.width=this.calculateGridRowNodesWidth(Pt,c),l.width+=Pt.width;var ge=null!==(m=j[Pt.level-1])&&void 0!==m?m:{x:0,width:0};Pt.x=ge?.x+ge?.width}}catch(er){f={error:er}}finally{try{Lt&&!Lt.done&&(v=yt.return)&&v.call(yt)}finally{if(f)throw f.error}}for(var Me=si.blankNode(),Ie=l.getNodes(),Pe=0;Pe<Ie.length;Pe++){var $e=Ie[Pe];(Y||!Y&&$e.isLeaf)&&(null!==(_=$e.rowIndex)&&void 0!==_||($e.rowIndex=Pe),null!==(b=$e.colIndex)&&void 0!==b||($e.colIndex=Pe),$e.y=Me.y+Me.height,$e.height=(null!==(A=V?.[$e.id])&&void 0!==A?A:P?.height)+(null===(I=this.rowCellTheme.padding)||void 0===I?void 0:I.top)+(null===(O=this.rowCellTheme.padding)||void 0===O?void 0:O.bottom),Me=$e,l.height+=$e.height),$e.x=Y||0===$e.level?0:(ge=j[$e.level-1])?.x+ge?.width,$e.width=Y?this.getTreeRowHeaderWidth():j[$e.level]?.width,Bp(this.cfg,$e,null)}Y||(this.autoCalculateRowNodeHeightAndY(i),Ve(null===(F=H.options.totals)||void 0===F?void 0:F.row)||(this.adjustTotalNodesCoordinate({hierarchy:l,isRowHeader:!0,isSubTotal:!1}),this.adjustTotalNodesCoordinate({hierarchy:l,isRowHeader:!0,isSubTotal:!0})))},o.prototype.autoCalculateRowNodeHeightAndY=function(i){for(var l=null,c=i.slice(0);c.length;){var v=c.shift().parent;l!==v&&v&&(c.push(v),v.y=v.children[0].y,v.height=v.children.map(function(g){return g.height}).reduce(function(g,m){return g+m},0),l=v)}},o.prototype.getMultipleMap=function(i,l,c){for(var f=i.maxLevel,v=this.cfg,g=v.totals,m=v.dataSet,_=m.moreThanOneValue(),b=m.fields,O=l?b.rows:b.columns,F=l?g.row:g.col,B=c?F.subTotalsGroupDimensions||[]:F.totalsGroupDimensions||[],P=Array.from({length:f+1},function(){return 1}),H=f;H>0;H--){var Y=O[H],V=Y===Pr&&_;B.includes(Y)||V||(P[H-1]+=P[H],P[H]=0)}return P},o.prototype.adjustTotalNodesCoordinate=function(i){var l=i.hierarchy,c=i.isRowHeader,f=i.isSubTotal,v=this.getMultipleMap(l,c,f),g=$a(l.getNodes(),function(_){return f?_.isSubTotals:_.isGrandTotals}),m=c?"width":"height";Cr(g,function(_){var b=v[_.level];if(!b&&f)for(var A=1;b<1;)b=v[_.level-A]-A,A++;for(var I=0,O=function(B){I+=l.sampleNodesForAllLevels.find(function(P){return P.level===_.level+B})[m]},F=0;F<b;F++)O(F);_[m]=I})},o.prototype.calculateGridRowNodesWidth=function(i,l){var c=this.cfg,f=c.rowCfg,v=c.spreadsheet,g=nr(f,["widthByField",i.key]);if(qi(g))return g;var m=this.getCellCustomWidth(i,f?.width);return qi(m)?m:v.getLayoutWidthType()!==Pa.Adaptive?this.getCompactGridRowWidth(i):this.getAdaptGridColWidth(l)},o.prototype.getAdaptTreeColWidth=function(i,l,c){var v=this.getCanvasHW().width-this.getSeriesNumberWidth(),g=Math.min(v/2,this.getTreeRowHeaderWidth()),m=Math.max(1,l.length);return Math.max(h1(this.cfg.cellCfg,this.getColLabelLength(i,c)),(v-g)/m)},o.prototype.getColLabelLength=function(i,l){var c,f=function(a){try{return JSON.parse(a)}catch{return null}}(i?.value);if(yr(f))return f.length;for(var v=1,g=0;g<50;g++){var m=l[g];if(!m)return v;for(var _=this.cfg.dataSet.getCellData({query:Ft(Ft({},i.query),m.query),rowNode:m,isTotals:i.isTotals||i.isTotalMeasure||m.isTotals||m.isTotalMeasure,totalStatus:Ff(m,i)}),b=Kr(_),A=0;A<b.length;A++){var O=Cu(null===(c=_[b[A]]?.values)||void 0===c?void 0:c[0]);O>v&&(v=O)}}return v},o.prototype.getAdaptGridColWidth=function(i,l){var c=this.cfg,v=c.cellCfg,g=c.rows.length,m=i.length,b=this.getCanvasHW().width-this.getSeriesNumberWidth(),A=Math.max(1,g+m);return l?Math.max(h1(v),(b-l)/m):Math.max(h1(v),b/A)},o.prototype.getTreeRowHeaderWidth=function(){var i,l,c,f,v=this.cfg,g=v.rows,m=v.dataSet,_=v.rowCfg,A=v.treeRowsWidth??_?.treeRowsWidth;if(A)return A;var I=this.getCellCustomWidth(null,_?.width);if(I)return I;var O=g.map(function(Y){return m.getFieldName(Y)}).join("/"),F=this.spreadsheet.theme.cornerCell,P=F.icon,H=this.spreadsheet.measureTextWidth(O,F.bolderText)+2*P.size+(null===(i=P.margin)||void 0===i?void 0:i.left)+(null===(l=P.margin)||void 0===l?void 0:l.right)+(null===(c=this.rowCellTheme.padding)||void 0===c?void 0:c.left)+(null===(f=this.rowCellTheme.padding)||void 0===f?void 0:f.right);return Math.max(A??120,H)},o.prototype.getCompactGridRowWidth=function(i){var c,l=this,f=this.cfg,v=f.dataSet,g=f.spreadsheet,m=g.theme.rowCell,_=m.bolderText,b=m.icon,A=m.cell,I=g.theme.cornerCell,O=I.bolderText,F=I.icon,B=I.cell,P=i.field,H=i.isLeaf,Y=this.getExpectedCellIconWidth(We.ROW_CELL,!g.isValueInCols()&&H&&g.options.showDefaultHeaderActionIcon,b),j=ff(null===(c=v.getDimensionValues(P))||void 0===c?void 0:c.slice(0,50).map(function(Me){var Ie,Pe;return null!==(Pe=null===(Ie=l.spreadsheet.dataSet.getFieldFormatter(P))||void 0===Ie?void 0:Ie(Me))&&void 0!==Pe?Pe:Me}),function(Me){return"".concat(Me).length}),yt=g.measureTextWidth(j,_)+Y+A.padding.left+A.padding.right,Lt=v.getFieldName(P),Pt=this.getExpectedCellIconWidth(We.CORNER_CELL,!1,F),ge=g.measureTextWidth(Lt,O)+Pt+B.padding.left+B.padding.right;return Os.getInstance().logger("Max Label In Row:",P,yt>ge?j:Lt),Math.max(yt,ge)},o.prototype.getViewCellHeights=function(i){var c=xu(i.rowLeafNodes,function(f,v){return f.push(hn(f)+v.height),f},[0]);return{getTotalHeight:function(){return hn(c)},getCellOffsetY:function(f){return c[f]},getTotalLength:function(){return c.length-1},getIndexRange:function(f,v){return FT(c,f,v)}}},o}(HT),s7=function(a){function o(i){var c,l=this;(l=a.call(this,i)||this).getScrollGroupClipBBox=function(){var m,_=l.headerConfig,b=_.width,A=_.height,I=_.scrollX,O=_.spreadsheet,F=O.options;if(!F.frozenColCount&&!F.frozenTrailingColCount)return{x:I,y:0,width:b,height:A};for(var B=null===(m=O.facet)||void 0===m?void 0:m.layoutResult.colLeafNodes,P=_l(O.options,B.length),H=P.frozenColCount,Y=P.frozenTrailingColCount,V=0,j=0,yt=0;yt<H;yt++)V+=B[yt].width;for(yt=0;yt<Y;yt++)j+=B[B.length-1-yt].width;return{x:I+V,y:0,width:b-V-j,height:A}};var f=null===(c=l.headerConfig.spreadsheet)||void 0===c?void 0:c.options,g=f.frozenTrailingColCount;return f.frozenColCount&&(l.frozenColGroup=l.addGroup({name:eg,zIndex:o2})),g&&(l.frozenTrailingColGroup=l.addGroup({name:$A,zIndex:o2})),l}return Sr(o,a),o.prototype.isFrozenCell=function(i){var l=this.headerConfig.spreadsheet,c=l?.options,v=c.frozenTrailingColCount,g=i.colIndex,m=l?.facet.layoutResult.colLeafNodes;return Au(g,c.frozenColCount)||Eu(g,v,m.length)},o.prototype.clear=function(){var i,l,c=this.headerConfig.spreadsheet;a.prototype.clear.call(this),null===(i=this.frozenTrailingColGroup)||void 0===i||i.clear(),null===(l=this.frozenColGroup)||void 0===l||l.clear();var f=c?.foregroundGroup.findById(l2);f?.clear()},o.prototype.getCellInstance=function(i,l,c){return i.field===$u?new qF(i,l,c):new iT(i,l,c)},o.prototype.getCellGroup=function(i){var l,c,f=this.headerConfig.spreadsheet,v=f?.options,g=v.frozenColCount,m=v.frozenTrailingColCount,_=null===(l=f?.facet)||void 0===l?void 0:l.layoutResult.colNodes.filter(function(O){return ja(O)}),b=Np(_,g,m),A=b.colCount,I=b.trailingColCount;return Au(Lf(i).colIndex,A)?this.frozenColGroup:Eu(Lf(i).colIndex,I,null===(c=f?.facet)||void 0===c?void 0:c.layoutResult.colLeafNodes.length)?this.frozenTrailingColGroup:this.scrollGroup},o.prototype.isColCellInRect=function(i){var l,c,f=this.headerConfig.spreadsheet,v=f?.options,g=v.frozenColCount,m=v.frozenTrailingColCount,_=null===(l=f?.facet)||void 0===l?void 0:l.layoutResult.colLeafNodes.length,b=null===(c=f?.facet)||void 0===c?void 0:c.layoutResult.colNodes.filter(function(F){return ja(F)}),A=Np(b,g,m),I=A.colCount,O=A.trailingColCount;return!(!Au(Lf(i).colIndex,I)&&!Eu(Lf(i).colIndex,O,_))||a.prototype.isColCellInRect.call(this,i)},o.prototype.clip=function(){this.scrollGroup.setClip({type:"rect",attrs:this.getScrollGroupClipBBox()})},o}(q1),Ck=function(a){function o(i){var l,c=a.call(this,i)||this;c.frozenGroupInfo=((l={})[no.FROZEN_COL]={width:0},l[no.FROZEN_ROW]={height:0},l[no.FROZEN_TRAILING_ROW]={height:0},l[no.FROZEN_TRAILING_COL]={width:0},l),c.panelScrollGroupIndexes=[],c.onSortHandler=function(v){var g=c.spreadsheet,m=v;Array.isArray(v)||(m=[v]);var _=g.dataCfg.sortParams||[];m=m.map(function(A){var I,O,F=Ft(Ft({},A),{sortFieldId:null!==(I=A.sortKey)&&void 0!==I?I:A.sortFieldId}),B=null!==(O=_.find(function(P){return P.sortFieldId===F.sortFieldId}))&&void 0!==O?O:{};return Ft(Ft({},B),F)});var b=_.filter(function(A){return!m.find(function(O){return O.sortFieldId===A.sortFieldId})});xf(g.dataCfg,"sortParams",Ae(Ae([],de(b),!1),de(m),!1)),g.setDataCfg(g.dataCfg),g.render(!0),g.emit(ae.RANGE_SORTED,g.dataSet.getDisplayDataSet())},c.onFilterHandler=function(v){var g=c.spreadsheet,m=!v.filteredValues||0===v.filteredValues.length,_=g.dataCfg.filterParams||[],b=_.findIndex(function(A){return A.filterKey===v.filterKey});-1!==b?m?_.splice(b,1):_[b]=v:_.push(v),xf(g.dataCfg,"filterParams",_),g.render(!0),g.emit(ae.RANGE_FILTERED,g.dataSet.getDisplayDataSet())},c.initFrozenGroupPosition=function(){var v=c.getScrollOffset(),g=v.scrollY,m=v.scrollX,_=c.getPaginationScrollY();wl(c.spreadsheet.frozenRowGroup,c.cornerBBox.width-m,c.cornerBBox.height-_),wl(c.spreadsheet.frozenColGroup,c.cornerBBox.width,c.cornerBBox.height-g-_),wl(c.spreadsheet.frozenTrailingColGroup,c.cornerBBox.width,c.cornerBBox.height-g-_),wl(c.spreadsheet.frozenTopGroup,c.cornerBBox.width,c.cornerBBox.height-_)},c.getTotalHeightForRange=function(v,g){if(v<0||g<0)return 0;if(c.rowOffsets)return c.rowOffsets[g+1]-c.rowOffsets[v];for(var m=0,_=v;_<g+1;_++)m+=c.getDefaultCellHeight();return m},c.getShadowFill=function(v){var g,m,_=nr(c.cfg,"spreadsheet.theme.splitLine");return"l (".concat(v,") 0:").concat(null===(g=_.shadowColors)||void 0===g?void 0:g.left," 1:").concat(null===(m=_.shadowColors)||void 0===m?void 0:m.right)},c.renderFrozenGroupSplitLine=function(v,g){var m,_=c.panelBBox,b=_.width,A=_.height,I=_.viewportWidth,O=_.viewportHeight,F=c.cornerBBox.height,B=c.layoutResult.colNodes.filter(function(Br){return ja(Br)}),P=c.getCellRange(),Y=_l(c.spreadsheet.options,B.length,P.end-P.start),V=Y.frozenRowCount,j=Y.frozenColCount,yt=Y.frozenTrailingColCount,Lt=Y.frozenTrailingRowCount,Pt=Math.floor(g-c.getPaginationScrollY()),ge=Math.max(0,hn(c.viewCellWidths)-I),Me=Math.max(0,c.viewCellHeights.getCellOffsetY(P.end+1)-c.viewCellHeights.getCellOffsetY(P.start)-O);null===(m=c.foregroundGroup.findById(UA))||void 0===m||m.remove();var ir,er,Ze,Nr,Ie=nr(c.cfg,"spreadsheet.theme.splitLine"),Pe=c.foregroundGroup.addGroup({id:UA,zIndex:o2}),$e={lineWidth:Ie?.verticalBorderWidth,stroke:Ie?.verticalBorderColor,opacity:Ie?.verticalBorderColorOpacity},lr={lineWidth:Ie?.horizontalBorderWidth,stroke:Ie?.horizontalBorderColor,opacity:Ie?.horizontalBorderColorOpacity};j>0&&(li(Pe,{x1:ir=B.reduce(function(Br,un,Tr){return Tr<j?Br+un.width:Br},0),x2:ir,y1:F,y2:F+(er=Lt>0?A:O)},Ft({},$e)),Ie.showShadow&&v>0&&Pe.addShape("rect",{attrs:{x:ir,y:F,width:Ie.shadowWidth,height:er,fill:c.getShadowFill(0)}})),V>0&&(li(Pe,{x1:0,x2:Nr=yt>0?b:I,y1:Ze=F+c.getTotalHeightForRange(P.start,P.start+V-1),y2:Ze},Ft({},lr)),Ie.showShadow&&Pt>0&&Pe.addShape("rect",{attrs:{x:0,y:Ze,width:Nr,height:Ie.shadowWidth,fill:c.getShadowFill(90)}})),yt>0&&(li(Pe,{x1:ir=B[B.length-yt].x,x2:ir,y1:F,y2:F+(er=Lt?A:O)},Ft({},$e)),Ie.showShadow&&Math.floor(v)<Math.floor(ge)&&Pe.addShape("rect",{attrs:{x:ir-Ie.shadowWidth,y:F,width:Ie.shadowWidth,height:er,fill:c.getShadowFill(180)}})),Lt>0&&(li(Pe,{x1:0,x2:Nr=yt>0?b:I,y1:Ze=c.panelBBox.maxY-c.getTotalHeightForRange(P.end-Lt+1,P.end),y2:Ze},Ft({},lr)),Ie.showShadow&&Pt<Math.floor(Me)&&Pe.addShape("rect",{attrs:{x:0,y:Ze-Ie.shadowWidth,width:Nr,height:Ie.shadowWidth,fill:c.getShadowFill(270)}})),c.foregroundGroup.sort()},c.renderFrozenPanelCornerGroup=function(){var v=c.layoutResult.colNodes.filter(function(H){return ja(H)}),g=c.getCellRange(),m=_l(c.spreadsheet.options,v.length,g.end-g.start+1),_=m.frozenRowCount,A=m.frozenTrailingRowCount,O=Np(v,m.frozenColCount,m.frozenTrailingColCount),P=x8({frozenRowCount:_,frozenColCount:O.colCount,frozenTrailingRowCount:A,frozenTrailingColCount:O.trailingColCount},c.layoutResult.colLeafNodes.length,g);Object.keys(P).forEach(function(H){var V=c.spreadsheet[og[H]];V&&P[H].forEach(function(j){c.addFrozenCell(j.x,j.y,V)})})},c.addFrozenCell=function(v,g,m){var _=c.layoutResult.getCellMeta(g,v);if(_.isFrozenCorner=!0,_){var b=c.cfg.dataCell(_);m.add(b)}},c.getRealFrozenColumns=function(v,g){var m,_=v,b=g;if(v||g){var A=c.layoutResult.colsHierarchy.getNodes();A=A.filter(function(I){return ja(I)}),_=(m=Np(A,v,g)).colCount,b=m.trailingColCount}return{colCount:_,trailingColCount:b}},c.addCell=function(v){var g=c.spreadsheet.options,m=g.frozenRowCount,_=g.frozenColCount,b=g.frozenTrailingRowCount,A=g.frozenTrailingColCount,I=c.layoutResult.colsHierarchy.getLeaves().length,O=c.getCellRange(),F=c.getRealFrozenColumns(_,A),B=F.colCount,P=F.trailingColCount,H=m8(v.getMeta(),{frozenRowCount:m,frozenColCount:B,frozenTrailingRowCount:b,frozenTrailingColCount:P},I,O),Y=og[H];Y&&c.spreadsheet[Y].add(v)},c.getFrozenOptions=function(){var v=c.layoutResult.colLeafNodes.length,g=c.getCellRange();return _l(c.cfg,v,g.end-g.start+1)};var f=c.spreadsheet;return f.on(ae.RANGE_SORT,c.onSortHandler),f.on(ae.RANGE_FILTER,c.onFilterHandler),c}return Sr(o,a),o.prototype.getContentHeight=function(){var i=this.getViewCellHeights().getTotalHeight,l=this.layoutResult.colsHierarchy;return i()+l.height},Object.defineProperty(o.prototype,"dataCellTheme",{get:function(){return this.spreadsheet.theme.dataCell.cell},enumerable:!1,configurable:!0}),o.prototype.destroy=function(){var i=this.spreadsheet;i.off(ae.RANGE_SORT,this.onSortHandler),i.off(ae.RANGE_FILTER,this.onFilterHandler),a.prototype.destroy.call(this)},o.prototype.calculateCornerBBox=function(){var l=Math.floor(this.layoutResult.colsHierarchy.height);this.cornerBBox=new zT(this),this.cornerBBox.height=l,this.cornerBBox.maxY=l},o.prototype.doLayout=function(){var i=this,l=this.cfg,c=l.dataSet,f=l.spreadsheet,v=new kp,g=j1({isRowHeader:!1,facetCfg:this.cfg}),m=g.leafNodes,_=g.hierarchy;return this.calculateColNodesCoordinate(m,_),{colNodes:_.getNodes(),colsHierarchy:_,rowNodes:v.getNodes(),rowsHierarchy:v,rowLeafNodes:v.getLeaves(),colLeafNodes:m,getCellMeta:function(I,O){var F,j,B=i.cfg.showSeriesNumber,P=m[O],H=i.getCellHeight(I),Y=i.getCellRange(),V=_l(i.cfg,m.length,Y.end-Y.start+1).frozenTrailingRowCount,yt=P.x,Lt=i.viewCellHeights.getCellOffsetY(I);return Ef(I,Y.end,V)&&(Lt=i.panelBBox.maxY-i.getTotalHeightForRange(I,Y.end)),j=B&&P.field===$u?I+1:c.getCellData({query:{col:P.field,rowIndex:I}}),{spreadsheet:f,x:yt,y:Lt,width:P.width,height:H,data:(F={},F[P.field]=j,F),rowIndex:I,colIndex:O,isTotals:!1,colId:P.id,rowId:String(I),valueField:P.field,fieldValue:j,id:Gc(String(I),P.id)}},spreadsheet:f}},o.prototype.getAdaptiveColWidth=function(i){var l=this.cfg.cellCfg,c=this.cfg.showSeriesNumber;if(this.spreadsheet.getLayoutWidthType()!==Pa.Compact){var f=this.getSeriesNumberWidth(),v=i.length-(c?1:0),g=this.getCanvasHW().width-f;return Math.max(l?.width,g/Math.max(1,v))}return l?.width},o.prototype.getColNodeHeight=function(i,l){var c=this.cfg.colCfg,v=zo(c?.heightByField)[0]||c?.height;if(!l||i.children&&i.children.length)return v;for(;i.parent;)l-=ja(i)?0:v,i=i.parent;return l},o.prototype.calculateColNodesCoordinate=function(i,l){var c,f,v,g,m,_,b=si.blankNode(),A=l.getNodes();try{for(var I=Ei(l.sampleNodesForAllLevels),O=I.next();!O.done;O=I.next()){var F=O.value;F.height=this.getColNodeHeight(F),l.height+=F.height}}catch(ge){c={error:ge}}finally{try{O&&!O.done&&(f=I.return)&&f.call(I)}finally{if(c)throw c.error}}for(var B=this.getAdaptiveColWidth(i),P=0,H=0;H<A.length;H++)(Y=A[H]).isLeaf&&(Y.colIndex=P,P+=1,Y.x=b.x+b.width,Y.width=this.calculateColLeafNodesWidth(Y,B),Bp(this.cfg,null,Y),l.width+=Y.width,b=Y),Y.y=0===Y.level?0:null!==(m=(null===(v=Y.parent)||void 0===v?void 0:v.y)+(null===(g=Y.parent)||void 0===g?void 0:g.height))&&void 0!==m?m:0,Y.height=this.getColNodeHeight(Y,l.height);var V=A.filter(function(ge){return ja(ge)}),j=_l(null===(_=this.spreadsheet)||void 0===_?void 0:_.options,V.length).frozenTrailingColCount;b=si.blankNode();var yt=this.getCanvasHW().width;if(j>0){var Lt=Np(V,0,j).trailingColCount,Pt=A.filter(function(ge){return ge.isLeaf});for(H=1;H<=Lt;H++){var Y;(Y=Pt[Pt.length-H]).x=1===H?yt-Y.width:b.x-Y.width,b=Y}}this.autoCalculateColNodeWidthAndX(i)},o.prototype.autoCalculateColNodeWidthAndX=function(i){for(var l=null,c=i.slice(0);c.length;){var v=c.shift().parent;l!==v&&v&&(c.push(v),v.x=v.children[0].x,v.width=v.children.map(function(g){return g.width}).reduce(function(g,m){return g+m},0),l=v)}},o.prototype.calculateColLeafNodesWidth=function(i,l){var c=this.cfg,f=c.colCfg,v=c.dataSet,g=c.spreadsheet,m=this.spreadsheet.getLayoutWidthType(),_=this.getCellDraggedWidth(i);if(qi(_))return _;var A,b=this.getCellCustomWidth(i,f?.width);if(qi(b))return b;if(m===Pa.Compact){var I=v.getDisplayDataSet(),O=v.getFieldFormatter(i.field),F=ff(I?.slice(0,50).map(function(Lt){var Pt;return"".concat(null!==(Pt=O?.(Lt[i.field]))&&void 0!==Pt?Pt:Lt[i.field])}),function(Lt){return g.measureTextWidthRoughly(Lt)});Os.getInstance().logger("Max Label In Col:",i.field,F);var B=g.theme.colCell.bolderText,P=g.theme.dataCell,Y=P.cell,j=g.measureTextWidth(F,P.text)+Y.padding.left+Y.padding.right+1,yt=g.measureTextWidth(i.label,B)+function(a,o,i){var l=nr(i,"cell.padding"),c=nT(a,o.field,i);return l.left+l.right+function(a,o,i,l){var c,f,m,v=nr(l,"size"),g=nr(l,"margin");return(m=a.options.showDefaultHeaderActionIcon?1:null!==(f=null===(c=Vb(a.options.headerActionIcons,o,i))||void 0===c?void 0:c.iconNames.length)&&void 0!==f?f:0)*(v+g.left)+(m>0?g.right:0)}(a,o,We.COL_CELL,nr(i,"icon"))+c.left+c.right}(this.spreadsheet,i,g.theme.colCell);A=Math.max(yt,j)}else A=l;return i.field===$u&&(A=this.getSeriesNumberWidth()),A},o.prototype.getDefaultCellHeight=function(){return this.cfg.cellCfg?.height},o.prototype.getCellHeight=function(i){if(this.rowOffsets){var c=nr(this.spreadsheet,"options.style.rowCfg.heightByField",{})?.[String(i)];if(qi(c))return c}return this.getDefaultCellHeight()},o.prototype.initRowOffsets=function(){var i=this,l=this.cfg.dataSet,c=nr(this.spreadsheet,"options.style.rowCfg.heightByField",{});if(Object.keys(c).length){var f=l.getDisplayDataSet();this.rowOffsets=[0];var v=0;f.forEach(function(g,m){var _,b=null!==(_=c?.[String(m)])&&void 0!==_?_:i.getDefaultCellHeight(),A=v+b;i.rowOffsets.push(A),v=A})}},o.prototype.getViewCellHeights=function(){var i=this,l=this.cfg.dataSet;this.initRowOffsets();var c=this.getDefaultCellHeight();return{getTotalHeight:function(){return i.rowOffsets?hn(i.rowOffsets):c*l.getDisplayDataSet().length},getCellOffsetY:function(f){if(f<=0)return 0;if(i.rowOffsets)return i.rowOffsets[f];for(var v=0,g=0;g<f;g++)v+=c;return v},getTotalLength:function(){return l.getDisplayDataSet().length},getIndexRange:function(f,v){if(i.rowOffsets)return FT(i.rowOffsets,f,v);var g=Math.floor(f/c),m=v%c==0?v/c-1:Math.floor(v/c);return{start:Math.max(0,g),end:Math.max(0,m)}}}},o.prototype.init=function(){a.prototype.init.call(this);var i=this.panelBBox;this.spreadsheet.panelGroup.setClip({type:"rect",attrs:{x:0,y:this.cornerBBox.height,width:i.width,height:i.height}})},o.prototype.getColHeader=function(){if(!this.columnHeader){var i=this.panelBBox;return new s7({width:i.width,height:this.cornerBBox.height,viewportWidth:i.viewportWidth,viewportHeight:i.viewportHeight,cornerWidth:this.cornerBBox.width,position:{x:i.x,y:0},data:this.layoutResult.colNodes,scrollContainsRowHeader:this.cfg.spreadsheet.isScrollContainsRowHeader(),sortParam:this.cfg.spreadsheet.store.get("sortParam"),spreadsheet:this.spreadsheet})}return this.columnHeader},o.prototype.updateRowResizeArea=function(){var i=this.spreadsheet,l=i.foregroundGroup,f=nr(i.options,"interaction.resize");if(No(f)?f:f?.rowCellVertical){var g=l.findById(_h),m=l.findById(WA);g&&g.set("children",[]),m&&m.set("children",[]),qf(this.panelGroup.getChildren(),Yc).filter(function(b){return b.shouldDrawResizeArea()}).forEach(function(b){b.drawResizeArea()})}},o.prototype.render=function(){this.calculateFrozenGroupInfo(),this.renderFrozenPanelCornerGroup(),a.prototype.render.call(this),this.initFrozenGroupPosition()},o.prototype.calculateFrozenGroupInfo=function(){var i=this.getFrozenOptions(),l=i.frozenColCount,c=i.frozenRowCount,f=i.frozenTrailingColCount,v=i.frozenTrailingRowCount,g=this.layoutResult.colNodes.filter(function(B){return ja(B)}),m=this.viewCellHeights,_=this.getCellRange(),b=this.frozenGroupInfo,A=b.frozenCol,I=b.frozenTrailingCol,O=b.frozenRow,F=b.frozenTrailingRow;l>0&&(A.width=g[l-1].x+g[l-1].width-0,A.range=[0,l-1]),c>0&&(O.height=m.getCellOffsetY(_.start+c)-m.getCellOffsetY(_.start),O.range=[_.start,_.start+c-1]),f>0&&(I.width=g[g.length-1].x-g[g.length-f].x+g[g.length-1].width,I.range=[g.length-f,g.length-1]),v>0&&(F.height=m.getCellOffsetY(_.end+1)-m.getCellOffsetY(_.end+1-v),F.range=[_.end-v+1,_.end])},o.prototype.getRowHeader=function(){return null},o.prototype.getSeriesNumberHeader=function(){return null},o.prototype.translateRelatedGroups=function(i,l,c){var f=this,v=this.spreadsheet,g=v.frozenColGroup,m=v.frozenTrailingColGroup;[v.frozenRowGroup,v.frozenTrailingRowGroup].forEach(function(A){t1(A,f.cornerBBox.width-i)}),[g,m].forEach(function(A){!function(a,o){var i,l=a?.getMatrix(),c=null!==(i=l?.[7])&&void 0!==i?i:0;a?.translate(0,o-c)}(A,f.cornerBBox.height-l)}),a.prototype.translateRelatedGroups.call(this,i,l,c),this.updateRowResizeArea(),this.renderFrozenGroupSplitLine(i,l)},o.prototype.calculateXYIndexes=function(i,l){var c=this.layoutResult.colLeafNodes.length,f=this.getCellRange(),v=this.panelBBox,g=v.viewportHeight,m=v.viewportWidth,_=this.getFrozenOptions(),b=_.frozenColCount,A=_.frozenRowCount,I=_.frozenTrailingColCount,O=_.frozenTrailingRowCount,F={width:m,height:g,x:0,y:0};if(I>0||b>0){var B=this.frozenGroupInfo,H=B.frozenCol;F.width-=B.frozenTrailingCol.width+H.width,F.x+=H.width}if(O>0||A>0){var Y=this.frozenGroupInfo,V=Y.frozenRow,j=Y.frozenTrailingRow;F.height<V.height+j.height?(F.height=0,F.y=0):(F.height-=V.height+j.height,F.y+=V.height)}var yt=ab(i,l,this.viewCellWidths,this.viewCellHeights,F,this.getRealScrollX(this.cornerBBox.width));this.panelScrollGroupIndexes=yt;var Lt=this.getRealFrozenColumns(b,I);return function(a,o,i,l){var c=o.frozenColCount,f=o.frozenRowCount,v=o.frozenTrailingColCount,g=o.frozenTrailingRowCount,m=Ae([],de(a),!1);Au(m[0],c)&&(m[0]=c),Eu(m[1],v,i)&&(m[1]=i-v-1),zp(m[2],l.start,f)&&(m[2]=l.start+f),Ef(m[3],l.end,g)&&(m[3]=l.end-g);var _=Ae([],de(m),!1);_[2]=l.start,_[3]=l.start+f-1;var b=Ae([],de(m),!1);b[0]=0,b[1]=c-1;var A=Ae([],de(m),!1);A[2]=l.end+1-g,A[3]=l.end;var I=Ae([],de(m),!1);return I[0]=i-v,I[1]=i-1,{center:m,frozenRow:_,frozenCol:b,frozenTrailingCol:I,frozenTrailingRow:A}}(yt,{frozenColCount:Lt.colCount,frozenRowCount:A,frozenTrailingColCount:Lt.trailingColCount,frozenTrailingRowCount:O},c,f)},o.prototype.clip=function(i,l){var c,f,v=this.layoutResult.colLeafNodes,g=this.getPaginationScrollY(),m=this.spreadsheet,_=m.frozenRowGroup,b=m.frozenColGroup,A=m.frozenTrailingColGroup,I=m.frozenTrailingRowGroup,O=m.panelScrollGroup,F=b.getBBox().width,B=_.getBBox().height,P=A.getBBox(),H=I.getBBox().height,Y=this.panelBBox.width-F-A.getBBox().width,V=this.panelBBox.height-B-H;O.setClip({type:"rect",attrs:{x:i+F,y:l+B,width:Y,height:V}}),_.setClip({type:"rect",attrs:{x:i+F,y:g,width:Y,height:B}}),I.setClip({type:"rect",attrs:{x:i+F,y:I.getBBox().minY,width:Y,height:H}});var j={y:l+B,height:V};b.setClip({type:"rect",attrs:Ft(Ft({},j),{x:0,width:F})}),A.setClip({type:"rect",attrs:Ft(Ft({},j),{x:P.minX,width:P.width})});var yt=this.spreadsheet.foregroundGroup.findById(_h);yt&&yt.setClip({type:"rect",attrs:{x:0,y:B+this.cornerBBox.height,width:null!==(f=null===(c=v?.[0])||void 0===c?void 0:c.width)&&void 0!==f?f:0,height:V}})},o.prototype.updatePanelScrollGroup=function(){var i=this;a.prototype.updatePanelScrollGroup.call(this),[no.FROZEN_COL,no.FROZEN_ROW,no.FROZEN_TRAILING_COL,no.FROZEN_TRAILING_ROW].forEach(function(l){if(i.frozenGroupInfo[l].range){var c=[],f=[];if(l.toLowerCase().includes("row")){var v=de(i.frozenGroupInfo[l].range,2),g=v[0],m=v[1];if(c=i.gridInfo.cols,f=Z1(g,m,i.viewCellHeights),l===no.FROZEN_TRAILING_ROW){var _=i.spreadsheet.frozenTrailingRowGroup.getBBox().minY;f=function(a,o,i,l){var c=Z1(a,o,l),f=l.getCellOffsetY(a);return c.map(function(v){return v-f+i})}(g,m,Math.ceil(_),i.viewCellHeights)}}else{var b=de(i.frozenGroupInfo[l].range,2),A=b[0],I=b[1],O=i.layoutResult.colNodes.filter(function(F){return ja(F)});c=DT(A,I,O),f=i.gridInfo.rows}i.spreadsheet["".concat(l,"Group")].updateGrid({cols:c,rows:f},"".concat(l,"Group"))}})},o}(HT),YT=function(a){function o(i){var l=a.call(this,i)||this;return l.gridInfo={cols:[],rows:[]},l.updateGrid=function(c,f){void 0===f&&(f=rg);var v=l.getBBox(),g=l.s2,b=g.theme.dataCell.cell,A=(0,g.isTableMode)()&&(f===rg||f===GA);(!l.gridGroup||!l.findById(f))&&(l.gridGroup=l.addGroup({id:f})),l.gridGroup.clear(),l.gridInfo=c,A&&l.gridInfo.cols.unshift(0);var I=b.verticalBorderWidth,O=b.verticalBorderWidth/2;l.gridInfo.cols.forEach(function(P){li(l.gridGroup,{x1:P,x2:P,y1:Math.ceil(v.minY+O),y2:Math.floor(v.maxY-O)},{stroke:b.verticalBorderColor,strokeOpacity:b.verticalBorderColorOpacity,lineWidth:I,lineCap:h2})});var F=b.horizontalBorderWidth,B=b.horizontalBorderWidth/2;l.gridInfo.rows.forEach(function(P){li(l.gridGroup,{x1:Math.ceil(v.minX+B),x2:Math.floor(v.maxX-B),y1:P,y2:P},{stroke:b.horizontalBorderColor,strokeOpacity:b.horizontalBorderColorOpacity,lineWidth:F,lineCap:h2})}),l.gridGroup.toFront()},l.s2=i.s2,l}return Sr(o,a),o}(ss),wk=function(a){function o(i){var l=a.call(this,i)||this;return l.initMergedCellsGroup(),l}return Sr(o,a),o.prototype.initMergedCellsGroup=function(){this.mergedCellsGroup&&this.findById(HA)||(this.mergedCellsGroup=this.addGroup({id:HA}))},o.prototype.updateMergedCells=function(){this.initMergedCellsGroup(),function(a,o){var i,l=null===(i=a.options)||void 0===i?void 0:i.mergedCellsInfo;if(!Ve(l)){var c=a.interaction.getPanelGroupAllDataCells();if(!Ve(c)){var f=[];l.forEach(function(b){var A=Hb(c,a,b);A.cells.length>0&&f.push(A)});var v=o.getChildren(),g=function(a){return $r(a,function(o){return{cells:o.cells,viewMeta:o.getMeta()}})}(v),m=Wb(g,f),_=Wb(f,g);Cr(m,function(b){jn(v,function(I){return ii(I.getMeta().id,b.viewMeta.id)})?.remove(!0)}),Cr(_,function(b){o.add(Gb(a,b.cells,b.viewMeta))})}}}(this.s2,this.mergedCellsGroup),this.mergedCellsGroup.toFront()},o.prototype.addMergeCell=function(i){var l;null===(l=this.mergedCellsGroup)||void 0===l||l.add(i)},o.prototype.update=function(i){this.updateGrid(i),this.updateMergedCells()},o}(YT),po=function(){function a(o){var i=this;this.isLinkFieldText=function(l){return i.getCellAppendInfo(l)?.isLinkFieldText},this.spreadsheet=o,this.bindEvents()}return a.prototype.getCellAppendInfo=function(o){var i,l;return(null===(i=o?.attr)||void 0===i?void 0:i.call(o,"appendInfo"))||(null===(l=o?.attrs)||void 0===l?void 0:l.appendInfo)||{}},a.prototype.reset=function(){},a}(),_k=function(a){function o(){return null!==a&&a.apply(this,arguments)||this}return Sr(o,a),o.prototype.bindEvents=function(){this.bindDataCellClick()},o.prototype.bindDataCellClick=function(){var i=this;this.spreadsheet.on(ae.DATA_CELL_CLICK,function(l){var c;l.stopPropagation();var f=i.spreadsheet.interaction;if(f.clearHoverTimer(),!f.hasIntercepts([hr.CLICK])){if(i.isLinkFieldText(l.target))return void i.emitLinkFieldClickEvent(l);var v=i.spreadsheet.getCell(l.target),g=v.getMeta();if(g){if(f.addIntercepts([hr.HOVER]),f.isSelectedCell(v))return void(1===(null===(c=l.originalEvent)||void 0===c?void 0:c.detail)&&f.reset());f.changeState({cells:[Vo(v)],stateName:Qe.SELECTED,onUpdateCells:R1}),i.spreadsheet.emit(ae.GLOBAL_SELECTED,[v]),i.showTooltip(l,g);var m=g.rowId,_=g.colId,b=g.spreadsheet,A=f.getSelectedCellHighlight(),O=A.rowHeader;if(A.colHeader&&zb(_,f.getAllColHeaderCells(),Qe.SELECTED),O&&m){var F=function JF(a,o){var i=o.interaction,l=o.facet,c=o.options;if(o.isTableMode()){if(!c.showSeriesNumber)return[];var f=l.layoutResult.colLeafNodes[0].id,v=Gc(String(a.rowIndex),f),g=[],m=i.getAllCells().find(function(_){return _.getMeta().id===v});return m&&m instanceof aT&&g.push(m),g}return m1(a.rowId,i.getAllRowHeaderCells(),o.isHierarchyTreeType())}(g,b);Cr(F,function(B){B.updateByState(Qe.SELECTED)})}}}})},o.prototype.getTooltipOperator=function(i,l){var c=this,f={key:"trend",text:Kn("\u8d8b\u52bf"),icon:"Trend"},v=this.spreadsheet.getCell(i.target),g=RT(this.spreadsheet,i).operation,m=g.trend&&Ft(Ft({},f),{onClick:function(){c.spreadsheet.emit(ae.DATA_CELL_TREND_ICON_CLICK,Ft(Ft({},l),{record:c.spreadsheet.isTableMode()?c.spreadsheet.dataSet.getCellData({query:{rowIndex:l.rowIndex}}):void 0})),c.spreadsheet.hideTooltip()}});return KD(g,{defaultMenus:[m],cell:v})},o.prototype.showTooltip=function(i,l){var f=l.isTotals,v=void 0!==f&&f,g=l.value,m=l.fieldValue,_=l.field,b=l.valueField,A=l.data,I=this.spreadsheet.isTableMode(),F=[(I?Ft(Ft({},A),{value:g||m,valueField:_||b}):A)||Ft(Ft({},l.rowQuery),l.colQuery)],B=this.getTooltipOperator(i,l);this.spreadsheet.showTooltipWithInfo(i,F,{isTotals:v,operator:B,enterable:!0,hideSummary:!0,showSingleTips:I})},o.prototype.emitLinkFieldClickEvent=function(i){var l=this.getCellAppendInfo(i.target).cellData;this.spreadsheet.emit(ae.GLOBAL_LINK_FIELD_JUMP,{key:l.valueField,cellData:l,record:Object.assign({rowIndex:l.rowIndex},l.data)})},o}(po),e=function(a){function o(){return null!==a&&a.apply(this,arguments)||this}return Sr(o,a),o.prototype.bindEvents=function(){this.bindDataCellClick()},o.prototype.bindDataCellClick=function(){var i=this;this.spreadsheet.on(ae.MERGED_CELLS_CLICK,function(l){l.stopPropagation();var c=i.spreadsheet.interaction;c.hasIntercepts([hr.CLICK])||c.addIntercepts([hr.HOVER])})},o}(po),r=function(a){function o(){var i=null!==a&&a.apply(this,arguments)||this;return i.isMultiSelection=!1,i.handleRowColClick=function(l){if(l.stopPropagation(),!i.isLinkFieldText(l.target)){var c=i.spreadsheet,f=c.interaction,v=c.options,g=i.spreadsheet.getCell(l.target);f.selectHeaderCell({cell:g,isMultiSelection:!(!v.interaction.multiSelection||!i.isMultiSelection)})&&i.showTooltip(l)}},i.getHideColumnField=function(l){return i.spreadsheet.isTableMode()?l.field:l.id},i}return Sr(o,a),o.prototype.bindEvents=function(){this.bindKeyboardDown(),this.bindKeyboardUp(),this.bindColCellClick(),this.bindRowCellClick(),this.bindTableColExpand(),this.bindMouseMove()},o.prototype.reset=function(){this.isMultiSelection=!1,this.spreadsheet.interaction.removeIntercepts([hr.CLICK])},o.prototype.bindKeyboardDown=function(){var i=this;this.spreadsheet.on(ae.GLOBAL_KEYBOARD_DOWN,function(l){n0(l)&&(i.isMultiSelection=!0)})},o.prototype.bindKeyboardUp=function(){var i=this;this.spreadsheet.on(ae.GLOBAL_KEYBOARD_UP,function(l){n0(l)&&i.reset()})},o.prototype.bindMouseMove=function(){var i=this;this.spreadsheet.on(ae.GLOBAL_MOUSE_MOVE,function(l){i.isMultiSelection&&!a0(l)&&i.reset()})},o.prototype.bindRowCellClick=function(){var i=this;this.spreadsheet.on(ae.ROW_CELL_CLICK,function(l){i.handleRowColClick(l)})},o.prototype.bindColCellClick=function(){var i=this;this.spreadsheet.on(ae.COL_CELL_CLICK,function(l){i.handleRowColClick(l)})},o.prototype.showTooltip=function(i){var l=RT(this.spreadsheet,i),c=l.operation;if(l.showTooltip){var v=this.spreadsheet.interaction,g=v.isSelectedState()?function(a){return $r(a,function(o){var i=o.getMeta();return Pg({},i.query||{},mp(i,["colIndex","rowIndex"]))})}(v.getActiveCells()):[],m=this.getTooltipOperator(i,c);this.spreadsheet.showTooltipWithInfo(i,g,{showSingleTips:!0,operator:m})}},o.prototype.getTooltipOperator=function(i,l){var c=this,f=this.spreadsheet.getCell(i.target),v=f.getMeta(),g=f.cellType===We.COL_CELL,m=1===this.spreadsheet.getColumnLeafNodes().length,_={key:"hiddenColumns",text:Kn("\u9690\u85cf"),icon:"EyeOutlined"},A=g&&!m&&v.isLeaf&&l.hiddenColumns&&Ft(Ft({},_),{onClick:function(){c.hideSelectedColumns()}});return KD(l,{defaultMenus:[A],cell:f})},o.prototype.bindTableColExpand=function(){var i=this;this.spreadsheet.on(ae.LAYOUT_COLS_EXPANDED,function(l){i.handleExpandIconClick(l)})},o.prototype.hideSelectedColumns=function(){var c=this.spreadsheet.interaction.getActiveCells().map(function(f){return f.getMeta()}).map(this.getHideColumnField);jp(this.spreadsheet,c,!0)},o.prototype.handleExpandIconClick=function(i){var l=this.spreadsheet.store.get("hiddenColumnsDetail",[]),c=(Qv(l,function(b){return _1(b.displaySiblingNode,i.id)})||{}).hideColumnNodes,v=this.spreadsheet.options.interaction.hiddenColumnFields,g=(void 0===c?[]:c).map(this.getHideColumnField),m=of(v,g),_=l.filter(function(b){return!_1(b.displaySiblingNode,i.id)});this.spreadsheet.setOptions({interaction:{hiddenColumnFields:m}}),this.spreadsheet.store.set("hiddenColumnsDetail",_),this.spreadsheet.interaction.reset(),this.spreadsheet.render(!1)},o}(po),t=function(a){function o(){var i=null!==a&&a.apply(this,arguments)||this;return i.getRowData=function(l){var c,f=l.getHeadLeafChild(),v=i.spreadsheet.dataSet.getMultiData(f?.query,f?.isTotals,!0)[0];return Ft(Ft({},v),{rowIndex:null!==(c=l.rowIndex)&&void 0!==c?c:f.rowIndex})},i}return Sr(o,a),o.prototype.bindEvents=function(){this.bindRowCellClick()},o.prototype.bindRowCellClick=function(){var i=this;this.spreadsheet.on(ae.ROW_CELL_CLICK,function(l){if(!i.spreadsheet.interaction.hasIntercepts([hr.CLICK])&&i.isLinkFieldText(l.target)){var c=i.getCellAppendInfo(l.target).cellData,f=c.key,v=i.getRowData(c);i.spreadsheet.emit(ae.GLOBAL_LINK_FIELD_JUMP,{key:f,cellData:c,record:v})}})},o}(po),n=function(a){function o(){return null!==a&&a.apply(this,arguments)||this}return Sr(o,a),o.prototype.bindEvents=function(){this.bindCornerCellClick()},o.prototype.bindCornerCellClick=function(){var i=this;this.spreadsheet.on(ae.CORNER_CELL_CLICK,function(l){var c,f=i.spreadsheet.interaction,v=i.spreadsheet.getCell(l.target);if(v){var g=v.getMeta(),m=i.getRowNodesByField(g?.field),_=null===(c=m[0])||void 0===c?void 0:c.belongsCell,b=i.getRowCells(m);if(_&&f.isSelectedCell(_))return f.reset(),void i.spreadsheet.emit(ae.GLOBAL_SELECTED,f.getActiveCells());Ve(m)||Ve(b)||(f.addIntercepts([hr.HOVER]),f.changeState({cells:b,stateName:Qe.SELECTED}),f.highlightNodes(m),i.showTooltip(l),i.spreadsheet.emit(ae.GLOBAL_SELECTED,f.getActiveCells()))}})},o.prototype.getRowNodesByField=function(i){return this.spreadsheet.getRowNodes().filter(function(l){return l.field===i})},o.prototype.getRowCells=function(i){return i.map(function(l){return{id:l.id,colIndex:-1,rowIndex:-1,type:We.ROW_CELL}})},o.prototype.showTooltip=function(i){var l=this.spreadsheet.interaction.getActiveCells();this.spreadsheet.showTooltipWithInfo(i,[],{data:{summaries:[{selectedData:l,name:"",value:null}]}})},o}(po),s=function(a){function o(){return null!==a&&a.apply(this,arguments)||this}return Sr(o,a),o.prototype.bindEvents=function(){this.bindCornerCellHover(),this.bindDataCellHover(),this.bindRowCellHover(),this.bindColCellHover()},o.prototype.updateRowColCells=function(i){var l=i.rowId,c=i.colId,f=this.spreadsheet.interaction,v=f.getHoverHighlight(),g=v.rowHeader;v.colHeader&&zb(c,f.getAllColHeaderCells(),Qe.HOVER),g&&l&&Cr(m1(l,f.getAllRowHeaderCells(),this.spreadsheet.isHierarchyTreeType()),function(b){b.updateByState(Qe.HOVER)})},o.prototype.changeStateToHoverFocus=function(i,l,c){var v,f=this,g=this.spreadsheet.interaction,_=this.spreadsheet.options.interaction.hoverFocus;g.clearHoverTimer();var b=function(){if(!g.hasIntercepts([hr.HOVER])){g.changeState({cells:[Vo(i)],stateName:Qe.HOVER_FOCUS});var O=f.spreadsheet.isTableMode(),F={isTotals:c.isTotals,enterable:!0,hideSummary:!0,showSingleTips:O},B=g.getHoverHighlight();(B.rowHeader||B.colHeader)&&f.updateRowColCells(c);var Y=f.getCellData(c,O);f.spreadsheet.showTooltipWithInfo(l,Y,F)}},A=800;if(No(_)||(A=null!==(v=_?.duration)&&void 0!==v?v:800),0===A)b();else{var I=window.setTimeout(function(){return b()},A);g.setHoverTimer(I)}},o.prototype.handleHeaderHover=function(i){var l=this.spreadsheet.getCell(i.target);if(!Ve(l)){var c=this.spreadsheet.interaction;c.clearHoverTimer(),!c.isActiveCell(l)&&(c.changeState({cells:[Vo(l)],stateName:Qe.HOVER}),l.update(),this.showEllipsisTooltip(i,l))}},o.prototype.showEllipsisTooltip=function(i,l){if(l&&l.getActualText()!==l.getFieldValue()){var c=l.getMeta(),v={isTotals:c.isTotals,enterable:!0,hideSummary:!0,showSingleTips:!0,enableFormat:this.spreadsheet.isPivotMode()},g=this.getCellData(c,!0);this.spreadsheet.showTooltipWithInfo(i,g,v)}},o.prototype.getCellData=function(i,l){void 0===i&&(i={});var v=i.value,g=i.field,m=i.fieldValue,_=i.valueField,b=i.rowQuery,A=i.colQuery,I=i.data;return l?[Ft(Ft({},i.query),{value:v||m,valueField:g||_})]:[I||Ft(Ft({},b),A)]},o.prototype.bindDataCellHover=function(){var i=this;this.spreadsheet.on(ae.DATA_CELL_HOVER,function(l){var c=i.spreadsheet.getCell(l.target);if(!Ve(c)){var f=i.spreadsheet,v=f.interaction,m=f.options.interaction,_=c?.getMeta();if(!v.isActiveCell(c)){v.changeState({cells:[Vo(c)],stateName:Qe.HOVER});var b=v.getHoverHighlight();(b.rowHeader||b.colHeader)&&i.updateRowColCells(_),m.hoverFocus&&i.changeStateToHoverFocus(c,l,_)}}})},o.prototype.bindRowCellHover=function(){var i=this;this.spreadsheet.on(ae.ROW_CELL_HOVER,function(l){i.handleHeaderHover(l)})},o.prototype.bindColCellHover=function(){var i=this;this.spreadsheet.on(ae.COL_CELL_HOVER,function(l){i.handleHeaderHover(l)})},o.prototype.bindCornerCellHover=function(){var i=this;this.spreadsheet.on(ae.CORNER_CELL_HOVER,function(l){i.handleHeaderHover(l)})},o}(po),u=function(a){function o(){var i=null!==a&&a.apply(this,arguments)||this;return i.displayedCells=[],i.brushRangeCells=[],i.brushSelectionStage=di.UN_DRAGGED,i.brushSelectionMinimumMoveDistance=5,i.scrollAnimationComplete=!0,i.mouseMoveDistanceFromCanvas=0,i.setMoveDistanceFromCanvas=function(l,c,f){var v=0;if(c&&(v=l.x),f){var g=l.y;v=c?Math.max(g,v):g}i.mouseMoveDistanceFromCanvas=Math.abs(v)},i.formatBrushPointForScroll=function(l,c){var f,v,g,m;void 0===c&&(c=!1);var A=i.spreadsheet.facet,I=c?A.cornerBBox:A.panelBBox,O=I.minX,F=I.maxX,B=A.panelBBox,P=B.minY,H=B.maxY,Y=(null===(f=i.endBrushPoint)||void 0===f?void 0:f.x)+l.x,V=(null===(v=i.endBrushPoint)||void 0===v?void 0:v.y)+l.y,j=!0,yt=!0,Lt=null===(m=null===(g=A.vScrollBar)||void 0===g?void 0:g.getBBox())||void 0===m?void 0:m.width;return Y>F?Y=F-Lt-2:Y<O?Y=O+2:j=!1,V>H?V=H-2:V<=P?V=P+2:yt=!1,{x:{value:Y,needScroll:j},y:{value:V,needScroll:yt}}},i.rectanglesIntersect=function(l,c){return l.maxX>c.minX&&l.minX<c.maxX&&l.minY<c.maxY&&l.maxY>c.minY},i.autoScrollIntervalId=null,i.autoScrollConfig=Sy(Yd),i.validateYIndex=function(l){var c,f,v=i.spreadsheet.facet,g=v.frozenGroupInfo,m=0,_=null===(c=g?.frozenRow)||void 0===c?void 0:c.range;if(_&&(m=_[1]+1),l<m)return null;var b=v.getCellRange().end,A=null===(f=g?.frozenTrailingRow)||void 0===f?void 0:f.range;return A&&(b=A[0]-1),l>b?null:l},i.validateXIndex=function(l){var c,f,v=i.spreadsheet.facet,g=v.frozenGroupInfo,m=0,_=null===(c=g?.frozenCol)||void 0===c?void 0:c.range;if(_&&(m=_[1]+1),l<m)return null;var b=v.layoutResult.colLeafNodes.length-1,A=null===(f=g?.frozenTrailingCol)||void 0===f?void 0:f.range;return A&&(b=A[0]-1),l>b?null:l},i.adjustNextColIndexWithFrozen=function(l,c){var f=i.spreadsheet,v=f.facet,m=f.options,_=f.dataSet.getDisplayDataSet().length,b=v.layoutResult.colLeafNodes.length,A=_l(m,b,_),I=A.frozenTrailingColCount,O=A.frozenColCount,F=v.panelScrollGroupIndexes;return I>0&&c===Wn.SCROLL_DOWN&&Eu(l,I,b)?F[1]:O>0&&c===Wn.SCROLL_UP&&Au(l,O)?F[0]:l},i.adjustNextRowIndexWithFrozen=function(l,c){var f=i.spreadsheet,v=f.facet,m=f.options,_=f.dataSet.getDisplayDataSet().length,b=v.layoutResult.colLeafNodes.length,A=v.getCellRange(),I=_l(m,b,_),O=I.frozenTrailingRowCount,F=I.frozenRowCount,B=v.panelScrollGroupIndexes;return O>0&&c===Wn.SCROLL_DOWN&&Ef(l,A.end,O)?B[3]:F>0&&c===Wn.SCROLL_UP&&zp(l,A.start,F)?B[2]:l},i.getWillScrollRowIndexDiff=function(l){return l===Wn.SCROLL_DOWN?Th.SCROLL_DOWN:Th.SCROLL_UP},i.getDefaultWillScrollToRowIndex=function(l){var f=i.adjustNextRowIndexWithFrozen(i.endBrushPoint.rowIndex,l)+i.getWillScrollRowIndexDiff(l);return i.validateYIndex(f)},i.getWillScrollToRowIndex=function(l){return i.getDefaultWillScrollToRowIndex(l)},i.getNextScrollDelta=function(l){var c=i.spreadsheet.facet.getScrollOffset(),f=c.scrollX,v=c.scrollY,g=0,m=0;if(l.y.scroll){var b=i.getWillScrollToRowIndex(_=l.y.value>0?Wn.SCROLL_DOWN:Wn.SCROLL_UP),A=rD(b,_,i.spreadsheet)-v;m=fn(b)||fn(A)||Number.isNaN(A)?0:A}if(l.x.scroll){var _,O=i.adjustNextColIndexWithFrozen(i.endBrushPoint.colIndex,_=l.x.value>0?Wn.SCROLL_DOWN:Wn.SCROLL_UP),F=i.validateXIndex(O+(l.x.value>0?1:-1));g=fn(F)?0:eD(F,_,i.spreadsheet)-f}return{x:g,y:m}},i.onScrollAnimationComplete=function(){i.scrollAnimationComplete=!0,i.brushSelectionStage!==di.UN_DRAGGED&&i.renderPrepareSelected(i.endBrushPoint)},i.autoScroll=function(l){if(void 0===l&&(l=!1),i.brushSelectionStage!==di.UN_DRAGGED&&i.scrollAnimationComplete){var c=i.autoScrollConfig,f=i.spreadsheet.facet.getScrollOffset(),v=l?"rowHeaderOffsetX":"offsetX",g={rowHeaderOffsetX:{value:f.rowHeaderScrollX,animate:!0},offsetX:{value:f.scrollX,animate:!0},offsetY:{value:f.scrollY,animate:!0}},m=i.getNextScrollDelta(c),_=m.x,b=m.y;if(0===b&&0===_)return void i.clearAutoScroll();if(c.y.scroll&&(g.offsetY.value+=b),c.x.scroll){var A=g[v];A.value+=_,A.value<0&&(A.value=0)}i.scrollAnimationComplete=!1;var O=Math.max(16,300-i.mouseMoveDistanceFromCanvas*(c.x.scroll?1:3));i.spreadsheet.facet.scrollWithAnimation(g,O,i.onScrollAnimationComplete)}},i.handleScroll=Bm(function(l,c,f){if(void 0===f&&(f=!1),i.brushSelectionStage!==di.UN_DRAGGED){var v=i.formatBrushPointForScroll({x:l,y:c},f),g=v.x,m=g.value,_=g.needScroll,b=v.y,A=b.value,I=b.needScroll,O=i.autoScrollConfig;I&&(O.y.value=c,O.y.scroll=!0),_&&(O.x.value=l,O.x.scroll=!0),i.setMoveDistanceFromCanvas({x:l,y:c},_,I),i.renderPrepareSelected({x:m,y:A}),(I||_)&&(i.clearAutoScroll(),i.autoScroll(f),i.autoScrollIntervalId=setInterval(function(){i.autoScroll(f)},16))}},30),i.clearAutoScroll=function(){i.autoScrollIntervalId&&(clearInterval(i.autoScrollIntervalId),i.autoScrollIntervalId=null,i.resetScrollDelta())},i.onUpdateCells=function(l,c){return c()},i.showPrepareSelectedCells=function(){i.brushRangeCells=i.getBrushRangeCells(),i.spreadsheet.interaction.changeState({cells:$r(i.brushRangeCells,function(l){return Vo(l)}),stateName:Qe.PREPARE_SELECT,force:!0,onUpdateCells:i.onUpdateCells})},i.renderPrepareSelected=function(l){var c=l.x,f=l.y,v=i.spreadsheet.container.getShape(c,f),g=i.spreadsheet.getCell(v);if(g&&(g instanceof Al||g instanceof r0||g instanceof Hf)){var _=g.getMeta();i.endBrushPoint={x:c,y:f,rowIndex:_.rowIndex,colIndex:_.colIndex};var I=i.spreadsheet.interaction;I.addIntercepts([hr.HOVER]),I.clearStyleIndependent(),i.isValidBrushSelection()&&(i.showPrepareSelectedCells(),i.updatePrepareSelectMask())}},i}return Sr(o,a),o.prototype.bindEvents=function(){this.bindMouseDown(),this.bindMouseMove(),this.bindMouseUp()},o.prototype.getPrepareSelectMaskTheme=function(){var i;return null===(i=this.spreadsheet.theme)||void 0===i?void 0:i.prepareSelectMask},o.prototype.initPrepareSelectMaskShape=function(){var i=this.spreadsheet.foregroundGroup;if(i){i.removeChild(this.prepareSelectMaskShape);var l=this.getPrepareSelectMaskTheme();this.prepareSelectMaskShape=i.addShape("rect",{visible:!1,attrs:{width:0,height:0,x:0,y:0,fill:l?.backgroundColor,fillOpacity:l?.backgroundOpacity,zIndex:5},capture:!1})}},o.prototype.setBrushSelectionStage=function(i){this.brushSelectionStage=i},o.prototype.isPointInCanvas=function(i){var l=this.spreadsheet.facet.getCanvasHW(),v=this.spreadsheet.facet.panelBBox;return i.x>v.minX&&i.x<l.width&&i.y>v.minY&&i.y<l.height},o.prototype.resetDrag=function(){this.hidePrepareSelectMaskShape(),this.setBrushSelectionStage(di.UN_DRAGGED)},o.prototype.isValidBrushSelection=function(){var i=this.getBrushRange(),l=i.start,c=i.end;return c.x-l.x>this.brushSelectionMinimumMoveDistance||c.y-l.y>this.brushSelectionMinimumMoveDistance},o.prototype.setDisplayedCells=function(){this.displayedCells=this.spreadsheet.interaction.getPanelGroupAllDataCells()},o.prototype.updatePrepareSelectMask=function(){var i=this.getBrushRange(),l=this.getPrepareSelectMaskPosition(i);this.prepareSelectMaskShape.attr({x:l.x,y:l.y,width:i.width,height:i.height}),this.prepareSelectMaskShape.show()},o.prototype.hidePrepareSelectMaskShape=function(){var i;null===(i=this.prepareSelectMaskShape)||void 0===i||i.hide()},o.prototype.resetScrollDelta=function(){this.autoScrollConfig=Sy(Yd)},o.prototype.getBrushPoint=function(i){var l=this.spreadsheet.facet.getScrollOffset(),c=l.scrollY,f=l.scrollX,v={x:i?.x,y:i?.y},m=this.spreadsheet.getCell(i.target).getMeta(),_=m.colIndex,b=m.rowIndex;return Ft(Ft({},v),{rowIndex:b,colIndex:_,scrollY:c,scrollX:f})},o.prototype.getBrushRange=function(){var i,l,c,f,v,g,m,_,b=this.spreadsheet.facet.getScrollOffset(),A=b.scrollX,I=b.scrollY,O=Math.min(this.startBrushPoint.rowIndex,null===(i=this.endBrushPoint)||void 0===i?void 0:i.rowIndex),F=Math.max(this.startBrushPoint.rowIndex,null===(l=this.endBrushPoint)||void 0===l?void 0:l.rowIndex),B=Math.min(this.startBrushPoint.colIndex,null===(c=this.endBrushPoint)||void 0===c?void 0:c.colIndex),P=Math.max(this.startBrushPoint.colIndex,null===(f=this.endBrushPoint)||void 0===f?void 0:f.colIndex),H=this.startBrushPoint.x+this.startBrushPoint.scrollX-A,Y=this.startBrushPoint.y+this.startBrushPoint.scrollY-I,V=Math.min(H,null===(v=this.endBrushPoint)||void 0===v?void 0:v.x),j=Math.max(H,null===(g=this.endBrushPoint)||void 0===g?void 0:g.x),yt=Math.min(Y,null===(m=this.endBrushPoint)||void 0===m?void 0:m.y),Lt=Math.max(Y,null===(_=this.endBrushPoint)||void 0===_?void 0:_.y);return{start:{rowIndex:O,colIndex:B,x:V,y:yt},end:{rowIndex:F,colIndex:P,x:j,y:Lt},width:j-V,height:Lt-yt}},o.prototype.getBrushRangeCells=function(){var i=this;return this.setDisplayedCells(),this.displayedCells.filter(function(l){var c=l.getMeta();return i.isInBrushRange(c)})},o.prototype.mouseDown=function(i){var l;null===(l=i?.preventDefault)||void 0===l||l.call(i),!this.spreadsheet.interaction.hasIntercepts([hr.CLICK])&&(this.setBrushSelectionStage(di.CLICK),this.initPrepareSelectMaskShape(),this.setDisplayedCells(),this.startBrushPoint=this.getBrushPoint(i))},o.prototype.addBrushIntercepts=function(){this.spreadsheet.interaction.addIntercepts([hr.BRUSH_SELECTION])},o.prototype.bindMouseUp=function(i){var l=this;void 0===i&&(i=!1),this.spreadsheet.on(ae.GLOBAL_MOUSE_UP,function(c){if(l.brushSelectionStage===di.DRAGGED){if(i&&l.clearAutoScroll(),l.isValidBrushSelection()){l.addBrushIntercepts(),l.updateSelectedCells();var f=Y1(l.spreadsheet);l.spreadsheet.showTooltipWithInfo(c,f)}l.spreadsheet.interaction.getCurrentStateName()===Qe.PREPARE_SELECT&&l.spreadsheet.interaction.reset(),l.resetDrag()}else l.resetDrag()}),this.spreadsheet.on(ae.GLOBAL_CONTEXT_MENU,function(){l.brushSelectionStage!==di.UN_DRAGGED&&(l.spreadsheet.interaction.removeIntercepts([hr.HOVER]),l.resetDrag())})},o.prototype.autoBrushScroll=function(i,l){var c,f;if(void 0===l&&(l=!1),this.clearAutoScroll(),!this.isPointInCanvas(i)){var v=i?.x-(null===(c=this.endBrushPoint)||void 0===c?void 0:c.x),g=i?.y-(null===(f=this.endBrushPoint)||void 0===f?void 0:f.y);return this.handleScroll(v,g,l),!0}return!1},o.prototype.emitBrushSelectionEvent=function(i,l){this.spreadsheet.emit(i,l),this.spreadsheet.emit(ae.GLOBAL_SELECTED,l),Ve(l)&&this.spreadsheet.interaction.removeIntercepts([hr.HOVER])},o.prototype.getVisibleBrushRangeCells=function(i){return this.brushRangeCells.find(function(l){return l.getMeta()?.id===i})},o.prototype.isInBrushRange=function(i){return!1},o.prototype.bindMouseDown=function(){},o.prototype.bindMouseMove=function(){},o.prototype.updateSelectedCells=function(){},o.prototype.getPrepareSelectMaskPosition=function(i){return{x:i.start.x,y:i.start.y}},o}(po),h=function(a){function o(){var i=null!==a&&a.apply(this,arguments)||this;return i.displayedCells=[],i.brushRangeCells=[],i.onUpdateCells=function(l){return l.updateCells(l.getAllColHeaderCells())},i}return Sr(o,a),o.prototype.bindEvents=function(){this.bindMouseDown(),this.bindMouseMove(),this.bindMouseUp()},o.prototype.bindMouseDown=function(){var i=this;this.spreadsheet.on(ae.COL_CELL_MOUSE_DOWN,function(l){i.spreadsheet.interaction.getBrushSelection().col&&a.prototype.mouseDown.call(i,l)})},o.prototype.isPointInCanvas=function(i){var l=this.spreadsheet.facet.getCanvasHW().width,c=this.spreadsheet.facet.cornerBBox;return i.x>=c.width&&i.x<=l&&i.y>=c.minY&&i.y<=c.maxY},o.prototype.bindMouseMove=function(){var i=this;this.spreadsheet.on(ae.COL_CELL_MOUSE_MOVE,function(l){if(i.brushSelectionStage!==di.UN_DRAGGED){i.setBrushSelectionStage(di.DRAGGED);var c=i.spreadsheet.container.getPointByEvent(l.originalEvent);i.isPointInCanvas(c)&&i.renderPrepareSelected(c)}})},o.prototype.setDisplayedCells=function(){this.displayedCells=this.spreadsheet.interaction.getAllColHeaderCells()},o.prototype.isInBrushRange=function(i){var l=this.getBrushRange(),c=l.start,f=l.end,v=this.spreadsheet.facet.getScrollOffset().scrollX,g=this.spreadsheet.facet.cornerBBox,m=i.x,_=void 0===m?0:m,b=i.y,A=void 0===b?0:b,I=i.width,F=i.height;return this.rectanglesIntersect({minX:c.x-g.width+v,minY:c.y,maxX:f.x-g.width+v,maxY:f.y},{minX:_,maxX:_+(void 0===I?0:I),minY:A,maxY:A+(void 0===F?0:F)})},o.prototype.updateSelectedCells=function(){var i=this.spreadsheet.interaction;i.changeState({cells:$r(this.brushRangeCells,Vo),stateName:Qe.SELECTED,onUpdateCells:function(l){l.updateCells(l.getAllColHeaderCells())}}),this.spreadsheet.emit(ae.COL_CELL_BRUSH_SELECTION,this.brushRangeCells),this.spreadsheet.emit(ae.GLOBAL_SELECTED,this.brushRangeCells),Ve(this.brushRangeCells)&&i.removeIntercepts([hr.HOVER])},o.prototype.addBrushIntercepts=function(){this.spreadsheet.interaction.addIntercepts([hr.COL_BRUSH_SELECTION])},o}(u),d=function(a){function o(){var i=null!==a&&a.apply(this,arguments)||this;return i.displayedCells=[],i.brushRangeCells=[],i.getSelectedCellMetas=function(l){var c=[],f=i.spreadsheet.facet.layoutResult,v=f.rowLeafNodes,g=void 0===v?[]:v,m=f.colLeafNodes,_=void 0===m?[]:m,b=Lc(l.start.rowIndex,l.end.rowIndex+1),A=Lc(l.start.colIndex,l.end.colIndex+1);return b.forEach(function(I){A.forEach(function(O){var F=String(_[O].id),B=Ve(g)?String(I):String(g[I].id);c.push({colIndex:O,rowIndex:I,id:"".concat(B,"-").concat(F),type:We.DATA_CELL,rowId:B,colId:F,spreadsheet:i.spreadsheet})})}),c},i}return Sr(o,a),o.prototype.bindMouseDown=function(){var i=this;this.spreadsheet.on(ae.DATA_CELL_MOUSE_DOWN,function(l){i.spreadsheet.interaction.getBrushSelection().data&&(a.prototype.mouseDown.call(i,l),i.resetScrollDelta())})},o.prototype.bindMouseMove=function(){var i=this;this.spreadsheet.on(ae.GLOBAL_MOUSE_MOVE,function(l){if(i.brushSelectionStage!==di.UN_DRAGGED){i.setBrushSelectionStage(di.DRAGGED);var c=i.spreadsheet.container.getPointByEvent(l);i.autoBrushScroll(c)||i.renderPrepareSelected(c)}})},o.prototype.isInBrushRange=function(i){var l=this.getBrushRange(),c=l.start,f=l.end,v=i.rowIndex,g=i.colIndex;return v>=c.rowIndex&&v<=f.rowIndex&&g>=c.colIndex&&g<=f.colIndex},o.prototype.updateSelectedCells=function(){var i=this.getBrushRange(),l=this.getSelectedCellMetas(i);this.spreadsheet.interaction.changeState({cells:l,stateName:Qe.SELECTED,onUpdateCells:R1});var c=this.getScrollBrushRangeCells(l);this.emitBrushSelectionEvent(ae.DATA_CELL_BRUSH_SELECTION,c)},o.prototype.getScrollBrushRangeCells=function(i){var l=this;return i.map(function(c){var f=l.getVisibleBrushRangeCells(c.id);if(f)return f;var v=l.spreadsheet.facet.layoutResult.getCellMeta(c.rowIndex,c.colIndex);return new(l.spreadsheet.isTableMode()?Yc:Al)(v,l.spreadsheet)})},o.prototype.bindMouseUp=function(){a.prototype.bindMouseUp.call(this,!0)},o.prototype.getPrepareSelectMaskPosition=function(i){var l=this.spreadsheet.facet.panelBBox,f=l.minY;return{x:Math.max(i.start.x,l.minX),y:Math.max(i.start.y,f)}},o}(u),p=function(a){function o(){var i=null!==a&&a.apply(this,arguments)||this;return i.isInBrushRange=function(l){var c=i.getBrushRange(),f=c.start,v=c.end,g=i.spreadsheet.facet.getScrollOffset(),m=g.scrollY,_=g.rowHeaderScrollX,b=i.spreadsheet.facet.cornerBBox,A=l.x,I=void 0===A?0:A,O=l.y,F=void 0===O?0:O,B=l.width,H=l.height;return i.rectanglesIntersect({minX:f.x+_,minY:f.y-b.height+m,maxX:v.x+_,maxY:v.y-b.height+m},{minX:I,maxX:I+(void 0===B?0:B),minY:F,maxY:F+(void 0===H?0:H)})},i.onUpdateCells=function(l){return l.updateCells(l.getAllRowHeaderCells())},i.getSelectedRowNodes=function(){return i.spreadsheet.getRowNodes().filter(i.isInBrushRange)},i.getVisibleRowLeafCellByScrollDirection=function(l){var c=i.spreadsheet.interaction.getAllRowHeaderCells();return l===Wn.SCROLL_DOWN?hn(c):c.find(function(f){return f.getMeta().isLeaf})},i.getWillScrollToRowIndex=function(l){var c,f;if(!fn(i.endBrushPoint.rowIndex))return i.getDefaultWillScrollToRowIndex(l);var m=(null!==(f=null===(c=i.getVisibleRowLeafCellByScrollDirection(l)?.getMeta())||void 0===c?void 0:c.rowIndex)&&void 0!==f?f:0)+i.getWillScrollRowIndexDiff(l);return i.validateYIndex(m)},i}return Sr(o,a),o.prototype.bindMouseDown=function(){var i=this;this.spreadsheet.on(ae.ROW_CELL_MOUSE_DOWN,function(l){i.spreadsheet.interaction.getBrushSelection().row&&a.prototype.mouseDown.call(i,l)})},o.prototype.isPointInCanvas=function(i){var l=this.spreadsheet.facet.getCanvasHW().height,c=this.spreadsheet.facet.cornerBBox;return i.x>=c.minX&&i.x<=c.maxX&&i.y>=c.height&&i.y<=l},o.prototype.bindMouseMove=function(){var i=this;this.spreadsheet.on(ae.GLOBAL_MOUSE_MOVE,function(l){if(i.brushSelectionStage!==di.UN_DRAGGED){i.setBrushSelectionStage(di.DRAGGED);var c=i.spreadsheet.container.getPointByEvent(l);i.autoBrushScroll(c,!0)||i.renderPrepareSelected(c)}})},o.prototype.setDisplayedCells=function(){this.displayedCells=this.spreadsheet.interaction.getAllRowHeaderCells()},o.prototype.updateSelectedCells=function(){var i=this.getSelectedRowNodes(),l=this.getScrollBrushRangeCells(i),c=$r(l,Vo);this.spreadsheet.interaction.changeState({cells:c,stateName:Qe.SELECTED,onUpdateCells:this.onUpdateCells}),this.emitBrushSelectionEvent(ae.ROW_CELL_BRUSH_SELECTION,l)},o.prototype.addBrushIntercepts=function(){this.spreadsheet.interaction.addIntercepts([hr.ROW_BRUSH_SELECTION])},o.prototype.getScrollBrushRangeCells=function(i){var l=this;return i.map(function(c){return l.getVisibleBrushRangeCells(c.id)||new r0(c,l.spreadsheet)})},o.prototype.getPrepareSelectMaskPosition=function(i){return{x:i.start.x,y:Math.max(i.start.y,this.spreadsheet.facet.panelBBox.minY)}},o}(u),y=function(a){function o(){var i=null!==a&&a.apply(this,arguments)||this;return i.isMultiSelection=!1,i}return Sr(o,a),o.prototype.bindEvents=function(){this.bindKeyboardDown(),this.bindDataCellClick(),this.bindKeyboardUp(),this.bindMouseMove()},o.prototype.reset=function(){this.isMultiSelection=!1,this.spreadsheet.interaction.removeIntercepts([hr.CLICK])},o.prototype.bindKeyboardDown=function(){var i=this;this.spreadsheet.on(ae.GLOBAL_KEYBOARD_DOWN,function(l){n0(l)&&(i.isMultiSelection=!0,i.spreadsheet.interaction.addIntercepts([hr.CLICK]))})},o.prototype.bindKeyboardUp=function(){var i=this;this.spreadsheet.on(ae.GLOBAL_KEYBOARD_UP,function(l){n0(l)&&i.reset()})},o.prototype.bindMouseMove=function(){var i=this;this.spreadsheet.on(ae.GLOBAL_MOUSE_MOVE,function(l){i.isMultiSelection&&!a0(l)&&i.reset()})},o.prototype.getSelectedCells=function(i){var l=i.getMeta().id,c=this.spreadsheet.interaction,f=c.getCells([We.DATA_CELL]);return c.getCurrentStateName()!==Qe.SELECTED&&(f=[]),f.find(function(g){return g.id===l})?f.filter(function(g){return g.id!==l}):Ae(Ae([],de(f),!1),[Vo(i)],!1)},o.prototype.bindDataCellClick=function(){var i=this;this.spreadsheet.on(ae.DATA_CELL_CLICK,function(l){l.stopPropagation();var c=i.spreadsheet.getCell(l.target),f=c.getMeta(),g=i.spreadsheet.interaction;if(i.isMultiSelection&&f){var m=i.getSelectedCells(c);if(Ve(m))return g.clearState(),void i.spreadsheet.hideTooltip();g.addIntercepts([hr.CLICK,hr.HOVER]),i.spreadsheet.hideTooltip(),g.changeState({cells:m,stateName:Qe.SELECTED,onUpdateCells:R1}),i.spreadsheet.emit(ae.GLOBAL_SELECTED,g.getActiveCells()),i.spreadsheet.showTooltipWithInfo(l,Y1(i.spreadsheet))}})},o}(po),x=function(){function a(o){var i=this;this.canvasEventHandlers=[],this.s2EventHandlers=[],this.domEventListeners=[],this.isCanvasEffect=!1,this.isGuiIconShape=function(l){return l instanceof J0&&l.attrs.type===Af.type},this.onCanvasMousedown=function(l){if(i.target=l.target,i.spreadsheet.interaction.clearHoverTimer(),i.isResizeArea(l)){i.spreadsheet.emit(ae.LAYOUT_RESIZE_MOUSE_DOWN,l);var c=function(v){if(!i.spreadsheet.getCanvasElement())return!1;i.spreadsheet.getCanvasElement()!==v.target&&(l.clientX=v.clientX,l.clientY=v.clientY,l.originalEvent=v,i.spreadsheet.emit(ae.LAYOUT_RESIZE_MOUSE_MOVE,l))};return window.addEventListener("mousemove",c),void window.addEventListener("mouseup",function(){window.removeEventListener("mousemove",c)},{once:!0})}switch(i.spreadsheet.getCellType(l.target)){case We.DATA_CELL:i.spreadsheet.emit(ae.DATA_CELL_MOUSE_DOWN,l);break;case We.ROW_CELL:i.spreadsheet.emit(ae.ROW_CELL_MOUSE_DOWN,l);break;case We.COL_CELL:i.spreadsheet.emit(ae.COL_CELL_MOUSE_DOWN,l);break;case We.CORNER_CELL:i.spreadsheet.emit(ae.CORNER_CELL_MOUSE_DOWN,l);break;case We.MERGED_CELL:i.spreadsheet.emit(ae.MERGED_CELLS_MOUSE_DOWN,l)}},this.onCanvasMousemove=function(l){if(i.canvasMousemoveEvent=l,i.isResizeArea(l))return i.activeResizeArea(l),void i.spreadsheet.emit(ae.LAYOUT_RESIZE_MOUSE_MOVE,l);i.resetResizeArea();var c=i.spreadsheet.getCell(l.target);if(c){var f=c.cellType;switch(f){case We.DATA_CELL:i.spreadsheet.emit(ae.DATA_CELL_MOUSE_MOVE,l);break;case We.ROW_CELL:i.spreadsheet.emit(ae.ROW_CELL_MOUSE_MOVE,l);break;case We.COL_CELL:i.spreadsheet.emit(ae.COL_CELL_MOUSE_MOVE,l);break;case We.CORNER_CELL:i.spreadsheet.emit(ae.CORNER_CELL_MOUSE_MOVE,l);break;case We.MERGED_CELL:i.spreadsheet.emit(ae.MERGED_CELLS_MOUSE_MOVE,l)}if(!i.hasBrushSelectionIntercepts())switch(i.spreadsheet.emit(ae.GLOBAL_HOVER,l),f){case We.DATA_CELL:i.spreadsheet.emit(ae.DATA_CELL_HOVER,l);break;case We.ROW_CELL:i.spreadsheet.emit(ae.ROW_CELL_HOVER,l);break;case We.COL_CELL:i.spreadsheet.emit(ae.COL_CELL_HOVER,l);break;case We.CORNER_CELL:i.spreadsheet.emit(ae.CORNER_CELL_HOVER,l);break;case We.MERGED_CELL:i.spreadsheet.emit(ae.MERGED_CELLS_HOVER,l)}}},this.onCanvasMouseup=function(l){if(i.isResizeArea(l))i.spreadsheet.emit(ae.LAYOUT_RESIZE_MOUSE_UP,l);else{var c=i.spreadsheet.getCell(l.target);if(c){var f=c.cellType;if(i.target===l.target){var v=i.isGuiIconShape(l.target);switch(f){case We.DATA_CELL:i.spreadsheet.emit(ae.DATA_CELL_CLICK,l);break;case We.ROW_CELL:if(v)break;i.spreadsheet.emit(ae.ROW_CELL_CLICK,l);break;case We.COL_CELL:if(v)break;i.spreadsheet.emit(ae.COL_CELL_CLICK,l);break;case We.CORNER_CELL:if(v)break;i.spreadsheet.emit(ae.CORNER_CELL_CLICK,l);break;case We.MERGED_CELL:i.spreadsheet.emit(ae.MERGED_CELLS_CLICK,l)}}switch(f){case We.DATA_CELL:i.spreadsheet.emit(ae.DATA_CELL_MOUSE_UP,l);break;case We.ROW_CELL:i.spreadsheet.emit(ae.ROW_CELL_MOUSE_UP,l);break;case We.COL_CELL:i.spreadsheet.emit(ae.COL_CELL_MOUSE_UP,l);break;case We.CORNER_CELL:i.spreadsheet.emit(ae.CORNER_CELL_MOUSE_UP,l);break;case We.MERGED_CELL:i.spreadsheet.emit(ae.MERGED_CELLS_MOUSE_UP,l)}}}},this.onCanvasClick=function(l){i.spreadsheet.emit(ae.GLOBAL_CLICK,l)},this.onCanvasDoubleClick=function(l){var c=i.spreadsheet;if(i.isResizeArea(l))c.emit(ae.LAYOUT_RESIZE_MOUSE_UP,l);else{c.emit(ae.GLOBAL_DOUBLE_CLICK,l);var f=c.getCell(l.target);if(f&&i.target===l.target)switch(f.cellType){case We.DATA_CELL:c.emit(ae.DATA_CELL_DOUBLE_CLICK,l);break;case We.ROW_CELL:c.emit(ae.ROW_CELL_DOUBLE_CLICK,l);break;case We.COL_CELL:c.emit(ae.COL_CELL_DOUBLE_CLICK,l);break;case We.CORNER_CELL:c.emit(ae.CORNER_CELL_DOUBLE_CLICK,l);break;case We.MERGED_CELL:c.emit(ae.MERGED_CELLS_DOUBLE_CLICK,l)}}},this.onCanvasMouseout=function(l){if(i.isAutoResetSheetStyle&&!l?.shape){var c=i.spreadsheet.interaction;!c.isSelectedState()&&!(c.intercepts.size>0)&&c.reset()}},this.onCanvasContextMenu=function(l){var c=i.spreadsheet;if(i.isResizeArea(l))c.emit(ae.LAYOUT_RESIZE_MOUSE_UP,l);else switch(c.emit(ae.GLOBAL_CONTEXT_MENU,l),i.spreadsheet.getCellType(l.target)){case We.DATA_CELL:i.spreadsheet.emit(ae.DATA_CELL_CONTEXT_MENU,l);break;case We.ROW_CELL:i.spreadsheet.emit(ae.ROW_CELL_CONTEXT_MENU,l);break;case We.COL_CELL:i.spreadsheet.emit(ae.COL_CELL_CONTEXT_MENU,l);break;case We.CORNER_CELL:i.spreadsheet.emit(ae.CORNER_CELL_CONTEXT_MENU,l);break;case We.MERGED_CELL:i.spreadsheet.emit(ae.MERGED_CELLS_CONTEXT_MENU,l)}},this.spreadsheet=o,this.bindEvents()}return Object.defineProperty(a.prototype,"canvasContainer",{get:function(){return this.spreadsheet.container},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isAutoResetSheetStyle",{get:function(){return this.spreadsheet.options.interaction.autoResetSheetStyle},enumerable:!1,configurable:!0}),a.prototype.bindEvents=function(){var o=this;this.clearAllEvents(),this.addCanvasEvent(Yi.CLICK,this.onCanvasClick),this.addCanvasEvent(Yi.MOUSE_DOWN,this.onCanvasMousedown),this.addCanvasEvent(Yi.MOUSE_MOVE,this.onCanvasMousemove),this.addCanvasEvent(Yi.MOUSE_OUT,this.onCanvasMouseout),this.addCanvasEvent(Yi.MOUSE_UP,this.onCanvasMouseup),this.addCanvasEvent(Yi.DOUBLE_CLICK,this.onCanvasDoubleClick),this.addCanvasEvent(Yi.CONTEXT_MENU,this.onCanvasContextMenu),this.addS2Event(ae.GLOBAL_ACTION_ICON_CLICK,function(){o.spreadsheet.interaction.addIntercepts([hr.HOVER]),o.spreadsheet.interaction.clearState()}),this.addDomEventListener(window,Yi.CLICK,function(i){o.resetSheetStyle(i),o.isCanvasEffect=o.isMouseOnTheCanvasContainer(i)}),this.addDomEventListener(window,Yi.KEY_DOWN,function(i){o.onKeyboardCopy(i),o.onKeyboardEsc(i),o.spreadsheet.emit(ae.GLOBAL_KEYBOARD_DOWN,i)}),this.addDomEventListener(window,Yi.KEY_UP,function(i){o.spreadsheet.emit(ae.GLOBAL_KEYBOARD_UP,i)}),this.addDomEventListener(window,Yi.MOUSE_UP,function(i){o.spreadsheet.emit(ae.GLOBAL_MOUSE_UP,i)}),this.addDomEventListener(window,Yi.MOUSE_MOVE,function(i){o.spreadsheet.emit(ae.GLOBAL_MOUSE_MOVE,i)})},a.prototype.onKeyboardCopy=function(o){if(this.isCanvasEffect&&this.spreadsheet.options.interaction.enableCopy&&bb(o.key,vi.COPY)&&(o.metaKey||o.ctrlKey)){var i=uF(this.spreadsheet);fn(i)||this.spreadsheet.emit(ae.GLOBAL_COPIED,i)}},a.prototype.onKeyboardEsc=function(o){this.isCanvasEffect&&bb(o.key,vi.ESC)&&this.resetSheetStyle(o)},a.prototype.resetSheetStyle=function(o){if(this.isAutoResetSheetStyle&&this.spreadsheet){var i=this.spreadsheet.interaction;if(i.hasIntercepts([hr.BRUSH_SELECTION,hr.COL_BRUSH_SELECTION,hr.ROW_BRUSH_SELECTION]))return void i.removeIntercepts([hr.BRUSH_SELECTION,hr.ROW_BRUSH_SELECTION,hr.COL_BRUSH_SELECTION]);this.isMouseOnTheTooltip(o)||this.isMouseOnTheCanvasContainer(o)||(this.spreadsheet.emit(ae.GLOBAL_RESET,o),i.reset())}},a.prototype.isMouseEvent=function(o){return rf(o,"clientX")&&rf(o,"clientY")},a.prototype.isMouseOnTheCanvasContainer=function(o){if(this.isMouseEvent(o)){var i=this.spreadsheet.getCanvasElement();if(!i)return!1;var l=i.getBoundingClientRect()||{},c=l.x,f=l.y,v=this.getContainerRect(),g=v.width,m=v.height;return i.contains(o.target)&&o.clientX<=c+g&&o.clientY<=f+m}return!1},a.prototype.getContainerRect=function(){var o,i=(null===(o=this.spreadsheet.facet)||void 0===o?void 0:o.panelBBox)||{},c=i.maxY,f=this.spreadsheet.options,g=f.height;return{width:Math.min(f.width,i.maxX),height:Math.min(g,c)}},a.prototype.isMouseOnTheTooltip=function(o){var i,l,c,f;if(!this.spreadsheet.tooltip?.visible)return!1;var g=(null===(c=null===(l=null===(i=this.spreadsheet.tooltip)||void 0===i?void 0:i.container)||void 0===l?void 0:l.getBoundingClientRect)||void 0===c?void 0:c.call(l))||{},m=g.x,_=g.y,b=g.width,A=g.height;return o.target instanceof Node?function(a,o){for(var i=!1,l=o;l&&l!==document.body;){if(a===l){i=!0;break}l=l.parentElement}return i}(null===(f=this.spreadsheet.tooltip)||void 0===f?void 0:f.container,o.target):!!this.isMouseEvent(o)&&o.clientX>=m&&o.clientX<=m+b&&o.clientY>=_&&o.clientY<=_+A},a.prototype.isResizeArea=function(o){return nr(o.target,"attrs.appendInfo")?.isResizeArea},a.prototype.activeResizeArea=function(o){this.resetResizeArea();var i=o.target;this.spreadsheet.store.set("activeResizeArea",i),i.attr(ga.backgroundOpacity,this.spreadsheet.theme.resizeArea.interactionState.hover.backgroundOpacity)},a.prototype.resetResizeArea=function(){var o=this.spreadsheet.store.get("activeResizeArea");Ve(o)||o.attr(ga.backgroundOpacity,this.spreadsheet.theme.resizeArea.backgroundOpacity),this.spreadsheet.store.set("activeResizeArea",o)},a.prototype.hasBrushSelectionIntercepts=function(){return this.spreadsheet.interaction.hasIntercepts([hr.HOVER,hr.BRUSH_SELECTION,hr.ROW_BRUSH_SELECTION,hr.COL_BRUSH_SELECTION])},a.prototype.clear=function(){this.unbindEvents()},a.prototype.unbindEvents=function(){this.clearAllEvents()},a.prototype.addCanvasEvent=function(o,i){var l;null===(l=this.canvasContainer)||void 0===l||l.on(o,i),this.canvasEventHandlers.push({type:o,handler:i})},a.prototype.addS2Event=function(o,i){this.spreadsheet.on(o,i),this.s2EventHandlers.push({type:o,handler:i})},a.prototype.addDomEventListener=function(o,i,l){if(o.addEventListener){var c=this.spreadsheet.options.interaction.eventListenerOptions;o.addEventListener(i,l,c),this.domEventListeners.push({target:o,type:i,handler:l,options:c})}else console.error("Please make sure ".concat(o," has addEventListener function"))},a.prototype.clearAllEvents=function(){var o=this;Cr(this.canvasEventHandlers,function(i){var l;null===(l=o.canvasContainer)||void 0===l||l.off(i.type,i.handler)}),Cr(this.s2EventHandlers,function(i){o.spreadsheet.off(i.type,i.handler)}),Cr(this.domEventListeners,function(i){i.target.removeEventListener(i.type,i.handler,i.options)}),this.canvasEventHandlers=[],this.s2EventHandlers=[],this.domEventListeners=[]},a}(),w=function(a){function o(){var i=null!==a&&a.apply(this,arguments)||this;return i.isRangeSelection=!1,i.handleColClick=function(l){l.stopPropagation();var c=i.spreadsheet.interaction,f=i.spreadsheet.getCell(l.target),v=f?.getMeta();if(!fn(v?.x)){c.addIntercepts([hr.HOVER]);var g=[Vo(f)],m=i.spreadsheet.store.get("lastClickedCell");if(i.isRangeSelection&&m&&m.cellType===f.cellType&&m.getMeta().level===f.getMeta().level){var _=de([i.spreadsheet.facet.layoutResult.rowsHierarchy.maxLevel,i.spreadsheet.facet.layoutResult.colsHierarchy.maxLevel],2),b=_[0],A=_[1],I=O1(m.getMeta(),f.getMeta()),O=I.start,F=I.end;f instanceof Al?g=i.handleSeriesNumberRowSelected(O.rowIndex,F.rowIndex,f):f.cellType===We.ROW_CELL&&f.getMeta().level===b?g=i.handleRowSelected(O.rowIndex,F.rowIndex,f):f.cellType===We.COL_CELL&&f.getMeta().level===A&&(g=i.handleColSelected(O.colIndex,F.colIndex,f)),c.changeState({cells:g,stateName:Qe.SELECTED})}else Ve(c.getCells())&&c.removeIntercepts([hr.HOVER]),i.spreadsheet.store.set("lastClickedCell",f);var B=g.map(function(P){return P.id});c.updateCells(c.getRowColActiveCells(B)),i.spreadsheet.emit(ae.GLOBAL_SELECTED,c.getActiveCells())}},i}return Sr(o,a),o.prototype.bindEvents=function(){this.bindKeyboardDown(),this.bindDataCellClick(),this.bindColCellClick(),this.bindKeyboardUp(),this.bindMouseMove()},o.prototype.reset=function(){this.isRangeSelection=!1,this.spreadsheet.interaction.removeIntercepts([hr.CLICK])},o.prototype.bindKeyboardDown=function(){var i=this;this.spreadsheet.on(ae.GLOBAL_KEYBOARD_DOWN,function(l){l.key===vi.SHIFT&&(i.isRangeSelection=!0,i.spreadsheet.interaction.addIntercepts([hr.CLICK]))})},o.prototype.bindKeyboardUp=function(){var i=this;this.spreadsheet.on(ae.GLOBAL_KEYBOARD_UP,function(l){l.key===vi.SHIFT&&i.reset()})},o.prototype.bindMouseMove=function(){var i=this;this.spreadsheet.on(ae.GLOBAL_MOUSE_MOVE,function(l){i.isRangeSelection&&!l.shiftKey&&i.reset()})},o.prototype.bindColCellClick=function(){var i=this;this.spreadsheet.isTableMode()&&this.spreadsheet.on(ae.ROW_CELL_CLICK,function(l){i.handleColClick(l)}),this.spreadsheet.on(ae.COL_CELL_CLICK,function(l){i.handleColClick(l)})},o.prototype.bindDataCellClick=function(){var i=this;this.spreadsheet.on(ae.DATA_CELL_CLICK,function(l){l.stopPropagation();var c=i.spreadsheet.getCell(l.target),f=c.getMeta(),v=i.spreadsheet.interaction;if(f){var g=i.spreadsheet.store.get("lastClickedCell");if(!i.isRangeSelection||g?.cellType!==c.cellType)return void i.spreadsheet.store.set("lastClickedCell",c);var _=O1(g.getMeta(),c.getMeta()),b=_.start,A=_.end,I=Lc(b.colIndex,A.colIndex+1).flatMap(function(O){var F=i.spreadsheet.facet.layoutResult.colLeafNodes[O].id;return Lc(b.rowIndex,A.rowIndex+1).map(function(B){return{id:(i.spreadsheet.facet.getSeriesNumberWidth()||i.spreadsheet.isTableMode()?String(B):i.spreadsheet.facet.layoutResult.rowLeafNodes[B].id)+"-"+F,colIndex:O,rowIndex:B,type:c.cellType}})});v.addIntercepts([hr.CLICK,hr.HOVER]),v.changeState({cells:I,stateName:Qe.SELECTED}),i.spreadsheet.showTooltipWithInfo(l,Y1(i.spreadsheet)),i.spreadsheet.emit(ae.GLOBAL_SELECTED,v.getActiveCells())}})},o.prototype.handleSeriesNumberRowSelected=function(i,l,c){var f=this.spreadsheet.facet.layoutResult.colLeafNodes[0].id;return Lc(i,l+1).map(function(v){return{id:String(v)+"-"+f,colIndex:0,rowIndex:v,type:c.cellType}})},o.prototype.handleRowSelected=function(i,l,c){return this.spreadsheet.facet.layoutResult.rowNodes.filter(function(f){return Jy(f.rowIndex,i,l+1)}).map(function(f){return{id:f.id,colIndex:f.colIndex,rowIndex:f.rowIndex,type:c.cellType}})},o.prototype.handleColSelected=function(i,l,c){return this.spreadsheet.facet.layoutResult.colLeafNodes.filter(function(f){return Jy(f.colIndex,i,l+1)}).map(function(f){return{id:f.id,colIndex:f.colIndex,rowIndex:f.rowIndex,type:c.cellType}})},o}(po),M=function(a){function o(){var i=null!==a&&a.apply(this,arguments)||this;return i.resizeStartPosition={},i.resizeMouseMove=function(l){var c,f;if(null!==(c=i.resizeReferenceGroup)&&void 0!==c&&c.get("visible")){null===(f=l?.preventDefault)||void 0===f||f.call(l);var v=l.originalEvent,g=i.getResizeInfo(),m=i.resizeReferenceGroup.getChildren()||[];if(!Ve(m)){var b=de(m,2)[1],A=de(Ss(b.attr("path")),2),I=A[0],O=A[1];g.type===ya.Horizontal?i.updateHorizontalResizingEndGuideLinePosition(v,g,I,O):i.updateVerticalResizingEndGuideLinePosition(v,g,I,O),i.updateResizeGuideLineTheme(b),b.attr("path",[I,O])}}},i}return Sr(o,a),o.prototype.bindEvents=function(){this.bindMouseDown(),this.bindMouseMove(),this.bindMouseUp()},o.prototype.initResizeGroup=function(){if(!this.resizeReferenceGroup){this.resizeReferenceGroup=this.spreadsheet.foregroundGroup.addGroup();var i=this.spreadsheet.options,l=i.width,c=i.height,f=this.getResizeAreaTheme(),_={path:"",lineDash:f.guideLineDash,stroke:f.guideLineColor,lineWidth:f.size};this.resizeReferenceGroup.addShape("path",{id:"RESIZE_START_GUIDE_LINE",attrs:_}),this.resizeReferenceGroup.addShape("path",{id:"RESIZE_END_GUIDE_LINE",attrs:_}),this.resizeReferenceGroup.addShape("rect",{id:"RESIZE_MASK",attrs:{appendInfo:{isResizeArea:!0},x:0,y:0,width:l,height:c,fill:"transparent"}})}},o.prototype.getResizeAreaTheme=function(){return this.spreadsheet.theme.resizeArea},o.prototype.setResizeTarget=function(i){this.resizeTarget=i},o.prototype.getGuideLineWidthAndHeight=function(){var i=this.spreadsheet.options,c=i.height,f=this.spreadsheet.facet.panelBBox,v=f.maxY;return{width:Math.min(f.maxX,i.width),height:Math.min(v,c)}},o.prototype.getResizeShapes=function(){var i;return(null===(i=this.resizeReferenceGroup)||void 0===i?void 0:i.get("children"))||[]},o.prototype.setResizeMaskCursor=function(i){de(this.getResizeShapes(),3)[2]?.attr("cursor",i)},o.prototype.updateResizeGuideLinePosition=function(i,l){var c=this.getResizeShapes();if(!Ve(c)){var f=de(c,2),v=f[0],g=f[1],m=l.type,_=l.offsetX,b=l.offsetY,A=l.width,I=l.height,O=this.getGuideLineWidthAndHeight(),F=O.width,B=O.height;if(this.setResizeMaskCursor("".concat(m,"-resize")),m===ya.Horizontal)return v.attr("path",[["M",_,b],["L",_,B]]),g.attr("path",[["M",_+A,b],["L",_+A,B]]),this.resizeStartPosition.offsetX=i.offsetX,void(this.resizeStartPosition.clientX=i.clientX);v.attr("path",[["M",_,b],["L",F,b]]),g.attr("path",[["M",_,b+I],["L",F,b+I]]),this.resizeStartPosition.offsetY=i.offsetY,this.resizeStartPosition.clientY=i.clientY}},o.prototype.bindMouseDown=function(){var i=this;this.spreadsheet.on(ae.LAYOUT_RESIZE_MOUSE_DOWN,function(l){var c=l.target,f=l.originalEvent,v=i.getCellAppendInfo(l.target);i.spreadsheet.store.set("resized",!1),v?.isResizeArea&&(i.spreadsheet.interaction.reset(),i.spreadsheet.interaction.addIntercepts([hr.RESIZE]),i.setResizeTarget(c),i.showResizeGroup(),i.updateResizeGuideLinePosition(f,v))})},o.prototype.bindMouseMove=function(){var i=this;this.spreadsheet.on(ae.LAYOUT_RESIZE_MOUSE_MOVE,function(l){Bm(i.resizeMouseMove,33)(l)})},o.prototype.getResizeGuideLinePosition=function(){var i=de(this.resizeReferenceGroup.getChildren()||[],2),c=i[1],f=i[0]?.attr("path")||[],v=c?.attr("path")||[],g=de(f[0]||[],3),m=g[1],_=void 0===m?0:m,b=g[2],A=void 0===b?0:b,I=de(v[0]||[],3),O=I[1],B=I[2];return{start:{x:_,y:A},end:{x:void 0===O?0:O,y:void 0===B?0:B}}},o.prototype.getDisAllowResizeInfo=function(){var i,l=this.getResizeInfo(),c=this.spreadsheet.options.interaction.resize,f=l.width,v=l.height,g=l.resizedWidth,m=l.resizedHeight,_=null===(i=c?.disable)||void 0===i?void 0:i.call(c,l);return{displayWidth:_?f:g,displayHeight:_?v:m,isDisabled:_}},o.prototype.getResizeWidthDetail=function(){var i,l,c=this.getResizeInfo(),f=this.getDisAllowResizeInfo().displayWidth;switch(c.effect){case ti.Field:return{eventType:ae.LAYOUT_RESIZE_ROW_WIDTH,style:{rowCfg:{widthByField:(i={},i[c.id]=f,i)}}};case ti.Tree:return{eventType:ae.LAYOUT_RESIZE_TREE_WIDTH,style:{treeRowsWidth:f,rowCfg:{treeRowsWidth:f}}};case ti.Cell:return{eventType:ae.LAYOUT_RESIZE_COL_WIDTH,style:{colCfg:{widthByFieldValue:(l={},l[c.id]=f,l)}}};case ti.Series:return{eventType:ae.LAYOUT_RESIZE_SERIES_WIDTH,seriesNumberWidth:f};default:return null}},o.prototype.getResizeHeightDetail=function(){var i,l,A,c=this.spreadsheet.options,f=c.interaction.resize,v=c.style.rowCfg.heightByField,g=this.spreadsheet.theme.rowCell.cell.padding,m=this.getResizeInfo(),_=this.getDisAllowResizeInfo().displayHeight,b=_-g.top-g.bottom;switch(m.effect){case ti.Field:return{eventType:ae.LAYOUT_RESIZE_COL_HEIGHT,style:{colCfg:{heightByField:(i={},i[m.id]=_,i)}}};case ti.Cell:return A=v?.[String(m.id)]||f?.rowResizeType===Ah.CURRENT?{rowCfg:{heightByField:(l={},l[m.id]=b,l)}}:{cellCfg:{height:b}},{eventType:ae.LAYOUT_RESIZE_ROW_HEIGHT,style:A};default:return null}},o.prototype.getResizeDetail=function(){return this.getResizeInfo().type===ya.Horizontal?this.getResizeWidthDetail():this.getResizeHeightDetail()},o.prototype.showResizeGroup=function(){this.initResizeGroup(),this.resizeReferenceGroup.set("visible",!0)},o.prototype.hideResizeGroup=function(){this.resizeReferenceGroup.set("visible",!1)},o.prototype.bindMouseUp=function(){var i=this;this.spreadsheet.on(ae.GLOBAL_MOUSE_UP,function(){var l;i.setResizeMaskCursor("default"),i.resizeReferenceGroup&&!Ve(null===(l=i.resizeReferenceGroup)||void 0===l?void 0:l.getChildren())&&(i.hideResizeGroup(),i.renderResizedResult())})},o.prototype.updateResizeGuideLineTheme=function(i){var l=this.getResizeAreaTheme(),c=l.guideLineColor,f=l.guideLineDisableColor,v=this.getDisAllowResizeInfo().isDisabled;i.attr("stroke",v?f:c),this.setResizeMaskCursor(v?"no-drop":"default")},o.prototype.updateHorizontalResizingEndGuideLinePosition=function(i,l,c,f){var v=i.clientX-this.resizeStartPosition.clientX;l.width+v<28&&(v=-(l.width-28));var g=l.offsetX+l.width+v;c[1]=g,f[1]=g,this.resizeTarget.attr({x:g-l.size/2})},o.prototype.updateVerticalResizingEndGuideLinePosition=function(i,l,c,f){var v=i.clientY-this.resizeStartPosition.clientY;l.height+v<16&&(v=-(l.height-16));var g=l.offsetY+l.height+v;c[2]=g,f[2]=g,this.resizeTarget.attr({y:g-l.size/2})},o.prototype.renderResizedResult=function(){var i=this.getResizeInfo(),l=this.getResizeDetail()||{},c=l.style,f=l.seriesNumberWidth,v=l.eventType,g={info:i,style:c};this.spreadsheet.emit(ae.LAYOUT_RESIZE,g),this.spreadsheet.emit(v,g),c&&this.spreadsheet.setOptions({style:c}),f&&this.spreadsheet.setTheme({rowCell:{seriesNumberWidth:f}}),this.spreadsheet.store.set("resized",!0),this.render()},o.prototype.getResizeInfo=function(){var i=this.getCellAppendInfo(this.resizeTarget),l=this.getResizeGuideLinePosition(),c=l.start,f=l.end,v=Math.floor(f.x-c.x),g=Math.floor(f.y-c.y);return Ft(Ft({},i),{resizedWidth:v,resizedHeight:g})},o.prototype.render=function(){this.resizeStartPosition={},this.resizeTarget=null,this.resizeReferenceGroup=null,this.spreadsheet.render(!1)},o}(po),T=[vi.ARROW_LEFT,vi.ARROW_RIGHT,vi.ARROW_UP,vi.ARROW_DOWN],L=function(a){function o(i){return a.call(this,i)||this}return Sr(o,a),o.prototype.isCanvasEffect=function(){return this.spreadsheet.interaction.eventController.isCanvasEffect},o.prototype.bindEvents=function(){var i=this;this.spreadsheet.on(ae.GLOBAL_KEYBOARD_DOWN,function(l){if(i.isCanvasEffect()){var c=l.shiftKey,f=l.metaKey,g=!1,m=!1,_=!1;T.includes(l.key)&&(f&&c?(g=!1,m=!0,_=!1):f?(g=!0,m=!0,_=!0):c?(g=!1,m=!1,_=!1):(g=!0,m=!1,_=!0),i.handleMove({event:l,changeStartCell:g,isJumpMode:m,isSingleSelection:_}))}}),this.spreadsheet.on(ae.DATA_CELL_CLICK,function(l){var c=i.spreadsheet.getCell(l.target).getMeta();c&&(i.startCell=i.getCellMetaFromViewMeta(c),i.endCell=i.startCell)})},o.prototype.getCellMetaFromViewMeta=function(i){return{rowIndex:i.rowIndex,colIndex:i.colIndex,id:i.id,type:We.DATA_CELL}},o.prototype.handleMove=function(i){var c=i.changeStartCell,v=i.isSingleSelection,g=this,m=g.spreadsheet,_=g.startCell,I=this.getMoveInfo(i.event.key,c?_:g.endCell,i.isJumpMode);if(I){var O=de([I.row,I.col],2),F=O[0],B=O[1];this.scrollToActiveCell(m,F,B);var P=this.generateCellMeta(m,F,B),H=v?[P]:this.getRangeCells(m,_,P);(function(a,o){var i=a.interaction;i.changeState({stateName:Qe.SELECTED,cells:o}),a.emit(ae.GLOBAL_SELECTED,i.getActiveCells())})(m,H),c&&(this.startCell=P),this.endCell=P,this.spreadsheet.emit(ae.DATA_CELL_SELECT_MOVE,H)}},o.prototype.generateCellMeta=function(i,l,c){var v=i.facet.layoutResult,g=v.colLeafNodes,m=v.rowLeafNodes,_=(0,i.isTableMode)()?String(l):m[l].id;return{rowIndex:l,colIndex:c,id:Gc(_,g[c].id),type:We.DATA_CELL}},o.prototype.getRangeCells=function(i,l,c){for(var f=O1(l,c),v=f.start,m=v.colIndex,_=f.end,b=_.rowIndex,A=_.colIndex,I=[],O=v.rowIndex;O<=b;O++)for(var F=m;F<=A;F++)I.push(this.generateCellMeta(i,O,F));return I},o.prototype.getMoveInfo=function(i,l,c){var f=this.spreadsheet,v=f.options,g=v.frozenColCount,_=v.frozenRowCount,b=void 0===_?0:_,A=v.frozenTrailingColCount,O=v.frozenTrailingRowCount,F=void 0===O?0:O,B=f.facet.layoutResult,P=B.rowLeafNodes,Y=de([0+(void 0===g?0:g),B.colLeafNodes.length-(void 0===A?0:A)-1],2),V=Y[0],j=Y[1],yt=de([0+b,(f.isTableMode()?f.dataSet.getDisplayDataSet().length:P.length)-F-1],2),Lt=yt[0],Pt=yt[1];if(l)switch(i){case vi.ARROW_RIGHT:return l.colIndex+1>j?void 0:{row:l.rowIndex,col:c?j:l.colIndex+1};case vi.ARROW_LEFT:return l.colIndex-1<V?void 0:{row:l.rowIndex,col:c?V:l.colIndex-1};case vi.ARROW_UP:return l.rowIndex-1<Lt?void 0:{row:c?Lt:l.rowIndex-1,col:l.colIndex};case vi.ARROW_DOWN:return l.rowIndex+1>Pt?void 0:{row:c?Pt:l.rowIndex+1,col:l.colIndex}}},o.prototype.calculateOffset=function(i,l,c){var f=i.options,v=f.frozenRowCount,g=void 0===v?0:v,m=f.frozenTrailingRowCount,_=void 0===m?0:m,b=i.facet,A=i.frozenColGroup,I=i.frozenTrailingColGroup,O=i.frozenRowGroup,F=i.frozenTrailingRowGroup,B=b.layoutResult.colLeafNodes,P=b.getScrollOffset(),H=P.scrollX,Y=P.scrollY,V=b.panelBBox,j=V.viewportHeight,yt=V.viewportWidth,Lt=nr(i,"theme.splitLine"),Pt=A?Math.floor(A.getBBox().width-Lt.verticalBorderWidth/2):0,ge=I?Math.floor(I.getBBox().width):0,Me=O?Math.floor(O.getBBox().height-Lt.horizontalBorderWidth/2):0,Ie=F?Math.floor(F.getBBox().height):0,Pe=ab(H,Y,b.viewCellWidths,b.viewCellHeights,{width:yt-Pt-ge,height:j-Me-Ie,x:Pt,y:Me},b.getRealScrollX(b.cornerBBox.width)),$e=-1,lr=-1,ir=B.find(function(Ze){return Ze.colIndex===c});return c<=Pe[0]?$e=ir.x-Pt:c>=Pe[1]&&c<B.length-_&&($e=ir.x+ir.width-yt+ge),l<=Pe[2]?lr=b.viewCellHeights.getCellOffsetY(l-g):l>=Pe[3]&&(lr=b.viewCellHeights.getCellOffsetY(l+1)+Ie-j),{offsetX:$e,offsetY:lr}},o.prototype.scrollToActiveCell=function(i,l,c){var f=this.calculateOffset(i,l,c),v=f.offsetX,g=f.offsetY,m=i.facet,_=i.facet.getScrollOffset();m.scrollWithAnimation({offsetX:{value:v>-1?v:_.scrollX},offsetY:{value:g>-1?g:_.scrollY}})},o}(po),R=function(){function a(o){var i=this;this.interactions=new Map,this.intercepts=new Set,this.hoverTimer=null,this.defaultState={cells:[],force:!1},this.onTriggerInteractionsResetEffect=function(){i.interactions.forEach(function(l){l.reset()})},this.selectAll=function(){i.changeState({stateName:Qe.ALL_SELECTED})},this.getCellChildrenNodes=function(l){var c,f=null===(c=l?.getMeta)||void 0===c?void 0:c.call(l),v=l?.cellType===We.ROW_CELL;return i.spreadsheet.isHierarchyTreeType()&&v?si.getAllLeaveNodes(f).filter(function(m){return m.rowIndex===f.rowIndex}):si.getAllChildrenNodes(f)},this.selectHeaderCell=function(l){var c;void 0===l&&(l={});var f=l.cell;if(!Ve(f)){var v=null===(c=f?.getMeta)||void 0===c?void 0:c.call(f);if(v&&!fn(v?.x)){i.addIntercepts([hr.HOVER]);var g=i.spreadsheet.isHierarchyTreeType(),m=f?.cellType===We.COL_CELL,_=i.getState(),b=i.isSelectedCell(f),A=l?.isMultiSelection&&i.isSelectedState(),I=b?[]:i.getCellChildrenNodes(f),O=b?[]:[Vo(f)];if(A&&(O=ko(_?.cells,O),I=ko(_?.nodes,I),b&&(O=O.filter(function(P){return P.id!==v.id}),I=I.filter(function(P){return!P?.id.includes(v.id)}))),Ve(O))return i.reset(),void i.spreadsheet.emit(ae.GLOBAL_SELECTED,i.getActiveCells());var F=I.filter(function(P){return P?.isLeaf});i.changeState({cells:O,nodes:F,stateName:Qe.SELECTED});var B=O.map(function(P){return P.id});return i.updateCells(i.getRowColActiveCells(B)),(!g||m)&&i.highlightNodes(I),i.spreadsheet.emit(ae.GLOBAL_SELECTED,i.getActiveCells()),!0}}},this.highlightNodes=function(l){void 0===l&&(l=[]),l.forEach(function(c){var f;null===(f=c?.belongsCell)||void 0===f||f.updateByState(Qe.SELECTED,c.belongsCell)})},this.mergeCells=function(l,c){LF(i.spreadsheet,l,c)},this.unmergeCell=function(l){OF(i.spreadsheet,l)},this.spreadsheet=o,this.registerEventController(),this.registerInteractions(),window.addEventListener("visibilitychange",this.onTriggerInteractionsResetEffect)}return a.prototype.destroy=function(){this.interactions.clear(),this.intercepts.clear(),this.eventController.clear(),this.clearHoverTimer(),this.resetState(),window.removeEventListener("visibilitychange",this.onTriggerInteractionsResetEffect)},a.prototype.reset=function(){this.clearState(),this.clearHoverTimer(),this.intercepts.clear(),this.spreadsheet.hideTooltip()},a.prototype.setState=function(o){!function(a,o){var i=o?.stateName;a.interaction.isEqualStateName(i)||(sT(a),a.hideTooltip(),a.store.set(hs,o))}(this.spreadsheet,o)},a.prototype.getState=function(){return this.spreadsheet.store.get(hs)||this.defaultState},a.prototype.setInteractedCells=function(o){var i=this.getInteractedCells().concat([o]),l=this.getState();l.interactedCells=i,this.setState(l)},a.prototype.getInteractedCells=function(){return this.getState()?.interactedCells||[]},a.prototype.resetState=function(){this.spreadsheet.store.set(hs,this.defaultState)},a.prototype.getCurrentStateName=function(){return this.getState().stateName},a.prototype.isEqualStateName=function(o){return this.getCurrentStateName()===o},a.prototype.isStateOf=function(o){return this.getState()?.stateName===o},a.prototype.isSelectedState=function(){return this.isStateOf(Qe.SELECTED)},a.prototype.isAllSelectedState=function(){return this.isStateOf(Qe.ALL_SELECTED)},a.prototype.isHoverFocusState=function(){return this.isStateOf(Qe.HOVER_FOCUS)},a.prototype.isHoverState=function(){return this.isStateOf(Qe.HOVER)},a.prototype.isActiveCell=function(o){return!!this.getCells().find(function(i){return o.getMeta().id===i.id})},a.prototype.isSelectedCell=function(o){return this.isSelectedState()&&this.isActiveCell(o)},a.prototype.getCells=function(o){var l=this.getState()?.cells||[];return fn(o)?l:l.filter(function(c){return o.includes(c.type)})},a.prototype.getActiveCells=function(){var o=this.getCells().map(function(l){return l.id}),i=this.getAllCells();return $r(o,function(l){return jn(i,function(c){var f;return(null===(f=c?.getMeta())||void 0===f?void 0:f.id)===l})}).filter(function(l){return l})},a.prototype.clearStyleIndependent=function(){!this.isSelectedState()&&!this.isHoverState()&&!this.isAllSelectedState()||this.getPanelGroupAllDataCells().forEach(function(o){o.hideInteractionShape()})},a.prototype.getPanelGroupAllUnSelectedDataCells=function(){var o=this;return this.getPanelGroupAllDataCells().filter(function(i){return!o.isActiveCell(i)})},a.prototype.getPanelGroupAllDataCells=function(){var o;return qf(null===(o=this.spreadsheet.panelGroup)||void 0===o?void 0:o.getChildren(),Al)},a.prototype.getAllRowHeaderCells=function(){var o,i,f=(null===(i=((null===(o=this.spreadsheet.foregroundGroup)||void 0===o?void 0:o.getChildren())||[]).find(function(v){return v instanceof NT})?.cfg)||void 0===i?void 0:i.children)||[];return qf(f,r0).filter(function(v){return v.cellType===We.ROW_CELL})},a.prototype.getAllColHeaderCells=function(){var o,i,f=(null===(i=((null===(o=this.spreadsheet.foregroundGroup)||void 0===o?void 0:o.getChildren())||[]).find(function(v){return v instanceof q1})?.cfg)||void 0===i?void 0:i.children)||[];return qf(f,Hf).filter(function(v){return v.cellType===We.COL_CELL})},a.prototype.getRowColActiveCells=function(o){return ko(this.getAllRowHeaderCells(),this.getAllColHeaderCells()).filter(function(i){return o.includes(i.getMeta().id)})},a.prototype.getAllCells=function(){return ko(this.getPanelGroupAllDataCells(),this.getAllRowHeaderCells(),this.getAllColHeaderCells())},a.prototype.hideColumns=function(o,i){void 0===o&&(o=[]),void 0===i&&(i=!0),jp(this.spreadsheet,o,i)},a.prototype.getBrushSelectionInfo=function(o){var i,l,c;return No(o)?{dataBrushSelection:o,rowBrushSelection:o,colBrushSelection:o}:{dataBrushSelection:null!==(i=o?.data)&&void 0!==i&&i,rowBrushSelection:null!==(l=o?.row)&&void 0!==l&&l,colBrushSelection:null!==(c=o?.col)&&void 0!==c&&c}},a.prototype.getDefaultInteractions=function(){var o=this.spreadsheet.options.interaction,i=o.resize,c=o.multiSelection,f=o.rangeSelection,v=o.selectedCellMove,g=this.getBrushSelectionInfo(o.brushSelection),m=g.dataBrushSelection,_=g.rowBrushSelection,b=g.colBrushSelection;return[{key:Ai.CORNER_CELL_CLICK,interaction:n},{key:Ai.DATA_CELL_CLICK,interaction:_k},{key:Ai.ROW_COLUMN_CLICK,interaction:r},{key:Ai.ROW_TEXT_CLICK,interaction:t},{key:Ai.MERGED_CELLS_CLICK,interaction:e},{key:Ai.HOVER,interaction:s,enable:!oi()},{key:Ai.BRUSH_SELECTION,interaction:d,enable:!oi()&&m},{key:Ai.ROW_BRUSH_SELECTION,interaction:p,enable:!oi()&&_},{key:Ai.COL_BRUSH_SELECTION,interaction:h,enable:!oi()&&b},{key:Ai.COL_ROW_RESIZE,interaction:M,enable:!oi()&&i},{key:Ai.DATA_CELL_MULTI_SELECTION,interaction:y,enable:!oi()&&c},{key:Ai.RANGE_SELECTION,interaction:w,enable:!oi()&&f},{key:Ai.SELECTED_CELL_MOVE,interaction:L,enable:!oi()&&v}]},a.prototype.registerInteractions=function(){var o=this,i=this.spreadsheet.options.interaction.customInteractions;this.interactions.clear(),this.getDefaultInteractions().forEach(function(c){!1!==c.enable&&o.interactions.set(c.key,new(0,c.interaction)(o.spreadsheet))}),Ve(i)||Cr(i,function(c){o.interactions.set(c.key,new(0,c.interaction)(o.spreadsheet))})},a.prototype.registerEventController=function(){this.eventController=new x(this.spreadsheet)},a.prototype.draw=function(){this.spreadsheet.container.draw()},a.prototype.clearState=function(){sT(this.spreadsheet)&&this.draw()},a.prototype.changeState=function(o){var i=this,l=this.spreadsheet.interaction,c=o.cells,v=o.force,g=o.stateName,m=o.onUpdateCells;if(Ve(void 0===c?[]:c)&&g===Qe.SELECTED)v&&l.changeState({cells:[],stateName:Qe.UNSELECTED});else{this.getCurrentStateName()===Qe.ALL_SELECTED&&this.clearStyleIndependent(),this.clearState(),this.setState(o);var _=function(){i.updatePanelGroupAllDataCells()};m?m(this,_):_(),this.draw()}},a.prototype.updatePanelGroupAllDataCells=function(){this.updateCells(this.getPanelGroupAllDataCells())},a.prototype.updateCells=function(o){void 0===o&&(o=[]),o.forEach(function(i){i.update()})},a.prototype.addIntercepts=function(o){var i=this;void 0===o&&(o=[]),o.forEach(function(l){i.intercepts.add(l)})},a.prototype.hasIntercepts=function(o){var i=this;return void 0===o&&(o=[]),o.some(function(l){return i.intercepts.has(l)})},a.prototype.removeIntercepts=function(o){var i=this;void 0===o&&(o=[]),o.forEach(function(l){i.intercepts.delete(l)})},a.prototype.clearHoverTimer=function(){clearTimeout(this.hoverTimer)},a.prototype.setHoverTimer=function(o){this.hoverTimer=o},a.prototype.getHoverTimer=function(){return this.hoverTimer},a.prototype.getSelectedCellHighlight=function(){var o=this.spreadsheet.options.interaction.selectedCellHighlight;if(No(o))return{rowHeader:o,colHeader:o,currentRow:!1,currentCol:!1};var i=o??{},l=i.rowHeader,f=i.colHeader,g=i.currentRow,_=i.currentCol;return{rowHeader:void 0!==l&&l,colHeader:void 0!==f&&f,currentRow:void 0!==g&&g,currentCol:void 0!==_&&_}},a.prototype.getHoverAfterScroll=function(){return this.spreadsheet.options.interaction.hoverAfterScroll},a.prototype.getHoverHighlight=function(){var o=this.spreadsheet.options.interaction.hoverHighlight;if(No(o))return{rowHeader:o,colHeader:o,currentRow:o,currentCol:o};var i=o??{},l=i.rowHeader,f=i.colHeader,g=i.currentRow,_=i.currentCol;return{rowHeader:void 0!==l&&l,colHeader:void 0!==f&&f,currentRow:void 0!==g&&g,currentCol:void 0!==_&&_}},a.prototype.getBrushSelection=function(){var o=this.spreadsheet.options.interaction.brushSelection;if(No(o))return{data:o,row:o,col:o};var i=o??{},l=i.data,f=i.row,g=i.col;return{data:void 0!==l&&l,row:void 0!==f&&f,col:void 0!==g&&g}},a}(),D=function(){function a(o){var i=this;this.viewport=window,this.isDevicePixelRatioChange=!1,this.init=function(){i.initDevicePixelRatioListener(),i.initDeviceZoomListener()},this.destroy=function(){i.removeDevicePixelRatioListener(),i.removeDeviceZoomListener()},this.removeDevicePixelRatioListener=function(){var l;null!==(l=i.devicePixelRatioMedia)&&void 0!==l&&l.removeEventListener?i.devicePixelRatioMedia.removeEventListener("change",i.renderByDevicePixelRatioChanged):i.devicePixelRatioMedia.removeListener(i.renderByDevicePixelRatioChanged)},this.initDeviceZoomListener=function(){var l,c;oi()||null===(c=null===(l=i.viewport)||void 0===l?void 0:l.visualViewport)||void 0===c||c.addEventListener("resize",i.renderByZoomScaleWithoutResizeEffect)},this.removeDeviceZoomListener=function(){var l,c;oi()||null===(c=null===(l=i.viewport)||void 0===l?void 0:l.visualViewport)||void 0===c||c.removeEventListener("resize",i.renderByZoomScaleWithoutResizeEffect)},this.renderByZoomScaleWithoutResizeEffect=function(l){i.isDevicePixelRatioChange=!1,i.renderByZoomScale(l)},this.renderByDevicePixelRatioChanged=function(){i.isDevicePixelRatioChange=!0,i.renderByDevicePixelRatio()},this.renderByDevicePixelRatio=function(l){void 0===l&&(l=window.devicePixelRatio);var c=i.spreadsheet,f=c.container,v=c.options,g=v.width,m=v.height,_=v.devicePixelRatio,b=i.spreadsheet.getCanvasElement();if(f.get("pixelRatio")!==l&&b){var I=Math.max(l,_,eE);f.set("pixelRatio",I),f.changeSize(g,m),i.spreadsheet.render(!1)}},this.renderByZoomScale=nf(function(l){var c=Math.ceil(l.target.scale);c>=1&&!i.isDevicePixelRatioChange&&i.renderByDevicePixelRatio(c)},350),this.spreadsheet=o}return a.prototype.initDevicePixelRatioListener=function(){var o;this.devicePixelRatioMedia=window.matchMedia("(resolution: ".concat(window.devicePixelRatio,"dppx)")),null!==(o=this.devicePixelRatioMedia)&&void 0!==o&&o.addEventListener?this.devicePixelRatioMedia.addEventListener("change",this.renderByDevicePixelRatioChanged):this.devicePixelRatioMedia.addListener(this.renderByDevicePixelRatioChanged)},a}(),k=function(){function a(o){this.visible=!1,this.position={x:0,y:0},this.spreadsheet=o}return a.prototype.show=function(o){var i,l,c,f=o.position,g=o.content,m=o.event,_=function(a){return Ft({operator:{onClick:tv,menus:[]},enterable:!0,enableFormat:!0},a)}(o.options).enterable,b=this.spreadsheet.options.tooltip||{},A=b.autoAdjustBoundary,I=b.adjustPosition;this.visible=!0,this.options=o;var O=this.getContainer();this.renderContent(g);var F=function(a){var o=a.spreadsheet,i=a.position,l=a.tooltipContainer,c=a.autoAdjustBoundary,f=o.getCanvasElement(),v=i.x+HM_x,g=i.y+10;if(!c||!f)return{x:v,y:g};var m="body"===c,_=o.facet.panelBBox,b=_.maxX,A=_.maxY,I=o.options,O=I.width,F=I.height,B=f.getBoundingClientRect(),P=B.top,H=B.left,Y=l.getBoundingClientRect(),V=Y.width,j=Y.height,yt=document.body.getBoundingClientRect(),Pt=yt.height,ge=m?yt.width:Math.min(O,b)+H,Me=m?Pt:Math.min(F,A)+P;return v+V>=ge&&(v=ge-V),g+j>=Me&&(g=Me-j),{x:v,y:g}}({spreadsheet:this.spreadsheet,position:f,tooltipContainer:O,autoAdjustBoundary:A}),B=F.x,P=F.y;this.position=null!==(i=I?.({position:{x:B,y:P},event:m}))&&void 0!==i?i:{x:B,y:P},v0(O,{style:{left:"".concat(null===(l=this.position)||void 0===l?void 0:l.x,"px"),top:"".concat(null===(c=this.position)||void 0===c?void 0:c.y,"px"),pointerEvents:_?"all":"none"},visible:!0})},a.prototype.hide=function(){this.visible=!1,this.container&&(v0(this.container,{style:{pointerEvents:"none"},visible:!1}),this.resetPosition())},a.prototype.destroy=function(){var o,i;this.visible=!1,this.container&&(this.resetPosition(),null===(i=(o=this.container).remove)||void 0===i||i.call(o),this.container=null)},a.prototype.renderContent=function(o){if(this.container){this.clearContent();var l=o??(this.spreadsheet.options.tooltip||{}).content;if(!fn(l)){if("string"==typeof l)return void(this.container.innerHTML=l);l instanceof Element&&this.container.appendChild(l)}}},a.prototype.clearContent=function(){this.container&&(this.container.innerHTML="")},a.prototype.disablePointerEvent=function(){this.container&&"none"!==this.container.style.pointerEvents&&v0(this.container,{style:{pointerEvents:"none"}})},a.prototype.resetPosition=function(){this.position={x:0,y:0}},a.prototype.getContainer=function(){var o;if(!this.container){var i=this.spreadsheet.options.tooltip,l=(null===(o=i.getContainer)||void 0===o?void 0:o.call(i))||document.body,c=document.createElement("div");return v0(c,{style:i.style,className:[Ym].concat(i.className)}),l.appendChild(c),this.container=c,this.container}return this.container},a}(),z=function(a){function o(i,l,c){var f=a.call(this)||this;return f.store=new v8,f.untypedOn=f.on,f.untypedEmit=f.emit,f.on=function(v,g){return f.untypedOn(v,g)},f.emit=function(v){for(var g=[],m=1;m<arguments.length;m++)g[m-1]=arguments[m];return f.untypedEmit.apply(f,Ae([v],de(g),!1))},f.initHiddenColumnsDetail=function(){var v=f.options.interaction.hiddenColumnFields,g=f.store.get("hiddenColumnsDetail");Ve(v)&&Ve(g)||jp(f,v,!0)},f.measureText=$n(function(v,g){var m;if(void 0===v&&(v=""),!g)return null;var _=null===(m=f.getCanvasElement())||void 0===m?void 0:m.getContext("2d"),I=g.fontFamily;return _.font=[g.fontStyle,g.fontVariant,g.fontWeight,"".concat(g.fontSize,"px"),I].join(" ").trim(),_.measureText(String(v))},function(v,g){return Ae([v],de(zo(g)),!1).join("")}),f.measureTextWidth=function(v,g){return void 0===v&&(v=""),f.measureText(v,g)?.width||0},f.measureTextHeight=function(v,g){void 0===v&&(v="");var m=f.measureText(v,g);return m?m.actualBoundingBoxAscent+m.actualBoundingBoxDescent:0},f.measureTextWidthRoughly=function(v,g){var m,_;void 0===g&&(g={});var b=f.measureTextWidth("a",g),A=f.measureTextWidth("\u8682",g),I=0;if(!v)return I;try{for(var O=Ei(v),F=O.next();!F.done;F=O.next()){var P=F.value.charCodeAt(0);I+=P>=0&&P<=255?b:A}}catch(H){m={error:H}}finally{try{F&&!F.done&&(_=O.return)&&_.call(O)}finally{if(m)throw m.error}}return I},f.dataCfg=F1(l),f.options=iD(c),f.dataSet=f.getDataSet(f.options),f.setDebug(),f.initTooltip(),f.initGroups(i),f.bindEvents(),f.initInteraction(),f.initTheme(),f.initHdAdapter(),f.registerIcons(),f.setOverscrollBehavior(),f}return Sr(o,a),o.prototype.setOverscrollBehavior=function(){var i=this.options.interaction.overscrollBehavior,l=window.getComputedStyle(document.body).getPropertyValue("overscroll-behavior");l&&"auto"!==l?this.store.set("initOverscrollBehavior",l):i&&(document.body.style.overscrollBehavior=i)},o.prototype.restoreOverscrollBehavior=function(){document.body.style.overscrollBehavior=this.store.get("initOverscrollBehavior")||""},o.prototype.setDebug=function(){Os.getInstance().setDebug(this.options.debug)},o.prototype.initTheme=function(){this.setThemeCfg({name:"default"})},o.prototype.getMountContainer=function(i){var l=cl(i)?document.querySelector(i):i;if(!l)throw new Error("Target mount container is not a DOM element");return l},o.prototype.initHdAdapter=function(){this.options.hdAdapter&&(this.hdAdapter=new D(this),this.hdAdapter.init())},o.prototype.initInteraction=function(){var i,l;null===(l=null===(i=this.interaction)||void 0===i?void 0:i.destroy)||void 0===l||l.call(i),this.interaction=new R(this)},o.prototype.initTooltip=function(){var i,l,c,f;null===(l=null===(i=this.tooltip)||void 0===i?void 0:i.destroy)||void 0===l||l.call(i),this.tooltip=this.renderTooltip(),this.tooltip instanceof k||console.warn("[Custom Tooltip]: ".concat(null===(f=null===(c=this.tooltip)||void 0===c?void 0:c.constructor)||void 0===f?void 0:f.toString()," should be extends from BaseTooltip"))},o.prototype.renderTooltip=function(){var i,l;return(null===(l=null===(i=this.options.tooltip)||void 0===i?void 0:i.renderTooltip)||void 0===l?void 0:l.call(i,this))||new k(this)},o.prototype.showTooltip=function(i){var l,c,f=i.content,g=this.getCell(i.event?.target),m=Dn(f)?f(g,i):f;null===(c=(l=this.tooltip).show)||void 0===c||c.call(l,Ft(Ft({},i),{content:m}))},o.prototype.showTooltipWithInfo=function(i,l,c){var f,v=RT(this,i),m=v.content;if(v.showTooltip){var _=this.getCell(i?.target),b=null!==(f=c?.data)&&void 0!==f?f:jD({spreadsheet:this,cellInfos:l,targetCell:_,options:Ft({enableFormat:!0},c)});this.showTooltip({data:b,position:{x:i.clientX,y:i.clientY},options:Ft({enterable:!0},c),event:i,content:m})}},o.prototype.hideTooltip=function(){var i,l;null===(l=(i=this.tooltip).hide)||void 0===l||l.call(i)},o.prototype.destroyTooltip=function(){var i,l;null===(l=(i=this.tooltip).destroy)||void 0===l||l.call(i)},o.prototype.registerIcons=function(){var i=this.options.customSVGIcons;Ve(i)||Cr(i,function(l){JM(l.name,l.svg)})},o.prototype.setDataCfg=function(i,l){this.store.set("originalDataCfg",i),this.dataCfg=l?F1(i):F1(this.dataCfg,i),function(a){a.store.set(Ks,cs)}(this)},o.prototype.setOptions=function(i,l){var c;this.hideTooltip(),this.options=l?iD(i):ks(this.options,i),(l||!(null===(c=i.tooltip)||void 0===c)&&c.renderTooltip)&&this.initTooltip(),this.registerIcons()},o.prototype.render=function(i,l){if(void 0===i&&(i=!0),void 0===l&&(l={}),this.getCanvasElement()){var c=l.reBuildDataSet,f=void 0!==c&&c,v=l.reBuildHiddenColumnsDetail,g=void 0===v||v;this.emit(ae.LAYOUT_BEFORE_RENDER),f&&(this.dataSet=this.getDataSet(this.options)),i&&(this.clearDrillDownData("",!0),this.dataSet.setDataCfg(this.dataCfg)),this.buildFacet(),g&&this.initHiddenColumnsDetail(),this.emit(ae.LAYOUT_AFTER_RENDER)}},o.prototype.destroy=function(){var i,l,c,f,v;this.restoreOverscrollBehavior(),this.emit(ae.LAYOUT_DESTROY),null===(i=this.facet)||void 0===i||i.destroy(),null===(l=this.hdAdapter)||void 0===l||l.destroy(),null===(c=this.interaction)||void 0===c||c.destroy(),null===(f=this.store)||void 0===f||f.clear(),this.destroyTooltip(),this.clearCanvasEvent(),null===(v=this.container)||void 0===v||v.destroy(),function(){var a;null===(a=document.getElementById(s1))||void 0===a||a.remove()}()},o.prototype.setThemeCfg=function(i){void 0===i&&(i={});var l=i?.theme||{},c=function(a){var o,i,l,c,f,v=a?.palette||function(a){return Mu[(a||"default").toLowerCase()]}(a?.name),g=v.basicColors,m=v.semanticColors,_=v.others,b=null===(o=a?.spreadsheet)||void 0===o?void 0:o.isTableMode(),A=$m()?"bold":700,I=function(){var O,F;return{bolderText:{fontFamily:zi,fontSize:12,fontWeight:A,fill:g[13],opacity:1,textAlign:"right",textBaseline:"middle",linkTextFill:g[6]},text:{fontFamily:zi,fontSize:12,fontWeight:"normal",fill:g[13],opacity:1,textAlign:"right",textBaseline:"middle",linkTextFill:g[6]},cell:{crossBackgroundColor:g[1],backgroundColor:g[8],backgroundColorOpacity:1,horizontalBorderColor:g[9],horizontalBorderColorOpacity:1,verticalBorderColor:g[9],verticalBorderColorOpacity:1,horizontalBorderWidth:1,verticalBorderWidth:1,padding:{top:8,right:8,bottom:8,left:8},interactionState:{hover:{backgroundColor:g[2],backgroundOpacity:.6},hoverFocus:{backgroundColor:g[2],backgroundOpacity:.6,borderColor:g[14],borderWidth:1,borderOpacity:1},selected:{backgroundColor:g[2],backgroundOpacity:.6},unselected:{backgroundOpacity:.3,textOpacity:.3,opacity:.3},searchResult:{backgroundColor:null!==(O=_?.results)&&void 0!==O?O:g[2],backgroundOpacity:1},highlight:{backgroundColor:null!==(F=_?.highlight)&&void 0!==F?F:g[6],backgroundOpacity:1},prepareSelect:{borderColor:g[14],borderOpacity:1,borderWidth:1}}},miniChart:{line:{point:{size:2.2,fill:g[6],opacity:1},linkLine:{size:1.5,fill:g[6],opacity:.6}},bar:{intervalPadding:4,fill:g[6],opacity:1},bullet:{progressBar:{widthPercent:.6,height:10,innerHeight:6},comparativeMeasure:{width:1,height:12,fill:g[13],opacity:.25},rangeColors:{good:m?.green,satisfactory:m.yellow,bad:m.red},backgroundColor:"#E9E9E9"},interval:{height:12,fill:g[7]}},icon:{fill:g[13],downIconColor:m.red,upIconColor:m.green,size:10,margin:{right:4,left:4}}}};return{cornerCell:{bolderText:{fontFamily:zi,fontSize:12,fontWeight:A,fill:g[0],opacity:1,textAlign:b?"center":"left",textBaseline:"middle"},text:{fontFamily:zi,fontSize:12,fontWeight:A,fill:g[0],opacity:1,textAlign:"right",textBaseline:"middle"},cell:{backgroundColor:g[3],backgroundColorOpacity:1,horizontalBorderColor:g[10],horizontalBorderColorOpacity:1,verticalBorderColor:g[10],verticalBorderColorOpacity:1,horizontalBorderWidth:1,verticalBorderWidth:1,padding:{top:0,right:8,bottom:0,left:8}},icon:{fill:g[0],size:10,margin:{right:4,left:4}}},rowCell:{seriesText:{fontFamily:zi,fontSize:12,fontWeight:"normal",fill:g[14],linkTextFill:g[6],opacity:1,textBaseline:"middle",textAlign:"center"},measureText:{fontFamily:zi,fontSize:12,fontWeight:"normal",fill:g[14],linkTextFill:g[6],opacity:1,textAlign:b?"center":"left",textBaseline:"top"},bolderText:{fontFamily:zi,fontSize:12,fontWeight:A,fill:g[14],linkTextFill:g[6],opacity:1,textAlign:b?"center":"left",textBaseline:"top"},text:{fontFamily:zi,fontSize:12,fontWeight:"normal",fill:g[14],linkTextFill:g[6],opacity:1,textBaseline:"top",textAlign:b?"center":"left"},cell:{backgroundColor:g[1],backgroundColorOpacity:1,horizontalBorderColor:g[9],horizontalBorderColorOpacity:1,verticalBorderColor:g[9],verticalBorderColorOpacity:1,horizontalBorderWidth:1,verticalBorderWidth:1,padding:{top:0,right:8,bottom:0,left:8},interactionState:{hover:{backgroundColor:g[2],backgroundOpacity:.6},selected:{backgroundColor:g[2],backgroundOpacity:.6},unselected:{backgroundOpacity:.3,textOpacity:.3,opacity:.3},prepareSelect:{borderColor:g[14],borderOpacity:1,borderWidth:1},searchResult:{backgroundColor:null!==(i=_?.results)&&void 0!==i?i:g[2],backgroundOpacity:1},highlight:{backgroundColor:null!==(l=_?.highlight)&&void 0!==l?l:g[6],backgroundOpacity:1}}},icon:{fill:g[14],size:10,margin:{right:4,left:4}},seriesNumberWidth:80},colCell:{measureText:{fontFamily:zi,fontSize:12,fontWeight:"normal",fill:g[0],opacity:1,textAlign:"right",textBaseline:"middle"},bolderText:{fontFamily:zi,fontSize:12,fontWeight:A,fill:g[0],opacity:1,textAlign:"center",textBaseline:"middle"},text:{fontFamily:zi,fontSize:12,fontWeight:"normal",fill:g[0],opacity:1,textAlign:"center",textBaseline:"middle"},cell:{backgroundColor:g[3],backgroundColorOpacity:1,horizontalBorderColor:g[10],horizontalBorderColorOpacity:1,verticalBorderColor:g[10],verticalBorderColorOpacity:1,horizontalBorderWidth:1,verticalBorderWidth:1,padding:{top:0,right:8,bottom:0,left:8},interactionState:{hover:{backgroundColor:g[4],backgroundOpacity:.6},selected:{backgroundColor:g[4],backgroundOpacity:.6},unselected:{backgroundOpacity:.3,textOpacity:.3,opacity:.3},prepareSelect:{borderColor:g[14],borderOpacity:1,borderWidth:1},searchResult:{backgroundColor:null!==(c=_?.results)&&void 0!==c?c:g[2],backgroundOpacity:1},highlight:{backgroundColor:null!==(f=_?.highlight)&&void 0!==f?f:g[6],backgroundOpacity:1}}},icon:{fill:g[0],size:10,margin:{top:6,right:4,bottom:6,left:4}}},dataCell:I(),mergedCell:I(),resizeArea:{size:3,background:g[7],backgroundOpacity:0,guideLineColor:g[7],guideLineDisableColor:"rgba(0,0,0,0.25)",guideLineDash:[3,3],interactionState:{hover:{backgroundColor:g[7],backgroundOpacity:1}}},scrollBar:{trackColor:"rgba(0,0,0,0.01)",thumbHoverColor:"rgba(0,0,0,0.25)",thumbColor:"rgba(0,0,0,0.15)",thumbHorizontalMinSize:32,thumbVerticalMinSize:32,size:oi()?3:6,hoverSize:oi()?4:8,lineCap:"round"},splitLine:{horizontalBorderColor:g[12],horizontalBorderColorOpacity:.2,horizontalBorderWidth:2,verticalBorderColor:g[11],verticalBorderColorOpacity:.25,verticalBorderWidth:2,showShadow:!0,shadowWidth:8,shadowColors:{left:"rgba(0,0,0,0.1)",right:"rgba(0,0,0,0)"}},prepareSelectMask:{backgroundColor:g[5],backgroundOpacity:.3},background:{color:g[8],opacity:1}}}(Ft(Ft({},i),{spreadsheet:this}));this.theme=ks(c,l)},o.prototype.setTheme=function(i){this.theme=ks(this.theme,i)},o.prototype.updatePagination=function(i){this.options=ks(this.options,{pagination:i}),this.store.set("scrollX",0),this.store.set("scrollY",0)},o.prototype.getContentHeight=function(){return this.facet.getContentHeight()},o.prototype.changeSize=function(i,l){void 0===i&&(i=this.options.width),void 0===l&&(l=this.options.height),this.changeSheetSize(i,l)},o.prototype.changeSheetSize=function(i,l){void 0===i&&(i=this.options.width),void 0===l&&(l=this.options.height);var c=this.getCanvasElement(),f=this.container.get("width"),v=this.container.get("height");i===f&&l===v||!c||(this.options=ks(this.options,{width:i,height:l}),this.container.changeSize(i,l))},o.prototype.getCanvasElement=function(){return this.container.get("el")},o.prototype.getLayoutWidthType=function(){return this.options.style.layoutWidthType},o.prototype.getRowNodes=function(i){return void 0===i&&(i=-1),-1===i?this.facet.layoutResult.rowNodes:this.facet.layoutResult.rowNodes.filter(function(l){return l.level===i})},o.prototype.getRowLeafNodes=function(){var i;return(null===(i=this.facet)||void 0===i?void 0:i.layoutResult.rowLeafNodes)||[]},o.prototype.getColumnNodes=function(i){var l;void 0===i&&(i=-1);var c=(null===(l=this.facet)||void 0===l?void 0:l.layoutResult.colNodes)||[];return-1===i?c:c.filter(function(f){return f.level===i})},o.prototype.getColumnLeafNodes=function(){var i;return(null===(i=this.facet)||void 0===i?void 0:i.layoutResult.colLeafNodes)||[]},o.prototype.updateScrollOffset=function(i){this.facet.updateScrollOffset(ks({offsetX:{value:void 0,animate:!1},offsetY:{value:void 0,animate:!1},rowHeaderOffsetX:{value:void 0,animate:!1}},i))},o.prototype.getTooltipDataItemMappingCallback=function(){var i;return null===(i=this.options)||void 0===i?void 0:i.mappingDisplayDataItem},o.prototype.getCell=function(i){for(var l,c=i;c&&!(c instanceof zA);){if(c instanceof Nb)return c;c=null===(l=c.get)||void 0===l?void 0:l.call(c,"parent")}return null},o.prototype.getCellType=function(i){return this.getCell(i)?.cellType},o.prototype.getTotalsConfig=function(i){var f=nr(this.options.totals,yi(this.dataSet.fields.rows,i)?"row":"col",{}),v=!(!f.showSubTotals||!yi(f.subTotalsDimensions,i))&&f.showSubTotals;return Ft(Ft({label:Kn("\u603b\u8ba1"),subLabel:Kn("\u5c0f\u8ba1"),totalsGroupDimensions:[],subTotalsGroupDimensions:[]},f),{showSubTotals:v})},o.prototype.initGroups=function(i){var l=this.options,c=l.width,f=l.height,v=l.supportCSSTransform,g=l.devicePixelRatio;this.container=new zA({container:this.getMountContainer(i),width:c,height:f,localRefresh:!1,supportCSSTransform:v,pixelRatio:Math.max(g,eE)}),this.backgroundGroup=this.container.addGroup({name:"backGroundGroup",zIndex:0}),this.panelGroup=this.container.addGroup({name:"panelGroup",zIndex:1}),this.foregroundGroup=this.container.addGroup({name:"foreGroundGroup",zIndex:3}),this.initPanelGroupChildren(),this.updateContainerStyle()},o.prototype.updateContainerStyle=function(){var i=this.getCanvasElement();i&&(i.style.display="block")},o.prototype.initPanelGroupChildren=function(){this.panelScrollGroup=new wk({name:"panelScrollGroup",zIndex:1,s2:this}),this.panelGroup.add(this.panelScrollGroup)},o.prototype.getInitColumnLeafNodes=function(){return this.store.get("initColumnLeafNodes",[])},o.prototype.clearColumnLeafNodes=function(){this.store.set("initColumnLeafNodes",void 0)},o.prototype.clearCanvasEvent=function(){var i=this;S_(this.getEvents(),function(c,f){i.off(f)})},o.prototype.updateSortMethodMap=function(i,l,c){var f;void 0===c&&(c=!1);var v=c?null:this.store.get("sortMethodMap");this.store.set("sortMethodMap",Ft(Ft({},v),((f={})[i]=l,f)))},o.prototype.getMenuDefaultSelectedKeys=function(i){var c=nr(this.store.get("sortMethodMap"),i);return c?[c]:[]},o}(sr),U=(function(a){function o(){return null!==a&&a.apply(this,arguments)||this}Sr(o,a),o.prototype.getDataSet=function(i){var l=i.dataSet,c=i.hierarchyType;return l?l(this):"customTree"===c?new ik(this):new V1(this)},o.prototype.getContentHeight=function(){return this.facet.getContentHeight()},o.prototype.isPivotMode=function(){return!0},o.prototype.isTableMode=function(){return!1},o.prototype.isHierarchyTreeType=function(){var i=this.options.hierarchyType;return"tree"===i||"customTree"===i},o.prototype.isScrollContainsRowHeader=function(){return!this.isFrozenRowHeader()},o.prototype.isFrozenRowHeader=function(){var i;return null===(i=this.options)||void 0===i?void 0:i.frozenRowHeader},o.prototype.isValueInCols=function(){return this.dataSet.fields.valueInCols},o.prototype.clearDrillDownData=function(i,l){this.dataSet instanceof V1&&(this.dataSet.clearDrillDownData(i),l||(this.interaction.reset(),this.render(!1)))},o.prototype.getFacetCfgFromDataSetAndOptions=function(){var i=this,l=this.dataSet,c=l.fields,f=l.meta,v=this.options,g=v.style,m=v.dataCell;return Ft(Ft(Ft(Ft({},this.options),c),g),{meta:f,spreadsheet:this,dataSet:this.dataSet,dataCell:m??function(b){return new Al(b,i)}})},o.prototype.buildFacet=function(){var i,l=this.getFacetCfgFromDataSetAndOptions();null===(i=this.facet)||void 0===i||i.destroy(),this.facet=new xk(l),this.facet.render()},o.prototype.bindEvents=function(){this.off(ae.ROW_CELL_COLLAPSE_TREE_ROWS),this.off(ae.LAYOUT_TREE_ROWS_COLLAPSE_ALL),this.on(ae.ROW_CELL_COLLAPSE_TREE_ROWS,this.handleRowCellCollapseTreeRows),this.on(ae.LAYOUT_TREE_ROWS_COLLAPSE_ALL,this.handleTreeRowsCollapseAll)},o.prototype.handleRowCellCollapseTreeRows=function(i){var l,v={style:{collapsedRows:(l={},l[i.id]=i.isCollapsed,l)}};this.emit(ae.LAYOUT_COLLAPSE_ROWS,{collapsedRows:v.style.collapsedRows,meta:i?.node}),this.setOptions(v),this.render(!1),this.emit(ae.LAYOUT_AFTER_COLLAPSE_ROWS,{collapsedRows:v.style.collapsedRows,meta:i?.node})},o.prototype.handleTreeRowsCollapseAll=function(i){this.setOptions({style:{hierarchyCollapse:!i,collapsedRows:null,rowExpandDepth:null}}),this.render(!1)},o.prototype.groupSortByMethod=function(i,l){var c=this.dataCfg.fields,f=c.rows,v=c.columns,g=this.options.style.colCfg.hideMeasureColumn,m=this.isValueInCols()?hn(f):hn(v),b=l.value,A=Ss(l.query),I=b;g&&this.isValueInCols()&&(A[Pr]=I=this.dataSet.fields.values[0]);var O={sortFieldId:m,sortMethod:i,sortByMeasure:I,query:A},F=this.dataCfg.sortParams.filter(function(P){return P?.sortFieldId!==m});this.updateSortMethodMap(l.id,i,!0);var B=Ae(Ae([],de(F),!1),[O],!1);this.emit(ae.RANGE_SORT,B),this.setDataCfg(Ft(Ft({},this.dataCfg),{sortParams:B})),this.render()},o.prototype.handleGroupSort=function(i,l){var c=this;i.stopPropagation(),this.interaction.addIntercepts([hr.HOVER]);var f=this.getMenuDefaultSelectedKeys(l?.id),v={onClick:function(g){c.groupSortByMethod(g.key,l),c.emit(ae.RANGE_SORTED,i)},menus:[{key:"asc",icon:"groupAsc",text:Kn("\u7ec4\u5185\u5347\u5e8f")},{key:"desc",icon:"groupDesc",text:Kn("\u7ec4\u5185\u964d\u5e8f")},{key:"none",text:Kn("\u4e0d\u6392\u5e8f")}],defaultSelectedKeys:f};this.showTooltipWithInfo(i,[],{operator:v,onlyMenu:!0,forceRender:!0})}}(z),function(a){function o(){return null!==a&&a.apply(this,arguments)||this}return Sr(o,a),o}(YT)),q=function(a){function o(){var i=null!==a&&a.apply(this,arguments)||this;return i.onSortTooltipClick=function(l,c){var f=l.key,g={sortFieldId:c.field,sortMethod:f};i.updateSortMethodMap(c.id,f),i.emit(ae.RANGE_SORT,[g])},i}return Sr(o,a),o.prototype.getDataSet=function(i){var l=i.dataSet;return l?l(this):new nk(this)},o.prototype.isPivotMode=function(){return!1},o.prototype.isTableMode=function(){return!0},o.prototype.isHierarchyTreeType=function(){return!1},o.prototype.isScrollContainsRowHeader=function(){return!1},o.prototype.isFrozenRowHeader=function(){return!1},o.prototype.clearDrillDownData=function(){},o.prototype.isValueInCols=function(){return!1},o.prototype.bindEvents=function(){},o.prototype.initPanelGroupChildren=function(){var i,l=this;a.prototype.initPanelGroupChildren.call(this);var c={zIndex:2,s2:this};i=de([nB,GA,iB,aB,oB,sB].map(function(f){var v=new U(Ft({name:f},c));return l.panelGroup.add(v),v}),6),this.frozenRowGroup=i[0],this.frozenColGroup=i[1],this.frozenTrailingRowGroup=i[2],this.frozenTrailingColGroup=i[3],this.frozenTopGroup=i[4],this.frozenBottomGroup=i[5]},o.prototype.getFacetCfgFromDataSetAndOptions=function(){var i=this,l=this.dataSet,c=l.fields,f=l.meta,v=this.options,g=v.style,m=v.dataCell;return Ft(Ft(Ft(Ft({},this.options),c),g),{meta:f,spreadsheet:this,dataSet:this.dataSet,dataCell:m??function(b){return i.options.showSeriesNumber&&0===b.colIndex?new aT(b,i):new Yc(b,i)}})},o.prototype.buildFacet=function(){var i,l=this.getFacetCfgFromDataSetAndOptions();null===(i=this.facet)||void 0===i||i.destroy(),this.facet=new Ck(l),this.facet.render()},o.prototype.clearFrozenGroups=function(){this.frozenRowGroup.set("children",[]),this.frozenColGroup.set("children",[]),this.frozenTrailingRowGroup.set("children",[]),this.frozenTrailingColGroup.set("children",[]),this.frozenTopGroup.set("children",[]),this.frozenBottomGroup.set("children",[])},o.prototype.destroy=function(){a.prototype.destroy.call(this),this.clearFrozenGroups(),this.off(ae.RANGE_SORT),this.off(ae.RANGE_FILTER)},o.prototype.handleGroupSort=function(i,l){var c=this;i.stopPropagation(),this.interaction.addIntercepts([hr.HOVER]);var f=this.getMenuDefaultSelectedKeys(l?.id),v={onClick:function(g){c.onSortTooltipClick({key:g.key},l)},menus:[{key:"asc",icon:"groupAsc",text:Kn("\u5347\u5e8f")},{key:"desc",icon:"groupDesc",text:Kn("\u964d\u5e8f")},{key:"none",text:Kn("\u4e0d\u6392\u5e8f")}],defaultSelectedKeys:f};this.showTooltipWithInfo(i,[],{operator:v,onlyMenu:!0,forceRender:!0})},o}(z)},8250:(fr,ke,ut)=>{"use strict";ut.d(ke,{Ct:()=>L0,f0:()=>ld,uZ:()=>pr,VS:()=>zu,d9:()=>td,FX:()=>fe,Ds:()=>_0,b$:()=>S0,e5:()=>kt,S6:()=>jt,yW:()=>ce,hX:()=>qt,sE:()=>zt,cx:()=>Vt,Wx:()=>Dt,ri:()=>dr,xH:()=>at,U5:()=>jc,U2:()=>T0,Lo:()=>vd,rx:()=>ct,ru:()=>Je,vM:()=>we,Ms:()=>Xe,wH:()=>Bu,YM:()=>Te,q9:()=>fe,cq:()=>ad,kJ:()=>mt,jn:()=>Qa,J_:()=>Ji,kK:()=>Pu,xb:()=>Nl,Xy:()=>Hl,mf:()=>_e,BD:()=>C,UM:()=>St,Ft:()=>Jf,hj:()=>Ar,vQ:()=>xo,Kn:()=>pt,PO:()=>be,HD:()=>Ct,P9:()=>ee,o8:()=>kl,XP:()=>Rt,Z$:()=>pe,vl:()=>ht,UI:()=>sd,Q8:()=>b0,Fp:()=>xe,UT:()=>zs,HP:()=>Nu,VV:()=>Fe,F:()=>Du,CD:()=>ld,wQ:()=>Qo,ZT:()=>ah,CE:()=>hd,ei:()=>A0,u4:()=>ot,Od:()=>xt,U7:()=>Bl,t8:()=>ud,dp:()=>Gi,G:()=>se,MR:()=>ye,ng:()=>re,P2:()=>Gl,qo:()=>fd,c$:()=>qc,BB:()=>st,jj:()=>ie,EL:()=>E0,jC:()=>Ue,VO:()=>E,I:()=>Be});const te=function(X){return null!==X&&"function"!=typeof X&&isFinite(X.length)},fe=function(X,gt){return!!te(X)&&X.indexOf(gt)>-1},qt=function(X,gt){if(!te(X))return X;for(var At=[],Gt=0;Gt<X.length;Gt++){var me=X[Gt];gt(me,Gt)&&At.push(me)}return At},kt=function(X,gt){return void 0===gt&&(gt=[]),qt(X,function(At){return!fe(gt,At)})};var Ut={}.toString;const ee=function(X,gt){return Ut.call(X)==="[object "+gt+"]"},_e=function(X){return ee(X,"Function")},St=function(X){return null==X},mt=function(X){return Array.isArray?Array.isArray(X):ee(X,"Array")},pt=function(X){var gt=typeof X;return null!==X&&"object"===gt||"function"===gt},jt=function Jt(X,gt){if(X)if(mt(X))for(var Gt=0,me=X.length;Gt<me&&!1!==gt(X[Gt],Gt);Gt++);else if(pt(X))for(var Ye in X)if(X.hasOwnProperty(Ye)&&!1===gt(X[Ye],Ye))break},Rt=Object.keys?function(X){return Object.keys(X)}:function(X){var gt=[];return jt(X,function(At,Gt){_e(X)&&"prototype"===Gt||gt.push(Gt)}),gt},C=function dt(X,gt){var At=Rt(gt),Gt=At.length;if(St(X))return!Gt;for(var me=0;me<Gt;me+=1){var Ye=At[me];if(gt[Ye]!==X[Ye]||!(Ye in X))return!1}return!0},Xt=function(X){return"object"==typeof X&&null!==X},be=function(X){if(!Xt(X)||!ee(X,"Object"))return!1;if(null===Object.getPrototypeOf(X))return!0;for(var gt=X;null!==Object.getPrototypeOf(gt);)gt=Object.getPrototypeOf(gt);return Object.getPrototypeOf(X)===gt},zt=function Mt(X,gt){if(!mt(X))return null;var At;if(_e(gt)&&(At=gt),be(gt)&&(At=function(me){return C(me,gt)}),At)for(var Gt=0;Gt<X.length;Gt+=1)if(At(X[Gt]))return X[Gt];return null},Vt=function ve(X,gt,At){void 0===At&&(At=0);for(var Gt=At;Gt<X.length;Gt++)if(gt(X[Gt],Gt))return Gt;return-1},Dt=function(X,gt){for(var At=null,Gt=0;Gt<X.length;Gt++){var Ye=X[Gt][gt];if(!St(Ye)){At=mt(Ye)?Ye[0]:Ye;break}}return At},at=function(X){if(!mt(X))return[];for(var gt=[],At=0;At<X.length;At++)gt=gt.concat(X[At]);return gt},xe=function(X){if(mt(X))return X.reduce(function(gt,At){return Math.max(gt,At)},X[0])},Fe=function(X){if(mt(X))return X.reduce(function(gt,At){return Math.min(gt,At)},X[0])},ct=function(X){var gt=X.filter(function(cr){return!isNaN(cr)});if(!gt.length)return{min:0,max:0};if(mt(X[0])){for(var At=[],Gt=0;Gt<X.length;Gt++)At=At.concat(X[Gt]);gt=At}var me=xe(gt);return{min:Fe(gt),max:me}};var K=Array.prototype.splice;const ot=function(X,gt,At){if(!mt(X)&&!be(X))return X;var Gt=At;return jt(X,function(me,Ye){Gt=gt(Gt,me,Ye)}),Gt},xt=function(X,gt){var At=[];if(!te(X))return At;for(var Gt=-1,me=[],Ye=X.length;++Gt<Ye;){var cr=X[Gt];gt(cr,Gt,X)&&(At.push(cr),me.push(Gt))}return function(gt,At){if(!te(gt))return[];for(var Gt=gt?At.length:0,me=Gt-1;Gt--;){var Ye=void 0,cr=At[Gt];(Gt===me||cr!==Ye)&&(Ye=cr,K.call(gt,cr,1))}}(X,me),At},Ct=function(X){return ee(X,"String")},ye=function Yt(X,gt){var At;if(_e(gt))At=function(me,Ye){return gt(me)-gt(Ye)};else{var Gt=[];Ct(gt)?Gt.push(gt):mt(gt)&&(Gt=gt),At=function(me,Ye){for(var cr=0;cr<Gt.length;cr+=1){var Zr=Gt[cr];if(me[Zr]>Ye[Zr])return 1;if(me[Zr]<Ye[Zr])return-1}return 0}}return X.sort(At),X};function ie(X,gt){void 0===gt&&(gt=new Map);var At=[];if(Array.isArray(X))for(var Gt=0,me=X.length;Gt<me;Gt++){var Ye=X[Gt];gt.has(Ye)||(At.push(Ye),gt.set(Ye,!0))}return At}const Be=function(X,gt){for(var At=[],Gt={},me=0;me<X.length;me++){var cr=X[me][gt];if(!St(cr)){mt(cr)||(cr=[cr]);for(var Zr=0;Zr<cr.length;Zr++){var fi=cr[Zr];Gt[fi]||(At.push(fi),Gt[fi]=!0)}}}return At};function Te(X){if(te(X))return X[0]}function pe(X){if(te(X))return X[X.length-1]}const ce=function(X,gt){for(var At=0;At<X.length;At++)if(!gt(X[At],At))return!1;return!0},se=function(X,gt){for(var At=0;At<X.length;At++)if(gt(X[At],At))return!0;return!1};var Zt=Object.prototype.hasOwnProperty;const we=function Le(X,gt){if(!gt||!mt(X))return{};for(var me,At={},Gt=_e(gt)?gt:function(Zr){return Zr[gt]},Ye=0;Ye<X.length;Ye++){var cr=X[Ye];me=Gt(cr),Zt.call(At,me)?At[me].push(cr):At[me]=[cr]}return At};function Xe(X,gt){if(!gt)return{0:X};if(!_e(gt)){var At=mt(gt)?gt:gt.replace(/\s+/g,"").split("*");gt=function(Gt){for(var me="_",Ye=0,cr=At.length;Ye<cr;Ye++)me+=Gt[At[Ye]]&&Gt[At[Ye]].toString();return me}}return we(X,gt)}const Je=function(X,gt){if(!gt)return[X];var At=Xe(X,gt),Gt=[];for(var me in At)Gt.push(At[me]);return Gt},pr=function(X,gt,At){return X<gt?gt:X>At?At:X},dr=function(X,gt){var At=gt.toString(),Gt=At.indexOf(".");if(-1===Gt)return Math.round(X);var me=At.substr(Gt+1).length;return me>20&&(me=20),parseFloat(X.toFixed(me))},Ar=function(X){return ee(X,"Number")};var An=1e-5;function xo(X,gt,At){return void 0===At&&(At=An),Math.abs(X-gt)<At}const zs=function(X,gt){if(mt(X)){for(var At,Gt=-1/0,me=0;me<X.length;me++){var Ye=X[me],cr=_e(gt)?gt(Ye):Ye[gt];cr>Gt&&(At=Ye,Gt=cr)}return At}},Du=function(X,gt){if(mt(X)){for(var At,Gt=1/0,me=0;me<X.length;me++){var Ye=X[me],cr=_e(gt)?gt(Ye):Ye[gt];cr<Gt&&(At=Ye,Gt=cr)}return At}},Qo=function(X,gt){return(X%gt+gt)%gt};Math,parseInt;var Rl=Math.PI/180;const qc=function(X){return Rl*X},jc=jt,Bu=function(X,gt){return X.hasOwnProperty(gt)},E=Object.values?function(X){return Object.values(X)}:function(X){var gt=[];return jt(X,function(At,Gt){_e(X)&&"prototype"===Gt||gt.push(At)}),gt},st=function(X){return St(X)?"":X.toString()},ht=function(X){return st(X).toLowerCase()},re=function Tt(X,gt){return X&&gt?X.replace(/\\?\{([^{}]+)\}/g,function(At,Gt){return"\\"===At.charAt(0)?At.slice(1):void 0===gt[Gt]?"":gt[Gt]}):X},Ue=function(X){var gt=st(X);return gt.charAt(0).toUpperCase()+gt.substring(1)};var De={}.toString;const Qa=function(X){return ee(X,"Boolean")},Ji=function(X){return ee(X,"Date")},Jf=function(X){return null===X};var Kf=Object.prototype;const kl=function(X){return void 0===X},Pu=function(X){return X instanceof Element||X instanceof HTMLDocument};function Bl(X){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(At){return setTimeout(At,16)})(X)}function zu(X){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(X)}var ts=function(X){if("object"!=typeof X||null===X)return X;var gt;if(mt(X)){gt=[];for(var At=0,Gt=X.length;At<Gt;At++)gt[At]="object"==typeof X[At]&&null!=X[At]?ts(X[At]):X[At]}else for(var me in gt={},X)gt[me]="object"==typeof X[me]&&null!=X[me]?ts(X[me]):X[me];return gt};const td=ts,_0=function ed(X,gt,At){var Gt;return function(){var me=this,Ye=arguments,Zr=At&&!Gt;clearTimeout(Gt),Gt=setTimeout(function(){Gt=null,At||X.apply(me,Ye)},gt),Zr&&X.apply(me,Ye)}},Nu=function(X,gt){if(!_e(X))throw new TypeError("Expected a function");var At=function(){for(var Gt=[],me=0;me<arguments.length;me++)Gt[me]=arguments[me];var Ye=gt?gt.apply(this,Gt):Gt[0],cr=At.cache;if(cr.has(Ye))return cr.get(Ye);var Zr=X.apply(this,Gt);return cr.set(Ye,Zr),Zr};return At.cache=new Map,At};var rh=5;function rd(X,gt,At,Gt){for(var me in At=At||0,Gt=Gt||rh,gt)if(gt.hasOwnProperty(me)){var Ye=gt[me];null!==Ye&&be(Ye)?(be(X[me])||(X[me]={}),At<Gt?rd(X[me],Ye,At+1,Gt):X[me]=gt[me]):mt(Ye)?(X[me]=[],X[me]=X[me].concat(Ye)):void 0!==Ye&&(X[me]=Ye)}}const S0=function(X){for(var gt=[],At=1;At<arguments.length;At++)gt[At-1]=arguments[At];for(var Gt=0;Gt<gt.length;Gt+=1)rd(X,gt[Gt]);return X},ad=function(X,gt){if(!te(X))return-1;var At=Array.prototype.indexOf;if(At)return At.call(X,gt);for(var Gt=-1,me=0;me<X.length;me++)if(X[me]===gt){Gt=me;break}return Gt};var Pl=Object.prototype.hasOwnProperty;const Nl=function zl(X){if(St(X))return!0;if(te(X))return!X.length;var gt=function(X){return De.call(X).replace(/^\[object /,"").replace(/]$/,"")}(X);if("Map"===gt||"Set"===gt)return!X.size;if(function(X){var gt=X&&X.constructor;return X===("function"==typeof gt&&gt.prototype||Kf)}(X))return!Object.keys(X).length;for(var At in X)if(Pl.call(X,At))return!1;return!0};var wo=function(X,gt){if(X===gt)return!0;if(!X||!gt||Ct(X)||Ct(gt))return!1;if(te(X)||te(gt)){if(X.length!==gt.length)return!1;for(var At=!0,Gt=0;Gt<X.length&&(At=wo(X[Gt],gt[Gt]));Gt++);return At}if(Xt(X)||Xt(gt)){var me=Object.keys(X),Ye=Object.keys(gt);if(me.length!==Ye.length)return!1;for(At=!0,Gt=0;Gt<me.length&&(At=wo(X[me[Gt]],gt[me[Gt]]));Gt++);return At}return!1};const Hl=wo,sd=function(X,gt){if(!te(X))return X;for(var At=[],Gt=0;Gt<X.length;Gt++)At.push(gt(X[Gt],Gt));return At};var M0=function(X){return X};const b0=function(X,gt){void 0===gt&&(gt=M0);var At={};return pt(X)&&!St(X)&&Object.keys(X).forEach(function(Gt){At[Gt]=gt(X[Gt],Gt)}),At};function ih(X,gt){for(var At in gt)gt.hasOwnProperty(At)&&"constructor"!==At&&void 0!==gt[At]&&(X[At]=gt[At])}function ld(X,gt,At,Gt){return gt&&ih(X,gt),At&&ih(X,At),Gt&&ih(X,Gt),X}const T0=function(X,gt,At){for(var Gt=0,me=Ct(gt)?gt.split("."):gt;X&&Gt<me.length;)X=X[me[Gt++]];return void 0===X||Gt<me.length?At:X},ud=function(X,gt,At){var Gt=X,me=Ct(gt)?gt.split("."):gt;return me.forEach(function(Ye,cr){cr<me.length-1?(pt(Gt[Ye])||(Gt[Ye]=Ar(me[cr+1])?[]:{}),Gt=Gt[Ye]):Gt[Ye]=At}),X};var cd=Object.prototype.hasOwnProperty;const A0=function(X,gt){if(null===X||!be(X))return{};var At={};return jt(gt,function(Gt){cd.call(X,Gt)&&(At[Gt]=X[Gt])}),At},hd=function(X,gt){return ot(X,function(At,Gt,me){return gt.includes(me)||(At[me]=Gt),At},{})},Gl=function(X,gt,At){var Gt,me,Ye,cr,Zr=0;At||(At={});var fi=function(){Zr=!1===At.leading?0:Date.now(),Gt=null,cr=X.apply(me,Ye),Gt||(me=Ye=null)},Wi=function(){var Ki=Date.now();!Zr&&!1===At.leading&&(Zr=Ki);var Hu=gt-(Ki-Zr);return me=this,Ye=arguments,Hu<=0||Hu>gt?(Gt&&(clearTimeout(Gt),Gt=null),Zr=Ki,cr=X.apply(me,Ye),Gt||(me=Ye=null)):!Gt&&!1!==At.trailing&&(Gt=setTimeout(fi,Hu)),cr};return Wi.cancel=function(){clearTimeout(Gt),Zr=0,Gt=me=Ye=null},Wi},fd=function(X){return te(X)?Array.prototype.slice.call(X):[]};var es={};const E0=function(X){return es[X=X||"g"]?es[X]+=1:es[X]=1,X+es[X]},ah=function(){};function Gi(X){return St(X)?0:te(X)?X.length:Object.keys(X).length}var Wl,dd=ut(7582);const Ws=Nu(function(X,gt){void 0===gt&&(gt={});var At=gt.fontSize,Gt=gt.fontFamily,me=gt.fontWeight,Ye=gt.fontStyle,cr=gt.fontVariant;return Wl||(Wl=document.createElement("canvas").getContext("2d")),Wl.font=[Ye,cr,me,At+"px",Gt].join(" "),Wl.measureText(Ct(X)?X:"").width},function(X,gt){return void 0===gt&&(gt={}),(0,dd.pr)([X],E(gt)).join("")}),vd=function(X,gt,At,Gt){void 0===Gt&&(Gt="...");var Wi,Ki,Ye=Ws(Gt,At),cr=Ct(X)?X:st(X),Zr=gt,fi=[];if(Ws(X,At)<=gt)return X;for(;Wi=cr.substr(0,16),!((Ki=Ws(Wi,At))+Ye>Zr&&Ki>Zr);)if(fi.push(Wi),Zr-=Ki,!(cr=cr.substr(16)))return fi.join("");for(;Wi=cr.substr(0,1),!((Ki=Ws(Wi,At))+Ye>Zr);)if(fi.push(Wi),Zr-=Ki,!(cr=cr.substr(1)))return fi.join("");return""+fi.join("")+Gt},L0=function(){function X(){this.map={}}return X.prototype.has=function(gt){return void 0!==this.map[gt]},X.prototype.get=function(gt,At){var Gt=this.map[gt];return void 0===Gt?At:Gt},X.prototype.set=function(gt,At){this.map[gt]=At},X.prototype.clear=function(){this.map={}},X.prototype.delete=function(gt){delete this.map[gt]},X.prototype.size=function(){return Object.keys(this.map).length},X}()},8738:(fr,ke,ut)=>{"use strict";ut.r(ke),ut.d(ke,{BiModule:()=>_k});var he={};ut.r(he),ut.d(he,{assign:()=>Zs,default:()=>ph,defaultI18n:()=>dh,format:()=>Ux,parse:()=>W0,setGlobalDateI18n:()=>G0,setGlobalDateMasks:()=>Wx});var te={};ut.r(te),ut.d(te,{Arc:()=>Ei,DataMarker:()=>aE,DataRegion:()=>oE,Html:()=>Vi,Image:()=>v2,Line:()=>lg,Region:()=>Ae,RegionFilter:()=>p2,Shape:()=>lE,Text:()=>Ft});var Ee={};ut.r(Ee),ut.d(Ee,{ellipsisHead:()=>En,ellipsisMiddle:()=>yr,ellipsisTail:()=>m2,getDefault:()=>y2});var fe={};ut.r(fe),ut.d(fe,{equidistance:()=>C2,equidistanceWithReverseBoth:()=>w2,getDefault:()=>gE,reserveBoth:()=>x2,reserveFirst:()=>yE,reserveLast:()=>mE});var le={};ut.r(le),ut.d(le,{fixedAngle:()=>_2,getDefault:()=>xE,unfixedAngle:()=>CE});var qt={};ut.r(qt),ut.d(qt,{autoEllipsis:()=>Ee,autoHide:()=>fe,autoRotate:()=>le});var ne={};ut.r(ne),ut.d(ne,{Base:()=>kr,Circle:()=>ME,Html:()=>b2,Line:()=>M2});var kt={};ut.r(kt),ut.d(kt,{CONTAINER_CLASS:()=>So,CROSSHAIR_X:()=>mg,CROSSHAIR_Y:()=>Kd,LIST_CLASS:()=>Mo,LIST_ITEM_CLASS:()=>tl,MARKER_CLASS:()=>jd,NAME_CLASS:()=>na,TITLE_CLASS:()=>ds,VALUE_CLASS:()=>Jd});var Ut={};ut.r(Ut),ut.d(Ut,{Base:()=>Ya,Circle:()=>v6,Ellipse:()=>g6,Image:()=>VC,Line:()=>XC,Marker:()=>ZC,Path:()=>uy,Polygon:()=>M6,Polyline:()=>T6,Rect:()=>L6,Text:()=>I6});var Ce={};ut.r(Ce),ut.d(Ce,{Canvas:()=>R6,Group:()=>iy,Shape:()=>Ut,getArcParams:()=>$h,version:()=>F6});var ee={};ut.r(ee),ut.d(ee,{Base:()=>ba,Circle:()=>P6,Dom:()=>uw,Ellipse:()=>sl,Image:()=>z6,Line:()=>hw,Marker:()=>G6,Path:()=>fw,Polygon:()=>dw,Polyline:()=>dy,Rect:()=>yc,Text:()=>$6});var _e={};ut.r(_e),ut.d(_e,{Canvas:()=>l4,Group:()=>Lv,Shape:()=>ee,version:()=>u4});var Ot={};ut.r(Ot),ut.d(Ot,{cluster:()=>$p,hierarchy:()=>Bc,pack:()=>PM,packEnclose:()=>Ep,packSiblings:()=>$R,partition:()=>Bf,stratify:()=>nF,tree:()=>uF,treemap:()=>cF,treemapBinary:()=>hF,treemapDice:()=>ui,treemapResquarify:()=>dF,treemapSlice:()=>bl,treemapSliceDice:()=>fF,treemapSquarify:()=>kb});var St=ut(6895),mt=ut(9132),pt=(()=>{return(e=pt||(pt={})).Number="Number",e.Line="Line",e.StepLine="StepLine",e.Bar="Bar",e.PercentStackedBar="PercentStackedBar",e.Area="Area",e.PercentageArea="PercentageArea",e.Column="Column",e.Waterfall="Waterfall",e.StackedColumn="StackedColumn",e.Pie="Pie",e.Ring="Ring",e.Rose="Rose",e.Scatter="Scatter",e.Radar="Radar",e.WordCloud="WordCloud",e.Funnel="Funnel",e.Bubble="Bubble",e.Sankey="Sankey",e.RadialBar="RadialBar",e.Chord="Chord",e.tpl="tpl",e.table="table",pt;var e})(),Jt=(()=>{return(e=Jt||(Jt={})).backend="backend",e.front="front",e.none="none",Jt;var e})(),jt=(()=>{return(e=jt||(jt={})).INPUT="INPUT",e.TAG="TAG",e.NUMBER="NUMBER",e.NUMBER_RANGE="NUMBER_RANGE",e.DATE="DATE",e.DATE_RANGE="DATE_RANGE",e.DATETIME="DATETIME",e.DATETIME_RANGE="DATETIME_RANGE",e.TIME="TIME",e.WEEK="WEEK",e.MONTH="MONTH",e.YEAR="YEAR",e.REFERENCE="REFERENCE",e.REFERENCE_CASCADE="REFERENCE_CASCADE",e.REFERENCE_MULTI="REFERENCE_MULTI",e.REFERENCE_TREE_RADIO="REFERENCE_TREE_RADIO",e.REFERENCE_TREE_MULTI="REFERENCE_TREE_MULTI",e.REFERENCE_RADIO="REFERENCE_RADIO",e.REFERENCE_CHECKBOX="REFERENCE_CHECKBOX",jt;var e})(),Kt=(()=>{return(e=Kt||(Kt={})).STRING="string",e.NUMBER="number",e.DATE="date",e.DRILL="drill",Kt;var e})(),Rt=ut(9991),dt=ut(9651),C=ut(4650),Bt=ut(5379),Xt=ut(774),Se=ut(538),be=ut(2463);let Mt=(()=>{class e{constructor(t,n,s){this._http=t,this.menuSrv=n,this.tokenService=s}getBiBuild(t){return this._http.get(Bt.zP.bi+"/"+t,null,{observe:"body",headers:{erupt:t}})}getBiData(t,n,s,u,h,d){let p={index:n,size:s};return u&&h&&(p.sort=u,p.direction=h?"ascend"===h:null),this._http.post(Bt.zP.bi+"/data/"+t,d,p,{headers:{erupt:t}})}getBiDrillData(t,n,s,u,h){return this._http.post(Bt.zP.bi+"/drill/data/"+t+"/"+n,h,{pageIndex:s,pageSize:u},{headers:{erupt:t}})}getBiChart(t,n,s){return this._http.post(Bt.zP.bi+"/"+t+"/chart/"+n,s,null,{headers:{erupt:t}})}getBiReference(t,n,s){return this._http.post(Bt.zP.bi+"/"+t+"/reference/"+n,s||{},null,{headers:{erupt:t}})}exportExcel_bak(t,n,s){Xt.D.postExcelFile(Bt.zP.bi+"/"+n+"/excel/"+t,{condition:encodeURIComponent(JSON.stringify(s)),[Xt.D.PARAM_ERUPT]:n,[Xt.D.PARAM_TOKEN]:this.tokenService.get().token})}exportExcel(t,n,s,u){this._http.post(Bt.zP.bi+"/"+n+"/excel/"+t,s,null,{responseType:"arraybuffer",observe:"events",headers:{erupt:n}}).subscribe(h=>{4===h.type&&((0,Rt.Sv)(h),u())},()=>{u()})}getChartTpl(t,n,s){return Bt.zP.bi+"/"+n+"/custom-chart/"+t+"?_token="+this.tokenService.get().token+"&_t="+(new Date).getTime()+"&_erupt="+n+"&condition="+encodeURIComponent(JSON.stringify(s))}}return e.\u0275fac=function(t){return new(t||e)(C.LFG(be.lP),C.LFG(be.hl),C.LFG(Se.T))},e.\u0275prov=C.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),zt=(()=>{class e{constructor(t){this.msg=t,this.datePipe=new St.uU("zh-cn")}buildDimParam(t,n=!0,s=!1){let u={};for(let h of t.dimensions){let d=h.$value;if(d)switch(h.type){case jt.DATE_RANGE:d[0]=this.datePipe.transform(d[0],"yyyy-MM-dd 00:00:00"),d[1]=this.datePipe.transform(d[1],"yyyy-MM-dd 23:59:59");break;case jt.DATETIME_RANGE:d[0]=this.datePipe.transform(d[0],"yyyy-MM-dd HH:mm:ss"),d[1]=this.datePipe.transform(d[1],"yyyy-MM-dd HH:mm:ss");break;case jt.DATE:d=this.datePipe.transform(d,"yyyy-MM-dd");break;case jt.DATETIME:d=this.datePipe.transform(d,"yyyy-MM-dd HH:mm:ss");break;case jt.TIME:d=this.datePipe.transform(d,"HH:mm:ss");break;case jt.YEAR:d=this.datePipe.transform(d,"yyyy");break;case jt.MONTH:d=this.datePipe.transform(d,"yyyy-MM");break;case jt.WEEK:d=this.datePipe.transform(d,"yyyy-ww")}if(h.notNull&&!h.$value&&(n&&this.msg.error(h.title+"\u5fc5\u586b"),!s)||h.notNull&&Array.isArray(h.$value)&&!h.$value[0]&&!h.$value[1]&&(n&&this.msg.error(h.title+"\u5fc5\u586b"),!s))return null;u[h.code]=Array.isArray(d)&&0==d.length?null:d||null}return u}}return e.\u0275fac=function(t){return new(t||e)(C.LFG(dt.dD))},e.\u0275prov=C.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var ve=ut(9804),Vt=ut(6152),Nt=ut(5681),Dt=ut(1634);const W=["st"];function at(e,r){if(1&e&&C._uU(0),2&e){const t=C.oxw(2);C.hij("\u5171",t.biTable.total,"\u6761")}}const Ht=function(e){return{x:e}};function ue(e,r){if(1&e){const t=C.EpF();C.ynx(0),C._UZ(1,"st",2,3),C.TgZ(3,"nz-pagination",4),C.NdJ("nzPageSizeChange",function(s){C.CHM(t);const u=C.oxw();return C.KtG(u.pageSizeChange(s))})("nzPageIndexChange",function(s){C.CHM(t);const u=C.oxw();return C.KtG(u.pageIndexChange(s))}),C.qZA(),C.YNc(4,at,1,1,"ng-template",null,5,C.W1O),C.BQk()}if(2&e){const t=C.MAs(5),n=C.oxw();C.xp6(1),C.Q6J("columns",n.biTable.columns)("data",n.biTable.data)("ps",n.biTable.size)("page",n.biTable.page)("scroll",C.VKq(13,Ht,(n.clientWidth>768?150*n.biTable.columns.length:0)+"px"))("bordered",n.settingSrv.layout.bordered)("size","small"),C.xp6(2),C.Q6J("nzPageIndex",n.biTable.index)("nzPageSize",n.biTable.size)("nzTotal",n.biTable.total)("nzPageSizeOptions",n.bi.pageSizeOptions)("nzSize","small")("nzShowTotal",t)}}const xe=function(){return[]};function Fe(e,r){1&e&&(C.ynx(0),C._UZ(1,"nz-list",6),C.BQk()),2&e&&(C.xp6(1),C.Q6J("nzDataSource",C.DdM(1,xe)))}let et=(()=>{class e{constructor(t,n,s,u,h){this.dataService=t,this.route=n,this.handlerService=s,this.settingSrv=u,this.msg=h,this.querying=!1,this.clientWidth=document.body.clientWidth,this.biTable={index:1,size:10,total:0,page:{show:!1}}}ngOnInit(){this.biTable.size=this.bi.pageSize,this.query(1,this.bi.pageSize)}query(t,n){this.querying=!0,this.dataService.getBiDrillData(this.bi.code,this.drillCode.toString(),t,n,this.row).subscribe(s=>{if(this.querying=!1,this.biTable.total=s.total,this.biTable.columns=[],s.columns){for(let u of s.columns)u.display&&this.biTable.columns.push({title:u.name,index:u.name,className:"text-center",width:u.width});this.biTable.data=s.list}else this.biTable.data=[]})}pageIndexChange(t){this.query(t,this.biTable.size)}pageSizeChange(t){this.biTable.size=t,this.query(1,t)}}return e.\u0275fac=function(t){return new(t||e)(C.Y36(Mt),C.Y36(mt.gz),C.Y36(zt),C.Y36(be.gb),C.Y36(dt.dD))},e.\u0275cmp=C.Xpm({type:e,selectors:[["erupt-drill"]],viewQuery:function(t,n){if(1&t&&C.Gf(W,5),2&t){let s;C.iGM(s=C.CRH())&&(n.st=s.first)}},inputs:{bi:"bi",drillCode:"drillCode",row:"row"},decls:3,vars:3,consts:[[2,"width","100%","text-align","center","min-height","80px",3,"nzSpinning"],[4,"ngIf"],[2,"margin-bottom","12px",3,"columns","data","ps","page","scroll","bordered","size"],["st",""],["nzShowSizeChanger","","nzShowQuickJumper","",2,"text-align","center",3,"nzPageIndex","nzPageSize","nzTotal","nzPageSizeOptions","nzSize","nzShowTotal","nzPageSizeChange","nzPageIndexChange"],["totalTemplate",""],[3,"nzDataSource"]],template:function(t,n){1&t&&(C.TgZ(0,"nz-spin",0),C.YNc(1,ue,6,15,"ng-container",1),C.YNc(2,Fe,2,2,"ng-container",1),C.qZA()),2&t&&(C.Q6J("nzSpinning",n.querying),C.xp6(1),C.Q6J("ngIf",n.biTable.columns&&n.biTable.columns.length>0),C.xp6(1),C.Q6J("ngIf",!n.biTable.columns||0==n.biTable.columns.length))},dependencies:[St.O5,ve.A5,Vt.n_,Nt.W,Dt.dE],encapsulation:2}),e})();var ct=ut(7),ft=ut(7632),Q=ut(433),bt=ut(6616),It=ut(7044),J=ut(1811),K=ut(3679),N=ut(8213),$=ut(9582),Z=ut(1102),ot=ut(1971),tt=ut(2577),xt=ut(545),Ct=ut(445),Yt=ut(6287),ye=ut(7579),ie=ut(2722);function Be(e,r){if(1&e&&(C.ynx(0),C._UZ(1,"span",6),C.BQk()),2&e){const t=r.$implicit;C.xp6(1),C.Q6J("nzType",t)}}function Te(e,r){if(1&e&&(C.ynx(0),C.YNc(1,Be,2,1,"ng-container",5),C.BQk()),2&e){const t=C.oxw(2);C.xp6(1),C.Q6J("nzStringTemplateOutlet",t.icon)}}function pe(e,r){1&e&&C.Hsn(0,1,["*ngIf","!icon"])}function nt(e,r){if(1&e&&(C.ynx(0),C.YNc(1,Te,2,1,"ng-container",2),C.YNc(2,pe,1,0,"ng-content",2),C.BQk()),2&e){const t=C.oxw();C.xp6(1),C.Q6J("ngIf",t.icon),C.xp6(1),C.Q6J("ngIf",!t.icon)}}function lt(e,r){if(1&e&&(C.TgZ(0,"div",8),C._uU(1),C.qZA()),2&e){const t=C.oxw(2);C.xp6(1),C.hij(" ",t.nzTitle," ")}}function wt(e,r){if(1&e&&(C.ynx(0),C.YNc(1,lt,2,1,"div",7),C.BQk()),2&e){const t=C.oxw();C.xp6(1),C.Q6J("nzStringTemplateOutlet",t.nzTitle)}}function Et(e,r){1&e&&C.Hsn(0,2,["*ngIf","!nzTitle"])}function Qt(e,r){if(1&e&&(C.TgZ(0,"div",10),C._uU(1),C.qZA()),2&e){const t=C.oxw(2);C.xp6(1),C.hij(" ",t.nzSubTitle," ")}}function ce(e,r){if(1&e&&(C.ynx(0),C.YNc(1,Qt,2,1,"div",9),C.BQk()),2&e){const t=C.oxw();C.xp6(1),C.Q6J("nzStringTemplateOutlet",t.nzSubTitle)}}function oe(e,r){1&e&&C.Hsn(0,3,["*ngIf","!nzSubTitle"])}function se(e,r){if(1&e&&(C.ynx(0),C._uU(1),C.BQk()),2&e){const t=C.oxw(2);C.xp6(1),C.hij(" ",t.nzExtra," ")}}function Zt(e,r){if(1&e&&(C.TgZ(0,"div",11),C.YNc(1,se,2,1,"ng-container",5),C.qZA()),2&e){const t=C.oxw();C.xp6(1),C.Q6J("nzStringTemplateOutlet",t.nzExtra)}}function Le(e,r){1&e&&C.Hsn(0,4,["*ngIf","!nzExtra"])}function we(e,r){1&e&&C._UZ(0,"nz-result-not-found")}function Xe(e,r){1&e&&C._UZ(0,"nz-result-server-error")}function Je(e,r){1&e&&C._UZ(0,"nz-result-unauthorized")}function ze(e,r){if(1&e&&(C.ynx(0,12),C.YNc(1,we,1,0,"nz-result-not-found",13),C.YNc(2,Xe,1,0,"nz-result-server-error",13),C.YNc(3,Je,1,0,"nz-result-unauthorized",13),C.BQk()),2&e){const t=C.oxw();C.Q6J("ngSwitch",t.nzStatus),C.xp6(1),C.Q6J("ngSwitchCase","404"),C.xp6(1),C.Q6J("ngSwitchCase","500"),C.xp6(1),C.Q6J("ngSwitchCase","403")}}const je=[[["nz-result-content"],["","nz-result-content",""]],[["","nz-result-icon",""]],[["div","nz-result-title",""]],[["div","nz-result-subtitle",""]],[["div","nz-result-extra",""]]],qe=["nz-result-content, [nz-result-content]","[nz-result-icon]","div[nz-result-title]","div[nz-result-subtitle]","div[nz-result-extra]"];let Ke=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=C.Xpm({type:e,selectors:[["nz-result-not-found"]],exportAs:["nzResultNotFound"],decls:62,vars:0,consts:[["width","252","height","294"],["d","M0 .387h251.772v251.772H0z"],["fill","none","fillRule","evenodd"],["transform","translate(0 .012)"],["fill","#fff"],["d","M0 127.32v-2.095C0 56.279 55.892.387 124.838.387h2.096c68.946 0 124.838 55.892 124.838 124.838v2.096c0 68.946-55.892 124.838-124.838 124.838h-2.096C55.892 252.16 0 196.267 0 127.321","fill","#E4EBF7","mask","url(#b)"],["d","M39.755 130.84a8.276 8.276 0 1 1-16.468-1.66 8.276 8.276 0 0 1 16.468 1.66","fill","#FFF"],["d","M36.975 134.297l10.482 5.943M48.373 146.508l-12.648 10.788","stroke","#FFF","strokeWidth","2"],["d","M39.875 159.352a5.667 5.667 0 1 1-11.277-1.136 5.667 5.667 0 0 1 11.277 1.136M57.588 143.247a5.708 5.708 0 1 1-11.358-1.145 5.708 5.708 0 0 1 11.358 1.145M99.018 26.875l29.82-.014a4.587 4.587 0 1 0-.003-9.175l-29.82.013a4.587 4.587 0 1 0 .003 9.176M110.424 45.211l29.82-.013a4.588 4.588 0 0 0-.004-9.175l-29.82.013a4.587 4.587 0 1 0 .004 9.175","fill","#FFF"],["d","M112.798 26.861v-.002l15.784-.006a4.588 4.588 0 1 0 .003 9.175l-15.783.007v-.002a4.586 4.586 0 0 0-.004-9.172M184.523 135.668c-.553 5.485-5.447 9.483-10.931 8.93-5.485-.553-9.483-5.448-8.93-10.932.552-5.485 5.447-9.483 10.932-8.93 5.485.553 9.483 5.447 8.93 10.932","fill","#FFF"],["d","M179.26 141.75l12.64 7.167M193.006 156.477l-15.255 13.011","par","","stroke","#FFF","strokeWidth","2"],["d","M184.668 170.057a6.835 6.835 0 1 1-13.6-1.372 6.835 6.835 0 0 1 13.6 1.372M203.34 153.325a6.885 6.885 0 1 1-13.7-1.382 6.885 6.885 0 0 1 13.7 1.382","fill","#FFF"],["d","M151.931 192.324a2.222 2.222 0 1 1-4.444 0 2.222 2.222 0 0 1 4.444 0zM225.27 116.056a2.222 2.222 0 1 1-4.445 0 2.222 2.222 0 0 1 4.444 0zM216.38 151.08a2.223 2.223 0 1 1-4.446-.001 2.223 2.223 0 0 1 4.446 0zM176.917 107.636a2.223 2.223 0 1 1-4.445 0 2.223 2.223 0 0 1 4.445 0zM195.291 92.165a2.223 2.223 0 1 1-4.445 0 2.223 2.223 0 0 1 4.445 0zM202.058 180.711a2.223 2.223 0 1 1-4.446 0 2.223 2.223 0 0 1 4.446 0z","stroke","#FFF","strokeWidth","2"],["stroke","#FFF","strokeWidth","2","d","M214.404 153.302l-1.912 20.184-10.928 5.99M173.661 174.792l-6.356 9.814h-11.36l-4.508 6.484M174.941 125.168v-15.804M220.824 117.25l-12.84 7.901-15.31-7.902V94.39"],["d","M166.588 65.936h-3.951a4.756 4.756 0 0 1-4.743-4.742 4.756 4.756 0 0 1 4.743-4.743h3.951a4.756 4.756 0 0 1 4.743 4.743 4.756 4.756 0 0 1-4.743 4.742","fill","#FFF"],["d","M174.823 30.03c0-16.281 13.198-29.48 29.48-29.48 16.28 0 29.48 13.199 29.48 29.48 0 16.28-13.2 29.48-29.48 29.48-16.282 0-29.48-13.2-29.48-29.48","fill","#1890FF"],["d","M205.952 38.387c.5.5.785 1.142.785 1.928s-.286 1.465-.785 1.964c-.572.5-1.214.75-2 .75-.785 0-1.429-.285-1.929-.785-.572-.5-.82-1.143-.82-1.929s.248-1.428.82-1.928c.5-.5 1.144-.75 1.93-.75.785 0 1.462.25 1.999.75m4.285-19.463c1.428 1.249 2.143 2.963 2.143 5.142 0 1.712-.427 3.13-1.219 4.25-.067.096-.137.18-.218.265-.416.429-1.41 1.346-2.956 2.699a5.07 5.07 0 0 0-1.428 1.75 5.207 5.207 0 0 0-.536 2.357v.5h-4.107v-.5c0-1.357.215-2.536.714-3.5.464-.964 1.857-2.464 4.178-4.536l.43-.5c.643-.785.964-1.643.964-2.535 0-1.18-.358-2.108-1-2.785-.678-.68-1.643-1.001-2.858-1.001-1.536 0-2.642.464-3.357 1.43-.37.5-.621 1.135-.76 1.904a1.999 1.999 0 0 1-1.971 1.63h-.004c-1.277 0-2.257-1.183-1.98-2.43.337-1.518 1.02-2.78 2.073-3.784 1.536-1.5 3.607-2.25 6.25-2.25 2.32 0 4.214.607 5.642 1.894","fill","#FFF"],["d","M52.04 76.131s21.81 5.36 27.307 15.945c5.575 10.74-6.352 9.26-15.73 4.935-10.86-5.008-24.7-11.822-11.577-20.88","fill","#FFB594"],["d","M90.483 67.504l-.449 2.893c-.753.49-4.748-2.663-4.748-2.663l-1.645.748-1.346-5.684s6.815-4.589 8.917-5.018c2.452-.501 9.884.94 10.7 2.278 0 0 1.32.486-2.227.69-3.548.203-5.043.447-6.79 3.132-1.747 2.686-2.412 3.624-2.412 3.624","fill","#FFC6A0"],["d","M128.055 111.367c-2.627-7.724-6.15-13.18-8.917-15.478-3.5-2.906-9.34-2.225-11.366-4.187-1.27-1.231-3.215-1.197-3.215-1.197s-14.98-3.158-16.828-3.479c-2.37-.41-2.124-.714-6.054-1.405-1.57-1.907-2.917-1.122-2.917-1.122l-7.11-1.383c-.853-1.472-2.423-1.023-2.423-1.023l-2.468-.897c-1.645 9.976-7.74 13.796-7.74 13.796 1.795 1.122 15.703 8.3 15.703 8.3l5.107 37.11s-3.321 5.694 1.346 9.109c0 0 19.883-3.743 34.921-.329 0 0 3.047-2.546.972-8.806.523-3.01 1.394-8.263 1.736-11.622.385.772 2.019 1.918 3.14 3.477 0 0 9.407-7.365 11.052-14.012-.832-.723-1.598-1.585-2.267-2.453-.567-.736-.358-2.056-.765-2.717-.669-1.084-1.804-1.378-1.907-1.682","fill","#FFF"],["d","M101.09 289.998s4.295 2.041 7.354 1.021c2.821-.94 4.53.668 7.08 1.178 2.55.51 6.874 1.1 11.686-1.26-.103-5.51-6.889-3.98-11.96-6.713-2.563-1.38-3.784-4.722-3.598-8.799h-9.402s-1.392 10.52-1.16 14.573","fill","#CBD1D1"],["d","M101.067 289.826s2.428 1.271 6.759.653c3.058-.437 3.712.481 7.423 1.031 3.712.55 10.724-.069 11.823-.894.413 1.1-.343 2.063-.343 2.063s-1.512.603-4.812.824c-2.03.136-5.8.291-7.607-.503-1.787-1.375-5.247-1.903-5.728-.241-3.918.95-7.355-.286-7.355-.286l-.16-2.647z","fill","#2B0849"],["d","M108.341 276.044h3.094s-.103 6.702 4.536 8.558c-4.64.618-8.558-2.303-7.63-8.558","fill","#A4AABA"],["d","M57.542 272.401s-2.107 7.416-4.485 12.306c-1.798 3.695-4.225 7.492 5.465 7.492 6.648 0 8.953-.48 7.423-6.599-1.53-6.12.266-13.199.266-13.199h-8.669z","fill","#CBD1D1"],["d","M51.476 289.793s2.097 1.169 6.633 1.169c6.083 0 8.249-1.65 8.249-1.65s.602 1.114-.619 2.165c-.993.855-3.597 1.591-7.39 1.546-4.145-.048-5.832-.566-6.736-1.168-.825-.55-.687-1.58-.137-2.062","fill","#2B0849"],["d","M58.419 274.304s.033 1.519-.314 2.93c-.349 1.42-1.078 3.104-1.13 4.139-.058 1.151 4.537 1.58 5.155.034.62-1.547 1.294-6.427 1.913-7.252.619-.825-4.903-2.119-5.624.15","fill","#A4AABA"],["d","M99.66 278.514l13.378.092s1.298-54.52 1.853-64.403c.554-9.882 3.776-43.364 1.002-63.128l-12.547-.644-22.849.78s-.434 3.966-1.195 9.976c-.063.496-.682.843-.749 1.365-.075.585.423 1.354.32 1.966-2.364 14.08-6.377 33.104-8.744 46.677-.116.666-1.234 1.009-1.458 2.691-.04.302.211 1.525.112 1.795-6.873 18.744-10.949 47.842-14.277 61.885l14.607-.014s2.197-8.57 4.03-16.97c2.811-12.886 23.111-85.01 23.111-85.01l3.016-.521 1.043 46.35s-.224 1.234.337 2.02c.56.785-.56 1.123-.392 2.244l.392 1.794s-.449 7.178-.898 11.89c-.448 4.71-.092 39.165-.092 39.165","fill","#7BB2F9"],["d","M76.085 221.626c1.153.094 4.038-2.019 6.955-4.935M106.36 225.142s2.774-1.11 6.103-3.883","stroke","#648BD8","strokeWidth","1.051","strokeLinecap","round","strokeLinejoin","round"],["d","M107.275 222.1s2.773-1.11 6.102-3.884","stroke","#648BD8","strokeLinecap","round","strokeLinejoin","round"],["d","M74.74 224.767s2.622-.591 6.505-3.365M86.03 151.634c-.27 3.106.3 8.525-4.336 9.123M103.625 149.88s.11 14.012-1.293 15.065c-2.219 1.664-2.99 1.944-2.99 1.944M99.79 150.438s.035 12.88-1.196 24.377M93.673 175.911s7.212-1.664 9.431-1.664M74.31 205.861a212.013 212.013 0 0 1-.979 4.56s-1.458 1.832-1.009 3.776c.449 1.944-.947 2.045-4.985 15.355-1.696 5.59-4.49 18.591-6.348 27.597l-.231 1.12M75.689 197.807a320.934 320.934 0 0 1-.882 4.754M82.591 152.233L81.395 162.7s-1.097.15-.5 2.244c.113 1.346-2.674 15.775-5.18 30.43M56.12 274.418h13.31","stroke","#648BD8","strokeWidth","1.051","strokeLinecap","round","strokeLinejoin","round"],["d","M116.241 148.22s-17.047-3.104-35.893.2c.158 2.514-.003 4.15-.003 4.15s14.687-2.818 35.67-.312c.252-2.355.226-4.038.226-4.038","fill","#192064"],["d","M106.322 151.165l.003-4.911a.81.81 0 0 0-.778-.815c-2.44-.091-5.066-.108-7.836-.014a.818.818 0 0 0-.789.815l-.003 4.906a.81.81 0 0 0 .831.813c2.385-.06 4.973-.064 7.73.017a.815.815 0 0 0 .842-.81","fill","#FFF"],["d","M105.207 150.233l.002-3.076a.642.642 0 0 0-.619-.646 94.321 94.321 0 0 0-5.866-.01.65.65 0 0 0-.63.647v3.072a.64.64 0 0 0 .654.644 121.12 121.12 0 0 1 5.794.011c.362.01.665-.28.665-.642","fill","#192064"],["d","M100.263 275.415h12.338M101.436 270.53c.006 3.387.042 5.79.111 6.506M101.451 264.548a915.75 915.75 0 0 0-.015 4.337M100.986 174.965l.898 44.642s.673 1.57-.225 2.692c-.897 1.122 2.468.673.898 2.243-1.57 1.57.897 1.122 0 3.365-.596 1.489-.994 21.1-1.096 35.146","stroke","#648BD8","strokeWidth","1.051","strokeLinecap","round","strokeLinejoin","round"],["d","M46.876 83.427s-.516 6.045 7.223 5.552c11.2-.712 9.218-9.345 31.54-21.655-.786-2.708-2.447-4.744-2.447-4.744s-11.068 3.11-22.584 8.046c-6.766 2.9-13.395 6.352-13.732 12.801M104.46 91.057l.941-5.372-8.884-11.43-5.037 5.372-1.74 7.834a.321.321 0 0 0 .108.32c.965.8 6.5 5.013 14.347 3.544a.332.332 0 0 0 .264-.268","fill","#FFC6A0"],["d","M93.942 79.387s-4.533-2.853-2.432-6.855c1.623-3.09 4.513 1.133 4.513 1.133s.52-3.642 3.121-3.642c.52-1.04 1.561-4.162 1.561-4.162s11.445 2.601 13.526 3.121c0 5.203-2.304 19.424-7.84 19.861-8.892.703-12.449-9.456-12.449-9.456","fill","#FFC6A0"],["d","M113.874 73.446c2.601-2.081 3.47-9.722 3.47-9.722s-2.479-.49-6.64-2.05c-4.683-2.081-12.798-4.747-17.48.976-9.668 3.223-2.05 19.823-2.05 19.823l2.713-3.021s-3.935-3.287-2.08-6.243c2.17-3.462 3.92 1.073 3.92 1.073s.637-2.387 3.581-3.342c.355-.71 1.036-2.674 1.432-3.85a1.073 1.073 0 0 1 1.263-.704c2.4.558 8.677 2.019 11.356 2.662.522.125.871.615.82 1.15l-.305 3.248z","fill","#520038"],["d","M104.977 76.064c-.103.61-.582 1.038-1.07.956-.489-.083-.801-.644-.698-1.254.103-.61.582-1.038 1.07-.956.488.082.8.644.698 1.254M112.132 77.694c-.103.61-.582 1.038-1.07.956-.488-.083-.8-.644-.698-1.254.103-.61.582-1.038 1.07-.956.488.082.8.643.698 1.254","fill","#552950"],["stroke","#DB836E","strokeWidth","1.118","strokeLinecap","round","strokeLinejoin","round","d","M110.13 74.84l-.896 1.61-.298 4.357h-2.228"],["d","M110.846 74.481s1.79-.716 2.506.537","stroke","#5C2552","strokeWidth","1.118","strokeLinecap","round","strokeLinejoin","round"],["d","M92.386 74.282s.477-1.114 1.113-.716c.637.398 1.274 1.433.558 1.99-.717.556.159 1.67.159 1.67","stroke","#DB836E","strokeWidth","1.118","strokeLinecap","round","strokeLinejoin","round"],["d","M103.287 72.93s1.83 1.113 4.137.954","stroke","#5C2552","strokeWidth","1.118","strokeLinecap","round","strokeLinejoin","round"],["d","M103.685 81.762s2.227 1.193 4.376 1.193M104.64 84.308s.954.398 1.511.318M94.693 81.205s2.308 7.4 10.424 7.639","stroke","#DB836E","strokeWidth","1.118","strokeLinecap","round","strokeLinejoin","round"],["d","M81.45 89.384s.45 5.647-4.935 12.787M69 82.654s-.726 9.282-8.204 14.206","stroke","#E4EBF7","strokeWidth","1.101","strokeLinecap","round","strokeLinejoin","round"],["d","M129.405 122.865s-5.272 7.403-9.422 10.768","stroke","#E4EBF7","strokeWidth","1.051","strokeLinecap","round","strokeLinejoin","round"],["d","M119.306 107.329s.452 4.366-2.127 32.062","stroke","#E4EBF7","strokeWidth","1.101","strokeLinecap","round","strokeLinejoin","round"],["d","M150.028 151.232h-49.837a1.01 1.01 0 0 1-1.01-1.01v-31.688c0-.557.452-1.01 1.01-1.01h49.837c.558 0 1.01.453 1.01 1.01v31.688a1.01 1.01 0 0 1-1.01 1.01","fill","#F2D7AD"],["d","M150.29 151.232h-19.863v-33.707h20.784v32.786a.92.92 0 0 1-.92.92","fill","#F4D19D"],["d","M123.554 127.896H92.917a.518.518 0 0 1-.425-.816l6.38-9.113c.193-.277.51-.442.85-.442h31.092l-7.26 10.371z","fill","#F2D7AD"],["fill","#CC9B6E","d","M123.689 128.447H99.25v-.519h24.169l7.183-10.26.424.298z"],["d","M158.298 127.896h-18.669a2.073 2.073 0 0 1-1.659-.83l-7.156-9.541h19.965c.49 0 .95.23 1.244.622l6.69 8.92a.519.519 0 0 1-.415.83","fill","#F4D19D"],["fill","#CC9B6E","d","M157.847 128.479h-19.384l-7.857-10.475.415-.31 7.7 10.266h19.126zM130.554 150.685l-.032-8.177.519-.002.032 8.177z"],["fill","#CC9B6E","d","M130.511 139.783l-.08-21.414.519-.002.08 21.414zM111.876 140.932l-.498-.143 1.479-5.167.498.143zM108.437 141.06l-2.679-2.935 2.665-3.434.41.318-2.397 3.089 2.384 2.612zM116.607 141.06l-.383-.35 2.383-2.612-2.397-3.089.41-.318 2.665 3.434z"],["d","M154.316 131.892l-3.114-1.96.038 3.514-1.043.092c-1.682.115-3.634.23-4.789.23-1.902 0-2.693 2.258 2.23 2.648l-2.645-.596s-2.168 1.317.504 2.3c0 0-1.58 1.217.561 2.58-.584 3.504 5.247 4.058 7.122 3.59 1.876-.47 4.233-2.359 4.487-5.16.28-3.085-.89-5.432-3.35-7.238","fill","#FFC6A0"],["d","M153.686 133.577s-6.522.47-8.36.372c-1.836-.098-1.904 2.19 2.359 2.264 3.739.15 5.451-.044 5.451-.044","stroke","#DB836E","strokeWidth","1.051","strokeLinecap","round","strokeLinejoin","round"],["d","M145.16 135.877c-1.85 1.346.561 2.355.561 2.355s3.478.898 6.73.617","stroke","#DB836E","strokeWidth","1.051","strokeLinecap","round","strokeLinejoin","round"],["d","M151.89 141.71s-6.28.111-6.73-2.132c-.223-1.346.45-1.402.45-1.402M146.114 140.868s-1.103 3.16 5.44 3.533M151.202 129.932v3.477M52.838 89.286c3.533-.337 8.423-1.248 13.582-7.754","stroke","#DB836E","strokeWidth","1.051","strokeLinecap","round","strokeLinejoin","round"],["d","M168.567 248.318a6.647 6.647 0 0 1-6.647-6.647v-66.466a6.647 6.647 0 1 1 13.294 0v66.466a6.647 6.647 0 0 1-6.647 6.647","fill","#5BA02E"],["d","M176.543 247.653a6.647 6.647 0 0 1-6.646-6.647v-33.232a6.647 6.647 0 1 1 13.293 0v33.232a6.647 6.647 0 0 1-6.647 6.647","fill","#92C110"],["d","M186.443 293.613H158.92a3.187 3.187 0 0 1-3.187-3.187v-46.134a3.187 3.187 0 0 1 3.187-3.187h27.524a3.187 3.187 0 0 1 3.187 3.187v46.134a3.187 3.187 0 0 1-3.187 3.187","fill","#F2D7AD"],["d","M88.979 89.48s7.776 5.384 16.6 2.842","stroke","#E4EBF7","strokeWidth","1.101","strokeLinecap","round","strokeLinejoin","round"]],template:function(t,n){1&t&&(C.O4$(),C.TgZ(0,"svg",0)(1,"defs"),C._UZ(2,"path",1),C.qZA(),C.TgZ(3,"g",2)(4,"g",3),C._UZ(5,"mask",4)(6,"path",5),C.qZA(),C._UZ(7,"path",6)(8,"path",7)(9,"path",8)(10,"path",9)(11,"path",10)(12,"path",11)(13,"path",12)(14,"path",13)(15,"path",14)(16,"path",15)(17,"path",16)(18,"path",17)(19,"path",18)(20,"path",19)(21,"path",20)(22,"path",21)(23,"path",22)(24,"path",23)(25,"path",24)(26,"path",25)(27,"path",26)(28,"path",27)(29,"path",28)(30,"path",29)(31,"path",30)(32,"path",31)(33,"path",32)(34,"path",33)(35,"path",34)(36,"path",35)(37,"path",36)(38,"path",37)(39,"path",38)(40,"path",39)(41,"path",40)(42,"path",41)(43,"path",42)(44,"path",43)(45,"path",44)(46,"path",45)(47,"path",46)(48,"path",47)(49,"path",48)(50,"path",49)(51,"path",50)(52,"path",51)(53,"path",52)(54,"path",53)(55,"path",54)(56,"path",55)(57,"path",56)(58,"path",57)(59,"path",58)(60,"path",59)(61,"path",60),C.qZA()())},encapsulation:2,changeDetection:0}),e})(),Ge=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=C.Xpm({type:e,selectors:[["nz-result-server-error"]],exportAs:["nzResultServerError"],decls:69,vars:0,consts:[["width","254","height","294"],["d","M0 .335h253.49v253.49H0z"],["d","M0 293.665h253.49V.401H0z"],["fill","none","fillRule","evenodd"],["transform","translate(0 .067)"],["fill","#fff"],["d","M0 128.134v-2.11C0 56.608 56.273.334 125.69.334h2.11c69.416 0 125.69 56.274 125.69 125.69v2.11c0 69.417-56.274 125.69-125.69 125.69h-2.11C56.273 253.824 0 197.551 0 128.134","fill","#E4EBF7","mask","url(#b)"],["d","M39.989 132.108a8.332 8.332 0 1 1-16.581-1.671 8.332 8.332 0 0 1 16.58 1.671","fill","#FFF"],["d","M37.19 135.59l10.553 5.983M48.665 147.884l-12.734 10.861","stroke","#FFF","strokeWidth","2"],["d","M40.11 160.816a5.706 5.706 0 1 1-11.354-1.145 5.706 5.706 0 0 1 11.354 1.145M57.943 144.6a5.747 5.747 0 1 1-11.436-1.152 5.747 5.747 0 0 1 11.436 1.153M99.656 27.434l30.024-.013a4.619 4.619 0 1 0-.004-9.238l-30.024.013a4.62 4.62 0 0 0 .004 9.238M111.14 45.896l30.023-.013a4.62 4.62 0 1 0-.004-9.238l-30.024.013a4.619 4.619 0 1 0 .004 9.238","fill","#FFF"],["d","M113.53 27.421v-.002l15.89-.007a4.619 4.619 0 1 0 .005 9.238l-15.892.007v-.002a4.618 4.618 0 0 0-.004-9.234M150.167 70.091h-3.979a4.789 4.789 0 0 1-4.774-4.775 4.788 4.788 0 0 1 4.774-4.774h3.979a4.789 4.789 0 0 1 4.775 4.774 4.789 4.789 0 0 1-4.775 4.775","fill","#FFF"],["d","M171.687 30.234c0-16.392 13.289-29.68 29.681-29.68 16.392 0 29.68 13.288 29.68 29.68 0 16.393-13.288 29.681-29.68 29.681s-29.68-13.288-29.68-29.68","fill","#FF603B"],["d","M203.557 19.435l-.676 15.035a1.514 1.514 0 0 1-3.026 0l-.675-15.035a2.19 2.19 0 1 1 4.377 0m-.264 19.378c.513.477.77 1.1.77 1.87s-.257 1.393-.77 1.907c-.55.476-1.21.733-1.943.733a2.545 2.545 0 0 1-1.87-.77c-.55-.514-.806-1.136-.806-1.87 0-.77.256-1.393.806-1.87.513-.513 1.137-.733 1.87-.733.77 0 1.43.22 1.943.733","fill","#FFF"],["d","M119.3 133.275c4.426-.598 3.612-1.204 4.079-4.778.675-5.18-3.108-16.935-8.262-25.118-1.088-10.72-12.598-11.24-12.598-11.24s4.312 4.895 4.196 16.199c1.398 5.243.804 14.45.804 14.45s5.255 11.369 11.78 10.487","fill","#FFB594"],["d","M100.944 91.61s1.463-.583 3.211.582c8.08 1.398 10.368 6.706 11.3 11.368 1.864 1.282 1.864 2.33 1.864 3.496.365.777 1.515 3.03 1.515 3.03s-7.225 1.748-10.954 6.758c-1.399-6.41-6.936-25.235-6.936-25.235","fill","#FFF"],["d","M94.008 90.5l1.019-5.815-9.23-11.874-5.233 5.581-2.593 9.863s8.39 5.128 16.037 2.246","fill","#FFB594"],["d","M82.931 78.216s-4.557-2.868-2.445-6.892c1.632-3.107 4.537 1.139 4.537 1.139s.524-3.662 3.139-3.662c.523-1.046 1.569-4.184 1.569-4.184s11.507 2.615 13.6 3.138c-.001 5.23-2.317 19.529-7.884 19.969-8.94.706-12.516-9.508-12.516-9.508","fill","#FFC6A0"],["d","M102.971 72.243c2.616-2.093 3.489-9.775 3.489-9.775s-2.492-.492-6.676-2.062c-4.708-2.092-12.867-4.771-17.575.982-9.54 4.41-2.062 19.93-2.062 19.93l2.729-3.037s-3.956-3.304-2.092-6.277c2.183-3.48 3.943 1.08 3.943 1.08s.64-2.4 3.6-3.36c.356-.714 1.04-2.69 1.44-3.872a1.08 1.08 0 0 1 1.27-.707c2.41.56 8.723 2.03 11.417 2.676.524.126.876.619.825 1.156l-.308 3.266z","fill","#520038"],["d","M101.22 76.514c-.104.613-.585 1.044-1.076.96-.49-.082-.805-.646-.702-1.26.104-.613.585-1.044 1.076-.961.491.083.805.647.702 1.26M94.26 75.074c-.104.613-.585 1.044-1.076.96-.49-.082-.805-.646-.702-1.26.104-.613.585-1.044 1.076-.96.491.082.805.646.702 1.26","fill","#552950"],["stroke","#DB836E","strokeWidth","1.063","strokeLinecap","round","strokeLinejoin","round","d","M99.206 73.644l-.9 1.62-.3 4.38h-2.24"],["d","M99.926 73.284s1.8-.72 2.52.54","stroke","#5C2552","strokeWidth","1.117","strokeLinecap","round","strokeLinejoin","round"],["d","M81.367 73.084s.48-1.12 1.12-.72c.64.4 1.28 1.44.56 2s.16 1.68.16 1.68","stroke","#DB836E","strokeWidth","1.117","strokeLinecap","round","strokeLinejoin","round"],["d","M92.326 71.724s1.84 1.12 4.16.96","stroke","#5C2552","strokeWidth","1.117","strokeLinecap","round","strokeLinejoin","round"],["d","M92.726 80.604s2.24 1.2 4.4 1.2M93.686 83.164s.96.4 1.52.32M83.687 80.044s1.786 6.547 9.262 7.954","stroke","#DB836E","strokeWidth","1.063","strokeLinecap","round","strokeLinejoin","round"],["d","M95.548 91.663s-1.068 2.821-8.298 2.105c-7.23-.717-10.29-5.044-10.29-5.044","stroke","#E4EBF7","strokeWidth","1.136","strokeLinecap","round","strokeLinejoin","round"],["d","M78.126 87.478s6.526 4.972 16.47 2.486c0 0 9.577 1.02 11.536 5.322 5.36 11.77.543 36.835 0 39.962 3.496 4.055-.466 8.483-.466 8.483-15.624-3.548-35.81-.6-35.81-.6-4.849-3.546-1.223-9.044-1.223-9.044L62.38 110.32c-2.485-15.227.833-19.803 3.549-20.743 3.03-1.049 8.04-1.282 8.04-1.282.496-.058 1.08-.076 1.37-.233 2.36-1.282 2.787-.583 2.787-.583","fill","#FFF"],["d","M65.828 89.81s-6.875.465-7.59 8.156c-.466 8.857 3.03 10.954 3.03 10.954s6.075 22.102 16.796 22.957c8.39-2.176 4.758-6.702 4.661-11.42-.233-11.304-7.108-16.897-7.108-16.897s-4.212-13.75-9.789-13.75","fill","#FFC6A0"],["d","M71.716 124.225s.855 11.264 9.828 6.486c4.765-2.536 7.581-13.828 9.789-22.568 1.456-5.768 2.58-12.197 2.58-12.197l-4.973-1.709s-2.408 5.516-7.769 12.275c-4.335 5.467-9.144 11.11-9.455 17.713","fill","#FFC6A0"],["d","M108.463 105.191s1.747 2.724-2.331 30.535c2.376 2.216 1.053 6.012-.233 7.51","stroke","#E4EBF7","strokeWidth","1.085","strokeLinecap","round","strokeLinejoin","round"],["d","M123.262 131.527s-.427 2.732-11.77 1.981c-15.187-1.006-25.326-3.25-25.326-3.25l.933-5.8s.723.215 9.71-.068c11.887-.373 18.714-6.07 24.964-1.022 4.039 3.263 1.489 8.16 1.489 8.16","fill","#FFC6A0"],["d","M70.24 90.974s-5.593-4.739-11.054 2.68c-3.318 7.223.517 15.284 2.664 19.578-.31 3.729 2.33 4.311 2.33 4.311s.108.895 1.516 2.68c4.078-7.03 6.72-9.166 13.711-12.546-.328-.656-1.877-3.265-1.825-3.767.175-1.69-1.282-2.623-1.282-2.623s-.286-.156-1.165-2.738c-.788-2.313-2.036-5.177-4.895-7.575","fill","#FFF"],["d","M90.232 288.027s4.855 2.308 8.313 1.155c3.188-1.063 5.12.755 8.002 1.331 2.881.577 7.769 1.243 13.207-1.424-.117-6.228-7.786-4.499-13.518-7.588-2.895-1.56-4.276-5.336-4.066-9.944H91.544s-1.573 11.89-1.312 16.47","fill","#CBD1D1"],["d","M90.207 287.833s2.745 1.437 7.639.738c3.456-.494 3.223.66 7.418 1.282 4.195.621 13.092-.194 14.334-1.126.466 1.242-.388 2.33-.388 2.33s-1.709.682-5.438.932c-2.295.154-8.098.276-10.14-.621-2.02-1.554-4.894-1.515-6.06-.234-4.427 1.075-7.184-.31-7.184-.31l-.181-2.991z","fill","#2B0849"],["d","M98.429 272.257h3.496s-.117 7.574 5.127 9.671c-5.244.7-9.672-2.602-8.623-9.671","fill","#A4AABA"],["d","M44.425 272.046s-2.208 7.774-4.702 12.899c-1.884 3.874-4.428 7.854 5.729 7.854 6.97 0 9.385-.503 7.782-6.917-1.604-6.415.279-13.836.279-13.836h-9.088z","fill","#CBD1D1"],["d","M38.066 290.277s2.198 1.225 6.954 1.225c6.376 0 8.646-1.73 8.646-1.73s.63 1.168-.649 2.27c-1.04.897-3.77 1.668-7.745 1.621-4.347-.05-6.115-.593-7.062-1.224-.864-.577-.72-1.657-.144-2.162","fill","#2B0849"],["d","M45.344 274.041s.035 1.592-.329 3.07c-.365 1.49-1.13 3.255-1.184 4.34-.061 1.206 4.755 1.657 5.403.036.65-1.622 1.357-6.737 2.006-7.602.648-.865-5.14-2.222-5.896.156","fill","#A4AABA"],["d","M89.476 277.57l13.899.095s1.349-56.643 1.925-66.909c.576-10.267 3.923-45.052 1.042-65.585l-13.037-.669-23.737.81s-.452 4.12-1.243 10.365c-.065.515-.708.874-.777 1.417-.078.608.439 1.407.332 2.044-2.455 14.627-5.797 32.736-8.256 46.837-.121.693-1.282 1.048-1.515 2.796-.042.314.22 1.584.116 1.865-7.14 19.473-12.202 52.601-15.66 67.19l15.176-.015s2.282-10.145 4.185-18.871c2.922-13.389 24.012-88.32 24.012-88.32l3.133-.954-.158 48.568s-.233 1.282.35 2.098c.583.815-.581 1.167-.408 2.331l.408 1.864s-.466 7.458-.932 12.352c-.467 4.895 1.145 40.69 1.145 40.69","fill","#7BB2F9"],["d","M64.57 218.881c1.197.099 4.195-2.097 7.225-5.127M96.024 222.534s2.881-1.152 6.34-4.034","stroke","#648BD8","strokeWidth","1.085","strokeLinecap","round","strokeLinejoin","round"],["d","M96.973 219.373s2.882-1.153 6.34-4.034","stroke","#648BD8","strokeWidth","1.032","strokeLinecap","round","strokeLinejoin","round"],["d","M63.172 222.144s2.724-.614 6.759-3.496M74.903 146.166c-.281 3.226.31 8.856-4.506 9.478M93.182 144.344s.115 14.557-1.344 15.65c-2.305 1.73-3.107 2.02-3.107 2.02M89.197 144.923s.269 13.144-1.01 25.088M83.525 170.71s6.81-1.051 9.116-1.051M46.026 270.045l-.892 4.538M46.937 263.289l-.815 4.157M62.725 202.503c-.33 1.618-.102 1.904-.449 3.438 0 0-2.756 1.903-2.29 3.923.466 2.02-.31 3.424-4.505 17.252-1.762 5.807-4.233 18.922-6.165 28.278-.03.144-.521 2.646-1.14 5.8M64.158 194.136c-.295 1.658-.6 3.31-.917 4.938M71.33 146.787l-1.244 10.877s-1.14.155-.519 2.33c.117 1.399-2.778 16.39-5.382 31.615M44.242 273.727H58.07","stroke","#648BD8","strokeWidth","1.085","strokeLinecap","round","strokeLinejoin","round"],["d","M106.18 142.117c-3.028-.489-18.825-2.744-36.219.2a.625.625 0 0 0-.518.644c.063 1.307.044 2.343.015 2.995a.617.617 0 0 0 .716.636c3.303-.534 17.037-2.412 35.664-.266.347.04.66-.214.692-.56.124-1.347.16-2.425.17-3.029a.616.616 0 0 0-.52-.62","fill","#192064"],["d","M96.398 145.264l.003-5.102a.843.843 0 0 0-.809-.847 114.104 114.104 0 0 0-8.141-.014.85.85 0 0 0-.82.847l-.003 5.097c0 .476.388.857.864.845 2.478-.064 5.166-.067 8.03.017a.848.848 0 0 0 .876-.843","fill","#FFF"],["d","M95.239 144.296l.002-3.195a.667.667 0 0 0-.643-.672c-1.9-.061-3.941-.073-6.094-.01a.675.675 0 0 0-.654.672l-.002 3.192c0 .376.305.677.68.669 1.859-.042 3.874-.043 6.02.012.376.01.69-.291.691-.668","fill","#192064"],["d","M90.102 273.522h12.819M91.216 269.761c.006 3.519-.072 5.55 0 6.292M90.923 263.474c-.009 1.599-.016 2.558-.016 4.505M90.44 170.404l.932 46.38s.7 1.631-.233 2.796c-.932 1.166 2.564.7.932 2.33-1.63 1.633.933 1.166 0 3.497-.618 1.546-1.031 21.921-1.138 36.513","stroke","#648BD8","strokeWidth","1.085","strokeLinecap","round","strokeLinejoin","round"],["d","M73.736 98.665l2.214 4.312s2.098.816 1.865 2.68l.816 2.214M64.297 116.611c.233-.932 2.176-7.147 12.585-10.488M77.598 90.042s7.691 6.137 16.547 2.72","stroke","#E4EBF7","strokeWidth","1.085","strokeLinecap","round","strokeLinejoin","round"],["d","M91.974 86.954s5.476-.816 7.574-4.545c1.297-.345.72 2.212-.33 3.671-.7.971-1.01 1.554-1.01 1.554s.194.31.155.816c-.053.697-.175.653-.272 1.048-.081.335.108.657 0 1.049-.046.17-.198.5-.382.878-.12.249-.072.687-.2.948-.231.469-1.562 1.87-2.622 2.855-3.826 3.554-5.018 1.644-6.001-.408-.894-1.865-.661-5.127-.874-6.875-.35-2.914-2.622-3.03-1.923-4.429.343-.685 2.87.69 3.263 1.748.757 2.04 2.952 1.807 2.622 1.69","fill","#FFC6A0"],["d","M99.8 82.429c-.465.077-.35.272-.97 1.243-.622.971-4.817 2.932-6.39 3.224-2.589.48-2.278-1.56-4.254-2.855-1.69-1.107-3.562-.638-1.398 1.398.99.932.932 1.107 1.398 3.205.335 1.506-.64 3.67.7 5.593","stroke","#DB836E","strokeWidth",".774","strokeLinecap","round","strokeLinejoin","round"],["d","M79.543 108.673c-2.1 2.926-4.266 6.175-5.557 8.762","stroke","#E59788","strokeWidth",".774","strokeLinecap","round","strokeLinejoin","round"],["d","M87.72 124.768s-2.098-1.942-5.127-2.719c-3.03-.777-3.574-.155-5.516.078-1.942.233-3.885-.932-3.652.7.233 1.63 5.05 1.01 5.206 2.097.155 1.087-6.37 2.796-8.313 2.175-.777.777.466 1.864 2.02 2.175.233 1.554 2.253 1.554 2.253 1.554s.699 1.01 2.641 1.088c2.486 1.32 8.934-.7 10.954-1.554 2.02-.855-.466-5.594-.466-5.594","fill","#FFC6A0"],["d","M73.425 122.826s.66 1.127 3.167 1.418c2.315.27 2.563.583 2.563.583s-2.545 2.894-9.07 2.272M72.416 129.274s3.826.097 4.933-.718M74.98 130.75s1.961.136 3.36-.505M77.232 131.916s1.748.019 2.914-.505M73.328 122.321s-.595-1.032 1.262-.427c1.671.544 2.833.055 5.128.155 1.389.061 3.067-.297 3.982.15 1.606.784 3.632 2.181 3.632 2.181s10.526 1.204 19.033-1.127M78.864 108.104s-8.39 2.758-13.168 12.12","stroke","#E59788","strokeWidth",".774","strokeLinecap","round","strokeLinejoin","round"],["d","M109.278 112.533s3.38-3.613 7.575-4.662","stroke","#E4EBF7","strokeWidth","1.085","strokeLinecap","round","strokeLinejoin","round"],["d","M107.375 123.006s9.697-2.745 11.445-.88","stroke","#E59788","strokeWidth",".774","strokeLinecap","round","strokeLinejoin","round"],["d","M194.605 83.656l3.971-3.886M187.166 90.933l3.736-3.655M191.752 84.207l-4.462-4.56M198.453 91.057l-4.133-4.225M129.256 163.074l3.718-3.718M122.291 170.039l3.498-3.498M126.561 163.626l-4.27-4.27M132.975 170.039l-3.955-3.955","stroke","#BFCDDD","strokeWidth","2","strokeLinecap","round","strokeLinejoin","round"],["d","M190.156 211.779h-1.604a4.023 4.023 0 0 1-4.011-4.011V175.68a4.023 4.023 0 0 1 4.01-4.01h1.605a4.023 4.023 0 0 1 4.011 4.01v32.088a4.023 4.023 0 0 1-4.01 4.01","fill","#A3B4C6"],["d","M237.824 212.977a4.813 4.813 0 0 1-4.813 4.813h-86.636a4.813 4.813 0 0 1 0-9.626h86.636a4.813 4.813 0 0 1 4.813 4.813","fill","#A3B4C6"],["fill","#A3B4C6","mask","url(#d)","d","M154.098 190.096h70.513v-84.617h-70.513z"],["d","M224.928 190.096H153.78a3.219 3.219 0 0 1-3.208-3.209V167.92a3.219 3.219 0 0 1 3.208-3.21h71.148a3.219 3.219 0 0 1 3.209 3.21v18.967a3.219 3.219 0 0 1-3.21 3.209M224.928 130.832H153.78a3.218 3.218 0 0 1-3.208-3.208v-18.968a3.219 3.219 0 0 1 3.208-3.209h71.148a3.219 3.219 0 0 1 3.209 3.21v18.967a3.218 3.218 0 0 1-3.21 3.208","fill","#BFCDDD","mask","url(#d)"],["d","M159.563 120.546a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M166.98 120.546a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M174.397 120.546a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M222.539 120.546h-22.461a.802.802 0 0 1-.802-.802v-3.208c0-.443.359-.803.802-.803h22.46c.444 0 .803.36.803.803v3.208c0 .443-.36.802-.802.802","fill","#FFF","mask","url(#d)"],["d","M224.928 160.464H153.78a3.218 3.218 0 0 1-3.208-3.209v-18.967a3.219 3.219 0 0 1 3.208-3.209h71.148a3.219 3.219 0 0 1 3.209 3.209v18.967a3.218 3.218 0 0 1-3.21 3.209","fill","#BFCDDD","mask","url(#d)"],["d","M173.455 130.832h49.301M164.984 130.832h6.089M155.952 130.832h6.75M173.837 160.613h49.3M165.365 160.613h6.089M155.57 160.613h6.751","stroke","#7C90A5","strokeWidth","1.124","strokeLinecap","round","strokeLinejoin","round","mask","url(#d)"],["d","M159.563 151.038a2.407 2.407 0 1 1 0-4.814 2.407 2.407 0 0 1 0 4.814M166.98 151.038a2.407 2.407 0 1 1 0-4.814 2.407 2.407 0 0 1 0 4.814M174.397 151.038a2.407 2.407 0 1 1 .001-4.814 2.407 2.407 0 0 1 0 4.814M222.539 151.038h-22.461a.802.802 0 0 1-.802-.802v-3.209c0-.443.359-.802.802-.802h22.46c.444 0 .803.36.803.802v3.209c0 .443-.36.802-.802.802M159.563 179.987a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M166.98 179.987a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M174.397 179.987a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M222.539 179.987h-22.461a.802.802 0 0 1-.802-.802v-3.209c0-.443.359-.802.802-.802h22.46c.444 0 .803.36.803.802v3.209c0 .443-.36.802-.802.802","fill","#FFF","mask","url(#d)"],["d","M203.04 221.108h-27.372a2.413 2.413 0 0 1-2.406-2.407v-11.448a2.414 2.414 0 0 1 2.406-2.407h27.372a2.414 2.414 0 0 1 2.407 2.407V218.7a2.413 2.413 0 0 1-2.407 2.407","fill","#BFCDDD","mask","url(#d)"],["d","M177.259 207.217v11.52M201.05 207.217v11.52","stroke","#A3B4C6","strokeWidth","1.124","strokeLinecap","round","strokeLinejoin","round","mask","url(#d)"],["d","M162.873 267.894a9.422 9.422 0 0 1-9.422-9.422v-14.82a9.423 9.423 0 0 1 18.845 0v14.82a9.423 9.423 0 0 1-9.423 9.422","fill","#5BA02E","mask","url(#d)"],["d","M171.22 267.83a9.422 9.422 0 0 1-9.422-9.423v-3.438a9.423 9.423 0 0 1 18.845 0v3.438a9.423 9.423 0 0 1-9.422 9.423","fill","#92C110","mask","url(#d)"],["d","M181.31 293.666h-27.712a3.209 3.209 0 0 1-3.209-3.21V269.79a3.209 3.209 0 0 1 3.209-3.21h27.711a3.209 3.209 0 0 1 3.209 3.21v20.668a3.209 3.209 0 0 1-3.209 3.209","fill","#F2D7AD","mask","url(#d)"]],template:function(t,n){1&t&&(C.O4$(),C.TgZ(0,"svg",0)(1,"defs"),C._UZ(2,"path",1)(3,"path",2),C.qZA(),C.TgZ(4,"g",3)(5,"g",4),C._UZ(6,"mask",5)(7,"path",6),C.qZA(),C._UZ(8,"path",7)(9,"path",8)(10,"path",9)(11,"path",10)(12,"path",11)(13,"path",12)(14,"path",13)(15,"path",14)(16,"path",15)(17,"path",16)(18,"path",17)(19,"path",18)(20,"path",19)(21,"path",20)(22,"path",21)(23,"path",22)(24,"path",23)(25,"path",24)(26,"path",25)(27,"path",26)(28,"path",27)(29,"path",28)(30,"path",29)(31,"path",30)(32,"path",31)(33,"path",32)(34,"path",33)(35,"path",34)(36,"path",35)(37,"path",36)(38,"path",37)(39,"path",38)(40,"path",39)(41,"path",40)(42,"path",41)(43,"path",42)(44,"path",43)(45,"path",44)(46,"path",45)(47,"path",46)(48,"path",47)(49,"path",48)(50,"path",49)(51,"path",50)(52,"path",51)(53,"path",52)(54,"path",53)(55,"path",54)(56,"path",55)(57,"mask",5)(58,"path",56)(59,"path",57)(60,"path",58)(61,"path",59)(62,"path",60)(63,"path",61)(64,"path",62)(65,"path",63)(66,"path",64)(67,"path",65)(68,"path",66),C.qZA()())},encapsulation:2,changeDetection:0}),e})(),tr=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=C.Xpm({type:e,selectors:[["nz-result-unauthorized"]],exportAs:["nzResultUnauthorized"],decls:56,vars:0,consts:[["width","251","height","294"],["fill","none","fillRule","evenodd"],["d","M0 129.023v-2.084C0 58.364 55.591 2.774 124.165 2.774h2.085c68.574 0 124.165 55.59 124.165 124.165v2.084c0 68.575-55.59 124.166-124.165 124.166h-2.085C55.591 253.189 0 197.598 0 129.023","fill","#E4EBF7"],["d","M41.417 132.92a8.231 8.231 0 1 1-16.38-1.65 8.231 8.231 0 0 1 16.38 1.65","fill","#FFF"],["d","M38.652 136.36l10.425 5.91M49.989 148.505l-12.58 10.73","stroke","#FFF","strokeWidth","2"],["d","M41.536 161.28a5.636 5.636 0 1 1-11.216-1.13 5.636 5.636 0 0 1 11.216 1.13M59.154 145.261a5.677 5.677 0 1 1-11.297-1.138 5.677 5.677 0 0 1 11.297 1.138M100.36 29.516l29.66-.013a4.562 4.562 0 1 0-.004-9.126l-29.66.013a4.563 4.563 0 0 0 .005 9.126M111.705 47.754l29.659-.013a4.563 4.563 0 1 0-.004-9.126l-29.66.013a4.563 4.563 0 1 0 .005 9.126","fill","#FFF"],["d","M114.066 29.503V29.5l15.698-.007a4.563 4.563 0 1 0 .004 9.126l-15.698.007v-.002a4.562 4.562 0 0 0-.004-9.122M185.405 137.723c-.55 5.455-5.418 9.432-10.873 8.882-5.456-.55-9.432-5.418-8.882-10.873.55-5.455 5.418-9.432 10.873-8.882 5.455.55 9.432 5.418 8.882 10.873","fill","#FFF"],["d","M180.17 143.772l12.572 7.129M193.841 158.42L178.67 171.36","stroke","#FFF","strokeWidth","2"],["d","M185.55 171.926a6.798 6.798 0 1 1-13.528-1.363 6.798 6.798 0 0 1 13.527 1.363M204.12 155.285a6.848 6.848 0 1 1-13.627-1.375 6.848 6.848 0 0 1 13.626 1.375","fill","#FFF"],["d","M152.988 194.074a2.21 2.21 0 1 1-4.42 0 2.21 2.21 0 0 1 4.42 0zM225.931 118.217a2.21 2.21 0 1 1-4.421 0 2.21 2.21 0 0 1 4.421 0zM217.09 153.051a2.21 2.21 0 1 1-4.421 0 2.21 2.21 0 0 1 4.42 0zM177.84 109.842a2.21 2.21 0 1 1-4.422 0 2.21 2.21 0 0 1 4.421 0zM196.114 94.454a2.21 2.21 0 1 1-4.421 0 2.21 2.21 0 0 1 4.421 0zM202.844 182.523a2.21 2.21 0 1 1-4.42 0 2.21 2.21 0 0 1 4.42 0z","stroke","#FFF","strokeWidth","2"],["stroke","#FFF","strokeWidth","2","d","M215.125 155.262l-1.902 20.075-10.87 5.958M174.601 176.636l-6.322 9.761H156.98l-4.484 6.449M175.874 127.28V111.56M221.51 119.404l-12.77 7.859-15.228-7.86V96.668"],["d","M180.68 29.32C180.68 13.128 193.806 0 210 0c16.193 0 29.32 13.127 29.32 29.32 0 16.194-13.127 29.322-29.32 29.322-16.193 0-29.32-13.128-29.32-29.321","fill","#A26EF4"],["d","M221.45 41.706l-21.563-.125a1.744 1.744 0 0 1-1.734-1.754l.071-12.23a1.744 1.744 0 0 1 1.754-1.734l21.562.125c.964.006 1.74.791 1.735 1.755l-.071 12.229a1.744 1.744 0 0 1-1.754 1.734","fill","#FFF"],["d","M215.106 29.192c-.015 2.577-2.049 4.654-4.543 4.64-2.494-.014-4.504-2.115-4.489-4.693l.04-6.925c.016-2.577 2.05-4.654 4.543-4.64 2.494.015 4.504 2.116 4.49 4.693l-.04 6.925zm-4.53-14.074a6.877 6.877 0 0 0-6.916 6.837l-.043 7.368a6.877 6.877 0 0 0 13.754.08l.042-7.368a6.878 6.878 0 0 0-6.837-6.917zM167.566 68.367h-3.93a4.73 4.73 0 0 1-4.717-4.717 4.73 4.73 0 0 1 4.717-4.717h3.93a4.73 4.73 0 0 1 4.717 4.717 4.73 4.73 0 0 1-4.717 4.717","fill","#FFF"],["d","M168.214 248.838a6.611 6.611 0 0 1-6.61-6.611v-66.108a6.611 6.611 0 0 1 13.221 0v66.108a6.611 6.611 0 0 1-6.61 6.61","fill","#5BA02E"],["d","M176.147 248.176a6.611 6.611 0 0 1-6.61-6.61v-33.054a6.611 6.611 0 1 1 13.221 0v33.053a6.611 6.611 0 0 1-6.61 6.611","fill","#92C110"],["d","M185.994 293.89h-27.376a3.17 3.17 0 0 1-3.17-3.17v-45.887a3.17 3.17 0 0 1 3.17-3.17h27.376a3.17 3.17 0 0 1 3.17 3.17v45.886a3.17 3.17 0 0 1-3.17 3.17","fill","#F2D7AD"],["d","M81.972 147.673s6.377-.927 17.566-1.28c11.729-.371 17.57 1.086 17.57 1.086s3.697-3.855.968-8.424c1.278-12.077 5.982-32.827.335-48.273-1.116-1.339-3.743-1.512-7.536-.62-1.337.315-7.147-.149-7.983-.1l-15.311-.347s-3.487-.17-8.035-.508c-1.512-.113-4.227-1.683-5.458-.338-.406.443-2.425 5.669-1.97 16.077l8.635 35.642s-3.141 3.61 1.219 7.085","fill","#FFF"],["d","M75.768 73.325l-.9-6.397 11.982-6.52s7.302-.118 8.038 1.205c.737 1.324-5.616.993-5.616.993s-1.836 1.388-2.615 2.5c-1.654 2.363-.986 6.471-8.318 5.986-1.708.284-2.57 2.233-2.57 2.233","fill","#FFC6A0"],["d","M52.44 77.672s14.217 9.406 24.973 14.444c1.061.497-2.094 16.183-11.892 11.811-7.436-3.318-20.162-8.44-21.482-14.496-.71-3.258 2.543-7.643 8.401-11.76M141.862 80.113s-6.693 2.999-13.844 6.876c-3.894 2.11-10.137 4.704-12.33 7.988-6.224 9.314 3.536 11.22 12.947 7.503 6.71-2.651 28.999-12.127 13.227-22.367","fill","#FFB594"],["d","M76.166 66.36l3.06 3.881s-2.783 2.67-6.31 5.747c-7.103 6.195-12.803 14.296-15.995 16.44-3.966 2.662-9.754 3.314-12.177-.118-3.553-5.032.464-14.628 31.422-25.95","fill","#FFC6A0"],["d","M64.674 85.116s-2.34 8.413-8.912 14.447c.652.548 18.586 10.51 22.144 10.056 5.238-.669 6.417-18.968 1.145-20.531-.702-.208-5.901-1.286-8.853-2.167-.87-.26-1.611-1.71-3.545-.936l-1.98-.869zM128.362 85.826s5.318 1.956 7.325 13.734c-.546.274-17.55 12.35-21.829 7.805-6.534-6.94-.766-17.393 4.275-18.61 4.646-1.121 5.03-1.37 10.23-2.929","fill","#FFF"],["d","M78.18 94.656s.911 7.41-4.914 13.078","stroke","#E4EBF7","strokeWidth","1.051","strokeLinecap","round","strokeLinejoin","round"],["d","M87.397 94.68s3.124 2.572 10.263 2.572c7.14 0 9.074-3.437 9.074-3.437","stroke","#E4EBF7","strokeWidth",".932","strokeLinecap","round","strokeLinejoin","round"],["d","M117.184 68.639l-6.781-6.177s-5.355-4.314-9.223-.893c-3.867 3.422 4.463 2.083 5.653 4.165 1.19 2.082.848 1.143-2.083.446-5.603-1.331-2.082.893 2.975 5.355 2.091 1.845 6.992.955 6.992.955l2.467-3.851z","fill","#FFC6A0"],["d","M105.282 91.315l-.297-10.937-15.918-.027-.53 10.45c-.026.403.17.788.515.999 2.049 1.251 9.387 5.093 15.799.424.287-.21.443-.554.431-.91","fill","#FFB594"],["d","M107.573 74.24c.817-1.147.982-9.118 1.015-11.928a1.046 1.046 0 0 0-.965-1.055l-4.62-.365c-7.71-1.044-17.071.624-18.253 6.346-5.482 5.813-.421 13.244-.421 13.244s1.963 3.566 4.305 6.791c.756 1.041.398-3.731 3.04-5.929 5.524-4.594 15.899-7.103 15.899-7.103","fill","#5C2552"],["d","M88.426 83.206s2.685 6.202 11.602 6.522c7.82.28 8.973-7.008 7.434-17.505l-.909-5.483c-6.118-2.897-15.478.54-15.478.54s-.576 2.044-.19 5.504c-2.276 2.066-1.824 5.618-1.824 5.618s-.905-1.922-1.98-2.321c-.86-.32-1.897.089-2.322 1.98-1.04 4.632 3.667 5.145 3.667 5.145","fill","#FFC6A0"],["stroke","#DB836E","strokeWidth","1.145","strokeLinecap","round","strokeLinejoin","round","d","M100.843 77.099l1.701-.928-1.015-4.324.674-1.406"],["d","M105.546 74.092c-.022.713-.452 1.279-.96 1.263-.51-.016-.904-.607-.882-1.32.021-.713.452-1.278.96-1.263.51.016.904.607.882 1.32M97.592 74.349c-.022.713-.452 1.278-.961 1.263-.509-.016-.904-.607-.882-1.32.022-.713.452-1.279.961-1.263.51.016.904.606.882 1.32","fill","#552950"],["d","M91.132 86.786s5.269 4.957 12.679 2.327","stroke","#DB836E","strokeWidth","1.145","strokeLinecap","round","strokeLinejoin","round"],["d","M99.776 81.903s-3.592.232-1.44-2.79c1.59-1.496 4.897-.46 4.897-.46s1.156 3.906-3.457 3.25","fill","#DB836E"],["d","M102.88 70.6s2.483.84 3.402.715M93.883 71.975s2.492-1.144 4.778-1.073","stroke","#5C2552","strokeWidth","1.526","strokeLinecap","round","strokeLinejoin","round"],["d","M86.32 77.374s.961.879 1.458 2.106c-.377.48-1.033 1.152-.236 1.809M99.337 83.719s1.911.151 2.509-.254","stroke","#DB836E","strokeWidth","1.145","strokeLinecap","round","strokeLinejoin","round"],["d","M87.782 115.821l15.73-3.012M100.165 115.821l10.04-2.008","stroke","#E4EBF7","strokeWidth","1.051","strokeLinecap","round","strokeLinejoin","round"],["d","M66.508 86.763s-1.598 8.83-6.697 14.078","stroke","#E4EBF7","strokeWidth","1.114","strokeLinecap","round","strokeLinejoin","round"],["d","M128.31 87.934s3.013 4.121 4.06 11.785","stroke","#E4EBF7","strokeWidth","1.051","strokeLinecap","round","strokeLinejoin","round"],["d","M64.09 84.816s-6.03 9.912-13.607 9.903","stroke","#DB836E","strokeWidth",".795","strokeLinecap","round","strokeLinejoin","round"],["d","M112.366 65.909l-.142 5.32s5.993 4.472 11.945 9.202c4.482 3.562 8.888 7.455 10.985 8.662 4.804 2.766 8.9 3.355 11.076 1.808 4.071-2.894 4.373-9.878-8.136-15.263-4.271-1.838-16.144-6.36-25.728-9.73","fill","#FFC6A0"],["d","M130.532 85.488s4.588 5.757 11.619 6.214","stroke","#DB836E","strokeWidth",".75","strokeLinecap","round","strokeLinejoin","round"],["d","M121.708 105.73s-.393 8.564-1.34 13.612","stroke","#E4EBF7","strokeWidth","1.051","strokeLinecap","round","strokeLinejoin","round"],["d","M115.784 161.512s-3.57-1.488-2.678-7.14","stroke","#648BD8","strokeWidth","1.051","strokeLinecap","round","strokeLinejoin","round"],["d","M101.52 290.246s4.326 2.057 7.408 1.03c2.842-.948 4.564.673 7.132 1.186 2.57.514 6.925 1.108 11.772-1.269-.104-5.551-6.939-4.01-12.048-6.763-2.582-1.39-3.812-4.757-3.625-8.863h-9.471s-1.402 10.596-1.169 14.68","fill","#CBD1D1"],["d","M101.496 290.073s2.447 1.281 6.809.658c3.081-.44 3.74.485 7.479 1.039 3.739.554 10.802-.07 11.91-.9.415 1.108-.347 2.077-.347 2.077s-1.523.608-4.847.831c-2.045.137-5.843.293-7.663-.507-1.8-1.385-5.286-1.917-5.77-.243-3.947.958-7.41-.288-7.41-.288l-.16-2.667z","fill","#2B0849"],["d","M108.824 276.19h3.116s-.103 6.751 4.57 8.62c-4.673.624-8.62-2.32-7.686-8.62","fill","#A4AABA"],["d","M57.65 272.52s-2.122 7.47-4.518 12.396c-1.811 3.724-4.255 7.548 5.505 7.548 6.698 0 9.02-.483 7.479-6.648-1.541-6.164.268-13.296.268-13.296H57.65z","fill","#CBD1D1"],["d","M51.54 290.04s2.111 1.178 6.682 1.178c6.128 0 8.31-1.662 8.31-1.662s.605 1.122-.624 2.18c-1 .862-3.624 1.603-7.444 1.559-4.177-.049-5.876-.57-6.786-1.177-.831-.554-.692-1.593-.138-2.078","fill","#2B0849"],["d","M58.533 274.438s.034 1.529-.315 2.95c-.352 1.431-1.087 3.127-1.139 4.17-.058 1.16 4.57 1.592 5.194.035.623-1.559 1.303-6.475 1.927-7.306.622-.831-4.94-2.135-5.667.15","fill","#A4AABA"],["d","M100.885 277.015l13.306.092s1.291-54.228 1.843-64.056c.552-9.828 3.756-43.13.997-62.788l-12.48-.64-22.725.776s-.433 3.944-1.19 9.921c-.062.493-.677.838-.744 1.358-.075.582.42 1.347.318 1.956-2.35 14.003-6.343 32.926-8.697 46.425-.116.663-1.227 1.004-1.45 2.677-.04.3.21 1.516.112 1.785-6.836 18.643-10.89 47.584-14.2 61.551l14.528-.014s2.185-8.524 4.008-16.878c2.796-12.817 22.987-84.553 22.987-84.553l3-.517 1.037 46.1s-.223 1.228.334 2.008c.558.782-.556 1.117-.39 2.233l.39 1.784s-.446 7.14-.892 11.826c-.446 4.685-.092 38.954-.092 38.954","fill","#7BB2F9"],["d","M77.438 220.434c1.146.094 4.016-2.008 6.916-4.91M107.55 223.931s2.758-1.103 6.069-3.862","stroke","#648BD8","strokeWidth","1.051","strokeLinecap","round","strokeLinejoin","round"],["d","M108.459 220.905s2.759-1.104 6.07-3.863","stroke","#648BD8","strokeLinecap","round","strokeLinejoin","round"],["d","M76.099 223.557s2.608-.587 6.47-3.346M87.33 150.82c-.27 3.088.297 8.478-4.315 9.073M104.829 149.075s.11 13.936-1.286 14.983c-2.207 1.655-2.975 1.934-2.975 1.934M101.014 149.63s.035 12.81-1.19 24.245M94.93 174.965s7.174-1.655 9.38-1.655M75.671 204.754c-.316 1.55-.64 3.067-.973 4.535 0 0-1.45 1.822-1.003 3.756.446 1.934-.943 2.034-4.96 15.273-1.686 5.559-4.464 18.49-6.313 27.447-.078.38-4.018 18.06-4.093 18.423M77.043 196.743a313.269 313.269 0 0 1-.877 4.729M83.908 151.414l-1.19 10.413s-1.091.148-.496 2.23c.111 1.34-2.66 15.692-5.153 30.267M57.58 272.94h13.238","stroke","#648BD8","strokeWidth","1.051","strokeLinecap","round","strokeLinejoin","round"],["d","M117.377 147.423s-16.955-3.087-35.7.199c.157 2.501-.002 4.128-.002 4.128s14.607-2.802 35.476-.31c.251-2.342.226-4.017.226-4.017","fill","#192064"],["d","M107.511 150.353l.004-4.885a.807.807 0 0 0-.774-.81c-2.428-.092-5.04-.108-7.795-.014a.814.814 0 0 0-.784.81l-.003 4.88c0 .456.371.82.827.808a140.76 140.76 0 0 1 7.688.017.81.81 0 0 0 .837-.806","fill","#FFF"],["d","M106.402 149.426l.002-3.06a.64.64 0 0 0-.616-.643 94.135 94.135 0 0 0-5.834-.009.647.647 0 0 0-.626.643l-.001 3.056c0 .36.291.648.651.64 1.78-.04 3.708-.041 5.762.012.36.009.662-.279.662-.64","fill","#192064"],["d","M101.485 273.933h12.272M102.652 269.075c.006 3.368.04 5.759.11 6.47M102.667 263.125c-.009 1.53-.015 2.98-.016 4.313M102.204 174.024l.893 44.402s.669 1.561-.224 2.677c-.892 1.116 2.455.67.893 2.231-1.562 1.562.893 1.116 0 3.347-.592 1.48-.988 20.987-1.09 34.956","stroke","#648BD8","strokeWidth","1.051","strokeLinecap","round","strokeLinejoin","round"]],template:function(t,n){1&t&&(C.O4$(),C.TgZ(0,"svg",0)(1,"g",1),C._UZ(2,"path",2)(3,"path",3)(4,"path",4)(5,"path",5)(6,"path",6)(7,"path",7)(8,"path",8)(9,"path",9)(10,"path",10)(11,"path",11)(12,"path",12)(13,"path",13)(14,"path",14)(15,"path",15)(16,"path",16)(17,"path",17)(18,"path",18)(19,"path",19)(20,"path",20)(21,"path",21)(22,"path",22)(23,"path",23)(24,"path",24)(25,"path",25)(26,"path",26)(27,"path",27)(28,"path",28)(29,"path",29)(30,"path",30)(31,"path",31)(32,"path",32)(33,"path",33)(34,"path",34)(35,"path",35)(36,"path",36)(37,"path",37)(38,"path",38)(39,"path",39)(40,"path",40)(41,"path",41)(42,"path",42)(43,"path",43)(44,"path",44)(45,"path",45)(46,"path",46)(47,"path",47)(48,"path",48)(49,"path",49)(50,"path",50)(51,"path",51)(52,"path",52)(53,"path",53)(54,"path",54)(55,"path",55),C.qZA()())},encapsulation:2,changeDetection:0}),e})(),Ar=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=C.lG2({type:e,selectors:[["div","nz-result-extra",""]],hostAttrs:[1,"ant-result-extra"],exportAs:["nzResultExtra"]}),e})();const gn={success:"check-circle",error:"close-circle",info:"exclamation-circle",warning:"warning"},Si=["404","500","403"];let Hn=(()=>{class e{constructor(t,n){this.cdr=t,this.directionality=n,this.nzStatus="info",this.isException=!1,this.dir="ltr",this.destroy$=new ye.x}ngOnInit(){this.directionality.change?.pipe((0,ie.R)(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnChanges(){this.setStatusIcon()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setStatusIcon(){const t=this.nzIcon;this.isException=-1!==Si.indexOf(this.nzStatus),this.icon=t?"string"==typeof t&&gn[t]||t:this.isException?void 0:gn[this.nzStatus]}}return e.\u0275fac=function(t){return new(t||e)(C.Y36(C.sBO),C.Y36(Ct.Is,8))},e.\u0275cmp=C.Xpm({type:e,selectors:[["nz-result"]],hostAttrs:[1,"ant-result"],hostVars:10,hostBindings:function(t,n){2&t&&C.ekj("ant-result-success","success"===n.nzStatus)("ant-result-error","error"===n.nzStatus)("ant-result-info","info"===n.nzStatus)("ant-result-warning","warning"===n.nzStatus)("ant-result-rtl","rtl"===n.dir)},inputs:{nzIcon:"nzIcon",nzTitle:"nzTitle",nzStatus:"nzStatus",nzSubTitle:"nzSubTitle",nzExtra:"nzExtra"},exportAs:["nzResult"],features:[C.TTD],ngContentSelectors:qe,decls:11,vars:8,consts:[[1,"ant-result-icon"],[4,"ngIf","ngIfElse"],[4,"ngIf"],["class","ant-result-extra",4,"ngIf"],["exceptionTpl",""],[4,"nzStringTemplateOutlet"],["nz-icon","","nzTheme","fill",3,"nzType"],["class","ant-result-title",4,"nzStringTemplateOutlet"],[1,"ant-result-title"],["class","ant-result-subtitle",4,"nzStringTemplateOutlet"],[1,"ant-result-subtitle"],[1,"ant-result-extra"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(t,n){if(1&t&&(C.F$t(je),C.TgZ(0,"div",0),C.YNc(1,nt,3,2,"ng-container",1),C.qZA(),C.YNc(2,wt,2,1,"ng-container",2),C.YNc(3,Et,1,0,"ng-content",2),C.YNc(4,ce,2,1,"ng-container",2),C.YNc(5,oe,1,0,"ng-content",2),C.Hsn(6),C.YNc(7,Zt,2,1,"div",3),C.YNc(8,Le,1,0,"ng-content",2),C.YNc(9,ze,4,4,"ng-template",null,4,C.W1O)),2&t){const s=C.MAs(10);C.xp6(1),C.Q6J("ngIf",!n.isException)("ngIfElse",s),C.xp6(1),C.Q6J("ngIf",n.nzTitle),C.xp6(1),C.Q6J("ngIf",!n.nzTitle),C.xp6(1),C.Q6J("ngIf",n.nzSubTitle),C.xp6(1),C.Q6J("ngIf",!n.nzSubTitle),C.xp6(2),C.Q6J("ngIf",n.nzExtra),C.xp6(1),C.Q6J("ngIf",!n.nzExtra)}},dependencies:[St.O5,St.RF,St.n9,Yt.f,Z.Ls,Ke,Ge,tr],encapsulation:2,changeDetection:0}),e})(),jo=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=C.oAB({type:e}),e.\u0275inj=C.cJS({imports:[Ct.vT,St.ez,Yt.T,Z.PV]}),e})();var ji=ut(4788),mo=ut(8440),An=ut(5635),xo=ut(8395);const Ka=["tree"];function Jo(e,r){1&e&&C._UZ(0,"i",7)}let Ko=(()=>{class e{constructor(t,n){this.dataService=t,this.handlerService=n,this.loading=!1}ngOnInit(){this.multiple=this.dimension.type===jt.REFERENCE_MULTI||this.dimension.type===jt.REFERENCE_TREE_MULTI;let t=this.dimension.type==jt.REFERENCE_TREE_MULTI||this.dimension.type==jt.REFERENCE_TREE_RADIO;this.loading=!0,this.dataService.getBiReference(this.code,this.dimension.id,this.handlerService.buildDimParam(this.bi,!1,!0)).subscribe(n=>{if(n){if(t)this.data=this.recursiveTree(n,null);else{let s=[];n.forEach(u=>{s.push({isLeaf:!0,key:u.id,title:u.title})}),this.data=s}if(this.multiple&&(this.data=[{key:null,title:"\u5168\u90e8",expanded:!0,children:this.data,all:!0}]),this.dimension.$value)switch(this.dimension.type){case jt.REFERENCE:this.data.forEach(s=>{s.key==this.dimension.$value&&(s.selected=!0)});break;case jt.REFERENCE_MULTI:this.data[0].children.forEach(s=>{-1!=this.dimension.$value.indexOf(s.key)&&(s.checked=!0)});break;case jt.REFERENCE_TREE_RADIO:this.findAllNode(this.data).forEach(s=>{s.key==this.dimension.$value&&(s.selected=!0)});break;case jt.REFERENCE_TREE_MULTI:this.findAllNode(this.data).forEach(s=>{-1!=this.dimension.$value.indexOf(s.key)&&(s.checked=!0)})}}else this.data=[];this.loading=!1})}recursiveTree(t,n){let s=[];return t.forEach(u=>{if(u.pid==n){let h={key:u.id,title:u.title,expanded:!0,children:this.recursiveTree(t,u.id)};h.isLeaf=!h.children.length,s.push(h)}}),s}nodeClickEvent(t){this.dimension.$viewValue=t.node.origin.title,this.dimension.$value=t.node.origin.key}nodeCheck(t){let n=this.findAllNode(t.checkedKeys),s=[],u=[];n.forEach(h=>{h.origin.key&&(u.push(h.origin.key),s.push(h.origin.title))}),this.dimension.$value=u.length+1===this.findAllNode(this.data).length?[]:u,this.dimension.$viewValue=s.join(" | ")}findAllNode(t,n=[]){return t.forEach(s=>{s.children&&this.findAllNode(s.children,n),n.push(s)}),n}}return e.\u0275fac=function(t){return new(t||e)(C.Y36(Mt),C.Y36(zt))},e.\u0275cmp=C.Xpm({type:e,selectors:[["erupt-reference-select"]],viewQuery:function(t,n){if(1&t&&C.Gf(Ka,5),2&t){let s;C.iGM(s=C.CRH())&&(n.tree=s.first)}},inputs:{dimension:"dimension",code:"code",bi:"bi"},decls:9,vars:9,consts:[[3,"nzSpinning"],[1,"mb-sm",2,"width","100%",3,"nzSuffix"],["type","text","nz-input","","placeholder","Search",3,"ngModel","ngModelChange"],["searchSuffixIcon",""],[2,"max-height","450px","min-height","300px","overflow","auto"],["nzDraggable","",1,"tree-container",3,"nzCheckStrictly","nzCheckable","nzShowLine","nzHideUnMatched","nzData","nzSearchValue","nzClick","nzCheckBoxChange"],["tree",""],["nz-icon","","nzType","search"]],template:function(t,n){if(1&t&&(C.TgZ(0,"nz-spin",0)(1,"nz-input-group",1)(2,"input",2),C.NdJ("ngModelChange",function(u){return n.searchValue=u}),C.qZA()(),C.YNc(3,Jo,1,0,"ng-template",null,3,C.W1O),C._UZ(5,"br"),C.TgZ(6,"div",4)(7,"nz-tree",5,6),C.NdJ("nzClick",function(u){return n.multiple||n.nodeClickEvent(u)})("nzCheckBoxChange",function(u){return n.nodeCheck(u)}),C.qZA()()()),2&t){const s=C.MAs(4);C.Q6J("nzSpinning",n.loading),C.xp6(1),C.Q6J("nzSuffix",s),C.xp6(1),C.Q6J("ngModel",n.searchValue),C.xp6(5),C.Q6J("nzCheckStrictly",!1)("nzCheckable",n.multiple)("nzShowLine",!0)("nzHideUnMatched",!0)("nzData",n.data)("nzSearchValue",n.searchValue)}},dependencies:[Q.Fj,Q.JJ,Q.On,It.w,Z.Ls,An.Zp,An.gB,An.ke,Nt.W,xo.Hc],encapsulation:2}),e})();var Co=ut(5439),zs=ut(7254),Du=ut(7570),$c=ut(8231),Qo=ut(834),ku=ut(4685),Ol=ut(7096),Ns=ut(6704),jf=ut(8521),Rl=ut(6581);function Zc(e,r){1&e&&(C.TgZ(0,"label",6),C._uU(1),C.ALo(2,"translate"),C.qZA()),2&e&&(C.Q6J("nzValue",null),C.xp6(1),C.Oqu(C.lcZ(2,2,"global.check_none")))}function qc(e,r){if(1&e&&(C.TgZ(0,"label",6),C._uU(1),C.qZA()),2&e){const t=r.$implicit;C.Q6J("nzValue",t.id),C.xp6(1),C.Oqu(t.title)}}function jc(e,r){if(1&e){const t=C.EpF();C.ynx(0),C.TgZ(1,"nz-radio-group",3),C.NdJ("ngModelChange",function(s){C.CHM(t);const u=C.oxw();return C.KtG(u.dim.$value=s)}),C.YNc(2,Zc,3,4,"label",4),C.YNc(3,qc,2,2,"label",5),C.qZA(),C.BQk()}if(2&e){const t=C.oxw();C.xp6(1),C.Q6J("ngModel",t.dim.$value)("name",t.dim.code),C.xp6(1),C.Q6J("ngIf",!t.dim.notNull),C.xp6(1),C.Q6J("ngForOf",t.data)}}function Jc(e,r){if(1&e&&(C.TgZ(0,"label",10),C._uU(1),C.qZA()),2&e){const t=r.$implicit,n=C.oxw(2);C.Q6J("nzChecked",n.dim.$viewValue)("nzValue",t.id),C.xp6(1),C.Oqu(t.title)}}function Bu(e,r){if(1&e){const t=C.EpF();C.ynx(0),C.TgZ(1,"label",7),C.NdJ("nzCheckedChange",function(s){C.CHM(t);const u=C.oxw();return C.KtG(u.dim.$viewValue=s)})("nzCheckedChange",function(s){C.CHM(t);const u=C.oxw();return C.KtG(u.checkedChangeAll(s))}),C._uU(2),C.ALo(3,"translate"),C.qZA(),C.TgZ(4,"nz-checkbox-wrapper",8),C.NdJ("nzOnChange",function(s){C.CHM(t);const u=C.oxw();return C.KtG(u.checkedChange(s))}),C.YNc(5,Jc,2,3,"label",9),C.qZA(),C.BQk()}if(2&e){const t=C.oxw();C.xp6(1),C.Q6J("nzChecked",t.dim.$viewValue),C.xp6(1),C.Oqu(C.lcZ(3,3,"global.check_all")),C.xp6(3),C.Q6J("ngForOf",t.data)}}let Kc=(()=>{class e{constructor(t){this.dataService=t,this.dimType=jt}ngOnInit(){this.loading=!0,this.dataService.getBiReference(this.bi.code,this.dim.id,null).subscribe(t=>{this.data=t,this.loading=!1})}checkedChange(t){this.dim.$value=t}checkedChangeAll(t){this.dim.$viewValue=t,this.dim.$value=[]}}return e.\u0275fac=function(t){return new(t||e)(C.Y36(Mt))},e.\u0275cmp=C.Xpm({type:e,selectors:[["erupt-bi-choice"]],inputs:{dim:"dim",bi:"bi"},decls:4,vars:4,consts:[[3,"nzSpinning"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"ngModel","name","ngModelChange"],["nz-radio","",3,"nzValue",4,"ngIf"],["nz-radio","",3,"nzValue",4,"ngFor","ngForOf"],["nz-radio","",3,"nzValue"],["nz-checkbox","",3,"nzChecked","nzCheckedChange"],[3,"nzOnChange"],["nz-checkbox","",3,"nzChecked","nzValue",4,"ngFor","ngForOf"],["nz-checkbox","",3,"nzChecked","nzValue"]],template:function(t,n){1&t&&(C.TgZ(0,"nz-spin",0),C.ynx(1,1),C.YNc(2,jc,4,4,"ng-container",2),C.YNc(3,Bu,6,5,"ng-container",2),C.BQk(),C.qZA()),2&t&&(C.Q6J("nzSpinning",n.loading),C.xp6(1),C.Q6J("ngSwitch",n.dim.type),C.xp6(1),C.Q6J("ngSwitchCase",n.dimType.REFERENCE_RADIO),C.xp6(1),C.Q6J("ngSwitchCase",n.dimType.REFERENCE_CHECKBOX))},dependencies:[St.sg,St.O5,St.RF,St.n9,Q.JJ,Q.On,N.Ie,N.EZ,jf.Of,jf.Dg,Nt.W,Rl.C],styles:["label[nz-radio][_ngcontent-%COMP%]{min-width:120px;margin-right:0}label[nz-checkbox][_ngcontent-%COMP%]{min-width:120px;line-height:32px;margin-left:0}"]}),e})();var E=ut(7582),Xn=ut(9521),st=ut(8184),rt=ut(1135),ht=ut(9646),Tt=ut(9751),re=ut(4968),Oe=ut(515),Ue=ut(1884),De=ut(1365),xr=ut(4004),nn=ut(8675),Qn=ut(3900),pa=ut(2539),Ia=ut(2536),Qa=ut(1691),Oa=ut(3303),Ji=ut(3187),Qc=ut(7218),m0=ut(4896),th=ut(4903),Hs=ut(9570);const Jf=["nz-cascader-option",""];function Kf(e,r){}const x0=function(e,r){return{$implicit:e,index:r}};function C0(e,r){if(1&e&&(C.ynx(0),C.YNc(1,Kf,0,0,"ng-template",3),C.BQk()),2&e){const t=C.oxw();C.xp6(1),C.Q6J("ngTemplateOutlet",t.optionTemplate)("ngTemplateOutletContext",C.WLB(2,x0,t.option,t.columnIndex))}}function w0(e,r){if(1&e&&(C._UZ(0,"div",4),C.ALo(1,"nzHighlight")),2&e){const t=C.oxw();C.Q6J("innerHTML",C.gM2(1,1,t.optionLabel,t.highlightText,"g","ant-cascader-menu-item-keyword"),C.oJD)}}function Fl(e,r){1&e&&C._UZ(0,"span",8)}function Dl(e,r){if(1&e&&(C.ynx(0),C._UZ(1,"span",10),C.BQk()),2&e){const t=C.oxw(3);C.xp6(1),C.Q6J("nzType",t.expandIcon)}}function kl(e,r){if(1&e&&C.YNc(0,Dl,2,1,"ng-container",9),2&e){const t=C.oxw(2);C.Q6J("nzStringTemplateOutlet",t.expandIcon)}}function Qf(e,r){if(1&e&&(C.TgZ(0,"div",5),C.YNc(1,Fl,1,0,"span",6),C.YNc(2,kl,1,1,"ng-template",null,7,C.W1O),C.qZA()),2&e){const t=C.MAs(3),n=C.oxw();C.xp6(1),C.Q6J("ngIf",n.option.loading)("ngIfElse",t)}}const Pu=["selectContainer"],Bl=["input"],zu=["menu"];function Gs(e,r){if(1&e&&(C.ynx(0),C._uU(1),C.BQk()),2&e){const t=C.oxw(3);C.xp6(1),C.Oqu(t.labelRenderText)}}function eh(e,r){}function ts(e,r){if(1&e&&C.YNc(0,eh,0,0,"ng-template",16),2&e){const t=C.oxw(3);C.Q6J("ngTemplateOutlet",t.nzLabelRender)("ngTemplateOutletContext",t.labelRenderContext)}}function td(e,r){if(1&e&&(C.TgZ(0,"span",13),C.YNc(1,Gs,2,1,"ng-container",14),C.YNc(2,ts,1,2,"ng-template",null,15,C.W1O),C.qZA()),2&e){const t=C.MAs(3),n=C.oxw(2);C.Q6J("title",n.labelRenderText),C.xp6(1),C.Q6J("ngIf",!n.isLabelRenderTemplate)("ngIfElse",t)}}function ed(e,r){if(1&e&&(C.TgZ(0,"span",17),C._uU(1),C.qZA()),2&e){const t=C.oxw(2);C.Udp("visibility",t.inputValue?"hidden":"visible"),C.xp6(1),C.Oqu(t.showPlaceholder?t.nzPlaceHolder||(null==t.locale?null:t.locale.placeholder):null)}}function _0(e,r){if(1&e&&C._UZ(0,"span",22),2&e){const t=C.oxw(3);C.ekj("ant-cascader-picker-arrow-expand",t.menuVisible),C.Q6J("nzType",t.nzSuffixIcon)}}function Nu(e,r){1&e&&C._UZ(0,"span",23)}function rh(e,r){if(1&e&&C._UZ(0,"nz-form-item-feedback-icon",24),2&e){const t=C.oxw(3);C.Q6J("status",t.status)}}function rd(e,r){if(1&e&&(C.TgZ(0,"span",18),C.YNc(1,_0,1,3,"span",19),C.YNc(2,Nu,1,0,"span",20),C.YNc(3,rh,1,1,"nz-form-item-feedback-icon",21),C.qZA()),2&e){const t=C.oxw(2);C.ekj("ant-select-arrow-loading",t.isLoading),C.xp6(1),C.Q6J("ngIf",!t.isLoading),C.xp6(1),C.Q6J("ngIf",t.isLoading),C.xp6(1),C.Q6J("ngIf",t.hasFeedback&&!!t.status)}}function nd(e,r){if(1&e){const t=C.EpF();C.TgZ(0,"span",25)(1,"span",26),C.NdJ("click",function(s){C.CHM(t);const u=C.oxw(2);return C.KtG(u.clearSelection(s))}),C.qZA()()}}function S0(e,r){if(1&e){const t=C.EpF();C.ynx(0),C.TgZ(1,"div",4,5)(3,"span",6)(4,"input",7,8),C.NdJ("ngModelChange",function(s){C.CHM(t);const u=C.oxw();return C.KtG(u.inputValue=s)})("blur",function(){C.CHM(t);const s=C.oxw();return C.KtG(s.handleInputBlur())})("focus",function(){C.CHM(t);const s=C.oxw();return C.KtG(s.handleInputFocus())}),C.qZA()(),C.YNc(6,td,4,3,"span",9),C.YNc(7,ed,2,3,"span",10),C.qZA(),C.YNc(8,rd,4,5,"span",11),C.YNc(9,nd,2,0,"span",12),C.BQk()}if(2&e){const t=C.oxw();C.xp6(4),C.Udp("opacity",t.nzShowSearch?"":"0"),C.Q6J("readonly",!t.nzShowSearch)("disabled",t.nzDisabled)("ngModel",t.inputValue),C.uIk("autoComplete","off")("expanded",t.menuVisible)("autofocus",t.nzAutoFocus?"autofocus":null),C.xp6(2),C.Q6J("ngIf",t.showLabelRender),C.xp6(1),C.Q6J("ngIf",!t.showLabelRender),C.xp6(1),C.Q6J("ngIf",t.nzShowArrow),C.xp6(1),C.Q6J("ngIf",t.clearIconVisible)}}function K1(e,r){if(1&e&&(C.TgZ(0,"ul",32)(1,"li",33),C._UZ(2,"nz-embed-empty",34),C.qZA()()),2&e){const t=C.oxw(2);C.Udp("width",t.dropdownWidthStyle)("height",t.dropdownHeightStyle),C.xp6(2),C.Q6J("nzComponentName","cascader")("specificContent",t.nzNotFoundContent)}}function id(e,r){if(1&e){const t=C.EpF();C.TgZ(0,"li",38),C.NdJ("mouseenter",function(s){const h=C.CHM(t).$implicit,d=C.oxw().index,p=C.oxw(3);return C.KtG(p.onOptionMouseEnter(h,d,s))})("mouseleave",function(s){const h=C.CHM(t).$implicit,d=C.oxw().index,p=C.oxw(3);return C.KtG(p.onOptionMouseLeave(h,d,s))})("click",function(s){const h=C.CHM(t).$implicit,d=C.oxw().index,p=C.oxw(3);return C.KtG(p.onOptionClick(h,d,s))}),C.qZA()}if(2&e){const t=r.$implicit,n=C.oxw().index,s=C.oxw(3);C.Q6J("expandIcon",s.nzExpandIcon)("columnIndex",n)("nzLabelProperty",s.nzLabelProperty)("optionTemplate",s.nzOptionRender)("activated",s.isOptionActivated(t,n))("highlightText",s.inSearchingMode?s.inputValue:"")("option",t)("dir",s.dir)}}function nh(e,r){if(1&e&&(C.TgZ(0,"ul",36),C.YNc(1,id,1,8,"li",37),C.qZA()),2&e){const t=r.$implicit,n=C.oxw(3);C.Udp("height",n.dropdownHeightStyle)("width",n.dropdownWidthStyle),C.Q6J("ngClass",n.menuColumnCls),C.xp6(1),C.Q6J("ngForOf",t)}}function ad(e,r){if(1&e&&C.YNc(0,nh,2,6,"ul",35),2&e){const t=C.oxw(2);C.Q6J("ngForOf",t.cascaderService.columns)}}function Pl(e,r){if(1&e){const t=C.EpF();C.TgZ(0,"div",27),C.NdJ("mouseenter",function(){C.CHM(t);const s=C.oxw();return C.KtG(s.onTriggerMouseEnter())})("mouseleave",function(s){C.CHM(t);const u=C.oxw();return C.KtG(u.onTriggerMouseLeave(s))}),C.TgZ(1,"div",28,29),C.YNc(3,K1,3,6,"ul",30),C.YNc(4,ad,1,1,"ng-template",null,31,C.W1O),C.qZA()()}if(2&e){const t=C.MAs(5),n=C.oxw();C.ekj("ant-cascader-dropdown-rtl","rtl"===n.dir),C.Q6J("@slideMotion","enter")("@.disabled",!(null==n.noAnimation||!n.noAnimation.nzNoAnimation))("nzNoAnimation",null==n.noAnimation?null:n.noAnimation.nzNoAnimation),C.xp6(1),C.ekj("ant-cascader-rtl","rtl"===n.dir)("ant-cascader-menus-hidden",!n.menuVisible)("ant-cascader-menu-empty",n.shouldShowEmpty),C.Q6J("ngClass",n.menuCls)("ngStyle",n.nzMenuStyle),C.xp6(2),C.Q6J("ngIf",n.shouldShowEmpty)("ngIfElse",t)}}const zl=["*"];function Nl(e){return"boolean"!=typeof e}let Ra=(()=>{class e{constructor(t,n){this.cdr=t,this.optionTemplate=null,this.activated=!1,this.nzLabelProperty="label",this.expandIcon="",this.dir="ltr",this.nativeElement=n.nativeElement}ngOnInit(){""===this.expandIcon&&"rtl"===this.dir?this.expandIcon="left":""===this.expandIcon&&(this.expandIcon="right")}get optionLabel(){return this.option[this.nzLabelProperty]}markForCheck(){this.cdr.markForCheck()}}return e.\u0275fac=function(t){return new(t||e)(C.Y36(C.sBO),C.Y36(C.SBq))},e.\u0275cmp=C.Xpm({type:e,selectors:[["","nz-cascader-option",""]],hostAttrs:[1,"ant-cascader-menu-item","ant-cascader-menu-item-expanded"],hostVars:7,hostBindings:function(t,n){2&t&&(C.uIk("title",n.option.title||n.optionLabel),C.ekj("ant-cascader-menu-item-active",n.activated)("ant-cascader-menu-item-expand",!n.option.isLeaf)("ant-cascader-menu-item-disabled",n.option.disabled))},inputs:{optionTemplate:"optionTemplate",option:"option",activated:"activated",highlightText:"highlightText",nzLabelProperty:"nzLabelProperty",columnIndex:"columnIndex",expandIcon:"expandIcon",dir:"dir"},exportAs:["nzCascaderOption"],attrs:Jf,decls:4,vars:3,consts:[[4,"ngIf","ngIfElse"],["defaultOptionTemplate",""],["class","ant-cascader-menu-item-expand-icon",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ant-cascader-menu-item-content",3,"innerHTML"],[1,"ant-cascader-menu-item-expand-icon"],["nz-icon","","nzType","loading",4,"ngIf","ngIfElse"],["icon",""],["nz-icon","","nzType","loading"],[4,"nzStringTemplateOutlet"],["nz-icon","",3,"nzType"]],template:function(t,n){if(1&t&&(C.YNc(0,C0,2,5,"ng-container",0),C.YNc(1,w0,2,6,"ng-template",null,1,C.W1O),C.YNc(3,Qf,4,2,"div",2)),2&t){const s=C.MAs(2);C.Q6J("ngIf",n.optionTemplate)("ngIfElse",s),C.xp6(3),C.Q6J("ngIf",!n.option.isLeaf||(null==n.option.children?null:n.option.children.length)||n.option.loading)}},dependencies:[St.O5,St.tP,Yt.f,Z.Ls,Qc.U],encapsulation:2,changeDetection:0}),e})(),od=(()=>{class e{constructor(){this.activatedOptions=[],this.columns=[],this.inSearchingMode=!1,this.selectedOptions=[],this.values=[],this.$loading=new rt.X(!1),this.$redraw=new ye.x,this.$optionSelected=new ye.x,this.$quitSearching=new ye.x,this.columnsSnapshot=[[]],this.activatedOptionsSnapshot=[]}get nzOptions(){return this.columns[0]}ngOnDestroy(){this.$redraw.complete(),this.$quitSearching.complete(),this.$optionSelected.complete(),this.$loading.complete()}syncOptions(t=!1){const n=this.values,s=n&&n.length,u=n.length-1,h=d=>{const p=()=>{const y=n[d];if(!(0,Ji.DX)(y))return void this.$redraw.next();const x=this.findOptionWithValue(d,n[d])||("object"==typeof y?y:{[`${this.cascaderComponent.nzValueProperty}`]:y,[`${this.cascaderComponent.nzLabelProperty}`]:y});this.setOptionActivated(x,d,!1,!1),d<u?h(d+1):(this.dropBehindColumns(d),this.selectedOptions=[...this.activatedOptions],this.$redraw.next())};this.isLoaded(d)||!this.cascaderComponent.nzLoadData?p():this.loadChildren(this.activatedOptions[d-1]||{},d-1,p)};this.activatedOptions=[],this.selectedOptions=[],t&&this.cascaderComponent.nzLoadData&&!s?this.$redraw.next():h(0)}withComponent(t){this.cascaderComponent=t}withOptions(t){this.columnsSnapshot=this.columns=t&&t.length?[t]:[],this.inSearchingMode?this.prepareSearchOptions(this.cascaderComponent.inputValue):this.columns.length&&this.syncOptions()}setOptionActivated(t,n,s=!1,u=!0){t.disabled||(this.activatedOptions[n]=t,this.trackAncestorActivatedOptions(n),this.dropBehindActivatedOptions(n),function Hl(e){return!!e.children&&!!e.children.length&&!e.isLeaf}(t)?this.setColumnData(t.children,n+1,t):!t.isLeaf&&u?this.loadChildren(t,n):t.isLeaf&&this.dropBehindColumns(n),s&&this.setOptionSelected(t,n),this.$redraw.next())}setOptionSelected(t,n){const s=this.cascaderComponent.nzChangeOn;(t.isLeaf||this.cascaderComponent.nzChangeOnSelect||"function"==typeof s&&s(t,n))&&(this.selectedOptions=[...this.activatedOptions],this.prepareEmitValue(),this.$redraw.next(),this.$optionSelected.next({option:t,index:n}))}setOptionDeactivatedSinceColumn(t){this.dropBehindActivatedOptions(t-1),this.dropBehindColumns(t),this.$redraw.next()}setSearchOptionSelected(t){this.activatedOptions=[t],this.selectedOptions=[...t.path],this.prepareEmitValue(),this.$redraw.next(),this.$optionSelected.next({option:t,index:0}),setTimeout(()=>{this.$quitSearching.next(),this.$redraw.next(),this.inSearchingMode=!1,this.columns=[...this.columnsSnapshot],this.activatedOptions=[...this.selectedOptions]},200)}prepareSearchOptions(t){const n=[],s=[],h=this.cascaderComponent.nzShowSearch,d=Nl(h)&&h.filter?h.filter:(w,M)=>M.some(T=>{const L=this.getOptionLabel(T);return!!L&&-1!==L.indexOf(w)}),p=Nl(h)&&h.sorter?h.sorter:null,y=(w,M=!1)=>{s.push(w);const T=Array.from(s);if(d(t,T)){const R={disabled:M||w.disabled,isLeaf:!0,path:T,[this.cascaderComponent.nzLabelProperty]:T.map(D=>this.getOptionLabel(D)).join(" / ")};n.push(R)}s.pop()},x=(w,M=!1)=>{const T=M||w.disabled;s.push(w),w.children.forEach(L=>{L.parent||(L.parent=w),L.isLeaf||x(L,T),(L.isLeaf||!L.children||!L.children.length)&&y(L,T)}),s.pop()};this.columnsSnapshot.length?(this.columnsSnapshot[0].forEach(w=>function wo(e){return e.isLeaf||!e.children||!e.children.length}(w)?y(w):x(w)),p&&n.sort((w,M)=>p(w.path,M.path,t)),this.columns=[n],this.$redraw.next()):this.columns=[[]]}toggleSearchingMode(t){this.inSearchingMode=t,t?(this.activatedOptionsSnapshot=[...this.activatedOptions],this.activatedOptions=[],this.selectedOptions=[],this.$redraw.next()):(this.activatedOptions=[...this.activatedOptionsSnapshot],this.selectedOptions=[...this.activatedOptions],this.columns=[...this.columnsSnapshot],this.syncOptions(),this.$redraw.next())}clear(){this.values=[],this.selectedOptions=[],this.activatedOptions=[],this.dropBehindColumns(0),this.$redraw.next(),this.$optionSelected.next(null)}getOptionLabel(t){return t[this.cascaderComponent.nzLabelProperty||"label"]}getOptionValue(t){return t[this.cascaderComponent.nzValueProperty||"value"]}setColumnData(t,n,s){(0,Ji.cO)(this.columns[n],t)||(t.forEach(h=>h.parent=s),this.columns[n]=t,this.dropBehindColumns(n))}trackAncestorActivatedOptions(t){for(let n=t-1;n>=0;n--)this.activatedOptions[n]||(this.activatedOptions[n]=this.activatedOptions[n+1].parent)}dropBehindActivatedOptions(t){this.activatedOptions=this.activatedOptions.splice(0,t+1)}dropBehindColumns(t){t<this.columns.length-1&&(this.columns=this.columns.slice(0,t+1))}loadChildren(t,n,s,u){const h=this.cascaderComponent.nzLoadData;h&&(this.$loading.next(n<0),"object"==typeof t&&(t.loading=!0),h(t,n).then(()=>{t.loading=!1,t.children&&this.setColumnData(t.children,n+1,t),s&&s(),this.$loading.next(!1),this.$redraw.next()},()=>{t.loading=!1,t.isLeaf=!0,u&&u(),this.$redraw.next()}))}isLoaded(t){return this.columns[t]&&this.columns[t].length>0}findOptionWithValue(t,n){const s=this.columns[t];if(s){const u="object"==typeof n?this.getOptionValue(n):n;return s.find(h=>u===this.getOptionValue(h))}return null}prepareEmitValue(){this.values=this.selectedOptions.map(t=>this.getOptionValue(t))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=C.Yz7({token:e,factory:e.\u0275fac}),e})();const sd="cascader",M0=e=>e.join(" / ");let b0=(()=>{class e{constructor(t,n,s,u,h,d,p,y,x,w,M,T){this.cascaderService=t,this.nzConfigService=n,this.ngZone=s,this.cdr=u,this.i18nService=h,this.destroy$=d,this.elementRef=p,this.renderer=y,this.directionality=x,this.noAnimation=w,this.nzFormStatusService=M,this.nzFormNoStatusService=T,this._nzModuleName=sd,this.input$=new rt.X(void 0),this.nzOptionRender=null,this.nzShowInput=!0,this.nzShowArrow=!0,this.nzAllowClear=!0,this.nzAutoFocus=!1,this.nzChangeOnSelect=!1,this.nzDisabled=!1,this.nzExpandTrigger="click",this.nzValueProperty="value",this.nzLabelRender=null,this.nzLabelProperty="label",this.nzSize="default",this.nzBackdrop=!1,this.nzShowSearch=!1,this.nzPlaceHolder="",this.nzMenuStyle=null,this.nzMouseEnterDelay=150,this.nzMouseLeaveDelay=150,this.nzStatus="",this.nzTriggerAction=["click"],this.nzSuffixIcon="down",this.nzExpandIcon="",this.nzVisibleChange=new C.vpe,this.nzSelectionChange=new C.vpe,this.nzSelect=new C.vpe,this.nzClear=new C.vpe,this.prefixCls="ant-select",this.statusCls={},this.status="",this.hasFeedback=!1,this.shouldShowEmpty=!1,this.menuVisible=!1,this.isLoading=!1,this.labelRenderContext={},this.onChange=Function.prototype,this.onTouched=Function.prototype,this.positions=[...Qa.n$],this.dropdownHeightStyle="",this.isFocused=!1,this.dir="ltr",this.inputString="",this.isOpening=!1,this.delayMenuTimer=null,this.delaySelectTimer=null,this.isNzDisableFirstChange=!0,this.el=p.nativeElement,this.cascaderService.withComponent(this),this.renderer.addClass(this.elementRef.nativeElement,"ant-select"),this.renderer.addClass(this.elementRef.nativeElement,"ant-cascader")}set input(t){this.input$.next(t)}get input(){return this.input$.getValue()}get nzOptions(){return this.cascaderService.nzOptions}set nzOptions(t){this.cascaderService.withOptions(t)}get inSearchingMode(){return this.cascaderService.inSearchingMode}set inputValue(t){this.inputString=t,this.toggleSearchingMode(!!t)}get inputValue(){return this.inputString}get menuCls(){return{[`${this.nzMenuClassName}`]:!!this.nzMenuClassName}}get menuColumnCls(){return{[`${this.nzColumnClassName}`]:!!this.nzColumnClassName}}get hasInput(){return!!this.inputValue}get hasValue(){return this.cascaderService.values&&this.cascaderService.values.length>0}get showLabelRender(){return this.hasValue}get showPlaceholder(){return!(this.hasInput||this.hasValue)}get clearIconVisible(){return this.nzAllowClear&&!this.nzDisabled&&(this.hasValue||this.hasInput)}get isLabelRenderTemplate(){return!!this.nzLabelRender}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe((0,Ue.x)((n,s)=>n.status===s.status&&n.hasFeedback===s.hasFeedback),(0,De.M)(this.nzFormNoStatusService?this.nzFormNoStatusService.noFormStatus:(0,ht.of)(!1)),(0,xr.U)(([{status:n,hasFeedback:s},u])=>({status:u?"":n,hasFeedback:s})),(0,ie.R)(this.destroy$)).subscribe(({status:n,hasFeedback:s})=>{this.setStatusStyles(n,s)});const t=this.cascaderService;t.$redraw.pipe((0,ie.R)(this.destroy$)).subscribe(()=>{this.checkChildren(),this.setDisplayLabel(),this.cdr.detectChanges(),this.reposition(),this.setDropdownStyles()}),t.$loading.pipe((0,ie.R)(this.destroy$)).subscribe(n=>{this.isLoading=n}),t.$optionSelected.pipe((0,ie.R)(this.destroy$)).subscribe(n=>{if(n){const{option:s,index:u}=n;(s.isLeaf||this.nzChangeOnSelect&&"hover"===this.nzExpandTrigger)&&this.delaySetMenuVisible(!1),this.onChange(this.cascaderService.values),this.nzSelectionChange.emit(this.cascaderService.selectedOptions),this.nzSelect.emit({option:s,index:u}),this.cdr.markForCheck()}else this.onChange([]),this.nzSelect.emit(null),this.nzSelectionChange.emit([])}),t.$quitSearching.pipe((0,ie.R)(this.destroy$)).subscribe(()=>{this.inputString="",this.dropdownWidthStyle=""}),this.i18nService.localeChange.pipe((0,nn.O)(),(0,ie.R)(this.destroy$)).subscribe(()=>{this.setLocale()}),this.nzConfigService.getConfigChangeEventForComponent(sd).pipe((0,ie.R)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()}),this.dir=this.directionality.value,this.directionality.change.pipe((0,ie.R)(this.destroy$)).subscribe(()=>{this.dir=this.directionality.value,t.$redraw.next()}),this.setupChangeListener(),this.setupKeydownListener()}ngOnChanges(t){const{nzStatus:n}=t;n&&this.setStatusStyles(this.nzStatus,this.hasFeedback)}ngOnDestroy(){this.clearDelayMenuTimer(),this.clearDelaySelectTimer()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}writeValue(t){this.cascaderService.values=(0,Ji.qo)(t),this.cascaderService.syncOptions(!0)}delaySetMenuVisible(t,n=100,s=!1){this.clearDelayMenuTimer(),n?(t&&s&&(this.isOpening=!0),this.delayMenuTimer=setTimeout(()=>{this.setMenuVisible(t),this.cdr.detectChanges(),this.clearDelayMenuTimer(),t&&setTimeout(()=>{this.isOpening=!1},100)},n)):this.setMenuVisible(t)}setMenuVisible(t){this.nzDisabled||this.menuVisible===t||(t&&(this.cascaderService.syncOptions(),this.scrollToActivatedOptions()),t||(this.inputValue=""),this.menuVisible=t,this.nzVisibleChange.emit(t),this.cdr.detectChanges())}clearDelayMenuTimer(){this.delayMenuTimer&&(clearTimeout(this.delayMenuTimer),this.delayMenuTimer=null)}clearSelection(t){t&&(t.preventDefault(),t.stopPropagation()),this.labelRenderText="",this.labelRenderContext={},this.inputValue="",this.setMenuVisible(!1),this.cascaderService.clear(),this.nzClear.emit()}getSubmitValue(){return this.cascaderService.selectedOptions.map(t=>this.cascaderService.getOptionValue(t))}focus(){this.isFocused||((this.input?.nativeElement||this.el).focus(),this.isFocused=!0)}blur(){this.isFocused&&((this.input?.nativeElement||this.el).blur(),this.isFocused=!1)}handleInputBlur(){this.menuVisible?this.focus():this.blur()}handleInputFocus(){this.focus()}onTriggerClick(){this.nzDisabled||(this.nzShowSearch&&this.focus(),this.isActionTrigger("click")&&this.delaySetMenuVisible(!this.menuVisible,100),this.onTouched())}onTriggerMouseEnter(){this.nzDisabled||!this.isActionTrigger("hover")||this.delaySetMenuVisible(!0,this.nzMouseEnterDelay,!0)}onTriggerMouseLeave(t){if(this.nzDisabled||!this.menuVisible||this.isOpening||!this.isActionTrigger("hover"))return void t.preventDefault();const n=t.relatedTarget,u=this.menu&&this.menu.nativeElement;this.el.contains(n)||u&&u.contains(n)||this.delaySetMenuVisible(!1,this.nzMouseLeaveDelay)}onOptionMouseEnter(t,n,s){s.preventDefault(),"hover"===this.nzExpandTrigger&&(t.isLeaf?this.cascaderService.setOptionDeactivatedSinceColumn(n):this.delaySetOptionActivated(t,n,!1))}onOptionMouseLeave(t,n,s){s.preventDefault(),"hover"===this.nzExpandTrigger&&!t.isLeaf&&this.clearDelaySelectTimer()}onOptionClick(t,n,s){s&&s.preventDefault(),(!t||!t.disabled)&&(this.el.focus(),this.inSearchingMode?this.cascaderService.setSearchOptionSelected(t):this.cascaderService.setOptionActivated(t,n,!0))}onClickOutside(t){this.el.contains(t.target)||this.closeMenu()}isActionTrigger(t){return"string"==typeof this.nzTriggerAction?this.nzTriggerAction===t:-1!==this.nzTriggerAction.indexOf(t)}onEnter(){const t=Math.max(this.cascaderService.activatedOptions.length-1,0),n=this.cascaderService.activatedOptions[t];n&&!n.disabled&&(this.inSearchingMode?this.cascaderService.setSearchOptionSelected(n):this.cascaderService.setOptionActivated(n,t,!0))}moveUpOrDown(t){const n=Math.max(this.cascaderService.activatedOptions.length-1,0),s=this.cascaderService.activatedOptions[n],u=this.cascaderService.columns[n]||[],h=u.length;let d=-1;for(d=s?u.indexOf(s):t?h:-1;d=t?d-1:d+1,!(d<0||d>=h);){const p=u[d];if(p&&!p.disabled){this.cascaderService.setOptionActivated(p,n);break}}}moveLeft(){const t=this.cascaderService.activatedOptions;t.length&&t.pop()}moveRight(){const t=this.cascaderService.activatedOptions.length,n=this.cascaderService.columns[t];if(n&&n.length){const s=n.find(u=>!u.disabled);s&&this.cascaderService.setOptionActivated(s,t)}}clearDelaySelectTimer(){this.delaySelectTimer&&(clearTimeout(this.delaySelectTimer),this.delaySelectTimer=null)}delaySetOptionActivated(t,n,s){this.clearDelaySelectTimer(),this.delaySelectTimer=setTimeout(()=>{this.cascaderService.setOptionActivated(t,n,s),this.delaySelectTimer=null},150)}toggleSearchingMode(t){this.inSearchingMode!==t&&this.cascaderService.toggleSearchingMode(t),this.inSearchingMode&&this.cascaderService.prepareSearchOptions(this.inputValue)}isOptionActivated(t,n){return this.cascaderService.activatedOptions[n]===t}setDisabledState(t){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||t,this.isNzDisableFirstChange=!1,this.nzDisabled&&this.closeMenu()}closeMenu(){this.blur(),this.clearDelayMenuTimer(),this.setMenuVisible(!1)}reposition(){this.overlay&&this.overlay.overlayRef&&this.menuVisible&&Promise.resolve().then(()=>{this.overlay.overlayRef.updatePosition(),this.cdr.markForCheck()})}checkChildren(){this.cascaderItems&&this.cascaderItems.forEach(t=>t.markForCheck())}setDisplayLabel(){const t=this.cascaderService.selectedOptions,n=t.map(s=>this.cascaderService.getOptionLabel(s));this.isLabelRenderTemplate?this.labelRenderContext={labels:n,selectedOptions:t}:this.labelRenderText=M0.call(this,n)}setDropdownStyles(){const t=this.cascaderService.columns[0];this.shouldShowEmpty=this.inSearchingMode&&(!t||!t.length)||!(this.nzOptions&&this.nzOptions.length)&&!this.nzLoadData,this.dropdownHeightStyle=this.shouldShowEmpty?"auto":"",this.input&&(this.dropdownWidthStyle=this.inSearchingMode||this.shouldShowEmpty?`${this.selectContainer.nativeElement.offsetWidth}px`:"")}setStatusStyles(t,n){this.status=t,this.hasFeedback=n,this.cdr.markForCheck(),this.statusCls=(0,Ji.Zu)(this.prefixCls,t,n),Object.keys(this.statusCls).forEach(s=>{this.statusCls[s]?this.renderer.addClass(this.elementRef.nativeElement,s):this.renderer.removeClass(this.elementRef.nativeElement,s)})}setLocale(){this.locale=this.i18nService.getLocaleData("global"),this.cdr.markForCheck()}scrollToActivatedOptions(){this.ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this.cascaderItems.toArray().filter(t=>t.activated).forEach(t=>{t.nativeElement.scrollIntoView({block:"start",inline:"nearest"})})})})}setupChangeListener(){this.input$.pipe((0,Qn.w)(t=>t?new Tt.y(n=>this.ngZone.runOutsideAngular(()=>(0,re.R)(t.nativeElement,"change").subscribe(n))):Oe.E),(0,ie.R)(this.destroy$)).subscribe(t=>t.stopPropagation())}setupKeydownListener(){this.ngZone.runOutsideAngular(()=>{(0,re.R)(this.el,"keydown").pipe((0,ie.R)(this.destroy$)).subscribe(t=>{const n=t.keyCode;if(n===Xn.JH||n===Xn.LH||n===Xn.oh||n===Xn.SV||n===Xn.K5||n===Xn.ZH||n===Xn.hY){if(!this.menuVisible&&n!==Xn.ZH&&n!==Xn.hY)return this.ngZone.run(()=>this.setMenuVisible(!0));this.inSearchingMode&&(n===Xn.ZH||n===Xn.oh||n===Xn.SV)||this.menuVisible&&(t.preventDefault(),this.ngZone.run(()=>{n===Xn.JH?this.moveUpOrDown(!1):n===Xn.LH?this.moveUpOrDown(!0):n===Xn.oh?this.moveLeft():n===Xn.SV?this.moveRight():n===Xn.K5&&this.onEnter(),this.cdr.markForCheck()}))}})})}}return e.\u0275fac=function(t){return new(t||e)(C.Y36(od),C.Y36(Ia.jY),C.Y36(C.R0b),C.Y36(C.sBO),C.Y36(m0.wi),C.Y36(Oa.kn),C.Y36(C.SBq),C.Y36(C.Qsj),C.Y36(Ct.Is,8),C.Y36(th.P,9),C.Y36(Hs.kH,8),C.Y36(Hs.yW,8))},e.\u0275cmp=C.Xpm({type:e,selectors:[["nz-cascader"],["","nz-cascader",""]],viewQuery:function(t,n){if(1&t&&(C.Gf(Pu,5),C.Gf(Bl,5),C.Gf(zu,5),C.Gf(st.pI,5),C.Gf(Ra,5)),2&t){let s;C.iGM(s=C.CRH())&&(n.selectContainer=s.first),C.iGM(s=C.CRH())&&(n.input=s.first),C.iGM(s=C.CRH())&&(n.menu=s.first),C.iGM(s=C.CRH())&&(n.overlay=s.first),C.iGM(s=C.CRH())&&(n.cascaderItems=s)}},hostVars:23,hostBindings:function(t,n){1&t&&C.NdJ("click",function(){return n.onTriggerClick()})("mouseenter",function(){return n.onTriggerMouseEnter()})("mouseleave",function(u){return n.onTriggerMouseLeave(u)}),2&t&&(C.uIk("tabIndex","0"),C.ekj("ant-select-in-form-item",!!n.nzFormStatusService)("ant-select-lg","large"===n.nzSize)("ant-select-sm","small"===n.nzSize)("ant-select-allow-clear",n.nzAllowClear)("ant-select-show-arrow",n.nzShowArrow)("ant-select-show-search",!!n.nzShowSearch)("ant-select-disabled",n.nzDisabled)("ant-select-open",n.menuVisible)("ant-select-focused",n.isFocused)("ant-select-single",!0)("ant-select-rtl","rtl"===n.dir))},inputs:{nzOptionRender:"nzOptionRender",nzShowInput:"nzShowInput",nzShowArrow:"nzShowArrow",nzAllowClear:"nzAllowClear",nzAutoFocus:"nzAutoFocus",nzChangeOnSelect:"nzChangeOnSelect",nzDisabled:"nzDisabled",nzColumnClassName:"nzColumnClassName",nzExpandTrigger:"nzExpandTrigger",nzValueProperty:"nzValueProperty",nzLabelRender:"nzLabelRender",nzLabelProperty:"nzLabelProperty",nzNotFoundContent:"nzNotFoundContent",nzSize:"nzSize",nzBackdrop:"nzBackdrop",nzShowSearch:"nzShowSearch",nzPlaceHolder:"nzPlaceHolder",nzMenuClassName:"nzMenuClassName",nzMenuStyle:"nzMenuStyle",nzMouseEnterDelay:"nzMouseEnterDelay",nzMouseLeaveDelay:"nzMouseLeaveDelay",nzStatus:"nzStatus",nzTriggerAction:"nzTriggerAction",nzChangeOn:"nzChangeOn",nzLoadData:"nzLoadData",nzSuffixIcon:"nzSuffixIcon",nzExpandIcon:"nzExpandIcon",nzOptions:"nzOptions"},outputs:{nzVisibleChange:"nzVisibleChange",nzSelectionChange:"nzSelectionChange",nzSelect:"nzSelect",nzClear:"nzClear"},exportAs:["nzCascader"],features:[C._Bn([{provide:Q.JU,useExisting:(0,C.Gpc)(()=>e),multi:!0},od,Oa.kn]),C.TTD],ngContentSelectors:zl,decls:6,vars:6,consts:[["cdkOverlayOrigin",""],["origin","cdkOverlayOrigin","trigger",""],[4,"ngIf"],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayTransformOriginOn","cdkConnectedOverlayOpen","overlayOutsideClick","detach"],[1,"ant-select-selector"],["selectContainer",""],[1,"ant-select-selection-search"],["type","search",1,"ant-select-selection-search-input",3,"readonly","disabled","ngModel","ngModelChange","blur","focus"],["input",""],["class","ant-select-selection-item",3,"title",4,"ngIf"],["class","ant-select-selection-placeholder",3,"visibility",4,"ngIf"],["class","ant-select-arrow",3,"ant-select-arrow-loading",4,"ngIf"],["class","ant-select-clear",4,"ngIf"],[1,"ant-select-selection-item",3,"title"],[4,"ngIf","ngIfElse"],["labelTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ant-select-selection-placeholder"],[1,"ant-select-arrow"],["nz-icon","",3,"nzType","ant-cascader-picker-arrow-expand",4,"ngIf"],["nz-icon","","nzType","loading",4,"ngIf"],[3,"status",4,"ngIf"],["nz-icon","",3,"nzType"],["nz-icon","","nzType","loading"],[3,"status"],[1,"ant-select-clear"],["nz-icon","","nzType","close-circle","nzTheme","fill",3,"click"],[1,"ant-select-dropdown","ant-cascader-dropdown","ant-select-dropdown-placement-bottomLeft",3,"nzNoAnimation","mouseenter","mouseleave"],[1,"ant-cascader-menus",3,"ngClass","ngStyle"],["menu",""],["class","ant-cascader-menu",3,"width","height",4,"ngIf","ngIfElse"],["hasOptionsTemplate",""],[1,"ant-cascader-menu"],[1,"ant-cascader-menu-item","ant-cascader-menu-item-disabled"],[1,"ant-cascader-menu-item-content",3,"nzComponentName","specificContent"],["class","ant-cascader-menu","role","menuitemcheckbox",3,"ngClass","height","width",4,"ngFor","ngForOf"],["role","menuitemcheckbox",1,"ant-cascader-menu",3,"ngClass"],["nz-cascader-option","",3,"expandIcon","columnIndex","nzLabelProperty","optionTemplate","activated","highlightText","option","dir","mouseenter","mouseleave","click",4,"ngFor","ngForOf"],["nz-cascader-option","",3,"expandIcon","columnIndex","nzLabelProperty","optionTemplate","activated","highlightText","option","dir","mouseenter","mouseleave","click"]],template:function(t,n){if(1&t&&(C.F$t(),C.TgZ(0,"div",0,1),C.YNc(3,S0,10,12,"ng-container",2),C.Hsn(4),C.qZA(),C.YNc(5,Pl,6,15,"ng-template",3),C.NdJ("overlayOutsideClick",function(u){return n.onClickOutside(u)})("detach",function(){return n.closeMenu()})),2&t){const s=C.MAs(1);C.xp6(3),C.Q6J("ngIf",n.nzShowInput),C.xp6(2),C.Q6J("cdkConnectedOverlayHasBackdrop",n.nzBackdrop)("cdkConnectedOverlayOrigin",s)("cdkConnectedOverlayPositions",n.positions)("cdkConnectedOverlayTransformOriginOn",".ant-cascader-dropdown")("cdkConnectedOverlayOpen",n.menuVisible)}},dependencies:[Ct.Lv,St.mk,St.sg,St.O5,St.tP,St.PC,Q.Fj,Q.JJ,Q.On,st.pI,st.xu,ji.gB,Z.Ls,th.P,Qa.hQ,Hs.w_,Ra],encapsulation:2,data:{animation:[pa.mF]},changeDetection:0}),(0,E.gn)([(0,Ji.yF)()],e.prototype,"nzShowInput",void 0),(0,E.gn)([(0,Ji.yF)()],e.prototype,"nzShowArrow",void 0),(0,E.gn)([(0,Ji.yF)()],e.prototype,"nzAllowClear",void 0),(0,E.gn)([(0,Ji.yF)()],e.prototype,"nzAutoFocus",void 0),(0,E.gn)([(0,Ji.yF)()],e.prototype,"nzChangeOnSelect",void 0),(0,E.gn)([(0,Ji.yF)()],e.prototype,"nzDisabled",void 0),(0,E.gn)([(0,Ia.oS)()],e.prototype,"nzSize",void 0),(0,E.gn)([(0,Ia.oS)()],e.prototype,"nzBackdrop",void 0),e})(),ih=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=C.oAB({type:e}),e.\u0275inj=C.cJS({imports:[Ct.vT,St.ez,Q.u5,st.U8,Yt.T,ji.Xo,Qc.C,Z.PV,An.o7,th.g,Qa.e4,Hs.mJ]}),e})(),ld=(()=>{class e{constructor(t,n,s){this.dataService=t,this.handlerService=n,this.i18nService=s,this.loading=!1}fanyi(t){return this.i18nService.fanyi("")}ngOnInit(){this.loading=!0,this.dataService.getBiReference(this.bi.code,this.dim.id,this.handlerService.buildDimParam(this.bi,!1,!0)).subscribe(t=>{this.data=this.recursiveTree(t,null),this.data.forEach(n=>{n.key==this.dim.$value&&(n.selected=!0)}),this.loading=!1})}recursiveTree(t,n){let s=[];return t.forEach(u=>{if(u.pid==n){let h={value:u.id,label:u.title,children:this.recursiveTree(t,u.id)};h.isLeaf=!h.children.length,s.push(h)}}),s}}return e.\u0275fac=function(t){return new(t||e)(C.Y36(Mt),C.Y36(zt),C.Y36(zs.t$))},e.\u0275cmp=C.Xpm({type:e,selectors:[["erupt-bi-cascade"]],inputs:{dim:"dim",bi:"bi"},decls:2,vars:6,consts:[[3,"nzSpinning"],[2,"width","100%",3,"ngModel","nzChangeOnSelect","nzShowSearch","nzNotFoundContent","nzOptions","ngModelChange"]],template:function(t,n){1&t&&(C.TgZ(0,"nz-spin",0)(1,"nz-cascader",1),C.NdJ("ngModelChange",function(u){return n.dim.$value=u}),C.qZA()()),2&t&&(C.Q6J("nzSpinning",n.loading),C.xp6(1),C.Q6J("ngModel",n.dim.$value)("nzChangeOnSelect",!0)("nzShowSearch",!0)("nzNotFoundContent",n.fanyi("global.no_data"))("nzOptions",n.data))},dependencies:[Q.JJ,Q.On,Nt.W,b0],encapsulation:2}),e})();const T0=["*"];let ud=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=C.Xpm({type:e,selectors:[["bi-search-se"]],inputs:{dimension:"dimension"},ngContentSelectors:T0,decls:9,vars:3,consts:[[2,"display","flex","margin","4px 0"],[2,"display","flex","justify-content","flex-end"],[1,"ellipsis",2,"line-height","32px","width","90px","text-align","right"],[2,"color","#f00"],[2,"margin","0 3px",3,"title"],[2,"flex","1","width","100%"]],template:function(t,n){1&t&&(C.F$t(),C.TgZ(0,"div",0)(1,"div",1)(2,"label",2)(3,"span",3),C._uU(4),C.qZA(),C.TgZ(5,"span",4),C._uU(6),C.qZA()()(),C.TgZ(7,"div",5),C.Hsn(8),C.qZA()()),2&t&&(C.xp6(4),C.Oqu(n.dimension.notNull?"*":""),C.xp6(1),C.Q6J("title",n.dimension.title),C.xp6(1),C.hij("",n.dimension.title," : \xa0"))}}),e})();function cd(e,r){if(1&e&&(C.ynx(0),C.TgZ(1,"div",6)(2,"bi-search-se",7),C._UZ(3,"erupt-bi-choice",8),C.qZA()(),C.BQk()),2&e){const t=C.oxw().$implicit,n=C.oxw();C.xp6(2),C.Q6J("dimension",t),C.xp6(1),C.Q6J("dim",t)("bi",n.bi)}}function A0(e,r){if(1&e&&(C.ynx(0),C.TgZ(1,"div",6)(2,"bi-search-se",7),C._UZ(3,"erupt-bi-choice",8),C.qZA()(),C.BQk()),2&e){const t=C.oxw().$implicit,n=C.oxw();C.xp6(2),C.Q6J("dimension",t),C.xp6(1),C.Q6J("dim",t)("bi",n.bi)}}function hd(e,r){if(1&e){const t=C.EpF();C.ynx(0),C.TgZ(1,"nz-select",11),C.NdJ("ngModelChange",function(s){C.CHM(t);const u=C.oxw(2).$implicit;return C.KtG(u.$value=s)}),C.qZA(),C.BQk()}if(2&e){const t=C.oxw(2).$implicit;C.xp6(1),C.Q6J("nzMode","tags")("ngModel",t.$value)("name",t.code)}}function Gl(e,r){if(1&e){const t=C.EpF();C.TgZ(0,"i",16),C.NdJ("click",function(){C.CHM(t);const s=C.oxw(4).$implicit;return C.KtG(s.$value=null)}),C.qZA()}}function fd(e,r){if(1&e&&C.YNc(0,Gl,1,0,"i",15),2&e){const t=C.oxw(3).$implicit;C.Q6J("ngIf",t.$value)}}function es(e,r){if(1&e){const t=C.EpF();C.ynx(0),C.TgZ(1,"nz-input-group",12)(2,"input",13),C.NdJ("ngModelChange",function(s){C.CHM(t);const u=C.oxw(2).$implicit;return C.KtG(u.$value=s)})("keydown",function(s){C.CHM(t);const u=C.oxw(3);return C.KtG(u.enterEvent(s))}),C.qZA()(),C.YNc(3,fd,1,1,"ng-template",null,14,C.W1O),C.BQk()}if(2&e){const t=C.MAs(4),n=C.oxw(2).$implicit;C.xp6(1),C.Q6J("nzSuffix",t),C.xp6(1),C.Q6J("ngModel",n.$value)("name",n.code)("required",n.notNull)}}function E0(e,r){if(1&e){const t=C.EpF();C.ynx(0),C.TgZ(1,"nz-input-number",17),C.NdJ("ngModelChange",function(s){C.CHM(t);const u=C.oxw(2).$implicit;return C.KtG(u.$value=s)})("keydown",function(s){C.CHM(t);const u=C.oxw(3);return C.KtG(u.enterEvent(s))}),C.qZA(),C.BQk()}if(2&e){const t=C.oxw(2).$implicit;C.xp6(1),C.Q6J("ngModel",t.$value)("name",t.code)}}function ah(e,r){if(1&e){const t=C.EpF();C.ynx(0),C.TgZ(1,"nz-input-group",18)(2,"nz-input-number",19),C.NdJ("ngModelChange",function(s){C.CHM(t);const u=C.oxw(2).$implicit;return C.KtG(u.$value[0]=s)}),C.qZA(),C._UZ(3,"input",20),C.TgZ(4,"nz-input-number",19),C.NdJ("ngModelChange",function(s){C.CHM(t);const u=C.oxw(2).$implicit;return C.KtG(u.$value[1]=s)}),C.qZA()(),C.BQk()}if(2&e){const t=C.oxw(2).$implicit;C.xp6(2),C.Q6J("ngModel",t.$value[0])("name",t.code),C.xp6(2),C.Q6J("ngModel",t.$value[1])("name",t.code)}}function Gi(e,r){if(1&e){const t=C.EpF();C.ynx(0),C.TgZ(1,"i",22),C.NdJ("click",function(){C.CHM(t);const s=C.oxw(3).$implicit,u=C.oxw();return C.KtG(u.clearRef(s))}),C.qZA(),C.BQk()}}function dd(e,r){if(1&e){const t=C.EpF();C.ynx(0),C.TgZ(1,"i",23),C.NdJ("click",function(){C.CHM(t);const s=C.oxw(3).$implicit,u=C.oxw();return C.KtG(u.ref(s))}),C.qZA(),C.BQk()}}function Wl(e,r){if(1&e&&(C.YNc(0,Gi,2,0,"ng-container",21),C.YNc(1,dd,2,0,"ng-container",21)),2&e){const t=C.oxw(2).$implicit;C.Q6J("ngIf",t.$value),C.xp6(1),C.Q6J("ngIf",!t.$value)}}function Ws(e,r){if(1&e){const t=C.EpF();C.ynx(0),C.TgZ(1,"nz-input-group",24)(2,"input",25),C.NdJ("click",function(){C.CHM(t);const s=C.oxw(2).$implicit,u=C.oxw();return C.KtG(u.ref(s))}),C.qZA()(),C.BQk()}if(2&e){C.oxw();const t=C.MAs(10),n=C.oxw().$implicit;C.xp6(1),C.Q6J("nzAddOnAfter",t),C.xp6(1),C.Q6J("required",n.notNull)("readOnly",!0)("value",n.$viewValue||null)("name",n.code)}}function vd(e,r){if(1&e){const t=C.EpF();C.ynx(0),C.TgZ(1,"nz-input-group",24)(2,"input",25),C.NdJ("click",function(){C.CHM(t);const s=C.oxw(2).$implicit,u=C.oxw();return C.KtG(u.ref(s))}),C.qZA()(),C.BQk()}if(2&e){C.oxw();const t=C.MAs(10),n=C.oxw().$implicit;C.xp6(1),C.Q6J("nzAddOnAfter",t),C.xp6(1),C.Q6J("required",n.notNull)("readOnly",!0)("value",n.$viewValue||null)("name",n.code)}}function pd(e,r){if(1&e){const t=C.EpF();C.ynx(0),C.TgZ(1,"nz-input-group",24)(2,"input",25),C.NdJ("click",function(){C.CHM(t);const s=C.oxw(2).$implicit,u=C.oxw();return C.KtG(u.ref(s))}),C.qZA()(),C.BQk()}if(2&e){C.oxw();const t=C.MAs(10),n=C.oxw().$implicit;C.xp6(1),C.Q6J("nzAddOnAfter",t),C.xp6(1),C.Q6J("required",n.notNull)("readOnly",!0)("value",n.$viewValue||null)("name",n.code)}}function L0(e,r){if(1&e){const t=C.EpF();C.ynx(0),C.TgZ(1,"nz-input-group",24)(2,"input",25),C.NdJ("click",function(){C.CHM(t);const s=C.oxw(2).$implicit,u=C.oxw();return C.KtG(u.ref(s))}),C.qZA()(),C.BQk()}if(2&e){C.oxw();const t=C.MAs(10),n=C.oxw().$implicit;C.xp6(1),C.Q6J("nzAddOnAfter",t),C.xp6(1),C.Q6J("required",n.notNull)("readOnly",!0)("value",n.$viewValue||null)("name",n.code)}}function X(e,r){if(1&e&&(C.ynx(0),C._UZ(1,"erupt-bi-cascade",8),C.BQk()),2&e){const t=C.oxw(2).$implicit,n=C.oxw();C.xp6(1),C.Q6J("dim",t)("bi",n.bi)}}function gt(e,r){if(1&e){const t=C.EpF();C.ynx(0),C.TgZ(1,"nz-date-picker",26),C.NdJ("ngModelChange",function(s){C.CHM(t);const u=C.oxw(2).$implicit;return C.KtG(u.$value=s)}),C.qZA(),C.BQk()}if(2&e){const t=C.oxw(2).$implicit;C.xp6(1),C.Q6J("ngModel",t.$value)("name",t.code)}}function At(e,r){if(1&e){const t=C.EpF();C.ynx(0),C.TgZ(1,"nz-range-picker",27),C.NdJ("ngModelChange",function(s){C.CHM(t);const u=C.oxw(2).$implicit;return C.KtG(u.$value=s)}),C.qZA(),C.BQk()}if(2&e){const t=C.oxw(2).$implicit,n=C.oxw();C.xp6(1),C.Q6J("ngModel",t.$value)("nzRanges",n.dateRanges)("name",t.code)}}function Gt(e,r){if(1&e){const t=C.EpF();C.ynx(0),C.TgZ(1,"nz-time-picker",28),C.NdJ("ngModelChange",function(s){C.CHM(t);const u=C.oxw(2).$implicit;return C.KtG(u.$value=s)}),C.qZA(),C.BQk()}if(2&e){const t=C.oxw(2).$implicit;C.xp6(1),C.Q6J("ngModel",t.$value)("name",t.code)}}function me(e,r){if(1&e){const t=C.EpF();C.ynx(0),C.TgZ(1,"nz-date-picker",29),C.NdJ("ngModelChange",function(s){C.CHM(t);const u=C.oxw(2).$implicit;return C.KtG(u.$value=s)}),C.qZA(),C.BQk()}if(2&e){const t=C.oxw(2).$implicit;C.xp6(1),C.Q6J("ngModel",t.$value)("name",t.code)}}function Ye(e,r){if(1&e){const t=C.EpF();C.ynx(0),C.TgZ(1,"nz-range-picker",30),C.NdJ("ngModelChange",function(s){C.CHM(t);const u=C.oxw(2).$implicit;return C.KtG(u.$value=s)}),C.qZA(),C.BQk()}if(2&e){const t=C.oxw(2).$implicit,n=C.oxw();C.xp6(1),C.Q6J("ngModel",t.$value)("name",t.code)("nzRanges",n.dateRanges)}}function cr(e,r){if(1&e){const t=C.EpF();C.ynx(0),C.TgZ(1,"nz-week-picker",28),C.NdJ("ngModelChange",function(s){C.CHM(t);const u=C.oxw(2).$implicit;return C.KtG(u.$value=s)}),C.qZA(),C.BQk()}if(2&e){const t=C.oxw(2).$implicit;C.xp6(1),C.Q6J("ngModel",t.$value)("name",t.code)}}function Zr(e,r){if(1&e){const t=C.EpF();C.ynx(0),C.TgZ(1,"nz-month-picker",28),C.NdJ("ngModelChange",function(s){C.CHM(t);const u=C.oxw(2).$implicit;return C.KtG(u.$value=s)}),C.qZA(),C.BQk()}if(2&e){const t=C.oxw(2).$implicit;C.xp6(1),C.Q6J("ngModel",t.$value)("name",t.code)}}function fi(e,r){if(1&e){const t=C.EpF();C.ynx(0),C.TgZ(1,"nz-year-picker",28),C.NdJ("ngModelChange",function(s){C.CHM(t);const u=C.oxw(2).$implicit;return C.KtG(u.$value=s)}),C.qZA(),C.BQk()}if(2&e){const t=C.oxw(2).$implicit;C.xp6(1),C.Q6J("ngModel",t.$value)("name",t.code)}}function Wi(e,r){if(1&e&&(C.ynx(0),C.TgZ(1,"div",9)(2,"bi-search-se",7),C.ynx(3,3),C.YNc(4,hd,2,3,"ng-container",4),C.YNc(5,es,5,4,"ng-container",4),C.YNc(6,E0,2,2,"ng-container",4),C.YNc(7,ah,5,4,"ng-container",4),C.ynx(8),C.YNc(9,Wl,2,2,"ng-template",null,10,C.W1O),C.YNc(11,Ws,3,5,"ng-container",4),C.YNc(12,vd,3,5,"ng-container",4),C.YNc(13,pd,3,5,"ng-container",4),C.YNc(14,L0,3,5,"ng-container",4),C.BQk(),C.YNc(15,X,2,2,"ng-container",4),C.YNc(16,gt,2,2,"ng-container",4),C.YNc(17,At,2,3,"ng-container",4),C.YNc(18,Gt,2,2,"ng-container",4),C.YNc(19,me,2,2,"ng-container",4),C.YNc(20,Ye,2,3,"ng-container",4),C.YNc(21,cr,2,2,"ng-container",4),C.YNc(22,Zr,2,2,"ng-container",4),C.YNc(23,fi,2,2,"ng-container",4),C.BQk(),C.qZA()(),C.BQk()),2&e){const t=C.oxw().$implicit,n=C.oxw();C.xp6(1),C.Q6J("nzXs",n.col.xs)("nzSm",n.col.sm)("nzMd",n.col.md)("nzLg",n.col.lg)("nzXl",n.col.xl)("nzXXl",n.col.xxl),C.xp6(1),C.Q6J("dimension",t),C.xp6(1),C.Q6J("ngSwitch",t.type),C.xp6(1),C.Q6J("ngSwitchCase",n.dimType.TAG),C.xp6(1),C.Q6J("ngSwitchCase",n.dimType.INPUT),C.xp6(1),C.Q6J("ngSwitchCase",n.dimType.NUMBER),C.xp6(1),C.Q6J("ngSwitchCase",n.dimType.NUMBER_RANGE),C.xp6(4),C.Q6J("ngSwitchCase",n.dimType.REFERENCE),C.xp6(1),C.Q6J("ngSwitchCase",n.dimType.REFERENCE_MULTI),C.xp6(1),C.Q6J("ngSwitchCase",n.dimType.REFERENCE_TREE_MULTI),C.xp6(1),C.Q6J("ngSwitchCase",n.dimType.REFERENCE_TREE_RADIO),C.xp6(1),C.Q6J("ngSwitchCase",n.dimType.REFERENCE_CASCADE),C.xp6(1),C.Q6J("ngSwitchCase",n.dimType.DATE),C.xp6(1),C.Q6J("ngSwitchCase",n.dimType.DATE_RANGE),C.xp6(1),C.Q6J("ngSwitchCase",n.dimType.TIME),C.xp6(1),C.Q6J("ngSwitchCase",n.dimType.DATETIME),C.xp6(1),C.Q6J("ngSwitchCase",n.dimType.DATETIME_RANGE),C.xp6(1),C.Q6J("ngSwitchCase",n.dimType.WEEK),C.xp6(1),C.Q6J("ngSwitchCase",n.dimType.MONTH),C.xp6(1),C.Q6J("ngSwitchCase",n.dimType.YEAR)}}function Ki(e,r){if(1&e&&(C.ynx(0)(1,3),C.YNc(2,cd,4,3,"ng-container",4),C.YNc(3,A0,4,3,"ng-container",4),C.YNc(4,Wi,24,25,"ng-container",5),C.BQk()()),2&e){const t=r.$implicit,n=C.oxw();C.xp6(1),C.Q6J("ngSwitch",t.type),C.xp6(1),C.Q6J("ngSwitchCase",n.dimType.REFERENCE_RADIO),C.xp6(1),C.Q6J("ngSwitchCase",n.dimType.REFERENCE_CHECKBOX)}}let Hu=(()=>{class e{constructor(t,n){this.modal=t,this.i18n=n,this.search=new C.vpe,this.col=mo.l[3],this.dimType=jt,this.dateRanges={},this.datePipe=new St.uU("zh-cn")}ngOnInit(){this.dateRanges={[this.i18n.fanyi("global.today")]:[this.datePipe.transform(new Date,"yyyy-MM-dd 00:00:00"),this.datePipe.transform(new Date,"yyyy-MM-dd 23:59:59")],[this.i18n.fanyi("global.date.last_7_day")]:[this.datePipe.transform(Co().add(-7,"day").toDate(),"yyyy-MM-dd 00:00:00"),this.datePipe.transform(new Date,"yyyy-MM-dd 23:59:59")],[this.i18n.fanyi("global.date.last_30_day")]:[this.datePipe.transform(Co().add(-30,"day").toDate(),"yyyy-MM-dd 00:00:00"),this.datePipe.transform(new Date,"yyyy-MM-dd 23:59:59")],[this.i18n.fanyi("global.date.this_month")]:[this.datePipe.transform(Co().toDate(),"yyyy-MM-01 00:00:00"),this.datePipe.transform(new Date,"yyyy-MM-dd 23:59:59")],[this.i18n.fanyi("global.date.last_month")]:[this.datePipe.transform(Co().add(-1,"month").toDate(),"yyyy-MM-01 00:00:00"),this.datePipe.transform(Co().add(-1,"month").endOf("month").toDate(),"yyyy-MM-dd 23:59:59")]}}enterEvent(t){13===t.which&&this.search.emit()}ref(t){this.modal.create({nzWrapClassName:"modal-xs",nzKeyboard:!0,nzStyle:{top:"30px"},nzTitle:t.title,nzContent:Ko,nzComponentParams:{dimension:t,code:this.bi.code,bi:this.bi},nzOnOk:n=>{}})}clearRef(t){t.$viewValue=null,t.$value=null}}return e.\u0275fac=function(t){return new(t||e)(C.Y36(ct.Sf),C.Y36(zs.t$))},e.\u0275cmp=C.Xpm({type:e,selectors:[["bi-dimension"]],inputs:{bi:"bi"},outputs:{search:"search"},decls:3,vars:2,consts:[["nz-form","","nzLayout","horizontal"],["nz-row","",3,"nzGutter"],[4,"ngFor","ngForOf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["nz-col",""],[3,"dimension"],[3,"dim","bi"],["nz-col","",3,"nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl"],["refBtn",""],[2,"width","100%",3,"nzMode","ngModel","name","ngModelChange"],[1,"erupt-input",3,"nzSuffix"],["nz-input","","autocomplete","off",1,"full-width",3,"ngModel","name","required","ngModelChange","keydown"],["suffixTemplate",""],["nz-icon","","nz-tooltip","","class","ant-input-clear-icon","nzTheme","fill","nzType","close-circle",3,"click",4,"ngIf"],["nz-icon","","nz-tooltip","","nzTheme","fill","nzType","close-circle",1,"ant-input-clear-icon",3,"click"],[1,"full-width",3,"ngModel","name","ngModelChange","keydown"],[1,"erupt-input",2,"display","flex","align-items","center"],[2,"width","45%",3,"ngModel","name","ngModelChange"],["disabled","","nz-input","","placeholder","~",2,"width","30px","border-left","0","border-right","0","pointer-events","none"],[4,"ngIf"],["nz-icon","","nzType","close-circle","theme","fill",1,"point",3,"click"],["nz-icon","","nzType","database","theme","fill",1,"point",3,"click"],[1,"full-width",3,"nzAddOnAfter"],["nz-input","","autocomplete","off",3,"required","readOnly","value","name","click"],["nzShowToday","",1,"full-width",3,"ngModel","name","ngModelChange"],["nzShowToday","",1,"full-width",3,"ngModel","nzRanges","name","ngModelChange"],[1,"full-width",3,"ngModel","name","ngModelChange"],["nzShowTime","","nzShowToday","",1,"full-width",3,"ngModel","name","ngModelChange"],["nzShowToday","","nzShowTime","",1,"full-width",3,"ngModel","name","nzRanges","ngModelChange"]],template:function(t,n){1&t&&(C.TgZ(0,"form",0)(1,"div",1),C.YNc(2,Ki,5,3,"ng-container",2),C.qZA()()),2&t&&(C.xp6(1),C.Q6J("nzGutter",16),C.xp6(1),C.Q6J("ngForOf",n.bi.dimensions))},dependencies:[St.sg,St.O5,St.RF,St.n9,St.ED,Q._Y,Q.Fj,Q.JJ,Q.JL,Q.Q7,Q.On,Q.F,It.w,K.t3,K.SK,Du.SY,$c.Vq,Z.Ls,An.Zp,An.gB,An.ke,Qo.uw,Qo.wS,Qo.Xv,Qo.Mq,Qo.mr,ku.m4,Ol._V,Ns.Lr,Kc,ld,ud],styles:["[_nghost-%COMP%]     nz-input-group{width:100%}[_nghost-%COMP%]     se{width:100%}[_nghost-%COMP%]     se .ant-form-item-label{width:auto!important;text-overflow:ellipsis;white-space:nowrap;max-width:150px;min-width:65px}"]}),e})();var oh,R0,F0,yd,S=ut(8250),Cn=(()=>{return(e=Cn||(Cn={})).FORE="fore",e.MID="mid",e.BG="bg",Cn;var e})(),Ne=(()=>{return(e=Ne||(Ne={})).TOP="top",e.TOP_LEFT="top-left",e.TOP_RIGHT="top-right",e.RIGHT="right",e.RIGHT_TOP="right-top",e.RIGHT_BOTTOM="right-bottom",e.LEFT="left",e.LEFT_TOP="left-top",e.LEFT_BOTTOM="left-bottom",e.BOTTOM="bottom",e.BOTTOM_LEFT="bottom-left",e.BOTTOM_RIGHT="bottom-right",e.RADIUS="radius",e.CIRCLE="circle",e.NONE="none",Ne;var e})(),Rn=(()=>{return(e=Rn||(Rn={})).AXIS="axis",e.GRID="grid",e.LEGEND="legend",e.TOOLTIP="tooltip",e.ANNOTATION="annotation",e.SLIDER="slider",e.SCROLLBAR="scrollbar",e.OTHER="other",Rn;var e})(),Us={FORE:3,MID:2,BG:1},Er=(()=>{return(e=Er||(Er={})).BEFORE_RENDER="beforerender",e.AFTER_RENDER="afterrender",e.BEFORE_PAINT="beforepaint",e.AFTER_PAINT="afterpaint",e.BEFORE_CHANGE_DATA="beforechangedata",e.AFTER_CHANGE_DATA="afterchangedata",e.BEFORE_CLEAR="beforeclear",e.AFTER_CLEAR="afterclear",e.BEFORE_DESTROY="beforedestroy",e.BEFORE_CHANGE_SIZE="beforechangesize",e.AFTER_CHANGE_SIZE="afterchangesize",Er;var e})(),rs=(()=>{return(e=rs||(rs={})).BEFORE_DRAW_ANIMATE="beforeanimate",e.AFTER_DRAW_ANIMATE="afteranimate",e.BEFORE_RENDER_LABEL="beforerenderlabel",e.AFTER_RENDER_LABEL="afterrenderlabel",rs;var e})(),Ui=(()=>{return(e=Ui||(Ui={})).MOUSE_ENTER="plot:mouseenter",e.MOUSE_DOWN="plot:mousedown",e.MOUSE_MOVE="plot:mousemove",e.MOUSE_UP="plot:mouseup",e.MOUSE_LEAVE="plot:mouseleave",e.TOUCH_START="plot:touchstart",e.TOUCH_MOVE="plot:touchmove",e.TOUCH_END="plot:touchend",e.TOUCH_CANCEL="plot:touchcancel",e.CLICK="plot:click",e.DBLCLICK="plot:dblclick",e.CONTEXTMENU="plot:contextmenu",e.LEAVE="plot:leave",e.ENTER="plot:enter",Ui;var e})(),Ys=(()=>{return(e=Ys||(Ys={})).ACTIVE="active",e.INACTIVE="inactive",e.SELECTED="selected",e.DEFAULT="default",Ys;var e})(),Gu=["color","shape","size"],Jr="_origin",Q1=1,I0=1,tx={};function gd(e,r){tx[e]=r}function Vs(e){oh||function rx(){oh=document.createElement("table"),R0=document.createElement("tr"),F0=/^\s*<(\w+|!)[^>]*>/,yd={tr:document.createElement("tbody"),tbody:oh,thead:oh,tfoot:oh,td:R0,th:R0,"*":document.createElement("div")}}();var r=F0.test(e)&&RegExp.$1;(!r||!(r in yd))&&(r="*");var t=yd[r];e="string"==typeof e?e.replace(/(^\s*)|(\s*$)/g,""):e,t.innerHTML=""+e;var n=t.childNodes[0];return n&&t.contains(n)&&t.removeChild(n),n}function Mi(e,r){if(e)for(var t in r)r.hasOwnProperty(t)&&(e.style[t]=r[t]);return e}function ns(e){return"number"==typeof e&&!isNaN(e)}function ix(e,r,t,n){var s=t,u=n;if(r){var h=function nx(e){var r=getComputedStyle(e);return{width:(e.clientWidth||parseInt(r.width,10))-parseInt(r.paddingLeft,10)-parseInt(r.paddingRight,10),height:(e.clientHeight||parseInt(r.height,10))-parseInt(r.paddingTop,10)-parseInt(r.paddingBottom,10)}}(e);s=h.width?h.width:s,u=h.height?h.height:u}return{width:Math.max(ns(s)?s:Q1,Q1),height:Math.max(ns(u)?u:I0,I0)}}var D0=ut(378),XT=function(e){function r(t){var n=e.call(this)||this;n.destroyed=!1;var s=t.visible;return n.visible=void 0===s||s,n}return(0,E.ZT)(r,e),r.prototype.show=function(){this.visible||this.changeVisible(!0)},r.prototype.hide=function(){this.visible&&this.changeVisible(!1)},r.prototype.destroy=function(){this.off(),this.destroyed=!0},r.prototype.changeVisible=function(t){this.visible!==t&&(this.visible=t)},r}(D0.Z);const k0=XT;var qn=ut(8621),$T=.5,ZT=.5,jT=function(){function e(r){var t=r.xField,n=r.yField,s=r.adjustNames,h=r.dimValuesMap;this.adjustNames=void 0===s?["x","y"]:s,this.xField=t,this.yField=n,this.dimValuesMap=h}return e.prototype.isAdjust=function(r){return this.adjustNames.indexOf(r)>=0},e.prototype.getAdjustRange=function(r,t,n){var d,p,s=this.yField,u=n.indexOf(t),h=n.length;return!s&&this.isAdjust("y")?(d=0,p=1):h>1?(d=n[0===u?0:u-1],p=n[u===h-1?h-1:u+1],0!==u?d+=(t-d)/2:d-=(p-t)/2,u!==h-1?p-=(p-t)/2:p+=(t-n[h-2])/2):(d=0===t?0:t-.5,p=0===t?1:t+.5),{pre:d,next:p}},e.prototype.adjustData=function(r,t){var n=this,s=this.getDimValues(t);S.S6(r,function(u,h){S.S6(s,function(d,p){n.adjustDim(p,d,u,h)})})},e.prototype.groupData=function(r,t){return S.S6(r,function(n){void 0===n[t]&&(n[t]=0)}),S.vM(r,t)},e.prototype.adjustDim=function(r,t,n,s){},e.prototype.getDimValues=function(r){var n=this.xField,s=this.yField,u=S.f0({},this.dimValuesMap),h=[];return n&&this.isAdjust("x")&&h.push(n),s&&this.isAdjust("y")&&h.push(s),h.forEach(function(p){u&&u[p]||(u[p]=S.I(r,p).sort(function(y,x){return y-x}))}),!s&&this.isAdjust("y")&&(u.y=[0,1]),u},e}();const xd=jT;var ax={},ox=function(e){return ax[e.toLowerCase()]},Cd=function(e,r){if(ox(e))throw new Error("Adjust type '"+e+"' existed.");ax[e.toLowerCase()]=r},Wu=function(e,r){return(Wu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var s in n)n.hasOwnProperty(s)&&(t[s]=n[s])})(e,r)};function wd(e,r){function t(){this.constructor=e}Wu(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}var Qi=function(){return Qi=Object.assign||function(r){for(var t,n=1,s=arguments.length;n<s;n++)for(var u in t=arguments[n])Object.prototype.hasOwnProperty.call(t,u)&&(r[u]=t[u]);return r},Qi.apply(this,arguments)},fx=function(e){function r(t){var n=e.call(this,t)||this;n.cacheMap={},n.adjustDataArray=[],n.mergeData=[];var s=t.marginRatio,h=t.dodgeRatio,d=void 0===h?ZT:h,p=t.dodgeBy,y=t.intervalPadding,x=t.dodgePadding,w=t.xDimensionLength,M=t.groupNum,T=t.defaultSize,L=t.maxColumnWidth,R=t.minColumnWidth,D=t.columnWidthRatio,k=t.customOffset;return n.marginRatio=void 0===s?$T:s,n.dodgeRatio=d,n.dodgeBy=p,n.intervalPadding=y,n.dodgePadding=x,n.xDimensionLegenth=w,n.groupNum=M,n.defaultSize=T,n.maxColumnWidth=L,n.minColumnWidth=R,n.columnWidthRatio=D,n.customOffset=k,n}return wd(r,e),r.prototype.process=function(t){var n=S.d9(t),s=S.xH(n),u=this.dodgeBy,h=u?S.ru(s,u):n;return this.cacheMap={},this.adjustDataArray=h,this.mergeData=s,this.adjustData(h,s),this.adjustDataArray=[],this.mergeData=[],n},r.prototype.adjustDim=function(t,n,s,u){var h=this,d=this.customOffset,p=this.getDistribution(t),y=this.groupData(s,t);return S.S6(y,function(x,w){var M;M=1===n.length?{pre:n[0]-1,next:n[0]+1}:h.getAdjustRange(t,parseFloat(w),n),S.S6(x,function(T){var R=p[T[t]],D=R.indexOf(u);if(S.UM(d))T[t]=h.getDodgeOffset(M,D,R.length);else{var k=M.pre,z=M.next;T[t]=S.mf(d)?d(T,M):(k+z)/2+d}})}),[]},r.prototype.getDodgeOffset=function(t,n,s){var T,u=this,h=u.dodgeRatio,d=u.marginRatio,p=u.intervalPadding,y=u.dodgePadding,x=t.pre,w=t.next,M=w-x;if(!S.UM(p)&&S.UM(y)&&p>=0)T=x+this.getIntervalOnlyOffset(s,n);else if(!S.UM(y)&&S.UM(p)&&y>=0)T=x+this.getDodgeOnlyOffset(s,n);else if(!S.UM(p)&&!S.UM(y)&&p>=0&&y>=0)T=x+this.getIntervalAndDodgeOffset(s,n);else{var R=M*h/s,D=d*R;T=(x+w)/2+(.5*(M-s*R-(s-1)*D)+((n+1)*R+n*D)-.5*R-.5*M)}return T},r.prototype.getIntervalOnlyOffset=function(t,n){var s=this,u=s.defaultSize,d=s.xDimensionLegenth,p=s.groupNum,x=s.maxColumnWidth,w=s.minColumnWidth,M=s.columnWidthRatio,T=s.intervalPadding/d,L=(1-(p-1)*T)/p*s.dodgeRatio/(t-1),R=((1-T*(p-1))/p-L*(t-1))/t;return R=S.UM(M)?R:1/p/t*M,S.UM(x)||(R=Math.min(R,x/d)),S.UM(w)||(R=Math.max(R,w/d)),((.5+n)*(R=u?u/d:R)+n*(L=((1-(p-1)*T)/p-t*R)/(t-1))+.5*T)*p-T/2},r.prototype.getDodgeOnlyOffset=function(t,n){var s=this,u=s.defaultSize,d=s.xDimensionLegenth,p=s.groupNum,x=s.maxColumnWidth,w=s.minColumnWidth,M=s.columnWidthRatio,T=s.dodgePadding/d,L=1*s.marginRatio/(p-1),R=((1-L*(p-1))/p-T*(t-1))/t;return R=M?1/p/t*M:R,S.UM(x)||(R=Math.min(R,x/d)),S.UM(w)||(R=Math.max(R,w/d)),((.5+n)*(R=u?u/d:R)+n*T+.5*(L=(1-(R*t+T*(t-1))*p)/(p-1)))*p-L/2},r.prototype.getIntervalAndDodgeOffset=function(t,n){var s=this,d=s.xDimensionLegenth,p=s.groupNum,y=s.intervalPadding/d,x=s.dodgePadding/d;return((.5+n)*(((1-y*(p-1))/p-x*(t-1))/t)+n*x+.5*y)*p-y/2},r.prototype.getDistribution=function(t){var s=this.cacheMap,u=s[t];return u||(u={},S.S6(this.adjustDataArray,function(h,d){var p=S.I(h,t);p.length||p.push(0),S.S6(p,function(y){u[y]||(u[y]=[]),u[y].push(d)})}),s[t]=u),u},r}(xd);const dx=fx;var QT=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return wd(r,e),r.prototype.process=function(t){var n=S.d9(t),s=S.xH(n);return this.adjustData(n,s),n},r.prototype.adjustDim=function(t,n,s){var u=this,h=this.groupData(s,t);return S.S6(h,function(d,p){return u.adjustGroup(d,t,parseFloat(p),n)})},r.prototype.getAdjustOffset=function(t){var n=t.pre,s=t.next,u=.05*(s-n);return function vx(e,r){return(r-e)*Math.random()+e}(n+u,s-u)},r.prototype.adjustGroup=function(t,n,s,u){var h=this,d=this.getAdjustRange(n,s,u);return S.S6(t,function(p){p[n]=h.getAdjustOffset(d)}),t},r}(xd);const tA=QT;var Sd=S.Ct,px=function(e){function r(t){var n=e.call(this,t)||this,s=t.adjustNames,h=t.height,d=void 0===h?NaN:h,p=t.size,y=void 0===p?10:p,x=t.reverseOrder,w=void 0!==x&&x;return n.adjustNames=void 0===s?["y"]:s,n.height=d,n.size=y,n.reverseOrder=w,n}return wd(r,e),r.prototype.process=function(t){var u=this.reverseOrder,h=this.yField?this.processStack(t):this.processOneDimStack(t);return u?this.reverse(h):h},r.prototype.reverse=function(t){return t.slice(0).reverse()},r.prototype.processStack=function(t){var n=this,s=n.xField,u=n.yField,d=n.reverseOrder?this.reverse(t):t,p=new Sd,y=new Sd;return d.map(function(x){return x.map(function(w){var M,T=S.U2(w,s,0),L=S.U2(w,[u]),R=T.toString();if(L=S.kJ(L)?L[1]:L,!S.UM(L)){var D=L>=0?p:y;D.has(R)||D.set(R,0);var k=D.get(R),z=L+k;return D.set(R,z),Qi(Qi({},w),((M={})[u]=[k,z],M))}return w})})},r.prototype.processOneDimStack=function(t){var n=this,s=this,u=s.xField,h=s.height,y=s.reverseOrder?this.reverse(t):t,x=new Sd;return y.map(function(w){return w.map(function(M){var T,R=M[u],D=2*n.size/h;x.has(R)||x.set(R,D/2);var k=x.get(R);return x.set(R,k+D),Qi(Qi({},M),((T={}).y=k,T))})})},r}(xd);const eA=px;var rA=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return wd(r,e),r.prototype.process=function(t){var n=S.xH(t),u=this.xField,h=this.yField,d=this.getXValuesMaxMap(n),p=Math.max.apply(Math,Object.keys(d).map(function(y){return d[y]}));return S.UI(t,function(y){return S.UI(y,function(x){var w,M,T=x[h],L=x[u];if(S.kJ(T)){var R=(p-d[L])/2;return Qi(Qi({},x),((w={})[h]=S.UI(T,function(k){return R+k}),w))}var D=(p-T)/2;return Qi(Qi({},x),((M={})[h]=[D,T+D],M))})})},r.prototype.getXValuesMaxMap=function(t){var n=this,u=this.xField,h=this.yField,d=S.vM(t,function(p){return p[u]});return S.Q8(d,function(p){return n.getDimMaxValue(p,h)})},r.prototype.getDimMaxValue=function(t,n){var s=S.UI(t,function(h){return S.U2(h,n,[])}),u=S.xH(s);return Math.max.apply(Math,u)},r}(xd);const nA=rA;Cd("Dodge",dx),Cd("Jitter",tA),Cd("Stack",eA),Cd("Symmetric",nA);var gx=function(e,r){return(0,S.HD)(r)?r:e.invert(e.scale(r))},yx=function(){function e(r){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(r)}return e.prototype.mapping=function(){for(var r=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var s=t.map(function(u,h){return r._toOriginParam(u,r.scales[h])});return this.callback.apply(this,s)},e.prototype.getLinearValue=function(r){var t=this.values.length-1,n=Math.floor(t*r),u=this.values[n];return u+((n===t?u:this.values[n+1])-u)*(t*r-n)},e.prototype.getNames=function(){for(var t=this.names,n=Math.min(this.scales.length,t.length),s=[],u=0;u<n;u+=1)s.push(t[u]);return s},e.prototype.getFields=function(){return this.scales.map(function(r){return r.field})},e.prototype.getScale=function(r){return this.scales[this.names.indexOf(r)]},e.prototype.defaultCallback=function(){for(var r=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return 0===t.length?this.values:t.map(function(s,u){var h=r.scales[u];return"identity"===h.type?h.values[0]:r._getAttributeValue(h,s)})},e.prototype._parseCfg=function(r){var t=this,n=r.type,u=r.names,h=void 0===u?[]:u,d=r.scales,p=void 0===d?[]:d,y=r.values,x=void 0===y?[]:y,w=r.callback;this.type=void 0===n?"base":n,this.scales=p,this.values=x,this.names=h,this.callback=function(){for(var M=[],T=0;T<arguments.length;T++)M[T]=arguments[T];if(w){var L=w.apply(void 0,M);if(!(0,S.UM)(L))return[L]}return t.defaultCallback.apply(t,M)}},e.prototype._getAttributeValue=function(r,t){if(r.isCategory&&!this.linear){var n=r.translate(t);return this.values[n%this.values.length]}var s=r.scale(t);return this.getLinearValue(s)},e.prototype._toOriginParam=function(r,t){return t.isLinear?r:(0,S.kJ)(r)?r.map(function(n){return gx(t,n)}):gx(t,r)},e}();const ta=yx;var iA=/rgba?\(([\s.,0-9]+)\)/,mx=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,xx=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Cx=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,Uu=function(e,r,t,n){return e[n]+(r[n]-e[n])*t};function Ul(e){return"#"+Ti(e[0])+Ti(e[1])+Ti(e[2])}var uh,lh=function(e){return[parseInt(e.substr(1,2),16),parseInt(e.substr(3,2),16),parseInt(e.substr(5,2),16)]},Ti=function(e){var r=Math.round(e).toString(16);return 1===r.length?"0"+r:r},_x=function(e){if("#"===e[0]&&7===e.length)return e;uh||(uh=function(){var e=document.createElement("i");return e.title="Web Colour Picker",e.style.display="none",document.body.appendChild(e),e}()),uh.style.color=e;var r=document.defaultView.getComputedStyle(uh,"").getPropertyValue("color");return Ul(iA.exec(r)[1].split(/\s*,\s*/).map(function(s){return Number(s)}))};const is={rgb2arr:lh,gradient:function(e){var r=(0,S.HD)(e)?e.split("-"):e,t=(0,S.UI)(r,function(n){return lh(-1===n.indexOf("#")?_x(n):n)});return function(n){return function(e,r){var t=isNaN(Number(r))||r<0?0:r>1?1:Number(r),n=e.length-1,s=Math.floor(n*t),u=n*t-s,h=e[s],d=s===n?h:e[s+1];return Ul([Uu(h,d,u,0),Uu(h,d,u,1),Uu(h,d,u,2)])}(t,n)}},toRGB:(0,S.HP)(_x),toCSSGradient:function(e){if(function(e){return/^[r,R,L,l]{1}[\s]*\(/.test(e)}(e)){var r,t=void 0;if("l"===e[0])t=(n=mx.exec(e))[2],r="linear-gradient("+(+n[1]+90)+"deg, ";else if("r"===e[0]){var n;r="radial-gradient(",t=(n=xx.exec(e))[4]}var u=t.match(Cx);return(0,S.S6)(u,function(h,d){var p=h.split(":");r+=p[1]+" "+100*p[0]+"%",d!==u.length-1&&(r+=", ")}),r+=")"}return e}};var Mx=function(e){function r(t){var n=e.call(this,t)||this;return n.type="color",n.names=["color"],(0,S.HD)(n.values)&&(n.linear=!0),n.gradient=is.gradient(n.values),n}return(0,E.ZT)(r,e),r.prototype.getLinearValue=function(t){return this.gradient(t)},r}(ta);const B0=Mx;var bx=function(e){function r(t){var n=e.call(this,t)||this;return n.type="opacity",n.names=["opacity"],n}return(0,E.ZT)(r,e),r}(ta);const $s=bx;var Tx=function(e){function r(t){var n=e.call(this,t)||this;return n.names=["x","y"],n.type="position",n}return(0,E.ZT)(r,e),r.prototype.mapping=function(t,n){var s=this.scales,u=s[0],h=s[1];return(0,S.UM)(t)||(0,S.UM)(n)?[]:[(0,S.kJ)(t)?t.map(function(d){return u.scale(d)}):u.scale(t),(0,S.kJ)(n)?n.map(function(d){return h.scale(d)}):h.scale(n)]},r}(ta);const P0=Tx;var Ax=function(e){function r(t){var n=e.call(this,t)||this;return n.type="shape",n.names=["shape"],n}return(0,E.ZT)(r,e),r.prototype.getLinearValue=function(t){var n=Math.round((this.values.length-1)*t);return this.values[n]},r}(ta);const z0=Ax;var ch=function(e){function r(t){var n=e.call(this,t)||this;return n.type="size",n.names=["size"],n}return(0,E.ZT)(r,e),r}(ta);const Ex=ch;var Lx={};function _o(e,r){Lx[e]=r}var sA=function(){function e(r){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=r,this.initCfg(),this.init()}return e.prototype.translate=function(r){return r},e.prototype.change=function(r){(0,S.f0)(this.__cfg__,r),this.init()},e.prototype.clone=function(){return this.constructor(this.__cfg__)},e.prototype.getTicks=function(){var r=this;return(0,S.UI)(this.ticks,function(t,n){return(0,S.Kn)(t)?t:{text:r.getText(t,n),tickValue:t,value:r.scale(t)}})},e.prototype.getText=function(r,t){var n=this.formatter,s=n?n(r,t):r;return(0,S.UM)(s)||!(0,S.mf)(s.toString)?"":s.toString()},e.prototype.getConfig=function(r){return this.__cfg__[r]},e.prototype.init=function(){(0,S.f0)(this,this.__cfg__),this.setDomain(),(0,S.xb)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},e.prototype.initCfg=function(){},e.prototype.setDomain=function(){},e.prototype.calculateTicks=function(){var r=this.tickMethod,t=[];if((0,S.HD)(r)){var n=function oA(e){return Lx[e]}(r);if(!n)throw new Error("There is no method to to calculate ticks!");t=n(this)}else(0,S.mf)(r)&&(t=r(this));return t},e.prototype.rangeMin=function(){return this.range[0]},e.prototype.rangeMax=function(){return this.range[1]},e.prototype.calcPercent=function(r,t,n){return(0,S.hj)(r)?(r-t)/(n-t):NaN},e.prototype.calcValue=function(r,t,n){return t+r*(n-t)},e}();const N0=sA;var Ix=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="cat",t.isCategory=!0,t}return(0,E.ZT)(r,e),r.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var t=0;t<this.values.length;t++)this.translateIndexMap.set(this.values[t],t)}},r.prototype.translate=function(t){this.buildIndexMap();var n=this.translateIndexMap.get(t);return void 0===n&&(n=(0,S.hj)(t)?t:NaN),n},r.prototype.scale=function(t){var n=this.translate(t),s=this.calcPercent(n,this.min,this.max);return this.calcValue(s,this.rangeMin(),this.rangeMax())},r.prototype.invert=function(t){var n=this.max-this.min,s=this.calcPercent(t,this.rangeMin(),this.rangeMax()),u=Math.round(n*s)+this.min;return u<this.min||u>this.max?NaN:this.values[u]},r.prototype.getText=function(t){for(var n=[],s=1;s<arguments.length;s++)n[s-1]=arguments[s];var u=t;return(0,S.hj)(t)&&!this.values.includes(t)&&(u=this.values[u]),e.prototype.getText.apply(this,(0,E.pr)([u],n))},r.prototype.initCfg=function(){this.tickMethod="cat"},r.prototype.setDomain=function(){if((0,S.UM)(this.getConfig("min"))&&(this.min=0),(0,S.UM)(this.getConfig("max"))){var t=this.values.length;this.max=t>1?t-1:t}this.translateIndexMap&&(this.translateIndexMap=void 0)},r}(N0);const hh=Ix;var Ox=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,as="\\d\\d?",os="\\d\\d",fh="[^\\s]+",Fx=/\[([^]*?)\]/gm;function Dx(e,r){for(var t=[],n=0,s=e.length;n<s;n++)t.push(e[n].substr(0,r));return t}var kx=function(e){return function(r,t){var s=t[e].map(function(u){return u.toLowerCase()}).indexOf(r.toLowerCase());return s>-1?s:null}};function Zs(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];for(var n=0,s=r;n<s.length;n++){var u=s[n];for(var h in u)e[h]=u[h]}return e}var H0=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Md=["January","February","March","April","May","June","July","August","September","October","November","December"],uA=Dx(Md,3),dh={dayNamesShort:Dx(H0,3),dayNames:H0,monthNamesShort:uA,monthNames:Md,amPm:["am","pm"],DoFn:function(e){return e+["th","st","nd","rd"][e%10>3?0:(e-e%10!=10?1:0)*e%10]}},vh=Zs({},dh),G0=function(e){return vh=Zs(vh,e)},Bx=function(e){return e.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},ea=function(e,r){for(void 0===r&&(r=2),e=String(e);e.length<r;)e="0"+e;return e},Px={D:function(e){return String(e.getDate())},DD:function(e){return ea(e.getDate())},Do:function(e,r){return r.DoFn(e.getDate())},d:function(e){return String(e.getDay())},dd:function(e){return ea(e.getDay())},ddd:function(e,r){return r.dayNamesShort[e.getDay()]},dddd:function(e,r){return r.dayNames[e.getDay()]},M:function(e){return String(e.getMonth()+1)},MM:function(e){return ea(e.getMonth()+1)},MMM:function(e,r){return r.monthNamesShort[e.getMonth()]},MMMM:function(e,r){return r.monthNames[e.getMonth()]},YY:function(e){return ea(String(e.getFullYear()),4).substr(2)},YYYY:function(e){return ea(e.getFullYear(),4)},h:function(e){return String(e.getHours()%12||12)},hh:function(e){return ea(e.getHours()%12||12)},H:function(e){return String(e.getHours())},HH:function(e){return ea(e.getHours())},m:function(e){return String(e.getMinutes())},mm:function(e){return ea(e.getMinutes())},s:function(e){return String(e.getSeconds())},ss:function(e){return ea(e.getSeconds())},S:function(e){return String(Math.round(e.getMilliseconds()/100))},SS:function(e){return ea(Math.round(e.getMilliseconds()/10),2)},SSS:function(e){return ea(e.getMilliseconds(),3)},a:function(e,r){return e.getHours()<12?r.amPm[0]:r.amPm[1]},A:function(e,r){return e.getHours()<12?r.amPm[0].toUpperCase():r.amPm[1].toUpperCase()},ZZ:function(e){var r=e.getTimezoneOffset();return(r>0?"-":"+")+ea(100*Math.floor(Math.abs(r)/60)+Math.abs(r)%60,4)},Z:function(e){var r=e.getTimezoneOffset();return(r>0?"-":"+")+ea(Math.floor(Math.abs(r)/60),2)+":"+ea(Math.abs(r)%60,2)}},zx=function(e){return+e-1},Nx=[null,as],Hx=[null,fh],Gx=["isPm",fh,function(e,r){var t=e.toLowerCase();return t===r.amPm[0]?0:t===r.amPm[1]?1:null}],Yu=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(e){var r=(e+"").match(/([+-]|\d\d)/gi);if(r){var t=60*+r[1]+parseInt(r[2],10);return"+"===r[0]?t:-t}return 0}],hA={D:["day",as],DD:["day",os],Do:["day",as+fh,function(e){return parseInt(e,10)}],M:["month",as,zx],MM:["month",os,zx],YY:["year",os,function(e){var t=+(""+(new Date).getFullYear()).substr(0,2);return+(""+(+e>68?t-1:t)+e)}],h:["hour",as,void 0,"isPm"],hh:["hour",os,void 0,"isPm"],H:["hour",as],HH:["hour",os],m:["minute",as],mm:["minute",os],s:["second",as],ss:["second",os],YYYY:["year","\\d{4}"],S:["millisecond","\\d",function(e){return 100*+e}],SS:["millisecond",os,function(e){return 10*+e}],SSS:["millisecond","\\d{3}"],d:Nx,dd:Nx,ddd:Hx,dddd:Hx,MMM:["month",fh,kx("monthNamesShort")],MMMM:["month",fh,kx("monthNames")],a:Gx,A:Gx,ZZ:Yu,Z:Yu},bd={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},Wx=function(e){return Zs(bd,e)},Ux=function(e,r,t){if(void 0===r&&(r=bd.default),void 0===t&&(t={}),"number"==typeof e&&(e=new Date(e)),"[object Date]"!==Object.prototype.toString.call(e)||isNaN(e.getTime()))throw new Error("Invalid Date pass to format");var n=[];r=(r=bd[r]||r).replace(Fx,function(u,h){return n.push(h),"@@@"});var s=Zs(Zs({},vh),t);return(r=r.replace(Ox,function(u){return Px[u](e,s)})).replace(/@@@/g,function(){return n.shift()})};function W0(e,r,t){if(void 0===t&&(t={}),"string"!=typeof r)throw new Error("Invalid format in fecha parse");if(r=bd[r]||r,e.length>1e3)return null;var s={year:(new Date).getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},u=[],h=[],d=r.replace(Fx,function(U,q){return h.push(Bx(q)),"@@@"}),p={},y={};d=Bx(d).replace(Ox,function(U){var q=hA[U],a=q[0],o=q[1],i=q[3];if(p[a])throw new Error("Invalid format. "+a+" specified twice in format");return p[a]=!0,i&&(y[i]=!0),u.push(q),"("+o+")"}),Object.keys(y).forEach(function(U){if(!p[U])throw new Error("Invalid format. "+U+" is required in specified format")}),d=d.replace(/@@@/g,function(){return h.shift()});var k,x=e.match(new RegExp(d,"i"));if(!x)return null;for(var w=Zs(Zs({},vh),t),M=1;M<x.length;M++){var T=u[M-1],L=T[0],R=T[2],D=R?R(x[M],w):+x[M];if(null==D)return null;s[L]=D}if(1===s.isPm&&null!=s.hour&&12!=+s.hour?s.hour=+s.hour+12:0===s.isPm&&12==+s.hour&&(s.hour=0),null==s.timezoneOffset){k=new Date(s.year,s.month,s.day,s.hour,s.minute,s.second,s.millisecond);for(var z=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],G=(M=0,z.length);M<G;M++)if(p[z[M][0]]&&s[z[M][0]]!==k[z[M][1]]())return null}else if(k=new Date(Date.UTC(s.year,s.month,s.day,s.hour,s.minute-s.timezoneOffset,s.second,s.millisecond)),s.month>11||s.month<0||s.day>31||s.day<1||s.hour>23||s.hour<0||s.minute>59||s.minute<0||s.second>59||s.second<0)return null;return k}const ph={format:Ux,parse:W0,defaultI18n:dh,setGlobalDateI18n:G0,setGlobalDateMasks:Wx};var Y0="format";function Td(e,r){return(he[Y0]||ph[Y0])(e,r)}function Ad(e){return(0,S.HD)(e)&&(e=e.indexOf("T")>0?new Date(e).getTime():new Date(e.replace(/-/gi,"/")).getTime()),(0,S.J_)(e)&&(e=e.getTime()),e}var Fa=1e3,qs=6e4,Yl=60*qs,Da=24*Yl,gh=31*Da,Vx=365*Da,yh=[["HH:mm:ss",Fa],["HH:mm:ss",1e4],["HH:mm:ss",3e4],["HH:mm",qs],["HH:mm",10*qs],["HH:mm",30*qs],["HH",Yl],["HH",6*Yl],["HH",12*Yl],["YYYY-MM-DD",Da],["YYYY-MM-DD",4*Da],["YYYY-WW",7*Da],["YYYY-MM",gh],["YYYY-MM",4*gh],["YYYY-MM",6*gh],["YYYY",380*Da]];var Xx=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="timeCat",t}return(0,E.ZT)(r,e),r.prototype.translate=function(t){t=Ad(t);var n=this.values.indexOf(t);return-1===n&&(n=(0,S.hj)(t)&&t<this.values.length?t:NaN),n},r.prototype.getText=function(t,n){var s=this.translate(t);if(s>-1){var u=this.values[s],h=this.formatter;return h?h(u,n):Td(u,this.mask)}return t},r.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},r.prototype.setDomain=function(){var t=this.values;(0,S.S6)(t,function(n,s){t[s]=Ad(n)}),t.sort(function(n,s){return n-s}),e.prototype.setDomain.call(this)},r}(hh);const Vl=Xx;var mh=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.isContinuous=!0,t}return(0,E.ZT)(r,e),r.prototype.scale=function(t){if((0,S.UM)(t))return NaN;var n=this.rangeMin(),s=this.rangeMax();return this.max===this.min?n:n+this.getScalePercent(t)*(s-n)},r.prototype.init=function(){e.prototype.init.call(this);var t=this.ticks,n=(0,S.YM)(t),s=(0,S.Z$)(t);n<this.min&&(this.min=n),s>this.max&&(this.max=s),(0,S.UM)(this.minLimit)||(this.min=n),(0,S.UM)(this.maxLimit)||(this.max=s)},r.prototype.setDomain=function(){var t=(0,S.rx)(this.values),n=t.min,s=t.max;(0,S.UM)(this.min)&&(this.min=n),(0,S.UM)(this.max)&&(this.max=s),this.min>this.max&&(this.min=n,this.max=s)},r.prototype.calculateTicks=function(){var t=this,n=e.prototype.calculateTicks.call(this);return this.nice||(n=(0,S.hX)(n,function(s){return s>=t.min&&s<=t.max})),n},r.prototype.getScalePercent=function(t){var s=this.min;return(t-s)/(this.max-s)},r.prototype.getInvertPercent=function(t){return(t-this.rangeMin())/(this.rangeMax()-this.rangeMin())},r}(N0);const Ed=mh;var $x=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="linear",t.isLinear=!0,t}return(0,E.ZT)(r,e),r.prototype.invert=function(t){var n=this.getInvertPercent(t);return this.min+n*(this.max-this.min)},r.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},r}(Ed);const Ld=$x;function js(e,r){var t=Math.E;return r>=0?Math.pow(t,Math.log(r)/e):-1*Math.pow(t,Math.log(-r)/e)}function ka(e,r){return 1===e?1:Math.log(r)/Math.log(e)}function V0(e,r,t){(0,S.UM)(t)&&(t=Math.max.apply(null,e));var n=t;return(0,S.S6)(e,function(s){s>0&&s<n&&(n=s)}),n===t&&(n=t/r),n>1&&(n=1),n}var dA=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="log",t}return(0,E.ZT)(r,e),r.prototype.invert=function(t){var d,n=this.base,s=ka(n,this.max),u=this.rangeMin(),h=this.rangeMax()-u,p=this.positiveMin;if(p){if(0===t)return 0;var y=1/(s-(d=ka(n,p/n)))*h;if(t<y)return t/y*p}else d=ka(n,this.min);return Math.pow(n,(t-u)/h*(s-d)+d)},r.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},r.prototype.setDomain=function(){e.prototype.setDomain.call(this);var t=this.min;if(t<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");0===t&&(this.positiveMin=V0(this.values,this.base,this.max))},r.prototype.getScalePercent=function(t){var n=this.max,s=this.min;if(n===s||t<=0)return 0;var u=this.base,h=this.positiveMin;return h&&(s=1*h/u),t<h?t/h/(ka(u,n)-ka(u,s)):(ka(u,t)-ka(u,s))/(ka(u,n)-ka(u,s))},r}(Ed);const vA=dA;var pA=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="pow",t}return(0,E.ZT)(r,e),r.prototype.invert=function(t){var n=this.getInvertPercent(t),s=this.exponent,u=js(s,this.max),h=js(s,this.min),d=n*(u-h)+h,p=d>=0?1:-1;return Math.pow(d,s)*p},r.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},r.prototype.getScalePercent=function(t){var n=this.max,s=this.min;if(n===s)return 0;var u=this.exponent;return(js(u,t)-js(u,s))/(js(u,n)-js(u,s))},r}(Ed);const gA=pA;var Id=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="time",t}return(0,E.ZT)(r,e),r.prototype.getText=function(t,n){var s=this.translate(t),u=this.formatter;return u?u(s,n):Td(s,this.mask)},r.prototype.scale=function(t){var n=t;return((0,S.HD)(n)||(0,S.J_)(n))&&(n=this.translate(n)),e.prototype.scale.call(this,n)},r.prototype.translate=function(t){return Ad(t)},r.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},r.prototype.setDomain=function(){var t=this.values,n=this.getConfig("min"),s=this.getConfig("max");if((!(0,S.UM)(n)||!(0,S.hj)(n))&&(this.min=this.translate(this.min)),(!(0,S.UM)(s)||!(0,S.hj)(s))&&(this.max=this.translate(this.max)),t&&t.length){var u=[],h=1/0,d=h,p=0;(0,S.S6)(t,function(y){var x=Ad(y);if(isNaN(x))throw new TypeError("Invalid Time: "+y+" in time scale!");h>x?(d=h,h=x):d>x&&(d=x),p<x&&(p=x),u.push(x)}),t.length>1&&(this.minTickInterval=d-h),(0,S.UM)(n)&&(this.min=h),(0,S.UM)(s)&&(this.max=p)}},r}(Ld);const $0=Id;var Zx=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="quantize",t}return(0,E.ZT)(r,e),r.prototype.invert=function(t){var n=this.ticks,s=n.length,u=this.getInvertPercent(t),h=Math.floor(u*(s-1));if(h>=s-1)return(0,S.Z$)(n);if(h<0)return(0,S.YM)(n);var d=n[h],y=h/(s-1);return d+(u-y)/((h+1)/(s-1)-y)*(n[h+1]-d)},r.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},r.prototype.calculateTicks=function(){var t=e.prototype.calculateTicks.call(this);return this.nice||((0,S.Z$)(t)!==this.max&&t.push(this.max),(0,S.YM)(t)!==this.min&&t.unshift(this.min)),t},r.prototype.getScalePercent=function(t){var n=this.ticks;if(t<(0,S.YM)(n))return 0;if(t>(0,S.Z$)(n))return 1;var s=0;return(0,S.S6)(n,function(u,h){if(!(t>=u))return!1;s=h}),s/(n.length-1)},r}(Ed);const Z0=Zx;var Od=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="quantile",t}return(0,E.ZT)(r,e),r.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},r}(Z0);const Rd=Od;var Fd={};function Vu(e){return Fd[e]}function to(e,r){if(Vu(e))throw new Error("type '"+e+"' existed.");Fd[e]=r}var qx=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="identity",t.isIdentity=!0,t}return(0,E.ZT)(r,e),r.prototype.calculateTicks=function(){return this.values},r.prototype.scale=function(t){return this.values[0]!==t&&(0,S.hj)(t)?t:this.range[0]},r.prototype.invert=function(t){var n=this.range;return t<n[0]||t>n[1]?NaN:this.values[0]},r}(N0);const Xl=qx;function Dd(e){var r=e.values,t=e.tickInterval,n=e.tickCount,s=e.showLast;if((0,S.hj)(t)){var u=(0,S.hX)(r,function(L,R){return R%t==0}),h=(0,S.Z$)(r);return s&&(0,S.Z$)(u)!==h&&u.push(h),u}var d=r.length,p=e.min,y=e.max;if((0,S.UM)(p)&&(p=0),(0,S.UM)(y)&&(y=r.length-1),!(0,S.hj)(n)||n>=d)return r.slice(p,y+1);if(n<=0||y<=0)return[];for(var x=1===n?d:Math.floor(d/(n-1)),w=[],M=p,T=0;T<n&&!(M>=y);T++)M=Math.min(p+T*x,y),w.push(T===n-1&&s?r[y]:r[M]);return w}var $l=Math.sqrt(50),Bd=Math.sqrt(10),jx=Math.sqrt(2),j0=function(){function e(){this._domain=[0,1]}return e.prototype.domain=function(r){return r?(this._domain=Array.from(r,Number),this):this._domain.slice()},e.prototype.nice=function(r){var t,n;void 0===r&&(r=5);var y,s=this._domain.slice(),u=0,h=this._domain.length-1,d=this._domain[u],p=this._domain[h];return p<d&&(d=(t=[p,d])[0],p=t[1],u=(n=[h,u])[0],h=n[1]),(y=Xu(d,p,r))>0?y=Xu(d=Math.floor(d/y)*y,p=Math.ceil(p/y)*y,r):y<0&&(y=Xu(d=Math.ceil(d*y)/y,p=Math.floor(p*y)/y,r)),y>0?(s[u]=Math.floor(d/y)*y,s[h]=Math.ceil(p/y)*y,this.domain(s)):y<0&&(s[u]=Math.ceil(d*y)/y,s[h]=Math.floor(p*y)/y,this.domain(s)),this},e.prototype.ticks=function(r){return void 0===r&&(r=5),function Jx(e,r,t){var n,u,h,d,s=-1;if(t=+t,(e=+e)===(r=+r)&&t>0)return[e];if((n=r<e)&&(u=e,e=r,r=u),0===(d=Xu(e,r,t))||!isFinite(d))return[];if(d>0)for(e=Math.ceil(e/d),r=Math.floor(r/d),h=new Array(u=Math.ceil(r-e+1));++s<u;)h[s]=(e+s)*d;else for(e=Math.floor(e*d),r=Math.ceil(r*d),h=new Array(u=Math.ceil(e-r+1));++s<u;)h[s]=(e-s)/d;return n&&h.reverse(),h}(this._domain[0],this._domain[this._domain.length-1],r||5)},e}();function Xu(e,r,t){var n=(r-e)/Math.max(0,t),s=Math.floor(Math.log(n)/Math.LN10),u=n/Math.pow(10,s);return s>=0?(u>=$l?10:u>=Bd?5:u>=jx?2:1)*Math.pow(10,s):-Math.pow(10,-s)/(u>=$l?10:u>=Bd?5:u>=jx?2:1)}function Kx(e,r,t){return("ceil"===t?Math.ceil(e/r):"floor"===t?Math.floor(e/r):Math.round(e/r))*r}function Pd(e,r,t){var n=Kx(e,t,"floor"),s=Kx(r,t,"ceil");n=(0,S.ri)(n,t),s=(0,S.ri)(s,t);for(var u=[],h=Math.max((s-n)/(Math.pow(2,12)-1),t),d=n;d<=s;d+=h){var p=(0,S.ri)(d,h);u.push(p)}return{min:n,max:s,ticks:u}}function zd(e,r,t){var n,s=e.minLimit,u=e.maxLimit,h=e.min,d=e.max,p=e.tickCount,y=void 0===p?5:p,x=(0,S.UM)(s)?(0,S.UM)(r)?h:r:s,w=(0,S.UM)(u)?(0,S.UM)(t)?d:t:u;if(x>w&&(w=(n=[x,w])[0],x=n[1]),y<=2)return[x,w];for(var M=(w-x)/(y-1),T=[],L=0;L<y;L++)T.push(x+M*L);return T}function Zl(e){return Math.abs(e)<1e-15?e:parseFloat(e.toFixed(15))}var mA=[1,5,2,2.5,4,3],Qx=100*Number.EPSILON;function CA(e,r,t,n,s,u){var h=(0,S.dp)(r),d=(0,S.cq)(r,e),p=0,y=function eo(e,r){return(e%r+r)%r}(n,u);return(y<Qx||u-y<Qx)&&n<=0&&s>=0&&(p=1),1-d/(h-1)-t+p}function Nd(e,r,t){var n=(0,S.dp)(r);return 1-(0,S.cq)(r,e)/(n-1)-t+1}function wA(e,r,t,n,s,u){var h=(e-1)/(u-s),d=(r-1)/(Math.max(u,n)-Math.min(t,s));return 2-Math.max(h/d,d/h)}function _A(e,r){return e>=r?2-(e-1)/(r-1):1}function t2(e,r,t,n){var s=r-e;return 1-.5*(Math.pow(r-n,2)+Math.pow(e-t,2))/Math.pow(.1*s,2)}function SA(e,r,t){var n=r-e;return t>n?1-Math.pow((t-n)/2,2)/Math.pow(.1*n,2):1}function e2(e,r,t){if(void 0===t&&(t=5),e===r)return{max:r,min:e,ticks:[e]};var n=t<0?0:Math.round(t);if(0===n)return{max:r,min:e,ticks:[]};var d=(r-e)/n,p=Math.pow(10,Math.floor(Math.log10(d))),y=p;2*p-d<1.5*(d-y)&&5*p-d<2.75*(d-(y=2*p))&&10*p-d<1.5*(d-(y=5*p))&&(y=10*p);for(var x=Math.ceil(r/y),w=Math.floor(e/y),M=Math.max(x*y,r),T=Math.min(w*y,e),L=Math.floor((M-T)/y)+1,R=new Array(L),D=0;D<L;D++)R[D]=Zl(T+D*y);return{min:T,max:M,ticks:R}}function AA(e,r){var t=e.length*r;return 1===r?e[e.length-1]:0===r?e[0]:t%1!=0?e[Math.ceil(t)-1]:e.length%2==0?(e[t-1]+e[t])/2:e[t]}function xh(e){return new Date(e).getFullYear()}function Ch(e){return new Date(e,0,1).getTime()}function Q0(e){return new Date(e).getMonth()}function OA(e,r){return new Date(e,r,1).getTime()}_o("cat",Dd),_o("time-cat",function LA(e){return Dd((0,E.pi)({showLast:!0},e))}),_o("wilkinson-extended",function MA(e){var r=e.min,t=e.max,u=e.tickInterval,h=e.minLimit,d=e.maxLimit,p=function Js(e,r,t,n,s,u){void 0===t&&(t=5),void 0===n&&(n=!0),void 0===s&&(s=mA),void 0===u&&(u=[.25,.2,.5,.05]);var h=t<0?0:Math.round(t);if(Number.isNaN(e)||Number.isNaN(r)||"number"!=typeof e||"number"!=typeof r||!h)return{min:0,max:0,ticks:[]};if(r-e<1e-15||1===h)return{min:e,max:r,ticks:[e]};if(r-e>1e148){var p=(r-e)/(d=t||5);return{min:e,max:r,ticks:Array(d).fill(null).map(function(B,P){return Zl(e+p*P)})}}for(var y={score:-2,lmin:0,lmax:0,lstep:0},x=1;x<1/0;){for(var w=0;w<s.length;w+=1){var M=s[w],T=Nd(M,s,x);if(u[0]*T+u[1]+u[2]+u[3]<y.score){x=1/0;break}for(var L=2;L<1/0;){var R=_A(L,h);if(u[0]*T+u[1]+u[2]*R+u[3]<y.score)break;for(var k=Math.ceil(Math.log10((r-e)/(L+1)/x/M));k<1/0;){var z=x*M*Math.pow(10,k),G=SA(e,r,z*(L-1));if(u[0]*T+u[1]*G+u[2]*R+u[3]<y.score)break;var U=Math.floor(r/z)*x-(L-1)*x,q=Math.ceil(e/z)*x;if(U<=q)for(var d=q-U,a=0;a<=d;a+=1){var i=(U+a)*(z/x),l=i+z*(L-1),c=z,f=CA(M,s,x,i,l,c),v=t2(e,r,i,l),g=wA(L,h,e,r,i,l),_=u[0]*f+u[1]*v+u[2]*g+1*u[3];_>y.score&&(!n||i<=e&&l>=r)&&(y.lmin=i,y.lmax=l,y.lstep=c,y.score=_)}k+=1}L+=1}}x+=1}var b=Zl(y.lmax),A=Zl(y.lmin),I=Zl(y.lstep),O=Math.floor(function xA(e){return Math.round(1e12*e)/1e12}((b-A)/I))+1,F=new Array(O);for(F[0]=Zl(A),w=1;w<O;w++)F[w]=Zl(F[w-1]+I);return{min:Math.min(e,(0,S.YM)(F)),max:Math.max(r,(0,S.Z$)(F)),ticks:F}}(r,t,e.tickCount,e.nice).ticks;return(0,S.UM)(h)&&(0,S.UM)(d)?u?Pd(r,t,u).ticks:p:zd(e,(0,S.YM)(p),(0,S.Z$)(p))}),_o("r-pretty",function EA(e){var r=e.min,t=e.max,s=e.tickInterval,u=e.minLimit,h=e.maxLimit,d=e2(r,t,e.tickCount).ticks;return(0,S.UM)(u)&&(0,S.UM)(h)?s?Pd(r,t,s).ticks:d:zd(e,(0,S.YM)(d),(0,S.Z$)(d))}),_o("time",function K0(e){var r=e.min,t=e.max,n=e.minTickInterval,s=e.tickInterval,u=e.tickCount;if(s)u=Math.ceil((t-r)/s);else{var d=(t-r)/(s=function fA(e,r,t){var n=(r-e)/t,s=function U0(e){return function(r,t,n,s){for(var u=(0,S.UM)(n)?0:n,h=(0,S.UM)(s)?r.length:s;u<h;){var d=u+h>>>1;e(r[d])>t?h=d:u=d+1}return u}}(function(h){return h[1]})(yh,n)-1,u=yh[s];return s<0?u=yh[0]:s>=yh.length&&(u=(0,S.Z$)(yh)),u}(r,t,u)[1])/u;d>1&&(s*=Math.ceil(d)),n&&s<n&&(s=n)}s=Math.max(Math.floor((t-r)/(Math.pow(2,12)-1)),s);for(var p=[],y=r;y<t+s;y+=s)p.push(y);return p}),_o("time-pretty",function FA(e){var r=e.min,t=e.max,n=e.minTickInterval,u=e.tickInterval,h=[];u||(u=(t-r)/e.tickCount,n&&u<n&&(u=n)),u=Math.max(Math.floor((t-r)/(Math.pow(2,12)-1)),u);var d=xh(r);if(u>Vx)for(var p=xh(t),y=Math.ceil(u/Vx),x=d;x<=p+y;x+=y)h.push(Ch(x));else if(u>gh){var w=Math.ceil(u/gh),M=Q0(r),T=function IA(e,r){var t=xh(e),n=xh(r),s=Q0(e);return 12*(n-t)+(Q0(r)-s)%12}(r,t);for(x=0;x<=T+w;x+=w)h.push(OA(d,x+M))}else if(u>Da){var R=(L=new Date(r)).getFullYear(),D=L.getMonth(),k=L.getDate(),z=Math.ceil(u/Da),G=function RA(e,r){return Math.ceil((r-e)/Da)}(r,t);for(x=0;x<G+z;x+=z)h.push(new Date(R,D,k+x).getTime())}else if(u>Yl){R=(L=new Date(r)).getFullYear(),D=L.getMonth(),z=L.getDate();var L,U=L.getHours(),q=Math.ceil(u/Yl),a=function Hd(e,r){return Math.ceil((r-e)/Yl)}(r,t);for(x=0;x<=a+q;x+=q)h.push(new Date(R,D,z,U+x).getTime())}else if(u>qs){var o=function n2(e,r){return Math.ceil((r-e)/6e4)}(r,t),i=Math.ceil(u/qs);for(x=0;x<=o+i;x+=i)h.push(r+x*qs)}else{var l=u;l<Fa&&(l=Fa);var c=Math.floor(r/Fa)*Fa,f=Math.ceil((t-r)/Fa),v=Math.ceil(l/Fa);for(x=0;x<f+v;x+=v)h.push(c+x*Fa)}return h.length>=512&&console.warn("Notice: current ticks length("+h.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+u+") is too small, increase the value to solve the problem!"),h}),_o("log",function bA(e){var h,r=e.base,t=e.tickCount,n=e.min,s=e.max,u=e.values,d=ka(r,s);if(n>0)h=Math.floor(ka(r,n));else{var p=V0(u,r,s);h=Math.floor(ka(r,p))}for(var x=Math.ceil((d-h)/t),w=[],M=h;M<d+x;M+=x)w.push(Math.pow(r,M));return n<=0&&w.unshift(0),w}),_o("pow",function TA(e){var r=e.exponent,t=e.tickCount,n=Math.ceil(js(r,e.max));return e2(Math.floor(js(r,e.min)),n,t).ticks.map(function(h){var d=h>=0?1:-1;return Math.pow(h,r)*d})}),_o("quantile",function r2(e){var r=e.tickCount,t=e.values;if(!t||!t.length)return[];for(var n=t.slice().sort(function(d,p){return d-p}),s=[],u=0;u<r;u++)s.push(AA(n,u/(r-1)));return s}),_o("d3-linear",function yA(e){var r=e.min,t=e.max,n=e.tickInterval,s=e.minLimit,u=e.maxLimit,h=function q0(e){var r=e.min,t=e.max,n=e.nice,s=e.tickCount,u=new j0;return u.domain([r,t]),n&&u.nice(s),u.ticks(s)}(e);return(0,S.UM)(s)&&(0,S.UM)(u)?n?Pd(r,t,n).ticks:h:zd(e,(0,S.YM)(h),(0,S.Z$)(h))}),to("cat",hh),to("category",hh),to("identity",Xl),to("linear",Ld),to("log",vA),to("pow",gA),to("time",$0),to("timeCat",Vl),to("quantize",Z0),to("quantile",Rd);var Gd={},tg=function(e){return Gd[e.toLowerCase()]},wh=function(e,r){if(tg(e))throw new Error("Attribute type '".concat(e,"' existed."));Gd[e.toLowerCase()]=r};wh("Color",B0),wh("Opacity",$s),wh("Position",P0),wh("Shape",z0),wh("Size",Ex);var i2=ut(5278);function Wd(e,r,t){var n=r[0],s=r[1],u=r[2];return e[0]=n*t[0]+s*t[3]+u*t[6],e[1]=n*t[1]+s*t[4]+u*t[7],e[2]=n*t[2]+s*t[5]+u*t[8],e}(function DA(){var e=new i2.WT(3);i2.WT!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0)})();var l2=ut(7543),an=ut(3882),XA=function(){function e(r){this.type="coordinate",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var n=r.end,s=r.matrix,u=void 0===s?[1,0,0,0,1,0,0,0,1]:s,h=r.isTransposed,d=void 0!==h&&h;this.start=r.start,this.end=n,this.matrix=u,this.originalMatrix=(0,E.ev)([],u),this.isTransposed=d}return e.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},e.prototype.update=function(r){(0,S.f0)(this,r),this.initial()},e.prototype.convertDim=function(r,t){var n,s=this[t],u=s.start,h=s.end;return this.isReflect(t)&&(u=(n=[h,u])[0],h=n[1]),u+r*(h-u)},e.prototype.invertDim=function(r,t){var n,s=this[t],u=s.start,h=s.end;return this.isReflect(t)&&(u=(n=[h,u])[0],h=n[1]),(r-u)/(h-u)},e.prototype.applyMatrix=function(r,t,n){void 0===n&&(n=0);var u=[r,t,n];return Wd(u,u,this.matrix),u},e.prototype.invertMatrix=function(r,t,n){void 0===n&&(n=0);var u=l2.U_([0,0,0,0,0,0,0,0,0],this.matrix),h=[r,t,n];return u&&Wd(h,h,u),h},e.prototype.convert=function(r){var t=this.convertPoint(r),u=this.applyMatrix(t.x,t.y,1);return{x:u[0],y:u[1]}},e.prototype.invert=function(r){var t=this.invertMatrix(r.x,r.y,1);return this.invertPoint({x:t[0],y:t[1]})},e.prototype.rotate=function(r){var t=this.matrix,n=this.center;return an.m$(t,t,[-n.x,-n.y]),an.zu(t,t,r),an.m$(t,t,[n.x,n.y]),this},e.prototype.reflect=function(r){return"x"===r?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},e.prototype.scale=function(r,t){var n=this.matrix,s=this.center;return an.m$(n,n,[-s.x,-s.y]),an.lh(n,n,[r,t]),an.m$(n,n,[s.x,s.y]),this},e.prototype.translate=function(r,t){var n=this.matrix;return an.m$(n,n,[r,t]),this},e.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},e.prototype.getCenter=function(){return this.center},e.prototype.getWidth=function(){return this.width},e.prototype.getHeight=function(){return this.height},e.prototype.getRadius=function(){return this.radius},e.prototype.isReflect=function(r){return"x"===r?this.isReflectX:this.isReflectY},e.prototype.resetMatrix=function(r){this.matrix=r||(0,E.ev)([],this.originalMatrix)},e}();const eg=XA;var $A=function(e){function r(t){var n=e.call(this,t)||this;return n.isRect=!0,n.type="cartesian",n.initial(),n}return(0,E.ZT)(r,e),r.prototype.initial=function(){e.prototype.initial.call(this);var t=this.start,n=this.end;this.x={start:t.x,end:n.x},this.y={start:t.y,end:n.y}},r.prototype.convertPoint=function(t){var n,s=t.x,u=t.y;return this.isTransposed&&(s=(n=[u,s])[0],u=n[1]),{x:this.convertDim(s,"x"),y:this.convertDim(u,"y")}},r.prototype.invertPoint=function(t){var n,s=this.invertDim(t.x,"x"),u=this.invertDim(t.y,"y");return this.isTransposed&&(s=(n=[u,s])[0],u=n[1]),{x:s,y:u}},r}(eg);const rg=$A;var gr=ut(8235),u2=function(e){function r(t){var n=e.call(this,t)||this;n.isHelix=!0,n.type="helix";var s=t.startAngle,u=void 0===s?1.25*Math.PI:s,h=t.endAngle,d=void 0===h?7.25*Math.PI:h,p=t.innerRadius,y=void 0===p?0:p,x=t.radius;return n.startAngle=u,n.endAngle=d,n.innerRadius=y,n.radius=x,n.initial(),n}return(0,E.ZT)(r,e),r.prototype.initial=function(){e.prototype.initial.call(this);var t=(this.endAngle-this.startAngle)/(2*Math.PI)+1,n=Math.min(this.width,this.height)/2;this.radius&&this.radius>=0&&this.radius<=1&&(n*=this.radius),this.d=Math.floor(n*(1-this.innerRadius)/t),this.a=this.d/(2*Math.PI),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*n,end:this.innerRadius*n+.99*this.d}},r.prototype.convertPoint=function(t){var n,s=t.x,u=t.y;this.isTransposed&&(s=(n=[u,s])[0],u=n[1]);var h=this.convertDim(s,"x"),d=this.a*h,p=this.convertDim(u,"y");return{x:this.center.x+Math.cos(h)*(d+p),y:this.center.y+Math.sin(h)*(d+p)}},r.prototype.invertPoint=function(t){var n,s=this.d+this.y.start,u=gr.$X([0,0],[t.x,t.y],[this.center.x,this.center.y]),h=an.Dg(u,[1,0],!0),d=h*this.a;gr.kE(u)<d&&(d=gr.kE(u)),h=2*Math.floor((gr.kE(u)-d)/s)*Math.PI+h;var y=this.a*h,x=gr.kE(u)-y;x=(0,S.vQ)(x,0)?0:x;var w=this.invertDim(h,"x"),M=this.invertDim(x,"y");return w=(0,S.vQ)(w,0)?0:w,M=(0,S.vQ)(M,0)?0:M,this.isTransposed&&(w=(n=[M,w])[0],M=n[1]),{x:w,y:M}},r}(eg);const lB=u2;var uB=function(e){function r(t){var n=e.call(this,t)||this;n.isPolar=!0,n.type="polar";var s=t.startAngle,u=void 0===s?-Math.PI/2:s,h=t.endAngle,d=void 0===h?3*Math.PI/2:h,p=t.innerRadius,y=void 0===p?0:p,x=t.radius;return n.startAngle=u,n.endAngle=d,n.innerRadius=y,n.radius=x,n.initial(),n}return(0,E.ZT)(r,e),r.prototype.initial=function(){for(e.prototype.initial.call(this);this.endAngle<this.startAngle;)this.endAngle+=2*Math.PI;var d,t=this.getOneBox(),n=t.maxX-t.minX,s=t.maxY-t.minY,u=Math.abs(t.minX)/n,h=Math.abs(t.minY)/s;this.circleCenter=this.height/s>this.width/n?{x:this.center.x-(.5-u)*this.width,y:this.center.y-(.5-h)*(d=this.width/n)*s}:{x:this.center.x-(.5-u)*(d=this.height/s)*n,y:this.center.y-(.5-h)*this.height},this.polarRadius=this.radius,this.radius?this.radius>0&&this.radius<=1?this.polarRadius=d*this.radius:(this.radius<=0||this.radius>d)&&(this.polarRadius=d):this.polarRadius=d,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},r.prototype.getRadius=function(){return this.polarRadius},r.prototype.convertPoint=function(t){var n,s=this.getCenter(),u=t.x,h=t.y;return this.isTransposed&&(u=(n=[h,u])[0],h=n[1]),u=this.convertDim(u,"x"),h=this.convertDim(h,"y"),{x:s.x+Math.cos(u)*h,y:s.y+Math.sin(u)*h}},r.prototype.invertPoint=function(t){var n,s=this.getCenter(),u=[t.x-s.x,t.y-s.y],d=this.startAngle,p=this.endAngle;this.isReflect("x")&&(d=(n=[p,d])[0],p=n[1]);var y=[1,0,0,0,1,0,0,0,1];an.zu(y,y,d);var x=[1,0,0];Wd(x,x,y);var M=an.Dg([x[0],x[1]],u,p<d);(0,S.vQ)(M,2*Math.PI)&&(M=0);var T=gr.kE(u),L=M/(p-d);L=p-d>0?L:-L;var R=this.invertDim(T,"y"),D={x:0,y:0};return D.x=this.isTransposed?R:L,D.y=this.isTransposed?L:R,D},r.prototype.getCenter=function(){return this.circleCenter},r.prototype.getOneBox=function(){var t=this.startAngle,n=this.endAngle;if(Math.abs(n-t)>=2*Math.PI)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var s=[0,Math.cos(t),Math.cos(n)],u=[0,Math.sin(t),Math.sin(n)],h=Math.min(t,n);h<Math.max(t,n);h+=Math.PI/18)s.push(Math.cos(h)),u.push(Math.sin(h));return{minX:Math.min.apply(Math,s),maxX:Math.max.apply(Math,s),minY:Math.min.apply(Math,u),maxY:Math.max.apply(Math,u)}},r}(eg);const Sh=uB;var Fn={},ng=function(e,r){Fn[e.toLowerCase()]=r};function ZA(e,r,t){var n=new qn.Event(r,t);n.target=e,n.propagationPath.push(e),e.emitDelegation(r,n);for(var s=e.getParent();s;)s.emitDelegation(r,n),n.propagationPath.push(s),s=s.getParent()}ng("rect",rg),ng("cartesian",rg),ng("polar",Sh),ng("helix",lB);var qA=[1,0,0,0,1,0,0,0,1];function qu(e,r,t){return void 0===t&&(t=qA),r?an.vs(t,[["t",-e.x,-e.y],["r",r],["t",e.x,e.y]]):null}function Ud(e,r){return e.x||e.y?an.vs(r||qA,[["t",e.x,e.y]]):null}function Mh(e,r){var t=[0,0];return gr.kK(t,r,e),t}function JA(e,r,t,n){if(r){var s=qu({x:t,y:n},r,e.getMatrix());e.setMatrix(s)}}function ig(e,r,t){var n=Ud({x:r,y:t});e.attr("matrix",n)}function ju(e){var r=0,t=0,n=0,s=0;return(0,S.hj)(e)?r=t=n=s=e:(0,S.kJ)(e)&&(r=e[0],n=(0,S.UM)(e[1])?e[0]:e[1],s=(0,S.UM)(e[2])?e[0]:e[2],t=(0,S.UM)(e[3])?n:e[3]),[r,n,s,t]}function ls(e){for(var r=e.childNodes,n=r.length-1;n>=0;n--)e.removeChild(r[n])}function us(e){var r=e.start,t=e.end,n=Math.min(r.x,t.x),s=Math.min(r.y,t.y),u=Math.max(r.x,t.x),h=Math.max(r.y,t.y);return{x:n,y:s,minX:n,minY:s,maxX:u,maxY:h,width:u-n,height:h-s}}function Ks(e,r,t,n){var s=e+t,u=r+n;return{x:e,y:r,width:t,height:n,minX:e,minY:r,maxX:isNaN(s)?0:s,maxY:isNaN(u)?0:u}}function cs(e,r,t){return(1-t)*e+r*t}function ql(e,r,t){return{x:e.x+Math.cos(t)*r,y:e.y+Math.sin(t)*r}}var Ba=function(e,r,t){return void 0===t&&(t=Math.pow(Number.EPSILON,.5)),[e,r].includes(1/0)?Math.abs(e)===Math.abs(r):Math.abs(e-r)<t};function og(e){var n,r=e.getClip(),t=r&&r.getBBox();if(e.isGroup()){var s=1/0,u=-1/0,h=1/0,d=-1/0,p=e.getChildren();p.length>0?(0,S.S6)(p,function(y){if(y.get("visible")){if(y.isGroup()&&0===y.get("children").length)return!0;var x=og(y),w=y.applyToMatrix([x.minX,x.minY,1]),M=y.applyToMatrix([x.minX,x.maxY,1]),T=y.applyToMatrix([x.maxX,x.minY,1]),L=y.applyToMatrix([x.maxX,x.maxY,1]),R=Math.min(w[0],M[0],T[0],L[0]),D=Math.max(w[0],M[0],T[0],L[0]),k=Math.min(w[1],M[1],T[1],L[1]),z=Math.max(w[1],M[1],T[1],L[1]);R<s&&(s=R),D>u&&(u=D),k<h&&(h=k),z>d&&(d=z)}}):(s=0,u=0,h=0,d=0),n=Ks(s,h,u-s,d-h)}else n=e.getBBox();return t?function Gn(e,r){var t=Math.max(e.minX,r.minX),n=Math.max(e.minY,r.minY);return Ks(t,n,Math.min(e.maxX,r.maxX)-t,Math.min(e.maxY,r.maxY)-n)}(n,t):n}function Qe(e){return e+"px"}function We(e,r,t,n){var s=function ag(e,r){var t=r.x-e.x,n=r.y-e.y;return Math.sqrt(t*t+n*n)}(e,r),u=n/s,h=0;return"start"===t?h=0-u:"end"===t&&(h=1+u),{x:cs(e.x,r.x,h),y:cs(e.y,r.y,h)}}var sg={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},ga=function(e){function r(t){var n=e.call(this,t)||this;return n.initCfg(),n}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},r.prototype.clear=function(){},r.prototype.update=function(t){var n=this,s=this.get("defaultCfg")||{};(0,S.S6)(t,function(u,h){var p=u;n.get(h)!==u&&((0,S.Kn)(u)&&s[h]&&(p=(0,S.b$)({},s[h],u)),n.set(h,p))}),this.updateInner(t),this.afterUpdate(t)},r.prototype.updateInner=function(t){},r.prototype.afterUpdate=function(t){(0,S.wH)(t,"visible")&&(t.visible?this.show():this.hide()),(0,S.wH)(t,"capture")&&this.setCapture(t.capture)},r.prototype.getLayoutBBox=function(){return this.getBBox()},r.prototype.getLocationType=function(){return this.get("locationType")},r.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},r.prototype.setOffset=function(t,n){this.update({offsetX:t,offsetY:n})},r.prototype.setLocation=function(t){var n=(0,E.pi)({},t);this.update(n)},r.prototype.getLocation=function(){var t=this,n={},s=this.get("locationType");return(0,S.S6)(sg[s],function(h){n[h]=t.get(h)}),n},r.prototype.isList=function(){return!1},r.prototype.isSlider=function(){return!1},r.prototype.init=function(){},r.prototype.initCfg=function(){var t=this,n=this.get("defaultCfg");(0,S.S6)(n,function(s,u){var h=t.get(u);if((0,S.Kn)(h)){var d=(0,S.b$)({},s,h);t.set(u,d)}})},r}(qn.Base);const d2=ga;var hs="update_status",di=["visible","tip","delegateObject"],vi=["container","group","shapesMap","isRegister","isUpdating","destroyed"],hB=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},r.prototype.remove=function(){this.clear(),this.get("group").remove()},r.prototype.clear=function(){this.get("group").clear(),this.set("shapesMap",{}),this.clearOffScreenCache(),this.set("isInit",!0)},r.prototype.getChildComponentById=function(t){var n=this.getElementById(t);return n&&n.get("component")},r.prototype.getElementById=function(t){return this.get("shapesMap")[t]},r.prototype.getElementByLocalId=function(t){var n=this.getElementId(t);return this.getElementById(n)},r.prototype.getElementsByName=function(t){var n=[];return(0,S.S6)(this.get("shapesMap"),function(s){s.get("name")===t&&n.push(s)}),n},r.prototype.getContainer=function(){return this.get("container")},r.prototype.updateInner=function(t){this.offScreenRender(),this.get("updateAutoRender")&&this.render()},r.prototype.render=function(){var t=this.get("offScreenGroup");t||(t=this.offScreenRender());var n=this.get("group");this.updateElements(t,n),this.deleteElements(),this.applyOffset(),this.get("eventInitted")||(this.initEvent(),this.set("eventInitted",!0)),this.set("isInit",!1)},r.prototype.show=function(){this.get("group").show(),this.set("visible",!0)},r.prototype.hide=function(){this.get("group").hide(),this.set("visible",!1)},r.prototype.setCapture=function(t){this.get("group").set("capture",t),this.set("capture",t)},r.prototype.destroy=function(){this.removeEvent(),this.remove(),e.prototype.destroy.call(this)},r.prototype.getBBox=function(){return this.get("group").getCanvasBBox()},r.prototype.getLayoutBBox=function(){var t=this.get("group"),n=this.getInnerLayoutBBox(),s=t.getTotalMatrix();return s&&(n=function jA(e,r){var t=Mh(e,[r.minX,r.minY]),n=Mh(e,[r.maxX,r.minY]),s=Mh(e,[r.minX,r.maxY]),u=Mh(e,[r.maxX,r.maxY]),h=Math.min(t[0],n[0],s[0],u[0]),d=Math.max(t[0],n[0],s[0],u[0]),p=Math.min(t[1],n[1],s[1],u[1]),y=Math.max(t[1],n[1],s[1],u[1]);return{x:h,y:p,minX:h,minY:p,maxX:d,maxY:y,width:d-h,height:y-p}}(s,n)),n},r.prototype.on=function(t,n,s){return this.get("group").on(t,n,s),this},r.prototype.off=function(t,n){var s=this.get("group");return s&&s.off(t,n),this},r.prototype.emit=function(t,n){this.get("group").emit(t,n)},r.prototype.init=function(){e.prototype.init.call(this),this.get("group")||this.initGroup(),this.offScreenRender()},r.prototype.getInnerLayoutBBox=function(){return this.get("offScreenBBox")||this.get("group").getBBox()},r.prototype.delegateEmit=function(t,n){var s=this.get("group");n.target=s,s.emit(t,n),ZA(s,t,n)},r.prototype.createOffScreenGroup=function(){return new(this.get("group").getGroupBase())({delegateObject:this.getDelegateObject()})},r.prototype.applyOffset=function(){var t=this.get("offsetX"),n=this.get("offsetY");this.moveElementTo(this.get("group"),{x:t,y:n})},r.prototype.initGroup=function(){var t=this.get("container");this.set("group",t.addGroup({id:this.get("id"),name:this.get("name"),capture:this.get("capture"),visible:this.get("visible"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},r.prototype.offScreenRender=function(){this.clearOffScreenCache();var t=this.createOffScreenGroup();return this.renderInner(t),this.set("offScreenGroup",t),this.set("offScreenBBox",og(t)),t},r.prototype.addGroup=function(t,n){this.appendDelegateObject(t,n);var s=t.addGroup(n);return this.get("isRegister")&&this.registerElement(s),s},r.prototype.addShape=function(t,n){this.appendDelegateObject(t,n);var s=t.addShape(n);return this.get("isRegister")&&this.registerElement(s),s},r.prototype.addComponent=function(t,n){var s=n.id,u=n.component,h=(0,E._T)(n,["id","component"]),d=new u((0,E.pi)((0,E.pi)({},h),{id:s,container:t,updateAutoRender:this.get("updateAutoRender")}));return d.init(),d.render(),this.get("isRegister")&&this.registerElement(d.get("group")),d},r.prototype.initEvent=function(){},r.prototype.removeEvent=function(){this.get("group").off()},r.prototype.getElementId=function(t){return this.get("id")+"-"+this.get("name")+"-"+t},r.prototype.registerElement=function(t){var n=t.get("id");this.get("shapesMap")[n]=t},r.prototype.unregisterElement=function(t){var n=t.get("id");delete this.get("shapesMap")[n]},r.prototype.moveElementTo=function(t,n){var s=Ud(n);t.attr("matrix",s)},r.prototype.addAnimation=function(t,n,s){var u=n.attr("opacity");(0,S.UM)(u)&&(u=1),n.attr("opacity",0),n.animate({opacity:u},s)},r.prototype.removeAnimation=function(t,n,s){n.animate({opacity:0},s)},r.prototype.updateAnimation=function(t,n,s,u){n.animate(s,u)},r.prototype.updateElements=function(t,n){var p,s=this,u=this.get("animate"),h=this.get("animateOption"),d=t.getChildren().slice(0);(0,S.S6)(d,function(y){var x=y.get("id"),w=s.getElementById(x),M=y.get("name");if(w)if(y.get("isComponent")){var T=y.get("component"),L=w.get("component"),R=(0,S.ei)(T.cfg,(0,S.e5)((0,S.XP)(T.cfg),vi));L.update(R),w.set(hs,"update")}else{var D=s.getReplaceAttrs(w,y);u&&h.update?s.updateAnimation(M,w,D,h.update):w.attr(D),y.isGroup()&&s.updateElements(y,w),(0,S.S6)(di,function(U){w.set(U,y.get(U))}),function Ai(e,r){if(e.getClip()||r.getClip()){var t=r.getClip();if(!t)return void e.setClip(null);var n={type:t.get("type"),attrs:t.attr()};e.setClip(n)}}(w,y),p=w,w.set(hs,"update")}else{n.add(y);var k=n.getChildren();if(k.splice(k.length-1,1),p){var z=k.indexOf(p);k.splice(z+1,0,y)}else k.unshift(y);if(s.registerElement(y),y.set(hs,"add"),y.get("isComponent")?(T=y.get("component")).set("container",n):y.isGroup()&&s.registerNewGroup(y),p=y,u){var G=s.get("isInit")?h.appear:h.enter;G&&s.addAnimation(M,y,G)}}})},r.prototype.clearUpdateStatus=function(t){var n=t.getChildren();(0,S.S6)(n,function(s){s.set(hs,null)})},r.prototype.clearOffScreenCache=function(){var t=this.get("offScreenGroup");t&&t.destroy(),this.set("offScreenGroup",null),this.set("offScreenBBox",null)},r.prototype.getDelegateObject=function(){var t;return(t={})[this.get("name")]=this,t.component=this,t},r.prototype.appendDelegateObject=function(t,n){var s=t.get("delegateObject");n.delegateObject||(n.delegateObject={}),(0,S.CD)(n.delegateObject,s)},r.prototype.getReplaceAttrs=function(t,n){var s=t.attr(),u=n.attr();return(0,S.S6)(s,function(h,d){void 0===u[d]&&(u[d]=void 0)}),u},r.prototype.registerNewGroup=function(t){var n=this,s=t.getChildren();(0,S.S6)(s,function(u){n.registerElement(u),u.set(hs,"add"),u.isGroup()&&n.registerNewGroup(u)})},r.prototype.deleteElements=function(){var t=this,n=this.get("shapesMap"),s=[];(0,S.S6)(n,function(d,p){!d.get(hs)||d.destroyed?s.push([p,d]):d.set(hs,null)});var u=this.get("animate"),h=this.get("animateOption");(0,S.S6)(s,function(d){var p=d[0],y=d[1];if(!y.destroyed){var x=y.get("name");if(u&&h.leave){var w=(0,S.CD)({callback:function(){t.removeElement(y)}},h.leave);t.removeAnimation(x,y,w)}else t.removeElement(y)}delete n[p]})},r.prototype.removeElement=function(t){if(t.get("isGroup")){var n=t.get("component");n&&n.destroy()}t.remove()},r}(d2);const hr=hB;var Yd="\u2026";function Wn(e,r){return e.charCodeAt(r)>0&&e.charCodeAt(r)<128?1:2}var KA="\u2026",QA=2,tE=400;function ti(e){if(e.length>tE)return function ya(e){for(var r=e.map(function(p){var y=p.attr("text");return(0,S.UM)(y)?"":""+y}),t=0,n=0,s=0;s<r.length;s+=1){for(var u=0,h=0;h<=r[s].length;h+=1){var d=r[s].charCodeAt(h);u+=d>=19968&&d<=40869?2:1}u>t&&(t=u,n=s)}return e[n].getBBox().width}(e);var r=0;return(0,S.S6)(e,function(t){var s=t.getBBox().width;r<s&&(r=s)}),r}function Pa(e,r,t,n){var s;void 0===n&&(n="tail");var u=null!==(s=r.attr("text"))&&void 0!==s?s:"";if("tail"===n){var h=(0,S.ei)(r.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),d=(0,S.Lo)(u,t,h,"\u2026");return u!==d?(r.attr("text",d),r.set("tip",u),!0):(r.set("tip",null),!1)}var p=function Ah(e,r){var t=r.getCanvasBBox();return e?t.width:t.height}(e,r),y=function bh(e){for(var r=0,t=0;t<e.length;t++)r+=Wn(e,t);return r}(u),x=!1;if(t<p){var M,w=Math.floor(t/p*y)-QA;M=w>=0?function Th(e,r,t){void 0===t&&(t="tail");var n=e.length,s="";if("tail"===t){for(var u=0,h=0;u<r&&u+Wn(e,h)<=r;)s+=e[h],u+=Wn(e,h),h++;s+=Yd}else if("head"===t){for(u=0,h=n-1;u<r&&u+Wn(e,h)<=r;)s+=e[h],u+=Wn(e,h),h--;s=Yd+s}else{for(var p="",y="",x=(u=0,0),w=n-1;u<r;){var M=Wn(e,x),T=!1;M+u<=r&&(p+=e[x],x++,u+=M,T=!0);var L=Wn(e,w);if(L+u<=r&&(y=e[w]+y,u+=L,w--,T=!0),!T)break}s=p+Yd+y}return s}(u,w,n):KA,M&&(r.attr("text",M),x=!0)}return r.set("tip",x?u:null),x}function Vd(e,r){var t=r.x,n=r.y,s=r.content,u=r.style,h=r.id,d=r.name,p=r.rotate,y=r.maxLength,x=r.autoEllipsis,w=r.isVertical,M=r.ellipsisPosition,T=r.background,L=e.addGroup({id:h+"-group",name:d+"-group",attrs:{x:t,y:n}}),R=L.addShape({type:"text",id:h,name:d,attrs:(0,E.pi)({x:0,y:0,text:s},u)}),D=ju((0,S.U2)(T,"padding",0));if(y&&x&&Pa(!w,R,y-(D[1]+D[3]),M),T){var z=(0,S.U2)(T,"style",{}),G=R.getCanvasBBox();L.addShape("rect",{id:h+"-bg",name:h+"-bg",attrs:(0,E.pi)({x:G.minX-D[3],y:G.minY-D[0],width:G.width+D[1]+D[3],height:G.height+D[0]+D[2]},z)}).toBack()}ig(L,t,n),JA(L,p,t,n)}const Fr={fontFamily:'\n  BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",\n  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",\n  SimSun, "sans-serif"',textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4,descriptionIconStroke:"#fff",descriptionIconFill:"rgba(58, 73, 101, .25)"};var rE=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{name:"annotation",type:"line",locationType:"region",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:Fr.textColor,fontSize:12,textAlign:"center",textBaseline:"bottom",fontFamily:Fr.fontFamily},text:{position:"center",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:Fr.lineColor,lineWidth:1}}}})},r.prototype.renderInner=function(t){this.renderLine(t),this.get("text")&&this.renderLabel(t)},r.prototype.renderLine=function(t){var n=this.get("start"),s=this.get("end"),u=this.get("style");this.addShape(t,{type:"line",id:this.getElementId("line"),name:"annotation-line",attrs:(0,E.pi)({x1:n.x,y1:n.y,x2:s.x,y2:s.y},u)})},r.prototype.getLabelPoint=function(t,n,s){var u;return((u="start"===s?0:"center"===s?.5:(0,S.HD)(s)&&-1!==s.indexOf("%")?parseInt(s,10)/100:(0,S.hj)(s)?s:1)>1||u<0)&&(u=1),{x:cs(t.x,n.x,u),y:cs(t.y,n.y,u)}},r.prototype.renderLabel=function(t){var n=this.get("text"),s=this.get("start"),u=this.get("end"),d=n.content,p=n.style,y=n.offsetX,x=n.offsetY,w=n.autoRotate,M=n.maxLength,T=n.autoEllipsis,L=n.ellipsisPosition,R=n.background,D=n.isVertical,k=void 0!==D&&D,z=this.getLabelPoint(s,u,n.position),G=z.x+y,U=z.y+x,q={id:this.getElementId("line-text"),name:"annotation-line-text",x:G,y:U,content:d,style:p,maxLength:M,autoEllipsis:T,ellipsisPosition:L,background:R,isVertical:k};if(w){var a=[u.x-s.x,u.y-s.y];q.rotate=Math.atan2(a[1],a[0])}Vd(t,q)},r}(hr);const lg=rE;var Sr=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{name:"annotation",type:"text",locationType:"point",x:0,y:0,content:"",rotate:null,style:{},background:null,maxLength:null,autoEllipsis:!0,isVertical:!1,ellipsisPosition:"tail",defaultCfg:{style:{fill:Fr.textColor,fontSize:12,textAlign:"center",textBaseline:"middle",fontFamily:Fr.fontFamily}}})},r.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetLocation()},r.prototype.renderInner=function(t){var n=this.getLocation(),s=n.x,u=n.y,h=this.get("content"),d=this.get("style");Vd(t,{id:this.getElementId("text"),name:this.get("name")+"-text",x:s,y:u,content:h,style:d,maxLength:this.get("maxLength"),autoEllipsis:this.get("autoEllipsis"),isVertical:this.get("isVertical"),ellipsisPosition:this.get("ellipsisPosition"),background:this.get("background"),rotate:this.get("rotate")})},r.prototype.resetLocation=function(){var t=this.getElementByLocalId("text-group");if(t){var n=this.getLocation(),s=n.x,u=n.y,h=this.get("rotate");ig(t,s,u),JA(t,h,s,u)}},r}(hr);const Ft=Sr;var ug=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{name:"annotation",type:"arc",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:3*Math.PI/2,style:{stroke:"#999",lineWidth:1}})},r.prototype.renderInner=function(t){this.renderArc(t)},r.prototype.getArcPath=function(){var t=this.getLocation(),n=t.center,s=t.radius,u=t.startAngle,h=t.endAngle,d=ql(n,s,u),p=ql(n,s,h),y=h-u>Math.PI?1:0,x=[["M",d.x,d.y]];if(h-u==2*Math.PI){var w=ql(n,s,u+Math.PI);x.push(["A",s,s,0,y,1,w.x,w.y]),x.push(["A",s,s,0,y,1,p.x,p.y])}else x.push(["A",s,s,0,y,1,p.x,p.y]);return x},r.prototype.renderArc=function(t){var n=this.getArcPath(),s=this.get("style");this.addShape(t,{type:"path",id:this.getElementId("arc"),name:"annotation-arc",attrs:(0,E.pi)({path:n},s)})},r}(hr);const Ei=ug;var de=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{name:"annotation",type:"region",locationType:"region",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:Fr.regionColor,opacity:.4}}})},r.prototype.renderInner=function(t){this.renderRegion(t)},r.prototype.renderRegion=function(t){var n=this.get("start"),s=this.get("end"),u=this.get("style"),h=us({start:n,end:s});this.addShape(t,{type:"rect",id:this.getElementId("region"),name:"annotation-region",attrs:(0,E.pi)({x:h.x,y:h.y,width:h.width,height:h.height},u)})},r}(hr);const Ae=de;var nE=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{name:"annotation",type:"image",locationType:"region",start:null,end:null,src:null,style:{}})},r.prototype.renderInner=function(t){this.renderImage(t)},r.prototype.getImageAttrs=function(){var t=this.get("start"),n=this.get("end"),s=this.get("style"),u=us({start:t,end:n}),h=this.get("src");return(0,E.pi)({x:u.x,y:u.y,img:h,width:u.width,height:u.height},s)},r.prototype.renderImage=function(t){this.addShape(t,{type:"image",id:this.getElementId("image"),name:"annotation-image",attrs:this.getImageAttrs()})},r}(hr);const v2=nE;var iE=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{name:"annotation",type:"dataMarker",locationType:"point",x:0,y:0,point:{},line:{},text:{},direction:"upward",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2}},line:{display:!0,length:20,style:{stroke:Fr.lineColor,lineWidth:1}},text:{content:"",display:!0,style:{fill:Fr.textColor,opacity:.65,fontSize:12,textAlign:"start",fontFamily:Fr.fontFamily}}}})},r.prototype.renderInner=function(t){(0,S.U2)(this.get("line"),"display")&&this.renderLine(t),(0,S.U2)(this.get("text"),"display")&&this.renderText(t),(0,S.U2)(this.get("point"),"display")&&this.renderPoint(t),this.get("autoAdjust")&&this.autoAdjust(t)},r.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x")+this.get("offsetX"),y:this.get("y")+this.get("offsetY")})},r.prototype.renderPoint=function(t){var n=this.getShapeAttrs().point;this.addShape(t,{type:"circle",id:this.getElementId("point"),name:"annotation-point",attrs:n})},r.prototype.renderLine=function(t){var n=this.getShapeAttrs().line;this.addShape(t,{type:"path",id:this.getElementId("line"),name:"annotation-line",attrs:n})},r.prototype.renderText=function(t){var n=this.getShapeAttrs().text,s=n.x,u=n.y,h=n.text,d=(0,E._T)(n,["x","y","text"]),p=this.get("text"),y=p.background,x=p.maxLength,w=p.autoEllipsis,M=p.isVertival,T=p.ellipsisPosition;Vd(t,{x:s,y:u,id:this.getElementId("text"),name:"annotation-text",content:h,style:d,background:y,maxLength:x,autoEllipsis:w,isVertival:M,ellipsisPosition:T})},r.prototype.autoAdjust=function(t){var n=this.get("direction"),s=this.get("x"),u=this.get("y"),h=(0,S.U2)(this.get("line"),"length",0),d=this.get("coordinateBBox"),p=t.getBBox(),y=p.minX,x=p.maxX,w=p.minY,M=p.maxY,T=t.findById(this.getElementId("text-group")),L=t.findById(this.getElementId("text")),R=t.findById(this.getElementId("line"));if(d&&T){var D=T.attr("x"),k=T.attr("y"),z=L.getCanvasBBox(),G=z.width,U=z.height,q=0,a=0;if(s+y<=d.minX)if("leftward"===n)q=1;else{var o=d.minX-(s+y);D=T.attr("x")+o}else s+x>=d.maxX&&("rightward"===n?q=-1:(o=s+x-d.maxX,D=T.attr("x")-o));q&&(R&&R.attr("path",[["M",0,0],["L",h*q,0]]),D=(h+2+G)*q),u+w<=d.minY?"upward"===n?a=1:(o=d.minY-(u+w),k=T.attr("y")+o):u+M>=d.maxY&&("downward"===n?a=-1:(o=u+M-d.maxY,k=T.attr("y")-o)),a&&(R&&R.attr("path",[["M",0,0],["L",0,h*a]]),k=(h+2+U)*a),(D!==T.attr("x")||k!==T.attr("y"))&&ig(T,D,k)}},r.prototype.getShapeAttrs=function(){var t=(0,S.U2)(this.get("line"),"display"),n=(0,S.U2)(this.get("point"),"style",{}),s=(0,S.U2)(this.get("line"),"style",{}),u=(0,S.U2)(this.get("text"),"style",{}),h=this.get("direction"),d=t?(0,S.U2)(this.get("line"),"length",0):0,p=0,y=0,x="top",w="start";switch(h){case"upward":y=-1,x="bottom";break;case"downward":y=1,x="top";break;case"leftward":p=-1,w="end";break;case"rightward":p=1,w="start"}return{point:(0,E.pi)({x:0,y:0},n),line:(0,E.pi)({path:[["M",0,0],["L",d*p,d*y]]},s),text:(0,E.pi)({x:(d+2)*p,y:(d+2)*y,text:(0,S.U2)(this.get("text"),"content",""),textBaseline:x,textAlign:w},u)}},r}(hr);const aE=iE;var ei=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{name:"annotation",type:"dataRegion",locationType:"points",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:Fr.regionColor,opacity:.4}},text:{content:"",style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:Fr.textColor,fontFamily:Fr.fontFamily}}}})},r.prototype.renderInner=function(t){var n=(0,S.U2)(this.get("region"),"style",{}),u=((0,S.U2)(this.get("text"),"style",{}),this.get("lineLength")||0),h=this.get("points");if(h.length){var d=function f2(e){var r=e.map(function(d){return d.x}),t=e.map(function(d){return d.y}),n=Math.min.apply(Math,r),s=Math.min.apply(Math,t),u=Math.max.apply(Math,r),h=Math.max.apply(Math,t);return{x:n,y:s,minX:n,minY:s,maxX:u,maxY:h,width:u-n,height:h-s}}(h),p=[];p.push(["M",h[0].x,d.minY-u]),h.forEach(function(x){p.push(["L",x.x,x.y])}),p.push(["L",h[h.length-1].x,h[h.length-1].y-u]),this.addShape(t,{type:"path",id:this.getElementId("region"),name:"annotation-region",attrs:(0,E.pi)({path:p},n)}),Vd(t,(0,E.pi)({id:this.getElementId("text"),name:"annotation-text",x:(d.minX+d.maxX)/2,y:d.minY-u},this.get("text")))}},r}(hr);const oE=ei;var Li=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{name:"annotation",type:"regionFilter",locationType:"region",start:null,end:null,color:null,shape:[]})},r.prototype.renderInner=function(t){var n=this,s=this.get("start"),u=this.get("end"),h=this.addGroup(t,{id:this.getElementId("region-filter"),capture:!1});(0,S.S6)(this.get("shapes"),function(p,y){var x=p.get("type"),w=(0,S.d9)(p.attr());n.adjustShapeAttrs(w),n.addShape(h,{id:n.getElementId("shape-"+x+"-"+y),capture:!1,type:x,attrs:w})});var d=us({start:s,end:u});h.setClip({type:"rect",attrs:{x:d.minX,y:d.minY,width:d.width,height:d.height}})},r.prototype.adjustShapeAttrs=function(t){var n=this.get("color");t.fill&&(t.fill=t.fillStyle=n),t.stroke=t.strokeStyle=n},r}(hr);const p2=Li;var sE=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{name:"annotation",type:"shape",draw:S.ZT})},r.prototype.renderInner=function(t){var n=this.get("render");(0,S.mf)(n)&&n(t)},r}(hr);const lE=sE;function ri(e,r,t){var n;try{n=window.getComputedStyle?window.getComputedStyle(e,null)[r]:e.style[r]}catch{}finally{n=void 0===n?t:n}return n}var dE=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},r.prototype.getContainer=function(){return this.get("container")},r.prototype.show=function(){this.get("container").style.display="",this.set("visible",!0)},r.prototype.hide=function(){this.get("container").style.display="none",this.set("visible",!1)},r.prototype.setCapture=function(t){this.getContainer().style.pointerEvents=t?"auto":"none",this.set("capture",t)},r.prototype.getBBox=function(){var t=this.getContainer();return Ks(parseFloat(t.style.left)||0,parseFloat(t.style.top)||0,t.clientWidth,t.clientHeight)},r.prototype.clear=function(){ls(this.get("container"))},r.prototype.destroy=function(){this.removeEvent(),this.removeDom(),e.prototype.destroy.call(this)},r.prototype.init=function(){e.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},r.prototype.initCapture=function(){this.setCapture(this.get("capture"))},r.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},r.prototype.initDom=function(){},r.prototype.initContainer=function(){var t=this.get("container");if((0,S.UM)(t)){t=this.createDom();var n=this.get("parent");(0,S.HD)(n)&&(n=document.getElementById(n),this.set("parent",n)),n.appendChild(t),this.get("containerId")&&t.setAttribute("id",this.get("containerId")),this.set("container",t)}else(0,S.HD)(t)&&(t=document.getElementById(t),this.set("container",t));this.get("parent")||this.set("parent",t.parentNode)},r.prototype.resetStyles=function(){var t=this.get("domStyles"),n=this.get("defaultStyles");t=t?(0,S.b$)({},n,t):n,this.set("domStyles",t)},r.prototype.applyStyles=function(){var t=this.get("domStyles");if(t){var n=this.getContainer();this.applyChildrenStyles(n,t);var s=this.get("containerClassName");s&&function h2(e,r){return!!e.className.match(new RegExp("(\\s|^)"+r+"(\\s|$)"))}(n,s)&&Mi(n,t[s])}},r.prototype.applyChildrenStyles=function(t,n){(0,S.S6)(n,function(s,u){var h=t.getElementsByClassName(u);(0,S.S6)(h,function(d){Mi(d,s)})})},r.prototype.applyStyle=function(t,n){Mi(n,this.get("domStyles")[t])},r.prototype.createDom=function(){return Vs(this.get("containerTpl"))},r.prototype.initEvent=function(){},r.prototype.removeDom=function(){var t=this.get("container");t&&t.parentNode&&t.parentNode.removeChild(t)},r.prototype.removeEvent=function(){},r.prototype.updateInner=function(t){(0,S.wH)(t,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},r.prototype.resetPosition=function(){},r}(d2);const cg=dE;var g2=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{name:"annotation",type:"html",locationType:"point",x:0,y:0,containerTpl:'<div class="g2-html-annotation" style="position:absolute"></div>',alignX:"left",alignY:"top",html:"",zIndex:7})},r.prototype.render=function(){var t=this.getContainer(),n=this.get("html");ls(t);var s=(0,S.mf)(n)?n(t):n;if((0,S.kK)(s))t.appendChild(s);else if((0,S.HD)(s)||(0,S.hj)(s)){var u=Vs(""+s);u&&t.appendChild(u)}this.resetPosition()},r.prototype.resetPosition=function(){var t=this.getContainer(),n=this.getLocation(),s=n.x,u=n.y,h=this.get("alignX"),d=this.get("alignY"),p=this.get("offsetX"),y=this.get("offsetY"),x=function cE(e,r){var t=function uE(e,r){var t=ri(e,"width",r);return"auto"===t&&(t=e.offsetWidth),parseFloat(t)}(e,r),n=parseFloat(ri(e,"borderLeftWidth"))||0,s=parseFloat(ri(e,"paddingLeft"))||0,u=parseFloat(ri(e,"paddingRight"))||0,h=parseFloat(ri(e,"borderRightWidth"))||0,d=parseFloat(ri(e,"marginRight"))||0;return t+n+h+s+u+(parseFloat(ri(e,"marginLeft"))||0)+d}(t),w=function fE(e,r){var t=function hE(e,r){var t=ri(e,"height",r);return"auto"===t&&(t=e.offsetHeight),parseFloat(t)}(e,r),n=parseFloat(ri(e,"borderTopWidth"))||0,s=parseFloat(ri(e,"paddingTop"))||0,u=parseFloat(ri(e,"paddingBottom"))||0;return t+n+(parseFloat(ri(e,"borderBottomWidth"))||0)+s+u+(parseFloat(ri(e,"marginTop"))||0)+(parseFloat(ri(e,"marginBottom"))||0)}(t),M={x:s,y:u};"middle"===h?M.x-=Math.round(x/2):"right"===h&&(M.x-=Math.round(x)),"middle"===d?M.y-=Math.round(w/2):"bottom"===d&&(M.y-=Math.round(w)),p&&(M.x+=p),y&&(M.y+=y),Mi(t,{position:"absolute",left:M.x+"px",top:M.y+"px",zIndex:this.get("zIndex")})},r}(cg);const Vi=g2;function wn(e,r,t){var n=r+"Style",s=null;return(0,S.S6)(t,function(u,h){e[h]&&u[n]&&(s||(s={}),(0,S.CD)(s,u[n]))}),s}var vE=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{name:"axis",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:["autoRotate","autoEllipsis","autoHide"],tickStates:{},optimize:{},defaultCfg:{line:{style:{lineWidth:1,stroke:Fr.lineColor}},tickLine:{style:{lineWidth:1,stroke:Fr.lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:Fr.lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:Fr.textColor,fontFamily:Fr.fontFamily,fontWeight:"normal"},offset:10,offsetX:0,offsetY:0},title:{autoRotate:!0,spacing:5,position:"center",style:{fontSize:12,fill:Fr.textColor,textBaseline:"middle",fontFamily:Fr.fontFamily,textAlign:"center"},iconStyle:{fill:Fr.descriptionIconFill,stroke:Fr.descriptionIconStroke},description:""},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:Fr.uncheckedColor}}},optimize:{enable:!0,threshold:400}},theme:{}})},r.prototype.renderInner=function(t){this.get("line")&&this.drawLine(t),this.drawTicks(t),this.get("title")&&this.drawTitle(t)},r.prototype.isList=function(){return!0},r.prototype.getItems=function(){return this.get("ticks")},r.prototype.setItems=function(t){this.update({ticks:t})},r.prototype.updateItem=function(t,n){(0,S.CD)(t,n),this.clear(),this.render()},r.prototype.clearItems=function(){var t=this.getElementByLocalId("label-group");t&&t.clear()},r.prototype.setItemState=function(t,n,s){t[n]=s,this.updateTickStates(t)},r.prototype.hasState=function(t,n){return!!t[n]},r.prototype.getItemStates=function(t){var n=this.get("tickStates"),s=[];return(0,S.S6)(n,function(u,h){t[h]&&s.push(h)}),s},r.prototype.clearItemsState=function(t){var n=this,s=this.getItemsByState(t);(0,S.S6)(s,function(u){n.setItemState(u,t,!1)})},r.prototype.getItemsByState=function(t){var n=this,s=this.getItems();return(0,S.hX)(s,function(u){return n.hasState(u,t)})},r.prototype.getSidePoint=function(t,n){var u=this.getSideVector(n,t);return{x:t.x+u[0],y:t.y+u[1]}},r.prototype.getTextAnchor=function(t){var n;return(0,S.vQ)(t[0],0)?n="center":t[0]>0?n="start":t[0]<0&&(n="end"),n},r.prototype.getTextBaseline=function(t){var n;return(0,S.vQ)(t[1],0)?n="middle":t[1]>0?n="top":t[1]<0&&(n="bottom"),n},r.prototype.processOverlap=function(t){},r.prototype.drawLine=function(t){var n=this.getLinePath(),s=this.get("line");this.addShape(t,{type:"path",id:this.getElementId("line"),name:"axis-line",attrs:(0,S.CD)({path:n},s.style)})},r.prototype.getTickLineItems=function(t){var n=this,s=[],u=this.get("tickLine"),h=u.alignTick,d=u.length,p=1;return t.length>=2&&(p=t[1].value-t[0].value),(0,S.S6)(t,function(x){var w=x.point;h||(w=n.getTickPoint(x.value-p/2));var M=n.getSidePoint(w,d);s.push({startPoint:w,tickValue:x.value,endPoint:M,tickId:x.id,id:"tickline-"+x.id})}),s},r.prototype.getSubTickLineItems=function(t){var n=[],s=this.get("subTickLine"),u=s.count,h=t.length;if(h>=2)for(var d=0;d<h-1;d++)for(var p=t[d],y=t[d+1],x=0;x<u;x++){var w=(x+1)/(u+1),M=(1-w)*p.tickValue+w*y.tickValue,T=this.getTickPoint(M),L=this.getSidePoint(T,s.length);n.push({startPoint:T,endPoint:L,tickValue:M,id:"sub-"+p.id+"-"+x})}return n},r.prototype.getTickLineAttrs=function(t,n,s,u){var h=this.get(n).style,d={points:[t.startPoint,t.endPoint]},p=(0,S.U2)(this.get("theme"),["tickLine","style"],{});h=(0,S.mf)(h)?(0,S.CD)({},p,h(d,s,u)):h;var y=t.startPoint,x=t.endPoint;return(0,E.pi)({x1:y.x,y1:y.y,x2:x.x,y2:x.y},h)},r.prototype.drawTick=function(t,n,s,u,h){this.addShape(n,{type:"line",id:this.getElementId(t.id),name:"axis-"+s,attrs:this.getTickLineAttrs(t,s,u,h)})},r.prototype.drawTickLines=function(t){var n=this,s=this.get("ticks"),u=this.get("subTickLine"),h=this.getTickLineItems(s),d=this.addGroup(t,{name:"axis-tickline-group",id:this.getElementId("tickline-group")}),p=this.get("tickLine");if((0,S.S6)(h,function(x,w){if(p.displayWithLabel){var M=n.getElementId("label-"+x.tickId);t.findById(M)&&n.drawTick(x,d,"tickLine",w,h)}else n.drawTick(x,d,"tickLine",w,h)}),u){var y=this.getSubTickLineItems(h);(0,S.S6)(y,function(x,w){n.drawTick(x,d,"subTickLine",w,y)})}},r.prototype.processTicks=function(){var t=this,n=this.get("ticks");(0,S.S6)(n,function(s){s.point=t.getTickPoint(s.value),(0,S.UM)(s.id)&&(s.id=s.name)})},r.prototype.drawTicks=function(t){var n=this;this.optimizeTicks(),this.processTicks(),this.get("label")&&this.drawLabels(t),this.get("tickLine")&&this.drawTickLines(t);var s=this.get("ticks");(0,S.S6)(s,function(u){n.applyTickStates(u,t)})},r.prototype.optimizeTicks=function(){var t=this.get("optimize"),n=this.get("ticks");if(t&&t.enable&&t.threshold>0){var s=(0,S.dp)(n);if(s>t.threshold){var u=Math.ceil(s/t.threshold),h=n.filter(function(d,p){return p%u==0});this.set("ticks",h),this.set("originalTicks",n)}}},r.prototype.getLabelAttrs=function(t,n,s){var u=this.get("label"),h=u.offset,d=u.offsetX,p=u.offsetY,y=u.rotate,x=u.formatter,w=this.getSidePoint(t.point,h),M=this.getSideVector(h,w),T=x?x(t.name,t,n):t.name,L=u.style;L=(0,S.mf)(L)?(0,S.U2)(this.get("theme"),["label","style"],{}):L;var R=(0,S.CD)({x:w.x+d,y:w.y+p,text:T,textAlign:this.getTextAnchor(M),textBaseline:this.getTextBaseline(M)},L);return y&&(R.matrix=qu(w,y)),R},r.prototype.drawLabels=function(t){var n=this,s=this.get("ticks"),u=this.addGroup(t,{name:"axis-label-group",id:this.getElementId("label-group")});(0,S.S6)(s,function(M,T){n.addShape(u,{type:"text",name:"axis-label",id:n.getElementId("label-"+M.id),attrs:n.getLabelAttrs(M,T,s),delegateObject:{tick:M,item:M,index:T}})}),this.processOverlap(u);var h=u.getChildren(),d=(0,S.U2)(this.get("theme"),["label","style"],{}),p=this.get("label"),y=p.style,x=p.formatter;if((0,S.mf)(y)){var w=h.map(function(M){return(0,S.U2)(M.get("delegateObject"),"tick")});(0,S.S6)(h,function(M,T){var L=M.get("delegateObject").tick,R=x?x(L.name,L,T):L.name,D=(0,S.CD)({},d,y(R,T,w));M.attr(D)})}},r.prototype.getTitleAttrs=function(){var t=this.get("title"),n=t.style,s=t.position,u=t.offset,h=t.spacing,d=void 0===h?0:h,p=t.autoRotate,y=n.fontSize,x=.5;"start"===s?x=0:"end"===s&&(x=1);var w=this.getTickPoint(x),M=this.getSidePoint(w,u||d+y/2),T=(0,S.CD)({x:M.x,y:M.y,text:t.text},n),L=t.rotate,R=L;if((0,S.UM)(L)&&p){var D=this.getAxisVector(w);R=an.Dg(D,[1,0],!0)}if(R){var z=qu(M,R);T.matrix=z}return T},r.prototype.drawTitle=function(t){var n,s=this.getTitleAttrs(),u=this.addShape(t,{type:"text",id:this.getElementId("title"),name:"axis-title",attrs:s});null!==(n=this.get("title"))&&void 0!==n&&n.description&&this.drawDescriptionIcon(t,u,s.matrix)},r.prototype.drawDescriptionIcon=function(t,n,s){var u=this.addGroup(t,{name:"axis-description",id:this.getElementById("description")}),h=n.getBBox(),d=h.maxX,p=h.maxY,y=h.height,x=this.get("title").iconStyle,M=y/2,T=M/6,L=d+4,R=p-y/2,D=[L+M,R-M],k=D[0],z=D[1],G=[k+M,z+M],U=G[0],q=G[1],a=[k,q+M],o=a[0],i=a[1],l=[L,z+M],c=l[0],f=l[1],v=[L+M,R-y/4],g=v[0],m=v[1],_=[g,m+T],b=_[0],A=_[1],I=[b,A+T],O=I[0],F=I[1],B=[O,F+3*M/4],P=B[0],H=B[1];this.addShape(u,{type:"path",id:this.getElementId("title-description-icon"),name:"axis-title-description-icon",attrs:(0,E.pi)({path:[["M",k,z],["A",M,M,0,0,1,U,q],["A",M,M,0,0,1,o,i],["A",M,M,0,0,1,c,f],["A",M,M,0,0,1,k,z],["M",g,m],["L",b,A],["M",O,F],["L",P,H]],lineWidth:T,matrix:s},x)}),this.addShape(u,{type:"rect",id:this.getElementId("title-description-rect"),name:"axis-title-description-rect",attrs:{x:L,y:R-y/2,width:y,height:y,stroke:"#000",fill:"#000",opacity:0,matrix:s,cursor:"pointer"}})},r.prototype.applyTickStates=function(t,n){if(this.getItemStates(t).length){var u=this.get("tickStates"),h=this.getElementId("label-"+t.id),d=n.findById(h);if(d){var p=wn(t,"label",u);p&&d.attr(p)}var y=this.getElementId("tickline-"+t.id),x=n.findById(y);if(x){var w=wn(t,"tickLine",u);w&&x.attr(w)}}},r.prototype.updateTickStates=function(t){var n=this.getItemStates(t),s=this.get("tickStates"),u=this.get("label"),h=this.getElementByLocalId("label-"+t.id),d=this.get("tickLine"),p=this.getElementByLocalId("tickline-"+t.id);if(n.length){if(h){var y=wn(t,"label",s);y&&h.attr(y)}if(p){var x=wn(t,"tickLine",s);x&&p.attr(x)}}else h&&h.attr(u.style),p&&p.attr(d.style)},r}(hr);const ra=vE;function hg(e,r,t,n){var s=r.getChildren(),u=!1;return(0,S.S6)(s,function(h){var d=Pa(e,h,t,n);u=u||d}),u}function y2(){return m2}function En(e,r,t){return hg(e,r,t,"head")}function m2(e,r,t){return hg(e,r,t,"tail")}function yr(e,r,t){return hg(e,r,t,"middle")}function fg(e){var r=function pE(e){var r=e.attr("matrix");return r&&1!==r[0]}(e)?function c2(e){var t=[0,0,0];return Wd(t,[1,0,0],e),Math.atan2(t[1],t[0])}(e.attr("matrix")):0;return r%360}function Xd(e,r,t,n){var s=!1,u=fg(r),h=Math.abs(e?t.attr("y")-r.attr("y"):t.attr("x")-r.attr("x")),d=(e?t.attr("y")>r.attr("y"):t.attr("x")>r.attr("x"))?r.getBBox():t.getBBox();if(e){var p=Math.abs(Math.cos(u));s=Ba(p,0,Math.PI/180)?d.width+n>h:d.height/p+n>h}else p=Math.abs(Math.sin(u)),s=Ba(p,0,Math.PI/180)?d.width+n>h:d.height/p+n>h;return s}function pi(e,r,t,n){var s=n?.minGap||0,u=r.getChildren().slice().filter(function(L){return L.get("visible")});if(!u.length)return!1;var h=!1;t&&u.reverse();for(var d=u.length,y=u[0],x=1;x<d;x++){var w=u[x];w.getBBox(),Xd(e,y,w,s)?(w.hide(),h=!0):y=w}return h}function Eh(e,r,t){var n=t?.minGap||0,s=r.getChildren().slice();if(s.length<2)return!1;var u=!1,h=s[0],d=h.getBBox(),p=s[1],y=s.length,x=fg(h),w=Math.abs(e?p.attr("y")-h.attr("y"):p.attr("x")-h.attr("x")),M=0;if(e){var T=Math.abs(Math.cos(x));M=Ba(T,0,Math.PI/180)?(ti(s)+n)/w:(d.height/T+n)/w}else T=Math.abs(Math.sin(x)),M=Ba(T,0,Math.PI/180)?(ti(s)+n)/w:(d.height/T+n)/w;if(M>1){M=Math.ceil(M);for(var R=0;R<y;R++)R%M!=0&&(s[R].hide(),u=!0)}return u}function gE(){return C2}function yE(e,r,t,n){return pi(e,r,!1,n)}function mE(e,r,t,n){return pi(e,r,!0,n)}function x2(e,r,t,n){var s=n?.minGap||0,u=r.getChildren().slice();if(u.length<=2)return!1;for(var h=!1,d=u.length,y=u[d-1],x=u[0],w=1;w<d-1;w++){var M=u[w];M.getBBox(),Xd(e,x,M,s)?(M.hide(),h=!0):x=M}return Xd(e,x,y,s)&&(x.hide(),h=!0),h}function C2(e,r,t,n){var s=Eh(e,r,n);return pi(e,r,!1)&&(s=!0),s}function w2(e,r,t,n){var s=r.getChildren().slice(),u=Eh(e,r,n);if(s.length>2){var h=s[0],d=s[s.length-1];h.get("visible")||(h.show(),pi(e,r,!1,n)&&(u=!0)),d.get("visible")||(d.show(),pi(e,r,!0,n)&&(u=!0))}return u}function dg(e,r,t,n){var s=r.getChildren();if(!s.length||!e&&s.length<2)return!1;var u=ti(s),h=!1;return(h=e?!!t&&u>t:u>Math.abs(s[1].attr("x")-s[0].attr("x")))&&function on(e,r){(0,S.S6)(e,function(t){var u=qu({x:t.attr("x"),y:t.attr("y")},r);t.attr("matrix",u)})}(s,n(t,u)),h}function xE(){return _2}function _2(e,r,t,n){return dg(e,r,t,function(){return(0,S.hj)(n)?n:e?Fr.verticalAxisRotate:Fr.horizontalAxisRotate})}function CE(e,r,t){return dg(e,r,t,function(n,s){if(!n)return e?Fr.verticalAxisRotate:Fr.horizontalAxisRotate;if(e)return-Math.acos(n/s);var u=0;return(n>s||(u=Math.asin(n/s))>Math.PI/4)&&(u=Math.PI/4),u})}var wE=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{type:"line",locationType:"region",start:null,end:null})},r.prototype.getLinePath=function(){var t=this.get("start"),n=this.get("end"),s=[];return s.push(["M",t.x,t.y]),s.push(["L",n.x,n.y]),s},r.prototype.getInnerLayoutBBox=function(){var t=this.get("start"),n=this.get("end"),s=e.prototype.getInnerLayoutBBox.call(this),u=Math.min(t.x,n.x,s.x),h=Math.min(t.y,n.y,s.y),d=Math.max(t.x,n.x,s.maxX),p=Math.max(t.y,n.y,s.maxY);return{x:u,y:h,minX:u,minY:h,maxX:d,maxY:p,width:d-u,height:p-h}},r.prototype.isVertical=function(){var t=this.get("start"),n=this.get("end");return(0,S.vQ)(t.x,n.x)},r.prototype.isHorizontal=function(){var t=this.get("start"),n=this.get("end");return(0,S.vQ)(t.y,n.y)},r.prototype.getTickPoint=function(t){var s=this.get("start"),u=this.get("end");return{x:s.x+(u.x-s.x)*t,y:s.y+(u.y-s.y)*t}},r.prototype.getSideVector=function(t){var n=this.getAxisVector(),s=gr.Fv([0,0],n),u=this.get("verticalFactor");return gr.bA([0,0],[s[1],-1*s[0]],t*u)},r.prototype.getAxisVector=function(){var t=this.get("start"),n=this.get("end");return[n.x-t.x,n.y-t.y]},r.prototype.processOverlap=function(t){var n=this,s=this.isVertical(),u=this.isHorizontal();if(s||u){var h=this.get("label"),d=this.get("title"),p=this.get("verticalLimitLength"),y=h.offset,x=p,w=0,M=0;d&&(w=d.style.fontSize,M=d.spacing),x&&(x=x-y-M-w);var T=this.get("overlapOrder");if((0,S.S6)(T,function(D){h[D]&&n.canProcessOverlap(D)&&n.autoProcessOverlap(D,h[D],t,x)}),d&&(0,S.UM)(d.offset)){var L=t.getCanvasBBox();d.offset=y+(s?L.width:L.height)+M+w/2}}},r.prototype.canProcessOverlap=function(t){var n=this.get("label");return"autoRotate"!==t||(0,S.UM)(n.rotate)},r.prototype.autoProcessOverlap=function(t,n,s,u){var h=this,d=this.isVertical(),p=!1,y=qt[t];if(!0===n?(this.get("label"),p=y.getDefault()(d,s,u)):(0,S.mf)(n)?p=n(d,s,u):(0,S.Kn)(n)?y[n.type]&&(p=y[n.type](d,s,u,n.cfg)):y[n]&&(p=y[n](d,s,u)),"autoRotate"===t){if(p){var M=s.getChildren(),T=this.get("verticalFactor");(0,S.S6)(M,function(R){"center"===R.attr("textAlign")&&R.attr("textAlign",T>0?"end":"start")})}}else if("autoHide"===t){var L=s.getChildren().slice(0);(0,S.S6)(L,function(R){R.get("visible")||(h.get("isRegister")&&h.unregisterElement(R),R.remove())})}},r}(ra);const ma=wE;var S2=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{type:"circle",locationType:"circle",center:null,radius:null,startAngle:-Math.PI/2,endAngle:3*Math.PI/2})},r.prototype.getLinePath=function(){var t=this.get("center"),n=t.x,s=t.y,u=this.get("radius"),h=u,d=this.get("startAngle"),p=this.get("endAngle"),y=[];if(Math.abs(p-d)===2*Math.PI)y=[["M",n,s-h],["A",u,h,0,1,1,n,s+h],["A",u,h,0,1,1,n,s-h],["Z"]];else{var x=this.getCirclePoint(d),w=this.getCirclePoint(p),M=Math.abs(p-d)>Math.PI?1:0;y=[["M",n,s],["L",x.x,x.y],["A",u,h,0,M,d>p?0:1,w.x,w.y],["L",n,s]]}return y},r.prototype.getTickPoint=function(t){var n=this.get("startAngle"),s=this.get("endAngle");return this.getCirclePoint(n+(s-n)*t)},r.prototype.getSideVector=function(t,n){var s=this.get("center"),u=[n.x-s.x,n.y-s.y],h=this.get("verticalFactor"),d=gr.kE(u);return gr.bA(u,u,h*t/d),u},r.prototype.getAxisVector=function(t){var n=this.get("center"),s=[t.x-n.x,t.y-n.y];return[s[1],-1*s[0]]},r.prototype.getCirclePoint=function(t,n){var s=this.get("center");return n=n||this.get("radius"),{x:s.x+Math.cos(t)*n,y:s.y+Math.sin(t)*n}},r.prototype.canProcessOverlap=function(t){var n=this.get("label");return"autoRotate"!==t||(0,S.UM)(n.rotate)},r.prototype.processOverlap=function(t){var n=this,s=this.get("label"),u=this.get("title"),h=this.get("verticalLimitLength"),d=s.offset,p=h,y=0,x=0;u&&(y=u.style.fontSize,x=u.spacing),p&&(p=p-d-x-y);var w=this.get("overlapOrder");if((0,S.S6)(w,function(T){s[T]&&n.canProcessOverlap(T)&&n.autoProcessOverlap(T,s[T],t,p)}),u&&(0,S.UM)(u.offset)){var M=t.getCanvasBBox().height;u.offset=d+M+x+y/2}},r.prototype.autoProcessOverlap=function(t,n,s,u){var h=this,d=!1,p=qt[t];if(u>0&&(!0===n?d=p.getDefault()(!1,s,u):(0,S.mf)(n)?d=n(!1,s,u):(0,S.Kn)(n)?p[n.type]&&(d=p[n.type](!1,s,u,n.cfg)):p[n]&&(d=p[n](!1,s,u))),"autoRotate"===t){if(d){var x=s.getChildren(),w=this.get("verticalFactor");(0,S.S6)(x,function(T){"center"===T.attr("textAlign")&&T.attr("textAlign",w>0?"end":"start")})}}else if("autoHide"===t){var M=s.getChildren().slice(0);(0,S.S6)(M,function(T){T.get("visible")||(h.get("isRegister")&&h.unregisterElement(T),T.remove())})}},r}(ra);const _E=S2;var fs=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{name:"crosshair",type:"base",line:{},text:null,textBackground:{},capture:!1,defaultCfg:{line:{style:{lineWidth:1,stroke:Fr.lineColor}},text:{position:"start",offset:10,autoRotate:!1,content:null,style:{fill:Fr.textColor,textAlign:"center",textBaseline:"middle",fontFamily:Fr.fontFamily}},textBackground:{padding:5,style:{stroke:Fr.lineColor}}}})},r.prototype.renderInner=function(t){this.get("line")&&this.renderLine(t),this.get("text")&&(this.renderText(t),this.renderBackground(t))},r.prototype.renderText=function(t){var n=this.get("text"),s=n.style,u=n.autoRotate,h=n.content;if(!(0,S.UM)(h)){var d=this.getTextPoint(),p=null;u&&(p=qu(d,this.getRotateAngle())),this.addShape(t,{type:"text",name:"crosshair-text",id:this.getElementId("text"),attrs:(0,E.pi)((0,E.pi)((0,E.pi)({},d),{text:h,matrix:p}),s)})}},r.prototype.renderLine=function(t){var n=this.getLinePath(),u=this.get("line").style;this.addShape(t,{type:"path",name:"crosshair-line",id:this.getElementId("line"),attrs:(0,E.pi)({path:n},u)})},r.prototype.renderBackground=function(t){var n=this.getElementId("text"),s=t.findById(n),u=this.get("textBackground");if(u&&s){var h=s.getBBox(),d=ju(u.padding),p=u.style;this.addShape(t,{type:"rect",name:"crosshair-text-background",id:this.getElementId("text-background"),attrs:(0,E.pi)({x:h.x-d[3],y:h.y-d[0],width:h.width+d[1]+d[3],height:h.height+d[0]+d[2],matrix:s.attr("matrix")},p)}).toBack()}},r}(hr);const kr=fs;var SE=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{type:"line",locationType:"region",start:null,end:null})},r.prototype.getRotateAngle=function(){var t=this.getLocation(),n=t.start,s=t.end,u=this.get("text").position,h=Math.atan2(s.y-n.y,s.x-n.x);return"start"===u?h-Math.PI/2:h+Math.PI/2},r.prototype.getTextPoint=function(){var t=this.getLocation(),n=t.start,s=t.end,u=this.get("text");return We(n,s,u.position,u.offset)},r.prototype.getLinePath=function(){var t=this.getLocation(),n=t.start,s=t.end;return[["M",n.x,n.y],["L",s.x,s.y]]},r}(kr);const M2=SE;var Ii=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{type:"circle",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:3*Math.PI/2})},r.prototype.getRotateAngle=function(){var t=this.getLocation(),n=t.startAngle,s=t.endAngle;return"start"===this.get("text").position?n+Math.PI/2:s-Math.PI/2},r.prototype.getTextPoint=function(){var t=this.get("text"),n=t.position,s=t.offset,u=this.getLocation(),h=u.center,d=u.radius,x="start"===n?u.startAngle:u.endAngle,w=this.getRotateAngle()-Math.PI,M=ql(h,d,x),T=Math.cos(w)*s,L=Math.sin(w)*s;return{x:M.x+T,y:M.y+L}},r.prototype.getLinePath=function(){var t=this.getLocation(),n=t.center,s=t.radius,u=t.startAngle,h=t.endAngle,d=null;if(h-u==2*Math.PI){var p=n.x,y=n.y;d=[["M",p,y-s],["A",s,s,0,1,1,p,y+s],["A",s,s,0,1,1,p,y-s],["Z"]]}else{var x=ql(n,s,u),w=ql(n,s,h),M=Math.abs(h-u)>Math.PI?1:0;d=[["M",x.x,x.y],["A",s,s,0,M,u>h?0:1,w.x,w.y]]}return d},r}(kr);const ME=Ii;var Dn,Lh="g2-crosshair",vg=Lh+"-line",pg=Lh+"-text";const bE=((Dn={})[""+Lh]={position:"relative"},Dn[""+vg]={position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.25)"},Dn[""+pg]={position:"absolute",color:Fr.textColor,fontFamily:Fr.fontFamily},Dn);var $d=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{name:"crosshair",type:"html",locationType:"region",start:{x:0,y:0},end:{x:0,y:0},capture:!1,text:null,containerTpl:'<div class="'+Lh+'"></div>',crosshairTpl:'<div class="'+vg+'"></div>',textTpl:'<span class="'+pg+'">{content}</span>',domStyles:null,containerClassName:Lh,defaultStyles:bE,defaultCfg:{text:{position:"start",content:null,align:"center",offset:10}}})},r.prototype.render=function(){this.resetText(),this.resetPosition()},r.prototype.initCrossHair=function(){var t=this.getContainer(),s=Vs(this.get("crosshairTpl"));t.appendChild(s),this.applyStyle(vg,s),this.set("crosshairEl",s)},r.prototype.getTextPoint=function(){var t=this.getLocation(),n=t.start,s=t.end,u=this.get("text");return We(n,s,u.position,u.offset)},r.prototype.resetText=function(){var t=this.get("text"),n=this.get("textEl");if(t){var s=t.content;if(!n){var u=this.getContainer();n=Vs((0,S.ng)(this.get("textTpl"),t)),u.appendChild(n),this.applyStyle(pg,n),this.set("textEl",n)}n.innerHTML=s}else n&&n.remove()},r.prototype.isVertical=function(t,n){return t.x===n.x},r.prototype.resetPosition=function(){var t=this.get("crosshairEl");t||(this.initCrossHair(),t=this.get("crosshairEl"));var n=this.get("start"),s=this.get("end"),u=Math.min(n.x,s.x),h=Math.min(n.y,s.y);this.isVertical(n,s)?Mi(t,{width:"1px",height:Qe(Math.abs(s.y-n.y))}):Mi(t,{height:"1px",width:Qe(Math.abs(s.x-n.x))}),Mi(t,{top:Qe(h),left:Qe(u)}),this.alignText()},r.prototype.alignText=function(){var t=this.get("textEl");if(t){var n=this.get("text").align,s=t.clientWidth,u=this.getTextPoint();switch(n){case"center":u.x=u.x-s/2;break;case"right":u.x=u.x-s}Mi(t,{top:Qe(u.y),left:Qe(u.x)})}},r.prototype.updateInner=function(t){(0,S.wH)(t,"text")&&this.resetText(),e.prototype.updateInner.call(this,t)},r}(cg);const b2=$d;var TE=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{name:"grid",line:{},alternateColor:null,capture:!1,items:[],closed:!1,defaultCfg:{line:{type:"line",style:{lineWidth:1,stroke:Fr.lineColor}}}})},r.prototype.getLineType=function(){return(this.get("line")||this.get("defaultCfg").line).type},r.prototype.renderInner=function(t){this.drawGrid(t)},r.prototype.getAlternatePath=function(t,n){var s=this.getGridPath(t),u=n.slice(0).reverse(),h=this.getGridPath(u,!0);return this.get("closed")?s=s.concat(h):(h[0][0]="L",(s=s.concat(h)).push(["Z"])),s},r.prototype.getPathStyle=function(){return this.get("line").style},r.prototype.drawGrid=function(t){var n=this,s=this.get("line"),u=this.get("items"),h=this.get("alternateColor"),d=null;(0,S.S6)(u,function(p,y){var x=p.id||y;if(s){var w=n.getPathStyle();w=(0,S.mf)(w)?w(p,y,u):w;var M=n.getElementId("line-"+x),T=n.getGridPath(p.points);n.addShape(t,{type:"path",name:"grid-line",id:M,attrs:(0,S.CD)({path:T},w)})}if(h&&y>0){var L=n.getElementId("region-"+x),R=y%2==0;(0,S.HD)(h)?R&&n.drawAlternateRegion(L,t,d.points,p.points,h):n.drawAlternateRegion(L,t,d.points,p.points,R?h[1]:h[0])}d=p})},r.prototype.drawAlternateRegion=function(t,n,s,u,h){var d=this.getAlternatePath(s,u);this.addShape(n,{type:"path",id:t,name:"grid-region",attrs:{path:d,fill:h}})},r}(hr);const T2=TE;var jl=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{type:"circle",center:null,closed:!0})},r.prototype.getGridPath=function(t,n){var s=this.getLineType(),u=this.get("closed"),h=[];if(t.length)if("circle"===s){var d=this.get("center"),p=t[0],y=function AE(e,r,t,n){var s=t-e,u=n-r;return Math.sqrt(s*s+u*u)}(d.x,d.y,p.x,p.y),x=n?0:1;u?(h.push(["M",d.x,d.y-y]),h.push(["A",y,y,0,0,x,d.x,d.y+y]),h.push(["A",y,y,0,0,x,d.x,d.y-y]),h.push(["Z"])):(0,S.S6)(t,function(w,M){h.push(0===M?["M",w.x,w.y]:["A",y,y,0,0,x,w.x,w.y])})}else(0,S.S6)(t,function(w,M){h.push(0===M?["M",w.x,w.y]:["L",w.x,w.y])}),u&&h.push(["Z"]);return h},r}(T2);const EE=jl;var LE=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{type:"line"})},r.prototype.getGridPath=function(t){var n=[];return(0,S.S6)(t,function(s,u){n.push(0===u?["M",s.x,s.y]:["L",s.x,s.y])}),n},r}(T2);const IE=LE;var OE=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{name:"legend",layout:"horizontal",locationType:"point",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},r.prototype.getLayoutBBox=function(){var t=e.prototype.getLayoutBBox.call(this),n=this.get("maxWidth"),s=this.get("maxHeight"),u=t.width,h=t.height;return n&&(u=Math.min(u,n)),s&&(h=Math.min(h,s)),Ks(t.minX,t.minY,u,h)},r.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetLocation()},r.prototype.resetLocation=function(){var t=this.get("x"),n=this.get("y"),s=this.get("offsetX"),u=this.get("offsetY");this.moveElementTo(this.get("group"),{x:t+s,y:n+u})},r.prototype.applyOffset=function(){this.resetLocation()},r.prototype.getDrawPoint=function(){return this.get("currentPoint")},r.prototype.setDrawPoint=function(t){return this.set("currentPoint",t)},r.prototype.renderInner=function(t){this.resetDraw(),this.get("title")&&this.drawTitle(t),this.drawLegendContent(t),this.get("background")&&this.drawBackground(t)},r.prototype.drawBackground=function(t){var n=this.get("background"),s=t.getBBox(),u=ju(n.padding),h=(0,E.pi)({x:0,y:0,width:s.width+u[1]+u[3],height:s.height+u[0]+u[2]},n.style);this.addShape(t,{type:"rect",id:this.getElementId("background"),name:"legend-background",attrs:h}).toBack()},r.prototype.drawTitle=function(t){var n=this.get("currentPoint"),s=this.get("title"),u=s.spacing,h=s.style,d=s.text,y=this.addShape(t,{type:"text",id:this.getElementId("title"),name:"legend-title",attrs:(0,E.pi)({text:d,x:n.x,y:n.y},h)}).getBBox();this.set("currentPoint",{x:n.x,y:y.maxY+u})},r.prototype.resetDraw=function(){var t=this.get("background"),n={x:0,y:0};if(t){var s=ju(t.padding);n.x=s[3],n.y=s[0]}this.set("currentPoint",n)},r}(hr);const A2=OE;var gg={marker:{style:{inactiveFill:"#000",inactiveOpacity:.45,fill:"#000",opacity:1,size:12}},text:{style:{fill:"#ccc",fontSize:12}}},Zd={fill:Fr.textColor,fontSize:12,textAlign:"start",textBaseline:"middle",fontFamily:Fr.fontFamily,fontWeight:"normal",lineHeight:12},qd="navigation-arrow-right",yg="navigation-arrow-left",Qs={right:90*Math.PI/180,left:270*Math.PI/180,up:0,down:180*Math.PI/180},RE=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.currentPageIndex=1,t.totalPagesCnt=1,t.pageWidth=0,t.pageHeight=0,t.startX=0,t.startY=0,t.onNavigationBack=function(){var n=t.getElementByLocalId("item-group");if(t.currentPageIndex>1){t.currentPageIndex-=1,t.updateNavigation();var s=t.getCurrentNavigationMatrix();t.get("animate")?n.animate({matrix:s},100):n.attr({matrix:s})}},t.onNavigationAfter=function(){var n=t.getElementByLocalId("item-group");if(t.currentPageIndex<t.totalPagesCnt){t.currentPageIndex+=1,t.updateNavigation();var s=t.getCurrentNavigationMatrix();t.get("animate")?n.animate({matrix:s},100):n.attr({matrix:s})}},t}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{name:"legend",type:"category",itemSpacing:24,itemMarginBottom:8,maxItemWidth:null,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},radio:null,items:[],itemStates:{},itemBackground:{},pageNavigator:{},defaultCfg:{title:{spacing:5,style:{fill:Fr.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}},background:{padding:5,style:{stroke:Fr.lineColor}},itemBackground:{style:{opacity:0,fill:"#fff"}},pageNavigator:gg,itemName:{spacing:16,style:Zd},marker:{spacing:8,style:{r:6,symbol:"circle"}},itemValue:{alignRight:!1,formatter:null,style:Zd,spacing:6},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:Fr.uncheckedColor},markerStyle:{fill:Fr.uncheckedColor,stroke:Fr.uncheckedColor}},inactive:{nameStyle:{fill:Fr.uncheckedColor},markerStyle:{opacity:.2}}}}})},r.prototype.isList=function(){return!0},r.prototype.getItems=function(){return this.get("items")},r.prototype.setItems=function(t){this.update({items:t})},r.prototype.updateItem=function(t,n){(0,S.CD)(t,n),this.clear(),this.render()},r.prototype.clearItems=function(){var t=this.getElementByLocalId("item-group");t&&t.clear()},r.prototype.setItemState=function(t,n,s){t[n]=s;var u=this.getElementByLocalId("item-"+t.id);if(u){var d=this.getItems().indexOf(t),p=this.createOffScreenGroup(),y=this.drawItem(t,d,this.getItemHeight(),p);this.updateElements(y,u),this.clearUpdateStatus(u)}},r.prototype.hasState=function(t,n){return!!t[n]},r.prototype.getItemStates=function(t){var n=this.get("itemStates"),s=[];return(0,S.S6)(n,function(u,h){t[h]&&s.push(h)}),s},r.prototype.clearItemsState=function(t){var n=this,s=this.getItemsByState(t);(0,S.S6)(s,function(u){n.setItemState(u,t,!1)})},r.prototype.getItemsByState=function(t){var n=this,s=this.getItems();return(0,S.hX)(s,function(u){return n.hasState(u,t)})},r.prototype.drawLegendContent=function(t){this.processItems(),this.drawItems(t)},r.prototype.processItems=function(){var t=this.get("items");(0,S.S6)(t,function(n){n.id||(n.id=n.name)})},r.prototype.drawItems=function(t){var n=this,s=this.addGroup(t,{id:this.getElementId("item-container-group"),name:"legend-item-container-group"}),u=this.addGroup(s,{id:this.getElementId("item-group"),name:"legend-item-group"}),h=this.getItemHeight(),d=this.get("itemWidth"),p=this.get("itemSpacing"),y=this.get("itemMarginBottom"),x=this.get("currentPoint"),w=x.x,M=x.y,T=this.get("layout"),L=this.get("items"),R=!1,D=0,k=this.get("maxWidth"),z=this.get("maxHeight");(0,S.S6)(L,function(G,U){var q=n.drawItem(G,U,h,u),a=q.getBBox(),o=d||a.width;o>D&&(D=o),"horizontal"===T?(k&&k<x.x+o-w&&(R=!0,x.x=w,x.y+=h+y),n.moveElementTo(q,x),x.x+=o+p):(z&&z<x.y+h+y-M&&(R=!0,x.x+=D+p,x.y=M,D=0),n.moveElementTo(q,x),x.y+=h+y)}),R&&this.get("flipPage")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=w,this.startY=M,this.adjustNavigation(t,u))},r.prototype.getItemHeight=function(){var t=this.get("itemHeight");if(!t){var n=(this.get("itemName")||{}).style;if((0,S.mf)(n)){var s=this.getItems();s.forEach(function(u,h){var d=(0,E.pi)((0,E.pi)({},Zd),n(u,h,s)).fontSize;t<d&&(t=d)})}else n&&(t=n.fontSize)}return t},r.prototype.drawMarker=function(t,n,s,u){var h=(0,E.pi)((0,E.pi)((0,E.pi)({x:0,y:u/2},n.style),{symbol:(0,S.U2)(s.marker,"symbol","circle")}),(0,S.U2)(s.marker,"style",{})),d=this.addShape(t,{type:"marker",id:this.getElementId("item-"+s.id+"-marker"),name:"legend-item-marker",attrs:h}),p=d.getBBox();d.attr("x",p.width/2);var y=d.attr(),w=y.fill;return y.stroke&&d.set("isStroke",!0),w&&d.set("isFill",!0),d},r.prototype.drawItemText=function(t,n,s,u,h,d,p){var y=s.formatter,x=s.style,w=(0,E.pi)((0,E.pi)({x:d,y:h/2,text:y?y(u[n],u,p):u[n]},Zd),(0,S.mf)(x)?x(u,p,this.getItems()):x);return this.addShape(t,{type:"text",id:this.getElementId("item-"+u.id+"-"+n),name:"legend-item-"+n,attrs:w})},r.prototype.drawRadio=function(t,n,s,u,h){var d,p,y=n.style||{},x=null!==(d=y.r)&&void 0!==d?d:u/2,w=3.6*x/8,M=[h+x,u/2-x],T=M[0],L=M[1],R=[T+x,L+x],D=R[0],k=R[1],z=[T,k+x],G=z[0],U=z[1],q=[h,L+x],a=q[0],o=q[1],i=s.showRadio,l=(0,E.pi)((0,E.pi)({path:[["M",T,L],["A",x,x,0,0,1,D,k],["L",D-w,k],["L",D,k],["A",x,x,0,0,1,G,U],["L",G,U-w],["L",G,U],["A",x,x,0,0,1,a,o],["L",a+w,o],["L",a,o],["A",x,x,0,0,1,T,L],["L",T,L+w]],stroke:"#000000",fill:"#ffffff"},y),{opacity:i?null!==(p=y?.opacity)&&void 0!==p?p:.45:0}),c=this.addShape(t,{type:"path",id:this.getElementId("item-"+s.id+"-radio"),name:"legend-item-radio",attrs:l});return c.set("tip",n.tip),c},r.prototype.drawItem=function(t,n,s,u){var h="item-"+t.id,d=this.addGroup(u,{name:"legend-item-container",id:this.getElementId("item-container-"+h),delegateObject:{item:t,index:n}}),p=this.addGroup(d,{name:"legend-item",id:this.getElementId(h),delegateObject:{item:t,index:n}}),y=this.get("marker"),x=this.get("itemName"),w=this.get("itemValue"),M=this.get("itemBackground"),T=this.get("radio"),L=this.getLimitItemWidth(),R=0;if(y){var D=this.drawMarker(p,y,t,s),k=y.spacing,z=(0,S.U2)(t,["marker","spacing"]);(0,S.hj)(z)&&(k=z),R=D.getBBox().maxX+k}if(x){var G=this.drawItemText(p,"name",x,t,s,R,n);L&&Pa(!0,G,(0,S.uZ)(L-R,0,L)),R=G.getBBox().maxX+x.spacing}if(w){var U=this.drawItemText(p,"value",w,t,s,R,n);L&&(w.alignRight?(U.attr({textAlign:"right",x:L}),Pa(!0,U,(0,S.uZ)(L-R,0,L),"head")):Pa(!0,U,(0,S.uZ)(L-R,0,L))),R=U.getBBox().maxX+w.spacing}if(T&&this.drawRadio(p,T,t,s,R),M){var q=p.getBBox();this.addShape(p,{type:"rect",name:"legend-item-background",id:this.getElementId(h+"-background"),attrs:(0,E.pi)({x:0,y:0,width:q.width,height:s},M.style)}).toBack()}return this.applyItemStates(t,p),p},r.prototype.adjustNavigation=function(t,n){var s=this,u=this.startX,h=this.startY,d=this.get("layout"),p=n.findAll(function(v){return"legend-item"===v.get("name")}),y=this.get("maxWidth"),x=this.get("maxHeight"),w=this.get("itemWidth"),M=this.get("itemSpacing"),T=this.getItemHeight(),L=(0,S.b$)({},gg,this.get("pageNavigator")),R=this.drawNavigation(t,d,"00/00",L),D=R.getBBox(),k={x:u,y:h},z=1,G=0,U=0,q=0,a=this.get("itemMarginBottom");if("horizontal"===d){var i=this.get("maxRow")||1,l=T+(1===i?0:a),c=y-M-D.width-D.minX;this.pageHeight=l*i,this.pageWidth=c,(0,S.S6)(p,function(v){var g=v.getBBox(),m=w||g.width;(G&&G<k.x+m+M||function o(v,g){var m=v.getBBox();return g.x+(w||m.width)+M+D.width>y}(v,k))&&(1===z&&(G=k.x+M,s.moveElementTo(R,{x:c,y:k.y+T/2-D.height/2-D.minY})),z+=1,k.x=u,k.y+=l),s.moveElementTo(v,k),v.getParent().setClip({type:"rect",attrs:{x:k.x,y:k.y,width:m+M,height:T}}),k.x+=m+M})}else{(0,S.S6)(p,function(v){var g=v.getBBox();g.width>U&&(U=g.width)}),q=U,U+=M,y&&(U=Math.min(y,U),q=Math.min(y,q)),this.pageWidth=U,this.pageHeight=x-Math.max(D.height,T+a);var f=Math.floor(this.pageHeight/(T+a));(0,S.S6)(p,function(v,g){0!==g&&g%f==0&&(z+=1,k.x+=U,k.y=h),s.moveElementTo(v,k),v.getParent().setClip({type:"rect",attrs:{x:k.x,y:k.y,width:U,height:T}}),k.y+=T+a}),this.totalPagesCnt=z,this.moveElementTo(R,{x:u+q/2-D.width/2-D.minX,y:x-D.height-D.minY})}this.pageHeight&&this.pageWidth&&n.getParent().setClip({type:"rect",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),this.totalPagesCnt="horizontal"===d&&this.get("maxRow")?Math.ceil(z/this.get("maxRow")):z,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(R),n.attr("matrix",this.getCurrentNavigationMatrix())},r.prototype.drawNavigation=function(t,n,s,u){var h={x:0,y:0},d=this.addGroup(t,{id:this.getElementId("navigation-group"),name:"legend-navigation"}),p=(0,S.U2)(u.marker,"style",{}),y=p.size,x=void 0===y?12:y,w=(0,E._T)(p,["size"]),M=this.drawArrow(d,h,yg,"horizontal"===n?"up":"left",x,w);M.on("click",this.onNavigationBack);var T=M.getBBox();h.x+=T.width+2;var R=this.addShape(d,{type:"text",id:this.getElementId("navigation-text"),name:"navigation-text",attrs:(0,E.pi)({x:h.x,y:h.y+x/2,text:s,textBaseline:"middle"},(0,S.U2)(u.text,"style"))}).getBBox();return h.x+=R.width+2,this.drawArrow(d,h,qd,"horizontal"===n?"down":"right",x,w).on("click",this.onNavigationAfter),d},r.prototype.updateNavigation=function(t){var s=(0,S.b$)({},gg,this.get("pageNavigator")).marker.style,u=s.fill,h=s.opacity,d=s.inactiveFill,p=s.inactiveOpacity,y=this.currentPageIndex+"/"+this.totalPagesCnt,x=t?t.getChildren()[1]:this.getElementByLocalId("navigation-text"),w=t?t.findById(this.getElementId(yg)):this.getElementByLocalId(yg),M=t?t.findById(this.getElementId(qd)):this.getElementByLocalId(qd);x.attr("text",y),w.attr("opacity",1===this.currentPageIndex?p:h),w.attr("fill",1===this.currentPageIndex?d:u),w.attr("cursor",1===this.currentPageIndex?"not-allowed":"pointer"),M.attr("opacity",this.currentPageIndex===this.totalPagesCnt?p:h),M.attr("fill",this.currentPageIndex===this.totalPagesCnt?d:u),M.attr("cursor",this.currentPageIndex===this.totalPagesCnt?"not-allowed":"pointer");var T=w.getBBox().maxX+2;x.attr("x",T),T+=x.getBBox().width+2,this.updateArrowPath(M,{x:T,y:0})},r.prototype.drawArrow=function(t,n,s,u,h,d){var p=n.x,y=n.y,x=this.addShape(t,{type:"path",id:this.getElementId(s),name:s,attrs:(0,E.pi)({size:h,direction:u,path:[["M",p+h/2,y],["L",p,y+h],["L",p+h,y+h],["Z"]],cursor:"pointer"},d)});return x.attr("matrix",qu({x:p+h/2,y:y+h/2},Qs[u])),x},r.prototype.updateArrowPath=function(t,n){var s=n.x,u=n.y,h=t.attr(),d=h.size,y=qu({x:s+d/2,y:u+d/2},Qs[h.direction]);t.attr("path",[["M",s+d/2,u],["L",s,u+d],["L",s+d,u+d],["Z"]]),t.attr("matrix",y)},r.prototype.getCurrentNavigationMatrix=function(){var t=this,n=t.currentPageIndex,s=t.pageWidth,u=t.pageHeight;return Ud("horizontal"===this.get("layout")?{x:0,y:u*(1-n)}:{x:s*(1-n),y:0})},r.prototype.applyItemStates=function(t,n){if(this.getItemStates(t).length>0){var h=n.getChildren(),d=this.get("itemStates");(0,S.S6)(h,function(p){var x=p.get("name").split("-")[2],w=wn(t,x,d);w&&(p.attr(w),"marker"===x&&(!p.get("isStroke")||!p.get("isFill"))&&(p.get("isStroke")&&p.attr("fill",null),p.get("isFill")&&p.attr("stroke",null)))})}},r.prototype.getLimitItemWidth=function(){var t=this.get("itemWidth"),n=this.get("maxItemWidth");return n?t&&(n=t<=n?t:n):t&&(n=t),n},r}(A2);const Ih=RE;var DE=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{type:"continue",min:0,max:100,value:null,colors:[],track:{},rail:{},label:{},handler:{},slidable:!0,tip:null,step:null,maxWidth:null,maxHeight:null,defaultCfg:{label:{align:"rail",spacing:5,formatter:null,style:{fontSize:12,fill:Fr.textColor,textBaseline:"middle",fontFamily:Fr.fontFamily}},handler:{size:10,style:{fill:"#fff",stroke:"#333"}},track:{},rail:{type:"color",size:20,defaultLength:100,style:{fill:"#DCDEE2"}},title:{spacing:5,style:{fill:Fr.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}}}})},r.prototype.isSlider=function(){return!0},r.prototype.getValue=function(){return this.getCurrentValue()},r.prototype.getRange=function(){return{min:this.get("min"),max:this.get("max")}},r.prototype.setRange=function(t,n){this.update({min:t,max:n})},r.prototype.setValue=function(t){var n=this.getValue();this.set("value",t);var s=this.get("group");this.resetTrackClip(),this.get("slidable")&&this.resetHandlers(s),this.delegateEmit("valuechanged",{originValue:n,value:t})},r.prototype.initEvent=function(){var t=this.get("group");this.bindSliderEvent(t),this.bindRailEvent(t),this.bindTrackEvent(t)},r.prototype.drawLegendContent=function(t){this.drawRail(t),this.drawLabels(t),this.fixedElements(t),this.resetTrack(t),this.resetTrackClip(t),this.get("slidable")&&this.resetHandlers(t)},r.prototype.bindSliderEvent=function(t){this.bindHandlersEvent(t)},r.prototype.bindHandlersEvent=function(t){var n=this;t.on("legend-handler-min:drag",function(s){var u=n.getValueByCanvasPoint(s.x,s.y),d=n.getCurrentValue()[1];d<u&&(d=u),n.setValue([u,d])}),t.on("legend-handler-max:drag",function(s){var u=n.getValueByCanvasPoint(s.x,s.y),d=n.getCurrentValue()[0];d>u&&(d=u),n.setValue([d,u])})},r.prototype.bindRailEvent=function(t){},r.prototype.bindTrackEvent=function(t){var n=this,s=null;t.on("legend-track:dragstart",function(u){s={x:u.x,y:u.y}}),t.on("legend-track:drag",function(u){if(s){var h=n.getValueByCanvasPoint(s.x,s.y),d=n.getValueByCanvasPoint(u.x,u.y),p=n.getCurrentValue(),y=p[1]-p[0],x=n.getRange(),w=d-h;w<0?n.setValue(p[0]+w>x.min?[p[0]+w,p[1]+w]:[x.min,x.min+y]):w>0&&n.setValue(w>0&&p[1]+w<x.max?[p[0]+w,p[1]+w]:[x.max-y,x.max]),s={x:u.x,y:u.y}}}),t.on("legend-track:dragend",function(u){s=null})},r.prototype.drawLabels=function(t){this.drawLabel("min",t),this.drawLabel("max",t)},r.prototype.drawLabel=function(t,n){var s=this.get("label"),u=s.style,h=s.align,d=s.formatter,p=this.get(t),y=this.getLabelAlignAttrs(t,h);this.addShape(n,{type:"text",id:this.getElementId("label-"+t),name:"legend-label-"+t,attrs:(0,E.pi)((0,E.pi)({x:0,y:0,text:(0,S.mf)(d)?d(p):p},u),y)})},r.prototype.getLabelAlignAttrs=function(t,n){var u="center",h="middle";return this.isVertical()?(u="start",h="rail"!==n?"min"===t?"top":"bottom":"top"):"rail"!==n?(h="top",u="min"===t?"start":"end"):(u="start",h="middle"),{textAlign:u,textBaseline:h}},r.prototype.getRailPath=function(t,n,s,u){var h=this.get("rail"),d=h.size,p=h.defaultLength,y=h.type,x=this.isVertical(),M=s,T=u;M||(M=x?d:p),T||(T=x?p:d);var L=[];return"color"===y?(L.push(["M",t,n]),L.push(["L",t+M,n]),L.push(["L",t+M,n+T]),L.push(["L",t,n+T]),L.push(["Z"])):(L.push(["M",t+M,n]),L.push(["L",t+M,n+T]),L.push(["L",t,n+T]),L.push(["Z"])),L},r.prototype.drawRail=function(t){var s=this.get("rail").style;this.addShape(t,{type:"path",id:this.getElementId("rail"),name:"legend-rail",attrs:(0,E.pi)({path:this.getRailPath(0,0)},s)})},r.prototype.getTrackColor=function(t){var s,n=t.length;if(!n)return null;if(1===n)return t[0];s=this.isVertical()?"l(90)":"l(0)";for(var u=0;u<n;u++)s+=" "+u/(n-1)+":"+t[u];return s},r.prototype.getTrackPath=function(t){var s=this.getRailShape(t).attr("path");return(0,S.d9)(s)},r.prototype.getClipTrackAttrs=function(t){var x,w,M,T,n=this.getCurrentValue(),s=n[0],u=n[1],h=this.getRailBBox(t),d=this.getPointByValue(s,t),p=this.getPointByValue(u,t);return this.isVertical()?(x=h.minX,w=d.y,M=h.width,T=p.y-d.y):(x=d.x,w=h.minY,M=p.x-d.x,T=h.height),{x,y:w,width:M,height:T}},r.prototype.getTrackAttrs=function(t){var n=this.get("track"),s=this.get("colors"),u=this.getTrackPath(t);return(0,S.CD)({path:u,fill:this.getTrackColor(s)},n.style)},r.prototype.resetTrackClip=function(t){var n=t||this.get("group"),s=this.getElementId("track"),u=n.findById(s),h=u.getClip(),d=this.getClipTrackAttrs(t);h?h.attr(d):u.setClip({type:"rect",attrs:d})},r.prototype.resetTrack=function(t){var n=this.getElementId("track"),s=t.findById(n),u=this.getTrackAttrs(t);s?s.attr(u):this.addShape(t,{type:"path",id:n,draggable:this.get("slidable"),name:"legend-track",attrs:u})},r.prototype.getPointByValue=function(t,n){var s=this.getRange(),u=s.min,d=(t-u)/(s.max-u),p=this.getRailBBox(n),x={x:0,y:0};return this.isVertical()?(x.x=p.minX+p.width/2,x.y=cs(p.minY,p.maxY,d)):(x.x=cs(p.minX,p.maxX,d),x.y=p.minY+p.height/2),x},r.prototype.getRailShape=function(t){return(t||this.get("group")).findById(this.getElementId("rail"))},r.prototype.getRailBBox=function(t){return this.getRailShape(t).getBBox()},r.prototype.getRailCanvasBBox=function(){return this.get("group").findById(this.getElementId("rail")).getCanvasBBox()},r.prototype.isVertical=function(){return"vertical"===this.get("layout")},r.prototype.getValueByCanvasPoint=function(t,n){var s=this.getRange(),u=s.min,h=s.max,d=this.getRailCanvasBBox(),p=this.isVertical(),y=this.get("step"),w=cs(u,h,p?(n-d.minY)/d.height:(t-d.minX)/d.width);return y&&(w=u+Math.round((w-u)/y)*y),w>h&&(w=h),w<u&&(w=u),w},r.prototype.getCurrentValue=function(){var t=this.get("value");if(!t){var n=this.get("values");return n?[Math.max(Math.min.apply(Math,(0,E.pr)(n,[this.get("max")])),this.get("min")),Math.min(Math.max.apply(Math,(0,E.pr)(n,[this.get("min")])),this.get("max"))]:[this.get("min"),this.get("max")]}return t},r.prototype.resetHandlers=function(t){var n=this.getCurrentValue(),u=n[1];this.resetHandler(t,"min",n[0]),this.resetHandler(t,"max",u)},r.prototype.getHandlerPath=function(t,n){var s=this.isVertical(),u=[],h=t.size,d=n.x,p=n.y,y=1.4*h,x=h/2,w=h/6;if(s){var M=d+.4*y;u.push(["M",d,p]),u.push(["L",M,p+x]),u.push(["L",d+y,p+x]),u.push(["L",d+y,p-x]),u.push(["L",M,p-x]),u.push(["Z"]),u.push(["M",M,p+w]),u.push(["L",d+y-2,p+w]),u.push(["M",M,p-w]),u.push(["L",d+y-2,p-w])}else{var T=p+.4*y;u.push(["M",d,p]),u.push(["L",d-x,T]),u.push(["L",d-x,p+y]),u.push(["L",d+x,p+y]),u.push(["L",d+x,T]),u.push(["Z"]),u.push(["M",d-w,T]),u.push(["L",d-w,p+y-2]),u.push(["M",d+w,T]),u.push(["L",d+w,p+y-2])}return u},r.prototype.resetHandler=function(t,n,s){var u=this.getPointByValue(s,t),h=this.get("handler"),d=this.getHandlerPath(h,u),p=this.getElementId("handler-"+n),y=t.findById(p),x=this.isVertical();y?y.attr("path",d):this.addShape(t,{type:"path",name:"legend-handler-"+n,draggable:!0,id:p,attrs:(0,E.pi)((0,E.pi)({path:d},h.style),{cursor:x?"ns-resize":"ew-resize"})})},r.prototype.fixedElements=function(t){var n=t.findById(this.getElementId("rail")),s=t.findById(this.getElementId("label-min")),u=t.findById(this.getElementId("label-max")),h=this.getDrawPoint();this.isVertical()?this.fixedVertail(s,u,n,h):this.fixedHorizontal(s,u,n,h)},r.prototype.fitRailLength=function(t,n,s,u){var d=this.isVertical()?"height":"width",p=this.get("label"),y=p.align,x=p.spacing,w=this.get("max"+(0,S.jC)(d));if(w){var T=("rail"===y?s[d]+t[d]+n[d]+2*x:s[d])-w;T>0&&this.changeRailLength(u,d,s[d]-T)}},r.prototype.changeRailLength=function(t,n,s){var h,u=t.getBBox();h="height"===n?this.getRailPath(u.x,u.y,u.width,s):this.getRailPath(u.x,u.y,s,u.height),t.attr("path",h)},r.prototype.changeRailPosition=function(t,n,s){var u=t.getBBox(),h=this.getRailPath(n,s,u.width,u.height);t.attr("path",h)},r.prototype.fixedHorizontal=function(t,n,s,u){var h=this.get("label"),d=h.align,p=h.spacing,y=s.getBBox(),x=t.getBBox(),w=n.getBBox(),M=y.height;this.fitRailLength(x,w,y,s),y=s.getBBox(),"rail"===d?(t.attr({x:u.x,y:u.y+M/2}),this.changeRailPosition(s,u.x+x.width+p,u.y),n.attr({x:u.x+x.width+y.width+2*p,y:u.y+M/2})):"top"===d?(t.attr({x:u.x,y:u.y}),n.attr({x:u.x+y.width,y:u.y}),this.changeRailPosition(s,u.x,u.y+x.height+p)):(this.changeRailPosition(s,u.x,u.y),t.attr({x:u.x,y:u.y+y.height+p}),n.attr({x:u.x+y.width,y:u.y+y.height+p}))},r.prototype.fixedVertail=function(t,n,s,u){var h=this.get("label"),d=h.align,p=h.spacing,y=s.getBBox(),x=t.getBBox(),w=n.getBBox();if(this.fitRailLength(x,w,y,s),y=s.getBBox(),"rail"===d)t.attr({x:u.x,y:u.y}),this.changeRailPosition(s,u.x,u.y+x.height+p),n.attr({x:u.x,y:u.y+x.height+y.height+2*p});else if("right"===d)t.attr({x:u.x+y.width+p,y:u.y}),this.changeRailPosition(s,u.x,u.y),n.attr({x:u.x+y.width+p,y:u.y+y.height});else{var M=Math.max(x.width,w.width);t.attr({x:u.x,y:u.y}),this.changeRailPosition(s,u.x+M+p,u.y),n.attr({x:u.x,y:u.y+y.height})}},r}(A2);const E2=DE;var bo,So="g2-tooltip",ds="g2-tooltip-title",Mo="g2-tooltip-list",tl="g2-tooltip-list-item",jd="g2-tooltip-marker",Jd="g2-tooltip-value",na="g2-tooltip-name",mg="g2-tooltip-crosshair-x",Kd="g2-tooltip-crosshair-y";const L2=((bo={})[""+So]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:Fr.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},bo[""+ds]={marginBottom:"4px"},bo[""+Mo]={margin:"0px",listStyleType:"none",padding:"0px"},bo[""+tl]={listStyleType:"none",marginBottom:"4px"},bo[""+jd]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},bo[""+Jd]={display:"inline-block",float:"right",marginLeft:"30px"},bo[""+mg]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},bo[""+Kd]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},bo);var tv=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+So+'"><div class="'+ds+'"></div><ul class="'+Mo+'"></ul></div>',itemTpl:'<li class="'+tl+'" data-index={index}>\n          <span class="'+jd+'" style="background:{color}"></span>\n          <span class="'+na+'">{name}</span>:\n          <span class="'+Jd+'">{value}</span>\n        </li>',xCrosshairTpl:'<div class="'+mg+'"></div>',yCrosshairTpl:'<div class="'+Kd+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:So,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:L2})},r.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},r.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},r.prototype.show=function(){var t=this.getContainer();!t||this.destroyed||(this.set("visible",!0),Mi(t,{visibility:"visible"}),this.setCrossHairsVisible(!0))},r.prototype.hide=function(){var t=this.getContainer();!t||this.destroyed||(this.set("visible",!1),Mi(t,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},r.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},r.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetPosition()},r.prototype.setCrossHairsVisible=function(t){var n=t?"":"none",s=this.get("xCrosshairDom"),u=this.get("yCrosshairDom");s&&Mi(s,{display:n}),u&&Mi(u,{display:n})},r.prototype.initContainer=function(){if(e.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var t=this.getHtmlContentNode();this.get("parent").appendChild(t),this.set("container",t),this.resetStyles(),this.applyStyles()}},r.prototype.updateInner=function(t){this.get("customContent")?this.renderCustomContent():(function Vr(e,r){var t=!1;return(0,S.S6)(r,function(n){if((0,S.wH)(e,n))return t=!0,!1}),t}(t,["title","showTitle"])&&this.resetTitle(),(0,S.wH)(t,"items")&&this.renderItems()),e.prototype.updateInner.call(this,t)},r.prototype.initDom=function(){this.cacheDoms()},r.prototype.removeDom=function(){e.prototype.removeDom.call(this),this.clearCrosshairs()},r.prototype.resetPosition=function(){var L,t=this.get("x"),n=this.get("y"),s=this.get("offset"),u=this.getOffset(),h=u.offsetX,d=u.offsetY,p=this.get("position"),y=this.get("region"),x=this.getContainer(),w=this.getBBox(),M=w.width,T=w.height;y&&(L=us(y));var R=function BE(e,r,t,n,s,u,h){var d=function Qd(e,r,t,n,s,u){var h=e,d=r;switch(u){case"left":h=e-n-t,d=r-s/2;break;case"right":h=e+t,d=r-s/2;break;case"top":h=e-n/2,d=r-s-t;break;case"bottom":h=e-n/2,d=r+t;break;default:h=e+t,d=r-s-t}return{x:h,y:d}}(e,r,t,n,s,u);if(h){var p=function kE(e,r,t,n,s){return{left:e<s.x,right:e+t>s.x+s.width,top:r<s.y,bottom:r+n>s.y+s.height}}(d.x,d.y,n,s,h);"auto"===u?(p.right&&(d.x=Math.max(0,e-n-t)),p.top&&(d.y=Math.max(0,r-s-t))):"top"===u||"bottom"===u?(p.left&&(d.x=h.x),p.right&&(d.x=h.x+h.width-n),"top"===u&&p.top&&(d.y=r+t),"bottom"===u&&p.bottom&&(d.y=r-s-t)):(p.top&&(d.y=h.y),p.bottom&&(d.y=h.y+h.height-s),"left"===u&&p.left&&(d.x=e+t),"right"===u&&p.right&&(d.x=e-n-t))}return d}(t,n,s,M,T,p,L);Mi(x,{left:Qe(R.x+h),top:Qe(R.y+d)}),this.resetCrosshairs()},r.prototype.renderCustomContent=function(){var t=this.getHtmlContentNode(),n=this.get("parent"),s=this.get("container");s&&s.parentNode===n?n.replaceChild(t,s):n.appendChild(t),this.set("container",t),this.resetStyles(),this.applyStyles()},r.prototype.getHtmlContentNode=function(){var t,n=this.get("customContent");if(n){var s=n(this.get("title"),this.get("items"));t=(0,S.kK)(s)?s:Vs(s)}return t},r.prototype.cacheDoms=function(){var t=this.getContainer(),n=t.getElementsByClassName(ds)[0],s=t.getElementsByClassName(Mo)[0];this.set("titleDom",n),this.set("listDom",s)},r.prototype.resetTitle=function(){var t=this.get("title"),n=this.get("showTitle");this.setTitle(n&&t?t:"")},r.prototype.setTitle=function(t){var n=this.get("titleDom");n&&(n.innerText=t)},r.prototype.resetCrosshairs=function(){var t=this.get("crosshairsRegion"),n=this.get("crosshairs");if(t&&n){var s=us(t),u=this.get("xCrosshairDom"),h=this.get("yCrosshairDom");"x"===n?(this.resetCrosshair("x",s),h&&(h.remove(),this.set("yCrosshairDom",null))):"y"===n?(this.resetCrosshair("y",s),u&&(u.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",s),this.resetCrosshair("y",s)),this.setCrossHairsVisible(this.get("visible"))}else this.clearCrosshairs()},r.prototype.resetCrosshair=function(t,n){var s=this.checkCrosshair(t),u=this.get(t);Mi(s,"x"===t?{left:Qe(u),top:Qe(n.y),height:Qe(n.height)}:{top:Qe(u),left:Qe(n.x),width:Qe(n.width)})},r.prototype.checkCrosshair=function(t){var n=t+"CrosshairDom",s=t+"CrosshairTpl",u="CROSSHAIR_"+t.toUpperCase(),h=kt[u],d=this.get(n),p=this.get("parent");return d||(d=Vs(this.get(s)),this.applyStyle(h,d),p.appendChild(d),this.set(n,d)),d},r.prototype.renderItems=function(){this.clearItemDoms();var t=this.get("items"),n=this.get("itemTpl"),s=this.get("listDom");s&&((0,S.S6)(t,function(u){var h=is.toCSSGradient(u.color),d=(0,E.pi)((0,E.pi)({},u),{color:h}),y=Vs((0,S.ng)(n,d));s.appendChild(y)}),this.applyChildrenStyles(s,this.get("domStyles")))},r.prototype.clearItemDoms=function(){this.get("listDom")&&ls(this.get("listDom"))},r.prototype.clearCrosshairs=function(){var t=this.get("xCrosshairDom"),n=this.get("yCrosshairDom");t&&t.remove(),n&&n.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},r}(cg);const PE=tv;var xg={opacity:0},zE={stroke:"#C5C5C5",strokeOpacity:.85},Ju={fill:"#CACED4",opacity:.85},Ku=ut(2759);function Rh(e){return function NE(e){return(0,S.UI)(e,function(r,t){return[0===t?"M":"L",r[0],r[1]]})}(e)}var GE=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{name:"trend",x:0,y:0,width:200,height:16,smooth:!0,isArea:!1,data:[],backgroundStyle:xg,lineStyle:zE,areaStyle:Ju})},r.prototype.renderInner=function(t){var n=this.cfg,s=n.width,u=n.height,h=n.data,d=n.smooth,p=n.isArea,y=n.backgroundStyle,x=n.lineStyle,w=n.areaStyle;this.addShape(t,{id:this.getElementId("background"),type:"rect",attrs:(0,E.pi)({x:0,y:0,width:s,height:u},y)});var M=function ia(e,r,t,n){void 0===n&&(n=!0);var s=new Ld({values:e}),u=new hh({values:(0,S.UI)(e,function(d,p){return p})}),h=(0,S.UI)(e,function(d,p){return[u.scale(p)*r,t-s.scale(d)*t]});return n?function za(e){if(e.length<=2)return Rh(e);var r=[];(0,S.S6)(e,function(h){(0,S.Xy)(h,r.slice(r.length-2))||r.push(h[0],h[1])});var t=(0,Ku.e9)(r,!1),n=(0,S.YM)(e);return t.unshift(["M",n[0],n[1]]),t}(h):Rh(h)}(h,s,u,d);if(this.addShape(t,{id:this.getElementId("line"),type:"path",attrs:(0,E.pi)({path:M},x)}),p){var T=function HE(e,r,t,n){var s=(0,E.pr)(e),u=function I2(e,r){var t=new Ld({values:e}),n=t.max<0?t.max:Math.max(0,t.min);return r-t.scale(n)*r}(n,t);return s.push(["L",r,u]),s.push(["L",0,u]),s.push(["Z"]),s}(M,s,u,h);this.addShape(t,{id:this.getElementId("area"),type:"path",attrs:(0,E.pi)({path:T},w)})}},r.prototype.applyOffset=function(){var t=this.cfg,n=t.x,s=t.y;this.moveElementTo(this.get("group"),{x:n,y:s})},r}(hr),ev={fill:"#F7F7F7",stroke:"#BFBFBF",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#FFF"},O2=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{name:"handler",x:0,y:0,width:10,height:24,style:ev})},r.prototype.renderInner=function(t){var n=this.cfg,s=n.width,u=n.height,h=n.style,d=h.fill,p=h.stroke,y=h.radius,x=h.opacity,w=h.cursor;this.addShape(t,{type:"rect",id:this.getElementId("background"),attrs:{x:0,y:0,width:s,height:u,fill:d,stroke:p,radius:y,opacity:x,cursor:w}});var M=1/3*s,T=2/3*s,L=1/4*u,R=3/4*u;this.addShape(t,{id:this.getElementId("line-left"),type:"line",attrs:{x1:M,y1:L,x2:M,y2:R,stroke:p,cursor:w}}),this.addShape(t,{id:this.getElementId("line-right"),type:"line",attrs:{x1:T,y1:L,x2:T,y2:R,stroke:p,cursor:w}})},r.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},r.prototype.initEvent=function(){this.bindEvents()},r.prototype.bindEvents=function(){var t=this;this.get("group").on("mouseenter",function(){var n=t.get("style").highLightFill;t.getElementByLocalId("background").attr("fill",n),t.draw()}),this.get("group").on("mouseleave",function(){var n=t.get("style").fill;t.getElementByLocalId("background").attr("fill",n),t.draw()})},r.prototype.draw=function(){var t=this.get("container").get("canvas");t&&t.draw()},r}(hr),WE={fill:"#416180",opacity:.05},R2={fill:"#5B8FF9",opacity:.15,cursor:"move"},F2={width:10,height:24},UE={textBaseline:"middle",fill:"#000",opacity:.45},YE="sliderchange",VE=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.onMouseDown=function(n){return function(s){t.currentTarget=n;var u=s.originalEvent;u.stopPropagation(),u.preventDefault(),t.prevX=(0,S.U2)(u,"touches.0.pageX",u.pageX),t.prevY=(0,S.U2)(u,"touches.0.pageY",u.pageY);var h=t.getContainerDOM();h.addEventListener("mousemove",t.onMouseMove),h.addEventListener("mouseup",t.onMouseUp),h.addEventListener("mouseleave",t.onMouseUp),h.addEventListener("touchmove",t.onMouseMove),h.addEventListener("touchend",t.onMouseUp),h.addEventListener("touchcancel",t.onMouseUp)}},t.onMouseMove=function(n){var s=t.cfg.width,u=[t.get("start"),t.get("end")];n.stopPropagation(),n.preventDefault();var h=(0,S.U2)(n,"touches.0.pageX",n.pageX),d=(0,S.U2)(n,"touches.0.pageY",n.pageY),y=t.adjustOffsetRange((h-t.prevX)/s);t.updateStartEnd(y),t.updateUI(t.getElementByLocalId("foreground"),t.getElementByLocalId("minText"),t.getElementByLocalId("maxText")),t.prevX=h,t.prevY=d,t.draw(),t.emit(YE,[t.get("start"),t.get("end")].sort()),t.delegateEmit("valuechanged",{originValue:u,value:[t.get("start"),t.get("end")]})},t.onMouseUp=function(){t.currentTarget&&(t.currentTarget=void 0);var n=t.getContainerDOM();n&&(n.removeEventListener("mousemove",t.onMouseMove),n.removeEventListener("mouseup",t.onMouseUp),n.removeEventListener("mouseleave",t.onMouseUp),n.removeEventListener("touchmove",t.onMouseMove),n.removeEventListener("touchend",t.onMouseUp),n.removeEventListener("touchcancel",t.onMouseUp))},t}return(0,E.ZT)(r,e),r.prototype.setRange=function(t,n){this.set("minLimit",t),this.set("maxLimit",n);var s=this.get("start"),u=this.get("end"),h=(0,S.uZ)(s,t,n),d=(0,S.uZ)(u,t,n);!this.get("isInit")&&(s!==h||u!==d)&&this.setValue([h,d])},r.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},r.prototype.setValue=function(t){var n=this.getRange();if((0,S.kJ)(t)&&2===t.length){var s=[this.get("start"),this.get("end")];this.update({start:(0,S.uZ)(t[0],n.min,n.max),end:(0,S.uZ)(t[1],n.min,n.max)}),this.get("updateAutoRender")||this.render(),this.delegateEmit("valuechanged",{originValue:s,value:t})}},r.prototype.getValue=function(){return[this.get("start"),this.get("end")]},r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{name:"slider",x:0,y:0,width:100,height:16,backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},defaultCfg:{backgroundStyle:WE,foregroundStyle:R2,handlerStyle:F2,textStyle:UE}})},r.prototype.update=function(t){var n=t.start,s=t.end,u=(0,E.pi)({},t);(0,S.UM)(n)||(u.start=(0,S.uZ)(n,0,1)),(0,S.UM)(s)||(u.end=(0,S.uZ)(s,0,1)),e.prototype.update.call(this,u),this.minHandler=this.getChildComponentById(this.getElementId("minHandler")),this.maxHandler=this.getChildComponentById(this.getElementId("maxHandler")),this.trend=this.getChildComponentById(this.getElementId("trend"))},r.prototype.init=function(){this.set("start",(0,S.uZ)(this.get("start"),0,1)),this.set("end",(0,S.uZ)(this.get("end"),0,1)),e.prototype.init.call(this)},r.prototype.render=function(){e.prototype.render.call(this),this.updateUI(this.getElementByLocalId("foreground"),this.getElementByLocalId("minText"),this.getElementByLocalId("maxText"))},r.prototype.renderInner=function(t){var n=this.cfg,h=n.width,d=n.height,p=n.trendCfg,y=void 0===p?{}:p,x=n.minText,w=n.maxText,M=n.backgroundStyle,T=void 0===M?{}:M,L=n.foregroundStyle,R=void 0===L?{}:L,D=n.textStyle,k=void 0===D?{}:D,z=(0,S.b$)({},ev,this.cfg.handlerStyle);(0,S.dp)((0,S.U2)(y,"data"))&&(this.trend=this.addComponent(t,(0,E.pi)({component:GE,id:this.getElementId("trend"),x:0,y:0,width:h,height:d},y))),this.addShape(t,{id:this.getElementId("background"),type:"rect",attrs:(0,E.pi)({x:0,y:0,width:h,height:d},T)}),this.addShape(t,{id:this.getElementId("minText"),type:"text",attrs:(0,E.pi)({y:d/2,textAlign:"right",text:x,silent:!1},k)}),this.addShape(t,{id:this.getElementId("maxText"),type:"text",attrs:(0,E.pi)({y:d/2,textAlign:"left",text:w,silent:!1},k)}),this.addShape(t,{id:this.getElementId("foreground"),name:"foreground",type:"rect",attrs:(0,E.pi)({y:0,height:d},R)});var i=(0,S.U2)(z,"width",10),l=(0,S.U2)(z,"height",24);this.minHandler=this.addComponent(t,{component:O2,id:this.getElementId("minHandler"),name:"handler-min",x:0,y:(d-l)/2,width:i,height:l,cursor:"ew-resize",style:z}),this.maxHandler=this.addComponent(t,{component:O2,id:this.getElementId("maxHandler"),name:"handler-max",x:0,y:(d-l)/2,width:i,height:l,cursor:"ew-resize",style:z})},r.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},r.prototype.initEvent=function(){this.bindEvents()},r.prototype.updateUI=function(t,n,s){var u=this.cfg,p=u.width,y=u.minText,x=u.maxText,w=u.handlerStyle,T=u.start*p,L=u.end*p;this.trend&&(this.trend.update({width:p,height:u.height}),this.get("updateAutoRender")||this.trend.render()),t.attr("x",T),t.attr("width",L-T);var R=(0,S.U2)(w,"width",10);n.attr("text",y),s.attr("text",x);var D=this._dodgeText([T,L],n,s),k=D[0],z=D[1];this.minHandler&&(this.minHandler.update({x:T-R/2}),this.get("updateAutoRender")||this.minHandler.render()),(0,S.S6)(k,function(G,U){return n.attr(U,G)}),this.maxHandler&&(this.maxHandler.update({x:L-R/2}),this.get("updateAutoRender")||this.maxHandler.render()),(0,S.S6)(z,function(G,U){return s.attr(U,G)})},r.prototype.bindEvents=function(){var t=this.get("group");t.on("handler-min:mousedown",this.onMouseDown("minHandler")),t.on("handler-min:touchstart",this.onMouseDown("minHandler")),t.on("handler-max:mousedown",this.onMouseDown("maxHandler")),t.on("handler-max:touchstart",this.onMouseDown("maxHandler"));var n=t.findById(this.getElementId("foreground"));n.on("mousedown",this.onMouseDown("foreground")),n.on("touchstart",this.onMouseDown("foreground"))},r.prototype.adjustOffsetRange=function(t){var n=this.cfg,s=n.start,u=n.end;switch(this.currentTarget){case"minHandler":var h=0-s,d=1-s;return Math.min(d,Math.max(h,t));case"maxHandler":return h=0-u,d=1-u,Math.min(d,Math.max(h,t));case"foreground":return h=0-s,d=1-u,Math.min(d,Math.max(h,t))}},r.prototype.updateStartEnd=function(t){var n=this.cfg,s=n.start,u=n.end;switch(this.currentTarget){case"minHandler":s+=t;break;case"maxHandler":u+=t;break;case"foreground":s+=t,u+=t}this.set("start",s),this.set("end",u)},r.prototype._dodgeText=function(t,n,s){var u,h,d=this.cfg,y=d.width,w=(0,S.U2)(d.handlerStyle,"width",10),M=t[0],T=t[1],L=!1;M>T&&(M=(u=[T,M])[0],T=u[1],n=(h=[s,n])[0],s=h[1],L=!0);var R=n.getBBox(),D=s.getBBox(),k=R.width>M-2?{x:M+w/2+2,textAlign:"left"}:{x:M-w/2-2,textAlign:"right"},z=D.width>y-T-2?{x:T-w/2-2,textAlign:"right"}:{x:T+w/2+2,textAlign:"left"};return L?[z,k]:[k,z]},r.prototype.draw=function(){var t=this.get("container"),n=t&&t.get("canvas");n&&n.draw()},r.prototype.getContainerDOM=function(){var t=this.get("container"),n=t&&t.get("canvas");return n&&n.get("container")},r}(hr);function Qu(e,r,t){if(e){if("function"==typeof e.addEventListener)return e.addEventListener(r,t,!1),{remove:function(){e.removeEventListener(r,t,!1)}};if("function"==typeof e.attachEvent)return e.attachEvent("on"+r,t),{remove:function(){e.detachEvent("on"+r,t)}}}}var Cg={default:{trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)",size:8,lineCap:"round"},hover:{thumbColor:"rgba(0,0,0,0.2)"}},nv=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.clearEvents=S.ZT,t.onStartEvent=function(n){return function(s){t.isMobile=n,s.originalEvent.preventDefault();var u=n?(0,S.U2)(s.originalEvent,"touches.0.clientX"):s.clientX,h=n?(0,S.U2)(s.originalEvent,"touches.0.clientY"):s.clientY;t.startPos=t.cfg.isHorizontal?u:h,t.bindLaterEvent()}},t.bindLaterEvent=function(){var n=t.getContainerDOM(),s=[];s=t.isMobile?[Qu(n,"touchmove",t.onMouseMove),Qu(n,"touchend",t.onMouseUp),Qu(n,"touchcancel",t.onMouseUp)]:[Qu(n,"mousemove",t.onMouseMove),Qu(n,"mouseup",t.onMouseUp),Qu(n,"mouseleave",t.onMouseUp)],t.clearEvents=function(){s.forEach(function(u){u.remove()})}},t.onMouseMove=function(n){var s=t.cfg,u=s.isHorizontal,h=s.thumbOffset;n.preventDefault();var d=t.isMobile?(0,S.U2)(n,"touches.0.clientX"):n.clientX,p=t.isMobile?(0,S.U2)(n,"touches.0.clientY"):n.clientY,y=u?d:p,x=y-t.startPos;t.startPos=y,t.updateThumbOffset(h+x)},t.onMouseUp=function(n){n.preventDefault(),t.clearEvents()},t.onTrackClick=function(n){var s=t.cfg,u=s.isHorizontal,h=s.x,d=s.y,p=s.thumbLen,x=t.getContainerDOM().getBoundingClientRect(),L=t.validateRange(u?n.clientX-x.left-h-p/2:n.clientY-x.top-d-p/2);t.updateThumbOffset(L)},t.onThumbMouseOver=function(){var n=t.cfg.theme.hover.thumbColor;t.getElementByLocalId("thumb").attr("stroke",n),t.draw()},t.onThumbMouseOut=function(){var n=t.cfg.theme.default.thumbColor;t.getElementByLocalId("thumb").attr("stroke",n),t.draw()},t}return(0,E.ZT)(r,e),r.prototype.setRange=function(t,n){this.set("minLimit",t),this.set("maxLimit",n);var s=this.getValue(),u=(0,S.uZ)(s,t,n);s!==u&&!this.get("isInit")&&this.setValue(u)},r.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},r.prototype.setValue=function(t){var n=this.getRange(),s=this.getValue();this.update({thumbOffset:(this.get("trackLen")-this.get("thumbLen"))*(0,S.uZ)(t,n.min,n.max)}),this.delegateEmit("valuechange",{originalValue:s,value:this.getValue()})},r.prototype.getValue=function(){return(0,S.uZ)(this.get("thumbOffset")/(this.get("trackLen")-this.get("thumbLen")),0,1)},r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{name:"scrollbar",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:Cg})},r.prototype.renderInner=function(t){this.renderTrackShape(t),this.renderThumbShape(t)},r.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},r.prototype.initEvent=function(){this.bindEvents()},r.prototype.renderTrackShape=function(t){var n=this.cfg,s=n.trackLen,u=n.theme,d=(0,S.b$)({},Cg,void 0===u?{default:{}}:u).default,p=d.lineCap,y=d.trackColor,w=(0,S.U2)(this.cfg,"size",d.size),M=this.get("isHorizontal")?{x1:0+w/2,y1:w/2,x2:s-w/2,y2:w/2,lineWidth:w,stroke:y,lineCap:p}:{x1:w/2,y1:0+w/2,x2:w/2,y2:s-w/2,lineWidth:w,stroke:y,lineCap:p};return this.addShape(t,{id:this.getElementId("track"),name:"track",type:"line",attrs:M})},r.prototype.renderThumbShape=function(t){var n=this.cfg,s=n.thumbOffset,u=n.thumbLen,d=(0,S.b$)({},Cg,n.theme).default,y=d.lineCap,x=d.thumbColor,w=(0,S.U2)(this.cfg,"size",d.size),M=this.get("isHorizontal")?{x1:s+w/2,y1:w/2,x2:s+u-w/2,y2:w/2,lineWidth:w,stroke:x,lineCap:y,cursor:"default"}:{x1:w/2,y1:s+w/2,x2:w/2,y2:s+u-w/2,lineWidth:w,stroke:x,lineCap:y,cursor:"default"};return this.addShape(t,{id:this.getElementId("thumb"),name:"thumb",type:"line",attrs:M})},r.prototype.bindEvents=function(){var t=this.get("group");t.on("mousedown",this.onStartEvent(!1)),t.on("mouseup",this.onMouseUp),t.on("touchstart",this.onStartEvent(!0)),t.on("touchend",this.onMouseUp),t.findById(this.getElementId("track")).on("click",this.onTrackClick);var s=t.findById(this.getElementId("thumb"));s.on("mouseover",this.onThumbMouseOver),s.on("mouseout",this.onThumbMouseOut)},r.prototype.getContainerDOM=function(){var t=this.get("container"),n=t&&t.get("canvas");return n&&n.get("container")},r.prototype.validateRange=function(t){var n=this.cfg,s=n.thumbLen,u=n.trackLen,h=t;return t+s>u?h=u-s:t+s<s&&(h=0),h},r.prototype.draw=function(){var t=this.get("container"),n=t&&t.get("canvas");n&&n.draw()},r.prototype.updateThumbOffset=function(t){var n=this.cfg,s=n.thumbOffset,u=n.isHorizontal,h=n.thumbLen,d=n.size,p=this.validateRange(t);p!==s&&(this.getElementByLocalId("thumb").attr(u?{x1:p+d/2,x2:p+h-d/2}:{y1:p+d/2,y2:p+h-d/2}),this.emitOffsetChange(p))},r.prototype.emitOffsetChange=function(t){var n=this.cfg,s=n.thumbOffset,u=n.trackLen,h=n.thumbLen;this.cfg.thumbOffset=t,this.emit("scrollchange",{thumbOffset:t,ratio:(0,S.uZ)(t/(u-h),0,1)}),this.delegateEmit("valuechange",{originalValue:s,value:t})},r}(hr),XE=ma,$E=_E,ZE=IE,wg=EE,xa=Ih,iv=E2,Fh=PE;function Jl(e){return 1===Array.from(new Set(e)).length}function Dh(e){return((0,S.VV)(e)+(0,S.Fp)(e))/2}function kn(e,r,t,n){return{x:e+t*Math.cos(n),y:r+t*Math.sin(n)}}function el(e,r,t,n,s,u){void 0===u&&(u=0);var h=kn(e,r,t,n),d=kn(e,r,t,s),p=kn(e,r,u,n),y=kn(e,r,u,s);if(s-n==2*Math.PI){var x=kn(e,r,t,n+Math.PI),w=kn(e,r,u,n+Math.PI),M=[["M",h.x,h.y],["A",t,t,0,1,1,x.x,x.y],["A",t,t,0,1,1,d.x,d.y],["M",p.x,p.y]];return u&&(M.push(["A",u,u,0,1,0,w.x,w.y]),M.push(["A",u,u,0,1,0,y.x,y.y])),M.push(["M",h.x,h.y]),M.push(["Z"]),M}var T=s-n<=Math.PI?0:1,L=[["M",h.x,h.y],["A",t,t,0,T,1,d.x,d.y],["L",y.x,y.y]];return u&&L.push(["A",u,u,0,T,0,p.x,p.y]),L.push(["L",h.x,h.y]),L.push(["Z"]),L}function D2(e,r,t,n,s){var u=kn(e,r,t,n),h=kn(e,r,t,s);if((0,S.vQ)(s-n,2*Math.PI)){var d=kn(e,r,t,n+Math.PI);return[["M",u.x,u.y],["A",t,t,0,1,1,d.x,d.y],["A",t,t,0,1,1,u.x,u.y],["A",t,t,0,1,0,d.x,d.y],["A",t,t,0,1,0,u.x,u.y],["Z"]]}var p=s-n<=Math.PI?0:1;return[["M",u.x,u.y],["A",t,t,0,p,1,h.x,h.y]]}function kh(e,r){var s,u,n=function qE(e){if((0,S.xb)(e))return null;var r=e[0].x,t=e[0].x,n=e[0].y,s=e[0].y;return(0,S.S6)(e,function(u){r=r>u.x?u.x:r,t=t<u.x?u.x:t,n=n>u.y?u.y:n,s=s<u.y?u.y:s}),{minX:r,maxX:t,minY:n,maxY:s,centerX:(r+t)/2,centerY:(n+s)/2}}(e.points),h=r.startAngle,p=r.endAngle-h;return r.isTransposed?(s=n.maxY*p,u=n.minY*p):(s=n.maxX*p,u=n.minX*p),{startAngle:u+=h,endAngle:s+=h}}function k2(e,r){var t=e.attr(),n=r.attr();return(0,S.S6)(t,function(s,u){void 0===n[u]&&(n[u]=void 0)}),n}function ec(e,r,t){var n=Math.min(r,t),s=Math.max(r,t);return e>=n&&e<=s}function aa(e,r){return"object"==typeof e&&r.forEach(function(t){delete e[t]}),e}function rl(e,r,t){var n,s;void 0===r&&(r=[]),void 0===t&&(t=new Map);try{for(var u=(0,E.XA)(e),h=u.next();!h.done;h=u.next()){var d=h.value;t.has(d)||(r.push(d),t.set(d,!0))}}catch(p){n={error:p}}finally{try{h&&!h.done&&(s=u.return)&&s.call(u)}finally{if(n)throw n.error}}return r}var Oi=function(){function e(r,t,n,s){void 0===r&&(r=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===s&&(s=0),this.x=r,this.y=t,this.height=s,this.width=n}return e.fromRange=function(r,t,n,s){return new e(r,t,n-r,s-t)},e.fromObject=function(r){return new e(r.minX,r.minY,r.width,r.height)},Object.defineProperty(e.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(r){return this.x===r.x&&this.y===r.y&&this.width===r.width&&this.height===r.height},e.prototype.contains=function(r){return r.minX>=this.minX&&r.maxX<=this.maxX&&r.minY>=this.minY&&r.maxY<=this.maxY},e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.add=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var n=this.clone();return(0,S.S6)(r,function(s){n.x=Math.min(s.x,n.x),n.y=Math.min(s.y,n.y),n.width=Math.max(s.maxX,n.maxX)-n.x,n.height=Math.max(s.maxY,n.maxY)-n.y}),n},e.prototype.merge=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var n=this.clone();return(0,S.S6)(r,function(s){n.x=Math.max(s.x,n.x),n.y=Math.max(s.y,n.y),n.width=Math.min(s.maxX,n.maxX)-n.x,n.height=Math.min(s.maxY,n.maxY)-n.y}),n},e.prototype.cut=function(r,t){var n=r.width,s=r.height;switch(t){case Ne.TOP:case Ne.TOP_LEFT:case Ne.TOP_RIGHT:return e.fromRange(this.minX,this.minY+s,this.maxX,this.maxY);case Ne.RIGHT:case Ne.RIGHT_TOP:case Ne.RIGHT_BOTTOM:return e.fromRange(this.minX,this.minY,this.maxX-n,this.maxY);case Ne.BOTTOM:case Ne.BOTTOM_LEFT:case Ne.BOTTOM_RIGHT:return e.fromRange(this.minX,this.minY,this.maxX,this.maxY-s);case Ne.LEFT:case Ne.LEFT_TOP:case Ne.LEFT_BOTTOM:return e.fromRange(this.minX+n,this.minY,this.maxX,this.maxY);default:return this}},e.prototype.shrink=function(r){var t=(0,E.CR)(r,4),n=t[0],h=t[3];return new e(this.x+h,this.y+n,this.width-h-t[1],this.height-n-t[2])},e.prototype.expand=function(r){var t=(0,E.CR)(r,4),n=t[0],h=t[3];return new e(this.x-h,this.y-n,this.width+h+t[1],this.height+n+t[2])},e.prototype.exceed=function(r){return[Math.max(-this.minY+r.minY,0),Math.max(this.maxX-r.maxX,0),Math.max(this.maxY-r.maxY,0),Math.max(-this.minX+r.minX,0)]},e.prototype.collide=function(r){return this.minX<r.maxX&&this.maxX>r.minX&&this.minY<r.maxY&&this.maxY>r.minY},e.prototype.size=function(){return this.width*this.height},e.prototype.isPointIn=function(r){return r.x>=this.minX&&r.x<=this.maxX&&r.y>=this.minY&&r.y<=this.maxY},e}();function Bh(e){if(e.isPolar&&!e.isTransposed)return(e.endAngle-e.startAngle)*e.getRadius();var r=e.convert({x:0,y:0}),t=e.convert({x:1,y:0});return Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2))}function av(e,r){var t=e.getCenter();return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))}function Kl(e,r){var t=e.getCenter();return Math.atan2(r.y-t.y,r.x-t.x)}function ov(e,r){void 0===r&&(r=0);var t=e.start,n=e.end,s=e.getWidth(),u=e.getHeight();if(e.isPolar){var h=e.startAngle,d=e.endAngle,p=e.getCenter(),y=e.getRadius();return{type:"path",startState:{path:el(p.x,p.y,y+r,h,h)},endState:function(w){return{path:el(p.x,p.y,y+r,h,(d-h)*w+h)}},attrs:{path:el(p.x,p.y,y+r,h,d)}}}return{type:"rect",startState:{x:t.x-r,y:n.y-r,width:e.isTransposed?s+2*r:0,height:e.isTransposed?0:u+2*r},endState:e.isTransposed?{height:u+2*r}:{width:s+2*r},attrs:{x:t.x-r,y:n.y-r,width:s+2*r,height:u+2*r}}}var e3=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function To(e,r,t,n){return void 0===r&&(r={}),r.type?r.type:"identity"!==e.type&&Gu.includes(t)&&["interval"].includes(n)||e.isCategory?"cat":e.type}function nc(e){return e.alias||e.field}function vs(e,r,t){var u,s=e.values.length;if(1===s)u=[.5,1];else{var d=0;u=function t3(e){return!!e.isPolar&&e.endAngle-e.startAngle==2*Math.PI}(r)?r.isTransposed?[(d=1/s*(0,S.U2)(t,"widthRatio.multiplePie",1/1.3))/2,1-d/2]:[0,1-1/s]:[d=1/s/2,1-d]}return u}function a3(e){var r=e.values.filter(function(t){return!(0,S.UM)(t)&&!isNaN(t)});return Math.max.apply(Math,(0,E.ev)((0,E.ev)([],(0,E.CR)(r),!1),[(0,S.UM)(e.max)?-1/0:e.max],!1))}function sv(e,r){var t={start:{x:0,y:0},end:{x:0,y:0}};e.isRect?t=function o3(e){var r,t;switch(e){case Ne.TOP:r={x:0,y:1},t={x:1,y:1};break;case Ne.RIGHT:r={x:1,y:0},t={x:1,y:1};break;case Ne.BOTTOM:r={x:0,y:0},t={x:1,y:0};break;case Ne.LEFT:r={x:0,y:0},t={x:0,y:1};break;default:r=t={x:0,y:0}}return{start:r,end:t}}(r):e.isPolar&&(t=function s3(e){var r,t;return e.isTransposed?(r={x:0,y:0},t={x:1,y:0}):(r={x:0,y:0},t={x:0,y:1}),{start:r,end:t}}(e));var s=t.end;return{start:e.convert(t.start),end:e.convert(s)}}function P2(e){return e.start.x===e.end.x}function Ph(e,r){var t=e.start,n=e.end;return P2(e)?(t.y-n.y)*(r.x-t.x)>0?1:-1:(n.x-t.x)*(t.y-r.y)>0?-1:1}function lv(e,r){var t=(0,S.U2)(e,["components","axis"],{});return(0,S.b$)({},(0,S.U2)(t,["common"],{}),(0,S.b$)({},(0,S.U2)(t,[r],{})))}function z2(e,r,t){var n=(0,S.U2)(e,["components","axis"],{});return(0,S.b$)({},(0,S.U2)(n,["common","title"],{}),(0,S.b$)({},(0,S.U2)(n,[r,"title"],{})),t)}function _g(e){var r=e.x,t=e.y,n=e.circleCenter,s=t.start>t.end,u=e.convert(e.isTransposed?{x:s?0:1,y:0}:{x:0,y:s?0:1}),h=[u.x-n.x,u.y-n.y],d=[1,0],p=u.y>n.y?gr.EU(h,d):-1*gr.EU(h,d),y=p+(r.end-r.start);return{center:n,radius:Math.sqrt(Math.pow(u.x-n.x,2)+Math.pow(u.y-n.y,2)),startAngle:p,endAngle:y}}function zh(e,r){return(0,S.jn)(e)?!1!==e&&{}:(0,S.U2)(e,[r])}function uv(e,r){return(0,S.U2)(e,"position",r)}function N2(e,r){return(0,S.U2)(r,["title","text"],nc(e))}var ic=function(){function e(r,t){this.destroyed=!1,this.facets=[],this.view=r,this.cfg=(0,S.b$)({},this.getDefaultCfg(),t)}return e.prototype.init=function(){this.container||(this.container=this.createContainer());var r=this.view.getData();this.facets=this.generateFacets(r)},e.prototype.render=function(){this.renderViews()},e.prototype.update=function(){},e.prototype.clear=function(){this.clearFacetViews()},e.prototype.destroy=function(){this.clear(),this.container&&(this.container.remove(!0),this.container=void 0),this.destroyed=!0,this.view=void 0,this.facets=[]},e.prototype.facetToView=function(r){var n=r.data,s=r.padding,h=this.view.createView({region:r.region,padding:void 0===s?this.cfg.padding:s});h.data(n||[]),r.view=h,this.beforeEachView(h,r);var d=this.cfg.eachView;return d&&d(h,r),this.afterEachView(h,r),h},e.prototype.createContainer=function(){return this.view.getLayer(Cn.FORE).addGroup()},e.prototype.renderViews=function(){this.createFacetViews()},e.prototype.createFacetViews=function(){var r=this;return this.facets.map(function(t){return r.facetToView(t)})},e.prototype.clearFacetViews=function(){var r=this;(0,S.S6)(this.facets,function(t){t.view&&(r.view.removeView(t.view),t.view=void 0)})},e.prototype.parseSpacing=function(){var r=this.view.viewBBox,t=r.width,n=r.height;return this.cfg.spacing.map(function(u,h){return(0,S.hj)(u)?u/(0===h?t:n):parseFloat(u)/100})},e.prototype.getFieldValues=function(r,t){var n=[],s={};return(0,S.S6)(r,function(u){var h=u[t];!(0,S.UM)(h)&&!s[h]&&(n.push(h),s[h]=!0)}),n},e.prototype.getRegion=function(r,t,n,s){var u=(0,E.CR)(this.parseSpacing(),2),h=u[0],d=u[1],p=(1+h)/(0===t?1:t)-h,y=(1+d)/(0===r?1:r)-d,x={x:(p+h)*n,y:(y+d)*s};return{start:x,end:{x:x.x+p,y:x.y+y}}},e.prototype.getDefaultCfg=function(){return{eachView:void 0,showTitle:!0,spacing:[0,0],padding:10,fields:[]}},e.prototype.getDefaultTitleCfg=function(){return{style:{fontSize:14,fill:"#666",fontFamily:this.view.getTheme().fontFamily}}},e.prototype.processAxis=function(r,t){var n=r.getOptions(),u=r.geometries;if("rect"===(0,S.U2)(n.coordinate,"type","rect")&&u.length){(0,S.UM)(n.axes)&&(n.axes={});var d=n.axes,p=(0,E.CR)(u[0].getXYFields(),2),y=p[0],x=p[1],w=zh(d,y),M=zh(d,x);!1!==w&&(n.axes[y]=this.getXAxisOption(y,d,w,t)),!1!==M&&(n.axes[x]=this.getYAxisOption(x,d,M,t))}},e.prototype.getFacetDataFilter=function(r){return function(t){return(0,S.yW)(r,function(n){var s=n.field,u=n.value;return!(!(0,S.UM)(u)&&s)||t[s]===u})}},e}(),Sg={},Ql=function(e,r){Sg[(0,S.vl)(e)]=r},l3=function(){function e(r,t){this.context=r,this.cfg=t,r.addAction(this)}return e.prototype.applyCfg=function(r){(0,S.f0)(this,r)},e.prototype.init=function(){this.applyCfg(this.cfg)},e.prototype.destroy=function(){this.context.removeAction(this),this.context=null},e}();const cn=l3;var u3=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.execute=function(){this.callback&&this.callback(this.context)},r.prototype.destroy=function(){e.prototype.destroy.call(this),this.callback=null},r}(cn);const H2=u3;var cv={};function ac(e){return(0,S.U2)(cv[e],"ActionClass")}function rr(e,r,t){cv[e]={ActionClass:r,cfg:t}}function G2(e,r){var t=new H2(r);return t.callback=e,t.name="callback",t}function bg(e,r){for(var t=[e[0]],n=1,s=e.length;n<s;n+=2){var u=r.convert({x:e[n],y:e[n+1]});t.push(u.x,u.y)}return t}function Tg(e,r){var t=r.isTransposed,n=e[1],h=r.convert({x:e[6],y:e[7]});return["A",n,n,0,0,t?0:1,h.x,h.y]}var h3=function(e,r,t,n){var s,d,p,y,x,w,M,T,u=[],h=!!n;if(h){y=(s=(0,E.CR)(n,2))[0],x=s[1];for(var L=0,R=e.length;L<R;L++)y=gr.VV([0,0],y,D=e[L]),x=gr.Fp([0,0],x,D)}L=0;for(var k=e.length;L<k;L++){var D=e[L];if(0!==L||t)if(L!==k-1||t){var z=[0,0];z=gr.lu(z,p=e[t?(L+1)%k:L+1],d=e[t?L?L-1:k-1:L-1]),z=gr.bA(z,z,r);var G=gr.TE(D,d),U=gr.TE(D,p),q=G+U;0!==q&&(G/=q,U/=q);var a=gr.bA([0,0],z,-G),o=gr.bA([0,0],z,U);M=gr.IH([0,0],D,a),w=gr.IH([0,0],D,o),w=gr.VV([0,0],w,gr.Fp([0,0],p,D)),w=gr.Fp([0,0],w,gr.VV([0,0],p,D)),a=gr.lu([0,0],w,D),a=gr.bA([0,0],a,-G/U),M=gr.IH([0,0],D,a),M=gr.VV([0,0],M,gr.Fp([0,0],d,D)),M=gr.Fp([0,0],M,gr.VV([0,0],d,D)),o=gr.lu([0,0],D,M),o=gr.bA([0,0],o,U/G),w=gr.IH([0,0],D,o),h&&(M=gr.Fp([0,0],M,y),M=gr.VV([0,0],M,x),w=gr.Fp([0,0],w,y),w=gr.VV([0,0],w,x)),u.push(T),u.push(M),T=w}else M=D,u.push(T),u.push(M);else T=D}return t&&u.push(u.shift()),u};function W2(e,r,t){for(var n=!!r,s=[],u=0,h=e.length;u<h;u+=2)s.push([e[u],e[u+1]]);var x,w,M,d=h3(s,.4,n,t),p=s.length,y=[];for(u=0;u<p-1;u++)y.push(["C",(x=d[2*u])[0],x[1],(w=d[2*u+1])[0],w[1],(M=s[u+1])[0],M[1]]);return n&&y.push(["C",(x=d[p])[0],x[1],(w=d[p+1])[0],w[1],(M=s[0])[0],M[1]]),y}function ys(e,r){return function ps(e,r){var t=[];if(e.length){t.push(["M",e[0].x,e[0].y]);for(var n=1,s=e.length;n<s;n+=1){var u=e[n];t.push(["L",u.x,u.y])}r&&t.push(["Z"])}return t}(e,r)}function Ca(e,r,t){var n=[],s=e[0],u=null;if(e.length<=2)return ys(e,r);for(var h=0,d=e.length;h<d;h++){var p=e[h];(!u||u.x!==p.x||u.y!==p.y)&&(n.push(p.x),n.push(p.y),u=p)}var x=W2(n,r,t||[[0,0],[1,1]]);return x.unshift(["M",s.x,s.y]),x}function zr(e,r){return Hh(e.event.target,r)}function V2(e,r){var t=e.getCanvasBBox(),n=t.width,s=t.height;return n>0&&s>0&&(n>=r||s>=r)}function Hh(e,r){var t=e.getCanvasBBox();return V2(e,r)?t:null}function Xi(e,r){return e.event.maskShapes.map(function(n){return Hh(n,r)}).filter(function(n){return!!n})}function tu(e,r){return V2(e,r)?e.attr("path"):null}function Na(e){var t,n=e.event.target;return n&&(t=n.get("element")),t}function ms(e){var n,t=e.event.target;return t&&(n=t.get("delegateObject")),n}function X2(e){var r=e.event.gEvent;return!(r&&r.fromShape&&r.toShape&&r.fromShape.get("element")===r.toShape.get("element"))}function oc(e){return e&&e.component&&e.component.isList()}function Ag(e){return e&&e.component&&e.component.isSlider()}function Gh(e){var t=e.event.target;return t&&"mask"===t?.get("name")||hv(e)}function hv(e){var r;return"multi-mask"===(null===(r=e.event.target)||void 0===r?void 0:r.get("name"))}function Eg(e,r){var t=e.event.target;if(hv(e))return function eu(e,r){if("path"===e.event.target.get("type")){var n=function f3(e,r){return e.event.maskShapes.map(function(n){return tu(n,r)})}(e,r);return n.length>0?n.flatMap(function(u){return J2(e.view,u)}):null}var s=Xi(e,r);return s.length>0?s.flatMap(function(u){return dv(e.view,u)}):null}(e,r);if("path"===t.get("type")){var n=function $i(e,r){return tu(e.event.target,r)}(e,r);return n?J2(e.view,n):void 0}var s=zr(e,r);return s?dv(e.view,s):null}function fv(e,r,t){if(hv(e))return function $2(e,r,t){var n=Xi(e,t);return n.length>0?n.flatMap(function(s){return Lg(s,e,r)}):null}(e,r,t);var n=zr(e,t);return n?Lg(n,e,r):null}function Lg(e,r,t){var n=r.view,s=Og(n,t,{x:e.x,y:e.y}),u=Og(n,t,{x:e.maxX,y:e.maxY});return dv(t,{minX:s.x,minY:s.y,maxX:u.x,maxY:u.y})}function ni(e){var t=[];return(0,S.S6)(e.geometries,function(n){t=t.concat(n.elements)}),e.views&&e.views.length&&(0,S.S6)(e.views,function(n){t=t.concat(ni(n))}),t}function q2(e,r){var n=[];return(0,S.S6)(e.geometries,function(s){var u=s.getElementsBy(function(h){return h.hasState(r)});n=n.concat(u)}),n}function ao(e,r){var n=e.getModel().data;return(0,S.kJ)(n)?n[0][r]:n[r]}function dv(e,r){var t=ni(e),n=[];return(0,S.S6)(t,function(s){var h=s.shape.getCanvasBBox();(function nl(e,r){return!(r.minX>e.maxX||r.maxX<e.minX||r.minY>e.maxY||r.maxY<e.minY)})(r,h)&&n.push(s)}),n}function j2(e){var r=[];return(0,S.S6)(e,function(t){if("A"!==t[0])for(var s=1;s<t.length;s+=2)r.push([t[s],t[s+1]]);else{var u=t.length;r.push([t[u-2],t[u-1]])}}),r}function J2(e,r){var t=ni(e),n=j2(r),s=t.filter(function(u){var d,h=u.shape;return d="path"===h.get("type")?j2(h.attr("path")):function QE(e){return[[e.minX,e.minY],[e.maxX,e.minY],[e.maxX,e.maxY],[e.minX,e.maxY]]}(h.getCanvasBBox()),(0,Ku.Wq)(n,d)});return s}function K2(e){return e.getComponents().map(function(r){return r.component})}function Ig(e,r){var t=r.x-e.x,n=r.y-e.y;return Math.sqrt(t*t+n*n)}function Q2(e,r){return e.x<=r.x&&e.maxX>=r.x&&e.y<=r.y&&e.maxY>r.y}function Ao(e){var r=e.parent,t=null;return r&&(t=r.views.filter(function(n){return n!==e})),t}function Og(e,r,t){var n=function v3(e,r){return e.getCoordinate().invert(r)}(e,t);return r.getCoordinate().convert(n)}function tC(e,r,t,n){var s=!1;return(0,S.S6)(e,function(u){if(u[t]===r[t]&&u[n]===r[n])return s=!0,!1}),s}function sc(e,r){var t=e.getScaleByField(r);return!t&&e.views&&(0,S.S6)(e.views,function(n){if(t=sc(n,r))return!1}),t}var p3=function(){function e(r){this.actions=[],this.event=null,this.cacheMap={},this.view=r}return e.prototype.cache=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];if(1===r.length)return this.cacheMap[r[0]];2===r.length&&(this.cacheMap[r[0]]=r[1])},e.prototype.getAction=function(r){return this.actions.find(function(t){return t.name===r})},e.prototype.addAction=function(r){this.actions.push(r)},e.prototype.removeAction=function(r){var t=this.actions,n=this.actions.indexOf(r);n>=0&&t.splice(n,1)},e.prototype.getCurrentPoint=function(){var r=this.event;return r?r.target instanceof HTMLElement?this.view.getCanvas().getPointByClient(r.clientX,r.clientY):{x:r.x,y:r.y}:null},e.prototype.getCurrentShape=function(){return(0,S.U2)(this.event,["gEvent","shape"])},e.prototype.isInPlot=function(){var r=this.getCurrentPoint();return!!r&&this.view.isPointInPlot(r)},e.prototype.isInShape=function(r){var t=this.getCurrentShape();return!!t&&t.get("name")===r},e.prototype.isInComponent=function(r){var t=K2(this.view),n=this.getCurrentPoint();return!!n&&!!t.find(function(s){var u=s.getBBox();return r?s.get("name")===r&&Q2(u,n):Q2(u,n)})},e.prototype.destroy=function(){(0,S.S6)(this.actions.slice(),function(r){r.destroy()}),this.view=null,this.event=null,this.actions=null,this.cacheMap=null},e}();const g3=p3;var y3=function(){function e(r,t){this.view=r,this.cfg=t}return e.prototype.init=function(){this.initEvents()},e.prototype.initEvents=function(){},e.prototype.clearEvents=function(){},e.prototype.destroy=function(){this.clearEvents()},e}();function eC(e,r,t){var n=e.split(":"),s=n[0],u=r.getAction(s)||function Mg(e,r){var t=cv[e],n=null;return t&&((n=new(0,t.ActionClass)(r,t.cfg)).name=e,n.init()),n}(s,r);if(!u)throw new Error("There is no action named ".concat(s));return{action:u,methodName:n[1],arg:t}}function rC(e){var r=e.action,t=e.methodName,n=e.arg;if(!r[t])throw new Error("Action(".concat(r.name,") doesn't have a method called ").concat(t));r[t](n)}var x3=function(e){function r(t,n){var s=e.call(this,t,n)||this;return s.callbackCaches={},s.emitCaches={},s.steps=n,s}return(0,E.ZT)(r,e),r.prototype.init=function(){this.initContext(),e.prototype.init.call(this)},r.prototype.destroy=function(){e.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},r.prototype.initEvents=function(){var t=this;(0,S.S6)(this.steps,function(n,s){(0,S.S6)(n,function(u){var h=t.getActionCallback(s,u);h&&t.bindEvent(u.trigger,h)})})},r.prototype.clearEvents=function(){var t=this;(0,S.S6)(this.steps,function(n,s){(0,S.S6)(n,function(u){var h=t.getActionCallback(s,u);h&&t.offEvent(u.trigger,h)})})},r.prototype.initContext=function(){var n=new g3(this.view);this.context=n,(0,S.S6)(this.steps,function(u){(0,S.S6)(u,function(h){if((0,S.mf)(h.action))h.actionObject={action:G2(h.action,n),methodName:"execute"};else if((0,S.HD)(h.action))h.actionObject=eC(h.action,n,h.arg);else if((0,S.kJ)(h.action)){var d=h.action,p=(0,S.kJ)(h.arg)?h.arg:[h.arg];h.actionObject=[],(0,S.S6)(d,function(y,x){h.actionObject.push(eC(y,n,p[x]))})}})})},r.prototype.isAllowStep=function(t){var n=this.currentStepName;if(n===t||"showEnable"===t)return!0;if("processing"===t)return"start"===n;if("start"===t)return"processing"!==n;if("end"===t)return"processing"===n||"start"===n;if("rollback"===t){if(this.steps.end)return"end"===n;if("start"===n)return!0}return!1},r.prototype.isAllowExecute=function(t,n){if(this.isAllowStep(t)){var s=this.getKey(t,n);return(!n.once||!this.emitCaches[s])&&(!n.isEnable||n.isEnable(this.context))}return!1},r.prototype.enterStep=function(t){this.currentStepName=t,this.emitCaches={}},r.prototype.afterExecute=function(t,n){"showEnable"!==t&&this.currentStepName!==t&&this.enterStep(t);var s=this.getKey(t,n);this.emitCaches[s]=!0},r.prototype.getKey=function(t,n){return t+n.trigger+n.action},r.prototype.getActionCallback=function(t,n){var s=this,u=this.context,h=this.callbackCaches,d=n.actionObject;if(n.action&&d){var p=this.getKey(t,n);if(!h[p]){var y=function(x){u.event=x,s.isAllowExecute(t,n)?((0,S.kJ)(d)?(0,S.S6)(d,function(w){u.event=x,rC(w)}):(u.event=x,rC(d)),s.afterExecute(t,n),n.callback&&(u.event=x,n.callback(u))):u.event=null};h[p]=n.debounce?(0,S.Ds)(y,n.debounce.wait,n.debounce.immediate):n.throttle?(0,S.P2)(y,n.throttle.wait,{leading:n.throttle.leading,trailing:n.throttle.trailing}):y}return h[p]}return null},r.prototype.bindEvent=function(t,n){var s=t.split(":");"window"===s[0]?window.addEventListener(s[1],n):"document"===s[0]?document.addEventListener(s[1],n):this.view.on(t,n)},r.prototype.offEvent=function(t,n){var s=t.split(":");"window"===s[0]?window.removeEventListener(s[1],n):"document"===s[0]?document.removeEventListener(s[1],n):this.view.off(t,n)},r}(y3);const C3=x3;var nC={};function wr(e,r){nC[(0,S.vl)(e)]=r}function Rg(e){var r,t={point:{default:{fill:e.pointFillColor,r:e.pointSize,stroke:e.pointBorderColor,lineWidth:e.pointBorder,fillOpacity:e.pointFillOpacity},active:{stroke:e.pointActiveBorderColor,lineWidth:e.pointActiveBorder},selected:{stroke:e.pointSelectedBorderColor,lineWidth:e.pointSelectedBorder},inactive:{fillOpacity:e.pointInactiveFillOpacity,strokeOpacity:e.pointInactiveBorderOpacity}},hollowPoint:{default:{fill:e.hollowPointFillColor,lineWidth:e.hollowPointBorder,stroke:e.hollowPointBorderColor,strokeOpacity:e.hollowPointBorderOpacity,r:e.hollowPointSize},active:{stroke:e.hollowPointActiveBorderColor,strokeOpacity:e.hollowPointActiveBorderOpacity},selected:{lineWidth:e.hollowPointSelectedBorder,stroke:e.hollowPointSelectedBorderColor,strokeOpacity:e.hollowPointSelectedBorderOpacity},inactive:{strokeOpacity:e.hollowPointInactiveBorderOpacity}},area:{default:{fill:e.areaFillColor,fillOpacity:e.areaFillOpacity,stroke:null},active:{fillOpacity:e.areaActiveFillOpacity},selected:{fillOpacity:e.areaSelectedFillOpacity},inactive:{fillOpacity:e.areaInactiveFillOpacity}},hollowArea:{default:{fill:null,stroke:e.hollowAreaBorderColor,lineWidth:e.hollowAreaBorder,strokeOpacity:e.hollowAreaBorderOpacity},active:{fill:null,lineWidth:e.hollowAreaActiveBorder},selected:{fill:null,lineWidth:e.hollowAreaSelectedBorder},inactive:{strokeOpacity:e.hollowAreaInactiveBorderOpacity}},interval:{default:{fill:e.intervalFillColor,fillOpacity:e.intervalFillOpacity},active:{stroke:e.intervalActiveBorderColor,lineWidth:e.intervalActiveBorder},selected:{stroke:e.intervalSelectedBorderColor,lineWidth:e.intervalSelectedBorder},inactive:{fillOpacity:e.intervalInactiveFillOpacity,strokeOpacity:e.intervalInactiveBorderOpacity}},hollowInterval:{default:{fill:e.hollowIntervalFillColor,stroke:e.hollowIntervalBorderColor,lineWidth:e.hollowIntervalBorder,strokeOpacity:e.hollowIntervalBorderOpacity},active:{stroke:e.hollowIntervalActiveBorderColor,lineWidth:e.hollowIntervalActiveBorder,strokeOpacity:e.hollowIntervalActiveBorderOpacity},selected:{stroke:e.hollowIntervalSelectedBorderColor,lineWidth:e.hollowIntervalSelectedBorder,strokeOpacity:e.hollowIntervalSelectedBorderOpacity},inactive:{stroke:e.hollowIntervalInactiveBorderColor,lineWidth:e.hollowIntervalInactiveBorder,strokeOpacity:e.hollowIntervalInactiveBorderOpacity}},line:{default:{stroke:e.lineBorderColor,lineWidth:e.lineBorder,strokeOpacity:e.lineBorderOpacity,fill:null,lineAppendWidth:10,lineCap:"round",lineJoin:"round"},active:{lineWidth:e.lineActiveBorder},selected:{lineWidth:e.lineSelectedBorder},inactive:{strokeOpacity:e.lineInactiveBorderOpacity}}},n=function _3(e){return{title:{autoRotate:!0,position:"center",spacing:e.axisTitleSpacing,style:{fill:e.axisTitleTextFillColor,fontSize:e.axisTitleTextFontSize,lineHeight:e.axisTitleTextLineHeight,textBaseline:"middle",fontFamily:e.fontFamily},iconStyle:{fill:e.axisDescriptionIconFillColor}},label:{autoRotate:!1,autoEllipsis:!1,autoHide:{type:"equidistance",cfg:{minGap:6}},offset:e.axisLabelOffset,style:{fill:e.axisLabelFillColor,fontSize:e.axisLabelFontSize,lineHeight:e.axisLabelLineHeight,fontFamily:e.fontFamily}},line:{style:{lineWidth:e.axisLineBorder,stroke:e.axisLineBorderColor}},grid:{line:{type:"line",style:{stroke:e.axisGridBorderColor,lineWidth:e.axisGridBorder,lineDash:e.axisGridLineDash}},alignTick:!0,animate:!0},tickLine:{style:{lineWidth:e.axisTickLineBorder,stroke:e.axisTickLineBorderColor},alignTick:!0,length:e.axisTickLineLength},subTickLine:null,animate:!0}}(e),s=function _a(e){return{title:null,marker:{symbol:"circle",spacing:e.legendMarkerSpacing,style:{r:e.legendCircleMarkerSize,fill:e.legendMarkerColor}},itemName:{spacing:5,style:{fill:e.legendItemNameFillColor,fontFamily:e.fontFamily,fontSize:e.legendItemNameFontSize,lineHeight:e.legendItemNameLineHeight,fontWeight:e.legendItemNameFontWeight,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:"#D8D8D8"},markerStyle:{fill:"#D8D8D8",stroke:"#D8D8D8"}},inactive:{nameStyle:{fill:"#D8D8D8"},markerStyle:{opacity:.2}}},flipPage:!0,pageNavigator:{marker:{style:{size:e.legendPageNavigatorMarkerSize,inactiveFill:e.legendPageNavigatorMarkerInactiveFillColor,inactiveOpacity:e.legendPageNavigatorMarkerInactiveFillOpacity,fill:e.legendPageNavigatorMarkerFillColor,opacity:e.legendPageNavigatorMarkerFillOpacity}},text:{style:{fill:e.legendPageNavigatorTextFillColor,fontSize:e.legendPageNavigatorTextFontSize}}},animate:!1,maxItemWidth:200,itemSpacing:e.legendItemSpacing,itemMarginBottom:e.legendItemMarginBottom,padding:e.legendPadding}}(e);return{background:e.backgroundColor,defaultColor:e.brandColor,subColor:e.subColor,semanticRed:e.paletteSemanticRed,semanticGreen:e.paletteSemanticGreen,padding:"auto",fontFamily:e.fontFamily,columnWidthRatio:.5,maxColumnWidth:null,minColumnWidth:null,roseWidthRatio:.9999999,multiplePieWidthRatio:1/1.3,colors10:e.paletteQualitative10,colors20:e.paletteQualitative20,sequenceColors:e.paletteSequence,shapes:{point:["hollow-circle","hollow-square","hollow-bowtie","hollow-diamond","hollow-hexagon","hollow-triangle","hollow-triangle-down","circle","square","bowtie","diamond","hexagon","triangle","triangle-down","cross","tick","plus","hyphen","line"],line:["line","dash","dot","smooth"],area:["area","smooth","line","smooth-line"],interval:["rect","hollow-rect","line","tick"]},sizes:[1,10],geometries:{interval:{rect:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:function(u){var h=u.geometry.coordinate;if(h.isPolar&&h.isTransposed){var d=kh(u.getModel(),h),x=(d.startAngle+d.endAngle)/2,M=7.5*Math.cos(x),T=7.5*Math.sin(x);return{matrix:an.vs(null,[["t",M,T]])}}return t.interval.selected}}},"hollow-rect":{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},line:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},tick:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},funnel:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}},pyramid:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},line:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},dot:{default:{style:(0,E.pi)((0,E.pi)({},t.line.default),{lineCap:null,lineDash:[1,1]})},active:{style:(0,E.pi)((0,E.pi)({},t.line.active),{lineCap:null,lineDash:[1,1]})},inactive:{style:(0,E.pi)((0,E.pi)({},t.line.inactive),{lineCap:null,lineDash:[1,1]})},selected:{style:(0,E.pi)((0,E.pi)({},t.line.selected),{lineCap:null,lineDash:[1,1]})}},dash:{default:{style:(0,E.pi)((0,E.pi)({},t.line.default),{lineCap:null,lineDash:[5.5,1]})},active:{style:(0,E.pi)((0,E.pi)({},t.line.active),{lineCap:null,lineDash:[5.5,1]})},inactive:{style:(0,E.pi)((0,E.pi)({},t.line.inactive),{lineCap:null,lineDash:[5.5,1]})},selected:{style:(0,E.pi)((0,E.pi)({},t.line.selected),{lineCap:null,lineDash:[5.5,1]})}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hvh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}},polygon:{polygon:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},point:{circle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},square:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},bowtie:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},diamond:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},hexagon:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},triangle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"triangle-down":{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"hollow-circle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-square":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-bowtie":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-diamond":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-hexagon":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle-down":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},cross:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},tick:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},plus:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},hyphen:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},line:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}}},area:{area:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},smooth:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},line:{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}},"smooth-line":{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}}},schema:{candle:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},box:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}}},edge:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},arc:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}},violin:{violin:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hollow:{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}},"hollow-smooth":{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}}}},components:{axis:{common:n,top:{position:"top",grid:null,title:null,verticalLimitLength:.5},bottom:{position:"bottom",grid:null,title:null,verticalLimitLength:.5},left:{position:"left",title:null,line:null,tickLine:null,verticalLimitLength:1/3},right:{position:"right",title:null,line:null,tickLine:null,verticalLimitLength:1/3},circle:{title:null,grid:(0,S.b$)({},n.grid,{line:{type:"line"}})},radius:{title:null,grid:(0,S.b$)({},n.grid,{line:{type:"circle"}})}},legend:{common:s,right:{layout:"vertical",padding:e.legendVerticalPadding},left:{layout:"vertical",padding:e.legendVerticalPadding},top:{layout:"horizontal",padding:e.legendHorizontalPadding},bottom:{layout:"horizontal",padding:e.legendHorizontalPadding},continuous:{title:null,background:null,track:{},rail:{type:"color",size:e.sliderRailHeight,defaultLength:e.sliderRailWidth,style:{fill:e.sliderRailFillColor,stroke:e.sliderRailBorderColor,lineWidth:e.sliderRailBorder}},label:{align:"rail",spacing:4,formatter:null,style:{fill:e.sliderLabelTextFillColor,fontSize:e.sliderLabelTextFontSize,lineHeight:e.sliderLabelTextLineHeight,textBaseline:"middle",fontFamily:e.fontFamily}},handler:{size:e.sliderHandlerWidth,style:{fill:e.sliderHandlerFillColor,stroke:e.sliderHandlerBorderColor}},slidable:!0,padding:s.padding}},tooltip:{showContent:!0,follow:!0,showCrosshairs:!1,showMarkers:!0,shared:!1,enterable:!1,position:"auto",marker:{symbol:"circle",stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,r:4},crosshairs:{line:{style:{stroke:e.tooltipCrosshairsBorderColor,lineWidth:e.tooltipCrosshairsBorder}},text:null,textBackground:{padding:2,style:{fill:"rgba(0, 0, 0, 0.25)",lineWidth:0,stroke:null}},follow:!1},domStyles:(r={},r["".concat(So)]={position:"absolute",visibility:"hidden",zIndex:8,transition:"left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s",backgroundColor:e.tooltipContainerFillColor,opacity:e.tooltipContainerFillOpacity,boxShadow:e.tooltipContainerShadow,borderRadius:"".concat(e.tooltipContainerBorderRadius,"px"),color:e.tooltipTextFillColor,fontSize:"".concat(e.tooltipTextFontSize,"px"),fontFamily:e.fontFamily,lineHeight:"".concat(e.tooltipTextLineHeight,"px"),padding:"0 12px 0 12px"},r["".concat(ds)]={marginBottom:"12px",marginTop:"12px"},r["".concat(Mo)]={margin:0,listStyleType:"none",padding:0},r["".concat(tl)]={listStyleType:"none",padding:0,marginBottom:"12px",marginTop:"12px",marginLeft:0,marginRight:0},r["".concat(jd)]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},r["".concat(Jd)]={display:"inline-block",float:"right",marginLeft:"30px"},r)},annotation:{arc:{style:{stroke:e.annotationArcBorderColor,lineWidth:e.annotationArcBorder},animate:!0},line:{style:{stroke:e.annotationLineBorderColor,lineDash:e.annotationLineDash,lineWidth:e.annotationLineBorder},text:{position:"start",autoRotate:!0,style:{fill:e.annotationTextFillColor,stroke:e.annotationTextBorderColor,lineWidth:e.annotationTextBorder,fontSize:e.annotationTextFontSize,textAlign:"start",fontFamily:e.fontFamily,textBaseline:"bottom"}},animate:!0},text:{style:{fill:e.annotationTextFillColor,stroke:e.annotationTextBorderColor,lineWidth:e.annotationTextBorder,fontSize:e.annotationTextFontSize,textBaseline:"middle",textAlign:"start",fontFamily:e.fontFamily},animate:!0},region:{top:!1,style:{lineWidth:e.annotationRegionBorder,stroke:e.annotationRegionBorderColor,fill:e.annotationRegionFillColor,fillOpacity:e.annotationRegionFillOpacity},animate:!0},image:{top:!1,animate:!0},dataMarker:{top:!0,point:{style:{r:3,stroke:e.brandColor,lineWidth:2}},line:{style:{stroke:e.annotationLineBorderColor,lineWidth:e.annotationLineBorder},length:e.annotationDataMarkerLineLength},text:{style:{textAlign:"start",fill:e.annotationTextFillColor,stroke:e.annotationTextBorderColor,lineWidth:e.annotationTextBorder,fontSize:e.annotationTextFontSize,fontFamily:e.fontFamily}},direction:"upward",autoAdjust:!0,animate:!0},dataRegion:{style:{region:{fill:e.annotationRegionFillColor,fillOpacity:e.annotationRegionFillOpacity},text:{textAlign:"center",textBaseline:"bottom",fill:e.annotationTextFillColor,stroke:e.annotationTextBorderColor,lineWidth:e.annotationTextBorder,fontSize:e.annotationTextFontSize,fontFamily:e.fontFamily}},animate:!0}},slider:{common:{padding:[8,8,8,8],backgroundStyle:{fill:e.cSliderBackgroundFillColor,opacity:e.cSliderBackgroundFillOpacity},foregroundStyle:{fill:e.cSliderForegroundFillColor,opacity:e.cSliderForegroundFillOpacity},handlerStyle:{width:e.cSliderHandlerWidth,height:e.cSliderHandlerHeight,fill:e.cSliderHandlerFillColor,opacity:e.cSliderHandlerFillOpacity,stroke:e.cSliderHandlerBorderColor,lineWidth:e.cSliderHandlerBorder,radius:e.cSliderHandlerBorderRadius,highLightFill:e.cSliderHandlerHighlightFillColor},textStyle:{fill:e.cSliderTextFillColor,opacity:e.cSliderTextFillOpacity,fontSize:e.cSliderTextFontSize,lineHeight:e.cSliderTextLineHeight,fontWeight:e.cSliderTextFontWeight,stroke:e.cSliderTextBorderColor,lineWidth:e.cSliderTextBorder}}},scrollbar:{common:{padding:[8,8,8,8]},default:{style:{trackColor:e.scrollbarTrackFillColor,thumbColor:e.scrollbarThumbFillColor}},hover:{style:{thumbColor:e.scrollbarThumbHighlightFillColor}}}},labels:{offset:12,style:{fill:e.labelFillColor,fontSize:e.labelFontSize,fontFamily:e.fontFamily,stroke:e.labelBorderColor,lineWidth:e.labelBorder},fillColorDark:e.labelFillColorDark,fillColorLight:e.labelFillColorLight,autoRotate:!0},innerLabels:{style:{fill:e.innerLabelFillColor,fontSize:e.innerLabelFontSize,fontFamily:e.fontFamily,stroke:e.innerLabelBorderColor,lineWidth:e.innerLabelBorder},autoRotate:!0},overflowLabels:{style:{fill:e.overflowLabelFillColor,fontSize:e.overflowLabelFontSize,fontFamily:e.fontFamily,stroke:e.overflowLabelBorderColor,lineWidth:e.overflowLabelBorder}},pieLabels:{labelHeight:14,offset:10,labelLine:{style:{lineWidth:e.labelLineBorder}},autoRotate:!0}}}var Wr_65="#595959",Wr_25="#BFBFBF",Fg=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#6F5EF9","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],S3=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#6F5EF9","#D3CEFD","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],Ha=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],Dg=function(e){void 0===e&&(e={});var r=e.paletteQualitative10,t=void 0===r?Fg:r,n=e.paletteQualitative20,u=e.brandColor,h=void 0===u?t[0]:u;return(0,E.pi)((0,E.pi)({},{backgroundColor:"transparent",brandColor:h,subColor:"rgba(0,0,0,0.05)",paletteQualitative10:t,paletteQualitative20:void 0===n?S3:n,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",paletteSequence:Ha,fontFamily:'"Segoe UI", Roboto, "Helvetica Neue", Arial,\n    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",\n    "Noto Color Emoji"',axisLineBorderColor:Wr_25,axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:Wr_65,axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisDescriptionIconFillColor:"#D9D9D9",axisTickLineBorderColor:Wr_25,axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:"#D9D9D9",axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:"#8C8C8C",axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:"#D9D9D9",axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:"#8C8C8C",legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:h,legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:Wr_65,legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:"#000",legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:"#000",legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:"#8C8C8C",legendPageNavigatorTextFontSize:12,sliderRailFillColor:"#D9D9D9",sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:"#8C8C8C",sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:"#F0F0F0",sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:Wr_25,annotationArcBorderColor:"#D9D9D9",annotationArcBorder:1,annotationLineBorderColor:Wr_25,annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:Wr_65,annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:"#000",annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:Wr_25,tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"rgb(255, 255, 255)",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 0px 10px #aeaeae",tooltipContainerBorderRadius:3,tooltipTextFillColor:Wr_65,tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:Wr_65,labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:"#FFFFFF",innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:Wr_65,overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:"#FFFFFF",overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:Wr_25,cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#000",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(0,0,0,0)",scrollbarThumbFillColor:"rgba(0,0,0,0.15)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.2)",pointFillColor:h,pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:"#FFFFFF",pointBorderOpacity:1,pointActiveBorderColor:"#000",pointSelectedBorder:2,pointSelectedBorderColor:"#000",pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:h,hollowPointBorderOpacity:.95,hollowPointFillColor:"#FFFFFF",hollowPointActiveBorder:1,hollowPointActiveBorderColor:"#000",hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:"#000",hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:h,lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:h,areaFillOpacity:.25,areaActiveFillColor:h,areaActiveFillOpacity:.5,areaSelectedFillColor:h,areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:h,hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:"#000",hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:"#000",hollowAreaInactiveBorderOpacity:.3,intervalFillColor:h,intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:"#000",intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:"#000",intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:h,hollowIntervalBorderOpacity:1,hollowIntervalFillColor:"#FFFFFF",hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:"#000",hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:"#000",hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3}),e)};function xs(e){var r=e.styleSheet,t=void 0===r?{}:r,n=(0,E._T)(e,["styleSheet"]),s=Dg(t);return(0,S.b$)({},Rg(s),n)}Dg();var kg={default:xs({})};function uc(e){return(0,S.U2)(kg,(0,S.vl)(e),kg.default)}function aC(e,r,t){var n=t.translate(e),s=t.translate(r);return(0,S.vQ)(n,s)}function oC(e,r,t){var n=t.coordinate,s=t.getYScale(),u=s.field,h=n.invert(r),d=s.invert(h.y);return(0,S.sE)(e,function(y){var x=y[Jr];return x[u][0]<=d&&x[u][1]>=d})||e[e.length-1]}var T3=(0,S.HP)(function(e){if(e.isCategory)return 1;for(var r=e.values,t=r.length,n=e.translate(r[0]),s=n,u=0;u<t;u++){var d=e.translate(r[u]);d<n&&(n=d),d>s&&(s=d)}return(s-n)/(t-1)});function sC(e){var r,t,s,n=function Kr(e){var r=(0,S.VO)(e.attributes);return(0,S.hX)(r,function(t){return(0,S.FX)(Gu,t.type)})}(e);try{for(var u=(0,E.XA)(n),h=u.next();!h.done;h=u.next()){var d=h.value,p=d.getScale(d.type);if(p&&p.isLinear&&"cat"!==To(p,(0,S.U2)(e.scaleDefs,p.field),d.type,e.type)){s=p;break}}}catch(T){r={error:T}}finally{try{h&&!h.done&&(t=u.return)&&t.call(u)}finally{if(r)throw r.error}}var w=e.getXScale(),M=e.getYScale();return s||M||w}function Pg(e,r,t){if(0===r.length)return null;var n=t.type,s=t.getXScale(),u=t.getYScale(),h=s.field,d=u.field,p=null;if("heatmap"===n||"point"===n){for(var x=t.coordinate.invert(e),w=s.invert(x.x),M=u.invert(x.y),T=1/0,L=0;L<r.length;L++){var R=r[L],D=R[Jr],k=Math.pow(D[h]-w,2)+Math.pow(D[d]-M,2);k<T&&(T=k,p=R)}return p}var z=r[0],G=r[r.length-1],U=function b3(e,r){var t=r.coordinate,n=r.getXScale(),s=n.range,u=s[s.length-1],h=s[0],p=t.invert(e).x;return t.isPolar&&p>(1+u)/2&&(p=h),n.translate(n.invert(p))}(e,t),q=z[Jr][h],o=G[Jr][h],i=u.isLinear&&(0,S.kJ)(z[Jr][d]);if((0,S.kJ)(q)){for(L=0;L<r.length;L++)if(s.translate((D=(l=r[L])[Jr])[h][0])<=U&&s.translate(D[h][1])>=U){if(!i){p=l;break}(0,S.kJ)(p)||(p=[]),p.push(l)}(0,S.kJ)(p)&&(p=oC(p,e,t))}else{var c=void 0;if(s.isLinear||"timeCat"===s.type){if((U>s.translate(o)||U<s.translate(q))&&(U>s.max||U<s.min))return null;for(var f=0,v=r.length-1,g=void 0;f<=v;){var m=r[g=Math.floor((f+v)/2)][Jr][h];if(aC(m,U,s))return r[g];s.translate(m)<=s.translate(U)?(f=g+1,G=r[g],c=r[g+1]):(0===v&&(G=r[0]),v=g-1)}}else{for(L=0;L<r.length;L++){var l;if(aC((D=(l=r[L])[Jr])[h],U,s)){if(!i){p=l;break}(0,S.kJ)(p)||(p=[]),p.push(l)}else s.translate(D[h])<=U&&(G=l,c=r[L+1])}(0,S.kJ)(p)&&(p=oC(p,e,t))}G&&c&&Math.abs(s.translate(G[Jr][h])-U)>Math.abs(s.translate(c[Jr][h])-U)&&(G=c)}var _=T3(t.getXScale());return!p&&Math.abs(s.translate(G[Jr][h])-U)<=_/2&&(p=G),p}function zg(e,r,t,n){var s,u;void 0===t&&(t=""),void 0===n&&(n=!1);var w,M,h=e[Jr],d=function Bg(e,r,t){var s=r.getAttribute("position").getFields(),u=r.scales,h=(0,S.mf)(t)||!t?s[0]:t,d=u[h],p=d?d.getText(e[h]):e[h]||h;return(0,S.mf)(t)?t(p,e):p}(h,r,t),p=r.tooltipOption,y=r.theme.defaultColor,x=[];function T(l,c){(n||!(0,S.UM)(c)&&""!==c)&&x.push({title:d,data:h,mappingData:e,name:l,value:c,color:e.color||y,marker:!0})}if((0,S.Kn)(p)){var L=p.fields,R=p.callback;if(R){var D=L.map(function(l){return e[Jr][l]}),k=R.apply(void 0,(0,E.ev)([],(0,E.CR)(D),!1)),z=(0,E.pi)({data:e[Jr],mappingData:e,title:d,color:e.color||y,marker:!0},k);x.push(z)}else{var G=r.scales;try{for(var U=(0,E.XA)(L),q=U.next();!q.done;q=U.next()){var a=q.value;if(!(0,S.UM)(h[a])){var o=G[a];T(w=nc(o),M=o.getText(h[a]))}}}catch(l){s={error:l}}finally{try{q&&!q.done&&(u=U.return)&&u.call(U)}finally{if(s)throw s.error}}}}else{var i=sC(r);M=function A3(e,r){var n=e[r.field];return(0,S.kJ)(n)?n.map(function(u){return r.getText(u)}).join("-"):r.getText(n)}(h,i),w=function E3(e,r){var t,n=r.getGroupScales();return n.length&&(t=n[0]),t?t.getText(e[t.field]):nc(sC(r))}(h,r),T(w,M)}return x}function lC(e,r,t,n){var s,u,h=n.showNil,d=[],p=e.dataArray;if(!(0,S.xb)(p)){e.sort(p);try{for(var y=(0,E.XA)(p),x=y.next();!x.done;x=y.next()){var M=Pg(r,x.value,e);if(M){var T=e.getElementId(M);if("heatmap"===e.type||e.elementsMap[T].visible){var R=zg(M,e,t,h);R.length&&d.push(R)}}}}catch(D){s={error:D}}finally{try{x&&!x.done&&(u=y.return)&&u.call(y)}finally{if(s)throw s.error}}}return d}function uC(e,r,t,n){var s=n.showNil,u=[],d=e.container.getShape(r.x,r.y);if(d&&d.get("visible")&&d.get("origin")){var y=zg(d.get("origin").mappingData,e,t,s);y.length&&u.push(y)}return u}function Ng(e,r,t){var n,s,u=[],h=e.geometries,d=t.shared,p=t.title,y=t.reversed;try{for(var x=(0,E.XA)(h),w=x.next();!w.done;w=x.next()){var M=w.value;if(M.visible&&!1!==M.tooltipOption){var T=M.type,L=void 0;(L=["point","edge","polygon"].includes(T)?uC(M,r,p,t):["area","line","path","heatmap"].includes(T)||!1!==d?lC(M,r,p,t):uC(M,r,p,t)).length&&(y&&L.reverse(),u.push(L))}}}catch(R){n={error:R}}finally{try{w&&!w.done&&(s=x.return)&&s.call(x)}finally{if(n)throw n.error}}return u}function vv(e){void 0===e&&(e=0);var r=(0,S.kJ)(e)?e:[e];switch(r.length){case 0:r=[0,0,0,0];break;case 1:r=new Array(4).fill(r[0]);break;case 2:r=(0,E.ev)((0,E.ev)([],(0,E.CR)(r),!1),(0,E.CR)(r),!1);break;case 3:r=(0,E.ev)((0,E.ev)([],(0,E.CR)(r),!1),[r[1]],!1);break;default:r=r.slice(0,4)}return r}var pv={};function Eo(e,r){pv[e]=r}function O3(e){return pv[e]}var R3=function(){function e(r){this.option=this.wrapperOption(r)}return e.prototype.update=function(r){return this.option=this.wrapperOption(r),this},e.prototype.hasAction=function(r){return(0,S.G)(this.option.actions,function(n){return n[0]===r})},e.prototype.create=function(r,t){var n=this.option,s=n.type,h="theta"===s,d=(0,E.pi)({start:r,end:t},n.cfg),p=function(e){return Fn[e.toLowerCase()]}(h?"polar":s);return this.coordinate=new p(d),this.coordinate.type=s,h&&(this.hasAction("transpose")||this.transpose()),this.execActions(),this.coordinate},e.prototype.adjust=function(r,t){return this.coordinate.update({start:r,end:t}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},e.prototype.rotate=function(r){return this.option.actions.push(["rotate",r]),this},e.prototype.reflect=function(r){return this.option.actions.push(["reflect",r]),this},e.prototype.scale=function(r,t){return this.option.actions.push(["scale",r,t]),this},e.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},e.prototype.getOption=function(){return this.option},e.prototype.getCoordinate=function(){return this.coordinate},e.prototype.wrapperOption=function(r){return(0,E.pi)({type:"rect",actions:[],cfg:{}},r)},e.prototype.execActions=function(r){var t=this;(0,S.S6)(this.option.actions,function(s){var u,h=(0,E.CR)(s),d=h[0],p=h.slice(1);((0,S.UM)(r)||r.includes(d))&&(u=t.coordinate)[d].apply(u,(0,E.ev)([],(0,E.CR)(p),!1))})},e}();const Hg=R3;var F3=function(){function e(r,t,n){this.view=r,this.gEvent=t,this.data=n,this.type=t.type}return e.fromData=function(r,t,n){return new e(r,new qn.Event(t,{}),n)},Object.defineProperty(e.prototype,"target",{get:function(){return this.gEvent.target},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"event",{get:function(){return this.gEvent.originalEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return this.gEvent.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.gEvent.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clientX",{get:function(){return this.gEvent.clientX},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clientY",{get:function(){return this.gEvent.clientY},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return"[Event (type=".concat(this.type,")]")},e.prototype.clone=function(){return new e(this.view,this.gEvent,this.data)},e}();const sn=F3;function D3(e){var r=e.getController("axis"),t=e.getController("legend"),n=e.getController("annotation");[r,e.getController("slider"),e.getController("scrollbar"),t,n].forEach(function(h){h&&h.layout()})}var k3=function(){function e(){this.scales=new Map,this.syncScales=new Map}return e.prototype.createScale=function(r,t,n,s){var u=n,h=this.getScaleMeta(s);if(0===t.length&&h){var d=h.scale,p={type:d.type};d.isCategory&&(p.values=d.values),u=(0,S.b$)(p,h.scaleDef,n)}var y=function n3(e,r,t){var n=r||[];if((0,S.hj)(e)||(0,S.UM)((0,S.Wx)(n,e))&&(0,S.xb)(t))return new(Vu("identity"))({field:e.toString(),values:[e]});var u=(0,S.I)(n,e),h=(0,S.U2)(t,"type",function r3(e){var r="linear";return e3.test(e)?r="timeCat":(0,S.HD)(e)&&(r="cat"),r}(u[0]));return new(Vu(h))((0,E.pi)({field:e,values:u},t))}(r,t,u);return this.cacheScale(y,n,s),y},e.prototype.sync=function(r,t){var n=this;this.syncScales.forEach(function(s,u){var h=Number.MAX_SAFE_INTEGER,d=Number.MIN_SAFE_INTEGER,p=[];(0,S.S6)(s,function(y){var x=n.getScale(y);d=(0,S.hj)(x.max)?Math.max(d,x.max):d,h=(0,S.hj)(x.min)?Math.min(h,x.min):h,(0,S.S6)(x.values,function(w){p.includes(w)||p.push(w)})}),(0,S.S6)(s,function(y){var x=n.getScale(y);if(x.isContinuous)x.change({min:h,max:d,values:p});else if(x.isCategory){var w=x.range,M=n.getScaleMeta(y);p&&!(0,S.U2)(M,["scaleDef","range"])&&(w=vs((0,S.b$)({},x,{values:p}),r,t)),x.change({values:p,range:w})}})})},e.prototype.cacheScale=function(r,t,n){var s=this.getScaleMeta(n);s&&s.scale.type===r.type?(function i3(e,r){if("identity"!==e.type&&"identity"!==r.type){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);e.change(t)}}(s.scale,r),s.scaleDef=t):this.scales.set(n,s={key:n,scale:r,scaleDef:t});var u=this.getSyncKey(s);if(s.syncKey=u,this.removeFromSyncScales(n),u){var h=this.syncScales.get(u);h||this.syncScales.set(u,h=[]),h.push(n)}},e.prototype.getScale=function(r){var t=this.getScaleMeta(r);if(!t){var n=(0,S.Z$)(r.split("-")),s=this.syncScales.get(n);s&&s.length&&(t=this.getScaleMeta(s[0]))}return t&&t.scale},e.prototype.deleteScale=function(r){var t=this.getScaleMeta(r);if(t){var s=this.syncScales.get(t.syncKey);if(s&&s.length){var u=s.indexOf(r);-1!==u&&s.splice(u,1)}}this.scales.delete(r)},e.prototype.clear=function(){this.scales.clear(),this.syncScales.clear()},e.prototype.removeFromSyncScales=function(r){var t=this;this.syncScales.forEach(function(n,s){var u=n.indexOf(r);if(-1!==u)return n.splice(u,1),0===n.length&&t.syncScales.delete(s),!1})},e.prototype.getSyncKey=function(r){var s=r.scale.field,u=(0,S.U2)(r.scaleDef,["sync"]);return!0===u?s:!1===u?void 0:u},e.prototype.getScaleMeta=function(r){return this.scales.get(r)},e}(),gv=function(){function e(r,t,n,s){void 0===r&&(r=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===s&&(s=0),this.top=r,this.right=t,this.bottom=n,this.left=s}return e.instance=function(r,t,n,s){return void 0===r&&(r=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===s&&(s=0),new e(r,t,n,s)},e.prototype.max=function(r){var t=(0,E.CR)(r,4),s=t[1],u=t[2],h=t[3];return this.top=Math.max(this.top,t[0]),this.right=Math.max(this.right,s),this.bottom=Math.max(this.bottom,u),this.left=Math.max(this.left,h),this},e.prototype.shrink=function(r){var t=(0,E.CR)(r,4),s=t[1],u=t[2],h=t[3];return this.top+=t[0],this.right+=s,this.bottom+=u,this.left+=h,this},e.prototype.inc=function(r,t){var n=r.width,s=r.height;switch(t){case Ne.TOP:case Ne.TOP_LEFT:case Ne.TOP_RIGHT:this.top+=s;break;case Ne.RIGHT:case Ne.RIGHT_TOP:case Ne.RIGHT_BOTTOM:this.right+=n;break;case Ne.BOTTOM:case Ne.BOTTOM_LEFT:case Ne.BOTTOM_RIGHT:this.bottom+=s;break;case Ne.LEFT:case Ne.LEFT_TOP:case Ne.LEFT_BOTTOM:this.left+=n}return this},e.prototype.getPadding=function(){return[this.top,this.right,this.bottom,this.left]},e.prototype.clone=function(){return new(e.bind.apply(e,(0,E.ev)([void 0],(0,E.CR)(this.getPadding()),!1)))},e}();function P3(e,r,t){var n=t.instance();r.forEach(function(s){s.autoPadding=n.max(s.autoPadding.getPadding())})}var cC=function(e){function r(t){var n=e.call(this,{visible:t.visible})||this;n.views=[],n.geometries=[],n.controllers=[],n.interactions={},n.limitInPlot=!1,n.options={data:[],animate:!0},n.usedControllers=function I3(){return Object.keys(pv)}(),n.scalePool=new k3,n.layoutFunc=D3,n.isPreMouseInPlot=!1,n.isDataChanged=!1,n.isCoordinateChanged=!1,n.createdScaleKeys=new Map,n.onCanvasEvent=function(G){var U=G.name;if(!U.includes(":")){var q=n.createViewEvent(G);n.doPlotEvent(q),n.emit(U,q)}},n.onDelegateEvents=function(G){var U=G.name;if(U.includes(":")){var q=n.createViewEvent(G);n.emit(U,q)}};var s=t.id,u=void 0===s?(0,S.EL)("view"):s,d=t.canvas,p=t.backgroundGroup,y=t.middleGroup,x=t.foregroundGroup,w=t.region,M=void 0===w?{start:{x:0,y:0},end:{x:1,y:1}}:w,T=t.padding,L=t.appendPadding,R=t.theme,D=t.options,k=t.limitInPlot,z=t.syncViewPadding;return n.parent=t.parent,n.canvas=d,n.backgroundGroup=p,n.middleGroup=y,n.foregroundGroup=x,n.region=M,n.padding=T,n.appendPadding=L,n.options=(0,E.pi)((0,E.pi)({},n.options),D),n.limitInPlot=k,n.id=u,n.syncViewPadding=z,n.themeObject=(0,S.Kn)(R)?(0,S.b$)({},uc("default"),xs(R)):uc(R),n.init(),n}return(0,E.ZT)(r,e),r.prototype.setLayout=function(t){this.layoutFunc=t},r.prototype.init=function(){this.calculateViewBBox(),this.initEvents(),this.initComponentController(),this.initOptions()},r.prototype.render=function(t,n){void 0===t&&(t=!1),this.emit(Er.BEFORE_RENDER,sn.fromData(this,Er.BEFORE_RENDER,n)),this.paint(t),this.emit(Er.AFTER_RENDER,sn.fromData(this,Er.AFTER_RENDER,n)),!1===this.visible&&this.changeVisible(!1)},r.prototype.clear=function(){var t=this;this.emit(Er.BEFORE_CLEAR),this.filteredData=[],this.coordinateInstance=void 0,this.isDataChanged=!1,this.isCoordinateChanged=!1;for(var n=this.geometries,s=0;s<n.length;s++)n[s].clear(),n[s].container.remove(!0),n[s].labelsContainer.remove(!0);this.geometries=[];var u=this.controllers;for(s=0;s<u.length;s++)"annotation"===u[s].name?u[s].clear(!0):u[s].clear();this.createdScaleKeys.forEach(function(d,p){t.getRootView().scalePool.deleteScale(p)}),this.createdScaleKeys.clear();var h=this.views;for(s=0;s<h.length;s++)h[s].clear();this.emit(Er.AFTER_CLEAR)},r.prototype.destroy=function(){this.emit(Er.BEFORE_DESTROY),(0,S.S6)(this.interactions,function(d){d&&d.destroy()}),this.clear();for(var n=this.controllers,s=0,u=n.length;s<u;s++)n[s].destroy();this.backgroundGroup.remove(!0),this.middleGroup.remove(!0),this.foregroundGroup.remove(!0),e.prototype.destroy.call(this)},r.prototype.changeVisible=function(t){e.prototype.changeVisible.call(this,t);for(var n=this.geometries,s=0,u=n.length;s<u;s++)n[s].changeVisible(t);var d=this.controllers;for(s=0,u=d.length;s<u;s++)d[s].changeVisible(t);return this.foregroundGroup.set("visible",t),this.middleGroup.set("visible",t),this.backgroundGroup.set("visible",t),this.getCanvas().draw(),this},r.prototype.data=function(t){return(0,S.t8)(this.options,"data",t),this.isDataChanged=!0,this},r.prototype.source=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.data() instead."),this.data(t)},r.prototype.filter=function(t,n){return(0,S.mf)(n)?((0,S.t8)(this.options,["filters",t],n),this):(!n&&(0,S.U2)(this.options,["filters",t])&&delete this.options.filters[t],this)},r.prototype.axis=function(t,n){return(0,S.jn)(t)?(0,S.t8)(this.options,["axes"],t):(0,S.t8)(this.options,["axes",t],n),this},r.prototype.legend=function(t,n){return(0,S.jn)(t)?(0,S.t8)(this.options,["legends"],t):(0,S.HD)(t)?((0,S.t8)(this.options,["legends",t],n),(0,S.PO)(n)&&n?.selected&&(0,S.t8)(this.options,["filters",t],function(s){var u;return null===(u=n?.selected[s])||void 0===u||u})):(0,S.t8)(this.options,["legends"],t),this},r.prototype.scale=function(t,n){var s=this;return(0,S.HD)(t)?(0,S.t8)(this.options,["scales",t],n):(0,S.Kn)(t)&&(0,S.S6)(t,function(u,h){(0,S.t8)(s.options,["scales",h],u)}),this},r.prototype.tooltip=function(t){return(0,S.t8)(this.options,"tooltip",t),this},r.prototype.annotation=function(){return this.getController("annotation")},r.prototype.guide=function(){return console.warn("This method will be removed at G2 V4.1. Please use chart.annotation() instead."),this.annotation()},r.prototype.coordinate=function(t,n){return(0,S.HD)(t)?(0,S.t8)(this.options,"coordinate",{type:t,cfg:n}):(0,S.t8)(this.options,"coordinate",t),this.coordinateController.update(this.options.coordinate),this.coordinateController},r.prototype.coord=function(t,n){return console.warn("This method will be removed at G2 V4.1. Please use chart.coordinate() instead."),this.coordinate(t,n)},r.prototype.facet=function(t,n){this.facetInstance&&this.facetInstance.destroy();var s=function(e){return Sg[(0,S.vl)(e)]}(t);if(!s)throw new Error("facet '".concat(t,"' is not exist!"));return this.facetInstance=new s(this,(0,E.pi)((0,E.pi)({},n),{type:t})),this},r.prototype.animate=function(t){return(0,S.t8)(this.options,"animate",t),this},r.prototype.updateOptions=function(t){return this.clear(),(0,S.CD)(this.options,t),this.views.forEach(function(n){return n.destroy()}),this.views=[],this.initOptions(),this.coordinateBBox=this.viewBBox,this},r.prototype.option=function(t,n){if(r.prototype[t])throw new Error("Can't use built in variable name \"".concat(t,'", please change another one.'));return(0,S.t8)(this.options,t,n),this},r.prototype.theme=function(t){return this.themeObject=(0,S.Kn)(t)?(0,S.b$)({},this.themeObject,xs(t)):uc(t),this},r.prototype.interaction=function(t,n){var s=this.interactions[t];s&&s.destroy();var u=function bn(e,r,t){var n=function w3(e){return nC[(0,S.vl)(e)]}(e);if(!n)return null;if((0,S.PO)(n)){var s=(0,S.CD)((0,S.d9)(n),t);return new C3(r,s)}return new n(r,t)}(t,this,n);return u&&(u.init(),this.interactions[t]=u),this},r.prototype.removeInteraction=function(t){var n=this.interactions[t];n&&(n.destroy(),this.interactions[t]=void 0)},r.prototype.changeData=function(t){this.isDataChanged=!0,this.emit(Er.BEFORE_CHANGE_DATA,sn.fromData(this,Er.BEFORE_CHANGE_DATA,null)),this.data(t),this.paint(!0);for(var n=this.views,s=0,u=n.length;s<u;s++)n[s].changeData(t);this.emit(Er.AFTER_CHANGE_DATA,sn.fromData(this,Er.AFTER_CHANGE_DATA,null))},r.prototype.createView=function(t){this.parent&&this.parent.parent&&console.warn("The view nesting recursive feature will be removed at G2 V4.1. Please avoid to use it.");var n={data:this.options.data,scales:(0,S.d9)(this.options.scales),axes:(0,S.d9)(this.options.axes),coordinate:(0,S.d9)(this.coordinateController.getOption()),tooltip:(0,S.d9)(this.options.tooltip),legends:(0,S.d9)(this.options.legends),animate:this.options.animate,visible:this.visible},s=new r((0,E.pi)((0,E.pi)({parent:this,canvas:this.canvas,backgroundGroup:this.backgroundGroup.addGroup({zIndex:Us.BG}),middleGroup:this.middleGroup.addGroup({zIndex:Us.MID}),foregroundGroup:this.foregroundGroup.addGroup({zIndex:Us.FORE}),theme:this.themeObject,padding:this.padding},t),{options:(0,E.pi)((0,E.pi)({},n),(0,S.U2)(t,"options",{}))}));return this.views.push(s),s},r.prototype.view=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.createView() instead."),this.createView(t)},r.prototype.removeView=function(t){var n=(0,S.Od)(this.views,function(s){return s===t})[0];return n&&n.destroy(),n},r.prototype.getCoordinate=function(){return this.coordinateInstance},r.prototype.getTheme=function(){return this.themeObject},r.prototype.getXScale=function(){var t=this.geometries[0];return t?t.getXScale():null},r.prototype.getYScales=function(){var t={},n=[];return this.geometries.forEach(function(s){var u=s.getYScale(),h=u.field;t[h]||(t[h]=!0,n.push(u))}),n},r.prototype.getScalesByDim=function(t){for(var n=this.geometries,s={},u=0,h=n.length;u<h;u++){var d=n[u],p="x"===t?d.getXScale():d.getYScale();p&&!s[p.field]&&(s[p.field]=p)}return s},r.prototype.getScale=function(t,n){var s=n||this.getScaleKey(t);return this.getRootView().scalePool.getScale(s)},r.prototype.getScaleByField=function(t,n){return this.getScale(t,n)},r.prototype.getOptions=function(){return this.options},r.prototype.getData=function(){return this.filteredData},r.prototype.getOriginalData=function(){return this.options.data},r.prototype.getPadding=function(){return this.autoPadding.getPadding()},r.prototype.getGeometries=function(){return this.geometries},r.prototype.getElements=function(){return(0,S.u4)(this.geometries,function(t,n){return t.concat(n.getElements())},[])},r.prototype.getElementsBy=function(t){return this.getElements().filter(function(n){return t(n)})},r.prototype.getLayer=function(t){return t===Cn.BG?this.backgroundGroup:t===Cn.MID?this.middleGroup:this.foregroundGroup},r.prototype.isPointInPlot=function(t){return function B2(e,r){var t=!1;if(e)if("theta"===e.type){var n=e.start,s=e.end;t=ec(r.x,n.x,s.x)&&ec(r.y,n.y,s.y)}else{var u=e.invert(r);t=ec(u.x,0,1)&&ec(u.y,0,1)}return t}(this.getCoordinate(),t)},r.prototype.getLegendAttributes=function(){return(0,S.xH)(this.geometries.map(function(t){return t.getGroupAttributes()}))},r.prototype.getGroupScales=function(){var t=this.geometries.map(function(n){return n.getGroupScales()});return rl((0,S.xH)(t))},r.prototype.getCanvas=function(){return this.getRootView().canvas},r.prototype.getRootView=function(){for(var t=this;t.parent;)t=t.parent;return t},r.prototype.getXY=function(t){var h,d,n=this.getCoordinate(),s=this.getScalesByDim("x"),u=this.getScalesByDim("y");if((0,S.S6)(t,function(p,y){s[y]&&(h=s[y].scale(p)),u[y]&&(d=u[y].scale(p))}),!(0,S.UM)(h)&&!(0,S.UM)(d))return n.convert({x:h,y:d})},r.prototype.getController=function(t){return(0,S.sE)(this.controllers,function(n){return n.name===t})},r.prototype.showTooltip=function(t){var n=this.getController("tooltip");return n&&n.showTooltip(t),this},r.prototype.hideTooltip=function(){var t=this.getController("tooltip");return t&&t.hideTooltip(),this},r.prototype.lockTooltip=function(){var t=this.getController("tooltip");return t&&t.lockTooltip(),this},r.prototype.unlockTooltip=function(){var t=this.getController("tooltip");return t&&t.unlockTooltip(),this},r.prototype.isTooltipLocked=function(){var t=this.getController("tooltip");return t&&t.isTooltipLocked()},r.prototype.getTooltipItems=function(t){var n=this.getController("tooltip");return n?n.getTooltipItems(t):[]},r.prototype.getSnapRecords=function(t){for(var n=this.geometries,s=[],u=0,h=n.length;u<h;u++){var d=n[u],p=d.dataArray;d.sort(p);for(var y=void 0,x=0,w=p.length;x<w;x++)(y=Pg(t,p[x],d))&&s.push(y)}var T=this.views;for(u=0,h=T.length;u<h;u++){var R=T[u].getSnapRecords(t);s=s.concat(R)}return s},r.prototype.getComponents=function(){for(var t=[],n=this.controllers,s=0,u=n.length;s<u;s++)t=t.concat(n[s].getComponents());return t},r.prototype.filterData=function(t){var n=this.options.filters;return 0===(0,S.dp)(n)?t:(0,S.hX)(t,function(s,u){return Object.keys(n).every(function(d){return(0,n[d])(s[d],s,u)})})},r.prototype.filterFieldData=function(t,n){var u=(0,S.U2)(this.options.filters,t);return(0,S.o8)(u)?n:n.filter(function(h,d){return u(h[t],h,d)})},r.prototype.adjustCoordinate=function(){var t=this.getCoordinate(),s=t.end,u=this.coordinateBBox.bl,h=this.coordinateBBox.tr;(0,S.Xy)(t.start,u)&&(0,S.Xy)(s,h)?this.isCoordinateChanged=!1:(this.isCoordinateChanged=!0,this.coordinateInstance=this.coordinateController.adjust(u,h))},r.prototype.paint=function(t){this.renderDataRecursive(t),this.syncScale(),this.emit(Er.BEFORE_PAINT),this.renderPaddingRecursive(t),this.renderLayoutRecursive(t),this.renderBackgroundStyleShape(),this.renderPaintRecursive(t),this.emit(Er.AFTER_PAINT),this.isDataChanged=!1},r.prototype.renderBackgroundStyleShape=function(){if(!this.parent){var t=(0,S.U2)(this.themeObject,"background");if(t){this.backgroundStyleRectShape||(this.backgroundStyleRectShape=this.backgroundGroup.addShape("rect",{attrs:{},zIndex:-1,capture:!1}),this.backgroundStyleRectShape.toBack());var n=this.viewBBox;this.backgroundStyleRectShape.attr({fill:t,x:n.x,y:n.y,width:n.width,height:n.height})}else this.backgroundStyleRectShape&&(this.backgroundStyleRectShape.remove(!0),this.backgroundStyleRectShape=void 0)}},r.prototype.renderPaddingRecursive=function(t){this.calculateViewBBox(),this.adjustCoordinate(),this.initComponents(t),this.autoPadding=function B3(e){var r=e.padding;if(!function L3(e){return!(0,S.hj)(e)&&!(0,S.kJ)(e)}(r))return new(gv.bind.apply(gv,(0,E.ev)([void 0],(0,E.CR)(vv(r)),!1)));var t=e.viewBBox,n=new gv,s=[],u=[],h=[];return(0,S.S6)(e.getComponents(),function(d){var p=d.type;p===Rn.AXIS?s.push(d):[Rn.LEGEND,Rn.SLIDER,Rn.SCROLLBAR].includes(p)?u.push(d):p!==Rn.GRID&&p!==Rn.TOOLTIP&&h.push(d)}),(0,S.S6)(s,function(d){var y=d.component.getLayoutBBox(),w=new Oi(y.x,y.y,y.width,y.height).exceed(t);n.max(w)}),(0,S.S6)(u,function(d){var p=d.component,y=d.direction,x=p.getLayoutBBox(),w=p.get("padding"),M=new Oi(x.x,x.y,x.width,x.height).expand(w);n.inc(M,y)}),(0,S.S6)(h,function(d){var y=d.direction,x=d.component.getLayoutBBox(),w=new Oi(x.x,x.y,x.width,x.height);n.inc(w,y)}),n}(this).shrink(vv(this.appendPadding)),this.coordinateBBox=this.viewBBox.shrink(this.autoPadding.getPadding()),this.adjustCoordinate(),this.controllers.find(function(p){return"tooltip"===p.name}).update();for(var s=this.views,u=0,h=s.length;u<h;u++)s[u].renderPaddingRecursive(t)},r.prototype.renderLayoutRecursive=function(t){var n=!0===this.syncViewPadding?P3:(0,S.mf)(this.syncViewPadding)?this.syncViewPadding:void 0;n&&(n(this,this.views,gv),this.views.forEach(function(p){p.coordinateBBox=p.viewBBox.shrink(p.autoPadding.getPadding()),p.adjustCoordinate()})),this.doLayout();for(var s=this.views,u=0,h=s.length;u<h;u++)s[u].renderLayoutRecursive(t)},r.prototype.renderPaintRecursive=function(t){var n=this.middleGroup;if(this.limitInPlot){var s=ov(this.coordinateInstance);n.setClip({type:s.type,attrs:s.attrs})}else n.setClip(void 0);this.paintGeometries(t),this.renderComponents(t);for(var d=this.views,p=0,y=d.length;p<y;p++)d[p].renderPaintRecursive(t)},r.prototype.createScale=function(t,n,s,u){var h=(0,S.U2)(this.options.scales,[t]),d=(0,E.pi)((0,E.pi)({},h),s);return this.parent?this.parent.createScale(t,n,d,u):this.scalePool.createScale(t,n,d,u)},r.prototype.renderDataRecursive=function(t){this.doFilterData(),this.createCoordinate(),this.initGeometries(t),this.renderFacet(t);for(var n=this.views,s=0,u=n.length;s<u;s++)n[s].renderDataRecursive(t)},r.prototype.calculateViewBBox=function(){var t,n,s,u;if(this.parent){var h=this.parent.coordinateBBox;t=h.x,n=h.y,s=h.width,u=h.height}else t=0,n=0,s=this.canvas.get("width"),u=this.canvas.get("height");var d=this.region,p=d.start,y=d.end,x=new Oi(t+s*p.x,n+u*p.y,s*(y.x-p.x),u*(y.y-p.y));(!this.viewBBox||!this.viewBBox.isEqual(x))&&(this.viewBBox=new Oi(t+s*p.x,n+u*p.y,s*(y.x-p.x),u*(y.y-p.y))),this.coordinateBBox=this.viewBBox},r.prototype.initEvents=function(){this.foregroundGroup.on("*",this.onDelegateEvents),this.middleGroup.on("*",this.onDelegateEvents),this.backgroundGroup.on("*",this.onDelegateEvents),this.canvas.on("*",this.onCanvasEvent)},r.prototype.initComponentController=function(){for(var t=this.usedControllers,n=0,s=t.length;n<s;n++){var h=O3(t[n]);h&&this.controllers.push(new h(this))}},r.prototype.createViewEvent=function(t){var n=t.shape,s=t.name,u=n?n.get("origin"):null,h=new sn(this,t,u);return h.type=s,h},r.prototype.doPlotEvent=function(t){var n=t.type,h={x:t.x,y:t.y};if(["mousedown","mouseup","mousemove","mouseleave","mousewheel","touchstart","touchmove","touchend","touchcancel","click","dblclick","contextmenu"].includes(n)){var p=this.isPointInPlot(h),y=t.clone();if(p){var x="plot:".concat(n);y.type=x,this.emit(x,y),("mouseleave"===n||"touchend"===n)&&(this.isPreMouseInPlot=!1)}"mousemove"===n||"touchmove"===n?(this.isPreMouseInPlot&&!p?("mousemove"===n&&(y.type=Ui.MOUSE_LEAVE,this.emit(Ui.MOUSE_LEAVE,y)),y.type=Ui.LEAVE,this.emit(Ui.LEAVE,y)):!this.isPreMouseInPlot&&p&&("mousemove"===n&&(y.type=Ui.MOUSE_ENTER,this.emit(Ui.MOUSE_ENTER,y)),y.type=Ui.ENTER,this.emit(Ui.ENTER,y)),this.isPreMouseInPlot=p):("mouseleave"===n||"touchend"===n)&&this.isPreMouseInPlot&&("mouseleave"===n&&(y.type=Ui.MOUSE_LEAVE,this.emit(Ui.MOUSE_LEAVE,y)),y.type=Ui.LEAVE,this.emit(Ui.LEAVE,y),this.isPreMouseInPlot=!1)}},r.prototype.doFilterData=function(){this.filteredData=this.filterData(this.options.data)},r.prototype.initGeometries=function(t){this.createOrUpdateScales();for(var n=this.getCoordinate(),s=(0,S.U2)(this.options,"scales",{}),u=this.geometries,h=0,d=u.length;h<d;h++){var p=u[h];p.scales=this.getGeometryScales();var y={coordinate:n,scaleDefs:s,data:this.filteredData,theme:this.themeObject,isDataChanged:this.isDataChanged,isCoordinateChanged:this.isCoordinateChanged};t?p.update(y):p.init(y)}this.adjustScales()},r.prototype.createOrUpdateScales=function(){for(var t=this.getScaleFields(),n=this.getGroupedFields(),s=this.getOptions(),u=s.data,h=s.scales,d=void 0===h?{}:h,p=this.filteredData,y=0,x=t.length;y<x;y++){var w=t[y],M=d[w],T=this.getScaleKey(w);this.createScale(w,n.includes(w)?u:p,M,T),this.createdScaleKeys.set(T,!0)}},r.prototype.syncScale=function(){this.getRootView().scalePool.sync(this.getCoordinate(),this.theme)},r.prototype.getGeometryScales=function(){for(var t=this.getScaleFields(),n={},s=0;s<t.length;s++){var u=t[s];n[u]=this.getScaleByField(u)}return n},r.prototype.getScaleFields=function(){for(var t=[],n=new Map,s=this.geometries,u=0;u<s.length;u++)rl(s[u].getScaleFields(),t,n);return t},r.prototype.getGroupedFields=function(){for(var t=[],n=new Map,s=this.geometries,u=0;u<s.length;u++)rl(s[u].getGroupFields(),t,n);return t},r.prototype.adjustScales=function(){this.adjustCategoryScaleRange()},r.prototype.adjustCategoryScaleRange=function(){var t=this,n=(0,E.ev)([this.getXScale()],(0,E.CR)(this.getYScales()),!1).filter(function(h){return!!h}),s=this.getCoordinate(),u=this.options.scales;(0,S.S6)(n,function(h){(h.isCategory||h.isIdentity)&&h.values&&!(0,S.U2)(u,[h.field,"range"])&&(h.range=vs(h,s,t.theme))})},r.prototype.initComponents=function(t){for(var n=this.controllers,s=0;s<n.length;s++){var u=n[s];t?u.update():(u.clear(),u.render())}},r.prototype.doLayout=function(){this.layoutFunc(this)},r.prototype.createCoordinate=function(){this.coordinateInstance=this.coordinateController.create(this.coordinateBBox.bl,this.coordinateBBox.tr)},r.prototype.paintGeometries=function(t){for(var n=this.options.animate,s=this.getCoordinate(),u={x:this.viewBBox.x,y:this.viewBBox.y,minX:this.viewBBox.minX,minY:this.viewBBox.minY,maxX:this.viewBBox.maxX,maxY:this.viewBBox.maxY,width:this.viewBBox.width,height:this.viewBBox.height},h=this.geometries,d=0;d<h.length;d++){var p=h[d];p.coordinate=s,p.canvasRegion=u,n||p.animate(!1),p.paint(t)}},r.prototype.renderComponents=function(t){for(var n=this.getComponents(),s=0;s<n.length;s++)n[s].component.render()},r.prototype.renderFacet=function(t){this.facetInstance&&(t?this.facetInstance.update():(this.facetInstance.clear(),this.facetInstance.init(),this.facetInstance.render()))},r.prototype.initOptions=function(){var t=this,n=this.options,s=n.geometries,u=void 0===s?[]:s,h=n.interactions,d=void 0===h?[]:h,p=n.views,y=void 0===p?[]:p,x=n.annotations,w=void 0===x?[]:x,M=n.coordinate,T=n.events,L=n.facets;this.coordinateController?M&&this.coordinateController.update(M):this.coordinateController=new Hg(M);for(var R=0;R<u.length;R++)this.createGeometry(u[R]);for(var k=0;k<d.length;k++){var z=d[k];this.interaction(z.type,z.cfg)}for(var q=0;q<y.length;q++)this.createView(y[q]);for(var o=this.getController("annotation"),i=0;i<w.length;i++)o.annotation(w[i]);T&&(0,S.S6)(T,function(c,f){t.on(f,c)}),L&&(0,S.S6)(L,function(c){var f=c.type,v=(0,E._T)(c,["type"]);t.facet(f,v)})},r.prototype.createGeometry=function(t){var n=t.type,s=t.cfg;if(this[n]){var h=this[n](void 0===s?{}:s);(0,S.S6)(t,function(d,p){(0,S.mf)(h[p])&&h[p](d)})}},r.prototype.getScaleKey=function(t){return"".concat(this.id,"-").concat(t)},r}(k0);function Lo(e,r){cC.prototype[e.toLowerCase()]=function(t){void 0===t&&(t={});var n=(0,E.pi)({container:this.middleGroup.addGroup(),labelsContainer:this.foregroundGroup.addGroup()},t),s=new r(n);return this.geometries.push(s),s}}var z3=function(e){function r(t){var n=this,s=t.container,u=t.width,h=t.height,d=t.autoFit,p=void 0!==d&&d,y=t.padding,x=t.appendPadding,w=t.renderer,M=void 0===w?"canvas":w,T=t.pixelRatio,L=t.localRefresh,R=void 0===L||L,D=t.visible,k=void 0===D||D,z=t.supportCSSTransform,G=void 0!==z&&z,U=t.defaultInteractions,q=void 0===U?["tooltip","legend-filter","legend-active","continuous-filter","ellipsis-text","axis-description"]:U,a=t.options,o=t.limitInPlot,i=t.theme,l=t.syncViewPadding,c=(0,S.HD)(s)?document.getElementById(s):s,f=Vs('<div style="position:relative;"></div>');c.appendChild(f);var v=ix(c,p,u,h),g=function ex(e){var r=tx[e];if(!r)throw new Error("G engine '".concat(e,"' is not exist, please register it at first."));return r}(M),m=new g.Canvas((0,E.pi)({container:f,pixelRatio:T,localRefresh:R,supportCSSTransform:G},v));return(n=e.call(this,{parent:null,canvas:m,backgroundGroup:m.addGroup({zIndex:Us.BG}),middleGroup:m.addGroup({zIndex:Us.MID}),foregroundGroup:m.addGroup({zIndex:Us.FORE}),padding:y,appendPadding:x,visible:k,options:a,limitInPlot:o,theme:i,syncViewPadding:l})||this).onResize=(0,S.Ds)(function(){n.forceFit()},300),n.ele=c,n.canvas=m,n.width=v.width,n.height=v.height,n.autoFit=p,n.localRefresh=R,n.renderer=M,n.wrapperElement=f,n.updateCanvasStyle(),n.bindAutoFit(),n.initDefaultInteractions(q),n}return(0,E.ZT)(r,e),r.prototype.initDefaultInteractions=function(t){var n=this;(0,S.S6)(t,function(s){n.interaction(s)})},r.prototype.aria=function(t){var n="aria-label";!1===t?this.ele.removeAttribute(n):this.ele.setAttribute(n,t.label)},r.prototype.changeSize=function(t,n){return this.width===t&&this.height===n||(this.emit(Er.BEFORE_CHANGE_SIZE),this.width=t,this.height=n,this.canvas.changeSize(t,n),this.render(!0),this.emit(Er.AFTER_CHANGE_SIZE)),this},r.prototype.clear=function(){e.prototype.clear.call(this),this.aria(!1)},r.prototype.destroy=function(){e.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),function VT(e){var r=e.parentNode;r&&r.removeChild(e)}(this.wrapperElement),this.wrapperElement=null},r.prototype.changeVisible=function(t){return e.prototype.changeVisible.call(this,t),this.wrapperElement.style.display=t?"":"none",this},r.prototype.forceFit=function(){if(!this.destroyed){var t=ix(this.ele,!0,this.width,this.height);this.changeSize(t.width,t.height)}},r.prototype.updateCanvasStyle=function(){Mi(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},r.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},r.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)},r}(cC);const N3=z3;var cc=function(){function e(r){this.visible=!0,this.components=[],this.view=r}return e.prototype.clear=function(r){(0,S.S6)(this.components,function(t){t.component.destroy()}),this.components=[]},e.prototype.destroy=function(){this.clear()},e.prototype.getComponents=function(){return this.components},e.prototype.changeVisible=function(r){this.visible!==r&&(this.components.forEach(function(t){r?t.component.show():t.component.hide()}),this.visible=r)},e}(),H3=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.isLocked=!1,t}return(0,E.ZT)(r,e),Object.defineProperty(r.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.isVisible=function(){return!1!==this.view.getOptions().tooltip},r.prototype.render=function(){},r.prototype.showTooltip=function(t){if(this.point=t,this.isVisible()){var n=this.view,s=this.getTooltipItems(t);if(!s.length)return void this.hideTooltip();var u=this.getTitle(s),h={x:s[0].x,y:s[0].y};n.emit("tooltip:show",sn.fromData(n,"tooltip:show",(0,E.pi)({items:s,title:u},t)));var d=this.getTooltipCfg(),p=d.follow,y=d.showMarkers,x=d.showCrosshairs,w=d.showContent,M=d.marker,T=this.items;if((0,S.Xy)(this.title,u)&&(0,S.Xy)(T,s)?(this.tooltip&&p&&(this.tooltip.update(t),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()):(n.emit("tooltip:change",sn.fromData(n,"tooltip:change",(0,E.pi)({items:s,title:u},t))),((0,S.mf)(w)?w(s):w)&&(this.tooltip||this.renderTooltip(),this.tooltip.update((0,S.CD)({},d,{items:this.getItemsAfterProcess(s),title:u},p?t:{})),this.tooltip.show()),y&&this.renderTooltipMarkers(s,M)),this.items=s,this.title=u,x){var R=(0,S.U2)(d,["crosshairs","follow"],!1);this.renderCrosshairs(R?t:h,d)}}},r.prototype.hideTooltip=function(){if(this.getTooltipCfg().follow){var n=this.tooltipMarkersGroup;n&&n.hide();var s=this.xCrosshair,u=this.yCrosshair;s&&s.hide(),u&&u.hide();var h=this.tooltip;h&&h.hide(),this.view.emit("tooltip:hide",sn.fromData(this.view,"tooltip:hide",{})),this.point=null}else this.point=null},r.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},r.prototype.unlockTooltip=function(){this.isLocked=!1;var t=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(t.capture)},r.prototype.isTooltipLocked=function(){return this.isLocked},r.prototype.clear=function(){var t=this,n=t.tooltip,s=t.xCrosshair,u=t.yCrosshair,h=t.tooltipMarkersGroup;n&&(n.hide(),n.clear()),s&&s.clear(),u&&u.clear(),h&&h.clear(),n?.get("customContent")&&(this.tooltip.destroy(),this.tooltip=null),this.title=null,this.items=null},r.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.reset()},r.prototype.reset=function(){this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},r.prototype.changeVisible=function(t){if(this.visible!==t){var n=this,s=n.tooltip,u=n.tooltipMarkersGroup,h=n.xCrosshair,d=n.yCrosshair;t?(s&&s.show(),u&&u.show(),h&&h.show(),d&&d.show()):(s&&s.hide(),u&&u.hide(),h&&h.hide(),d&&d.hide()),this.visible=t}},r.prototype.getTooltipItems=function(t){var n,s,u,h,d,p,y=this.findItemsFromView(this.view,t);if(y.length){y=(0,S.xH)(y);try{for(var x=(0,E.XA)(y),w=x.next();!w.done;w=x.next()){var M=w.value;try{for(var T=(u=void 0,(0,E.XA)(M)),L=T.next();!L.done;L=T.next()){var R=L.value,D=R.mappingData,k=D.x,z=D.y;R.x=(0,S.kJ)(k)?k[k.length-1]:k,R.y=(0,S.kJ)(z)?z[z.length-1]:z}}catch(c){u={error:c}}finally{try{L&&!L.done&&(h=T.return)&&h.call(T)}finally{if(u)throw u.error}}}}catch(c){n={error:c}}finally{try{w&&!w.done&&(s=x.return)&&s.call(x)}finally{if(n)throw n.error}}if(!1===this.getTooltipCfg().shared&&y.length>1){var U=y[0],q=Math.abs(t.y-U[0].y);try{for(var a=(0,E.XA)(y),o=a.next();!o.done;o=a.next()){var i=o.value,l=Math.abs(t.y-i[0].y);l<=q&&(U=i,q=l)}}catch(c){d={error:c}}finally{try{o&&!o.done&&(p=a.return)&&p.call(a)}finally{if(d)throw d.error}}y=[U]}return function ru(e){for(var r=[],t=function(s){var u=e[s];(0,S.sE)(r,function(d){return d.color===u.color&&d.name===u.name&&d.value===u.value&&d.title===u.title})||r.push(u)},n=0;n<e.length;n++)t(n);return r}((0,S.xH)(y))}return[]},r.prototype.layout=function(){},r.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var t=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}})}},r.prototype.isCursorEntered=function(t){if(this.tooltip){var n=this.tooltip.getContainer(),s=this.tooltip.get("capture");if(n&&s){var u=n.getBoundingClientRect();return new Oi(u.x,u.y,u.width,u.height).isPointIn(t)}}return!1},r.prototype.getTooltipCfg=function(){var t=this.view,n=t.getOptions().tooltip,s=this.processCustomContent(n),u=t.getTheme(),h=(0,S.U2)(u,["components","tooltip"],{}),d=(0,S.U2)(s,"enterable",h.enterable);return(0,S.b$)({},h,s,{capture:!(!d&&!this.isLocked)})},r.prototype.processCustomContent=function(t){if((0,S.jn)(t)||!(0,S.U2)(t,"customContent"))return t;var n=t.customContent;return(0,E.pi)((0,E.pi)({},t),{customContent:function(u,h){var d=n(u,h)||"";return(0,S.HD)(d)?'<div class="g2-tooltip">'+d+"</div>":d}})},r.prototype.getTitle=function(t){var n=t[0].title||t[0].name;return this.title=n,n},r.prototype.renderTooltip=function(){var t=this.view.getCanvas(),n={start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}},s=this.getTooltipCfg(),u=new Fh((0,E.pi)((0,E.pi)({parent:t.get("el").parentNode,region:n},s),{visible:!1,crosshairs:null}));u.init(),this.tooltip=u},r.prototype.renderTooltipMarkers=function(t,n){var s,u,h=this.getTooltipMarkersGroup(),d=this.view.getRootView(),p=d.limitInPlot;try{for(var y=(0,E.XA)(t),x=y.next();!x.done;x=y.next()){var w=x.value,M=w.x,T=w.y;if(p||h?.getClip()){var L=ov(d.getCoordinate());h?.setClip({type:L.type,attrs:L.attrs})}else h?.setClip(void 0);var k=this.view.getTheme(),z=(0,S.U2)(k,["components","tooltip","marker"],{}),G=(0,E.pi)((0,E.pi)({fill:w.color,symbol:"circle",shadowColor:w.color},(0,S.mf)(n)?(0,E.pi)((0,E.pi)({},z),n(w)):n),{x:M,y:T});h.addShape("marker",{attrs:G})}}catch(U){s={error:U}}finally{try{x&&!x.done&&(u=y.return)&&u.call(y)}finally{if(s)throw s.error}}},r.prototype.renderCrosshairs=function(t,n){var s=(0,S.U2)(n,["crosshairs","type"],"x");"x"===s?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(t,n)):"y"===s?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(t,n)):"xy"===s&&(this.renderXCrosshairs(t,n),this.renderYCrosshairs(t,n))},r.prototype.renderXCrosshairs=function(t,n){var u,h,s=this.getViewWithGeometry(this.view).getCoordinate();if(s.isRect)s.isTransposed?(u={x:s.start.x,y:t.y},h={x:s.end.x,y:t.y}):(u={x:t.x,y:s.end.y},h={x:t.x,y:s.start.y});else{var d=Kl(s,t),p=s.getCenter(),y=s.getRadius();h=kn(p.x,p.y,y,d),u=p}var x=(0,S.b$)({start:u,end:h,container:this.getTooltipCrosshairsGroup()},(0,S.U2)(n,"crosshairs",{}),this.getCrosshairsText("x",t,n));delete x.type;var w=this.xCrosshair;w?w.update(x):(w=new M2(x)).init(),w.render(),w.show(),this.xCrosshair=w},r.prototype.renderYCrosshairs=function(t,n){var u,h,s=this.getViewWithGeometry(this.view).getCoordinate();if(s.isRect){var d=void 0,p=void 0;s.isTransposed?(d={x:t.x,y:s.end.y},p={x:t.x,y:s.start.y}):(d={x:s.start.x,y:t.y},p={x:s.end.x,y:t.y}),u={start:d,end:p},h="Line"}else u={center:s.getCenter(),radius:av(s,t),startAngle:s.startAngle,endAngle:s.endAngle},h="Circle";delete(u=(0,S.b$)({container:this.getTooltipCrosshairsGroup()},u,(0,S.U2)(n,"crosshairs",{}),this.getCrosshairsText("y",t,n))).type;var y=this.yCrosshair;y?s.isRect&&"circle"===y.get("type")||!s.isRect&&"line"===y.get("type")?(y=new ne[h](u)).init():y.update(u):(y=new ne[h](u)).init(),y.render(),y.show(),this.yCrosshair=y},r.prototype.getCrosshairsText=function(t,n,s){var u=(0,S.U2)(s,["crosshairs","text"]),h=(0,S.U2)(s,["crosshairs","follow"]),d=this.items;if(u){var p=this.getViewWithGeometry(this.view),y=d[0],x=p.getXScale(),w=p.getYScales()[0],M=void 0,T=void 0;if(h){var L=this.view.getCoordinate().invert(n);M=x.invert(L.x),T=w.invert(L.y)}else M=y.data[x.field],T=y.data[w.field];var R="x"===t?M:T;return(0,S.mf)(u)?u=u(t,R,d,n):u.content=R,{text:u}}},r.prototype.getGuideGroup=function(){return this.guideGroup||(this.guideGroup=this.view.foregroundGroup.addGroup({name:"tooltipGuide",capture:!1})),this.guideGroup},r.prototype.getTooltipMarkersGroup=function(){var t=this.tooltipMarkersGroup;return t&&!t.destroyed?(t.clear(),t.show()):((t=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"})).toFront(),this.tooltipMarkersGroup=t),t},r.prototype.getTooltipCrosshairsGroup=function(){var t=this.tooltipCrosshairsGroup;return t||((t=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1})).toBack(),this.tooltipCrosshairsGroup=t),t},r.prototype.findItemsFromView=function(t,n){var s,u;if(!1===t.getOptions().tooltip)return[];var d=Ng(t,n,this.getTooltipCfg());try{for(var p=(0,E.XA)(t.views),y=p.next();!y.done;y=p.next())d=d.concat(this.findItemsFromView(y.value,n))}catch(w){s={error:w}}finally{try{y&&!y.done&&(u=p.return)&&u.call(p)}finally{if(s)throw s.error}}return d},r.prototype.getViewWithGeometry=function(t){var n=this;return t.geometries.length?t:(0,S.sE)(t.views,function(s){return n.getViewWithGeometry(s)})},r.prototype.getItemsAfterProcess=function(t){return(this.getTooltipCfg().customItems||function(u){return u})(t)},r}(cc);const Wh=H3;var hC={};function fC(e){return hC[e.toLowerCase()]}function Sa(e,r){hC[e.toLowerCase()]=r}var hc={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},G3={interval:function(e){return{enter:{animation:e.isRect?e.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:e.isPolar&&e.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},dC={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(e){var r;return e.isRect?r=e.isTransposed?"grow-in-x":"grow-in-y":(r="grow-in-xy",e.isPolar&&e.isTransposed&&(r="wave-in")),{animation:r}},schema:function(e){return{animation:e.isRect?e.isTransposed?"grow-in-x":"grow-in-y":"grow-in-xy"}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function vC(e,r,t){var n=G3[e];return n&&((0,S.mf)(n)&&(n=n(r)),n=(0,S.b$)({},hc,n),t)?n[t]:n}function Io(e,r,t){var n=(0,S.U2)(e.get("origin"),"data",Jr),s=r.animation,u=function Cs(e,r){return{delay:(0,S.mf)(e.delay)?e.delay(r):e.delay,easing:(0,S.mf)(e.easing)?e.easing(r):e.easing,duration:(0,S.mf)(e.duration)?e.duration(r):e.duration,callback:e.callback,repeat:e.repeat}}(r,n);if(s){var h=fC(s);h&&h(e,u,t)}else e.animate(t.toAttrs,u)}var Gg="element-background",yv=function(e){function r(t){var n=e.call(this,t)||this;n.labelShape=[],n.states=[];var u=t.container,h=t.offscreenGroup,d=t.elementIndex,p=t.visible,y=void 0===p||p;return n.shapeFactory=t.shapeFactory,n.container=u,n.offscreenGroup=h,n.visible=y,n.elementIndex=d,n}return(0,E.ZT)(r,e),r.prototype.draw=function(t,n){void 0===n&&(n=!1),this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.drawShape(t,n),!1===this.visible&&this.changeVisible(!1)},r.prototype.update=function(t){var s=this.shapeFactory,u=this.shape;if(u){this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.setShapeInfo(u,t);var h=this.getOffscreenGroup(),d=s.drawShape(this.shapeType,t,h);d.cfg.data=this.data,d.cfg.origin=t,d.cfg.element=this,this.syncShapeStyle(u,d,this.getStates(),this.getAnimateCfg("update"))}},r.prototype.destroy=function(){var n=this.shapeFactory,s=this.shape;if(s){var u=this.getAnimateCfg("leave");u?Io(s,u,{coordinate:n.coordinate,toAttrs:(0,E.pi)({},s.attr())}):s.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=[],this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,e.prototype.destroy.call(this)},r.prototype.changeVisible=function(t){e.prototype.changeVisible.call(this,t),t?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(n){n.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(n){n.hide()}))},r.prototype.setState=function(t,n){var s=this,u=s.states,h=s.shapeFactory,d=s.model,p=s.shape,y=s.shapeType,x=u.indexOf(t);if(n){if(x>-1)return;u.push(t),("active"===t||"selected"===t)&&p?.toFront()}else{if(-1===x)return;if(u.splice(x,1),"active"===t||"selected"===t){var w=this.geometry,L=w.zIndexReversed?this.geometry.elements.length-this.elementIndex:this.elementIndex;w.sortZIndex?p.setZIndex(L):p.set("zIndex",L)}}var R=h.drawShape(y,d,this.getOffscreenGroup());this.syncShapeStyle(p,R,u.length?u:["reset"],null),R.remove(!0);var D={state:t,stateStatus:n,element:this,target:this.container};this.container.emit("statechange",D),ZA(this.shape,"statechange",D)},r.prototype.clearStates=function(){var t=this;(0,S.S6)(this.states,function(s){t.setState(s,!1)}),this.states=[]},r.prototype.hasState=function(t){return this.states.includes(t)},r.prototype.getStates=function(){return this.states},r.prototype.getData=function(){return this.data},r.prototype.getModel=function(){return this.model},r.prototype.getBBox=function(){var n=this.shape,s=this.labelShape,u={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return n&&(u=n.getCanvasBBox()),s&&s.forEach(function(h){var d=h.getCanvasBBox();u.x=Math.min(d.x,u.x),u.y=Math.min(d.y,u.y),u.minX=Math.min(d.minX,u.minX),u.minY=Math.min(d.minY,u.minY),u.maxX=Math.max(d.maxX,u.maxX),u.maxY=Math.max(d.maxY,u.maxY)}),u.width=u.maxX-u.minX,u.height=u.maxY-u.minY,u},r.prototype.getStatesStyle=function(){if(!this.statesStyle){var t=this,u=t.shapeFactory;this.statesStyle=(0,S.b$)({},u.theme[t.shapeType]||u.theme[u.defaultShapeType],t.geometry.stateOption)}return this.statesStyle},r.prototype.getStateStyle=function(t,n){var s=this.getStatesStyle(),u=(0,S.U2)(s,[t,"style"],{}),h=u[n]||u;return(0,S.mf)(h)?h(this):h},r.prototype.getAnimateCfg=function(t){var n=this,s=this.animate;if(s){var u=s[t];return u&&(0,E.pi)((0,E.pi)({},u),{callback:function(){var h;(0,S.mf)(u.callback)&&u.callback(),null===(h=n.geometry)||void 0===h||h.emit(rs.AFTER_DRAW_ANIMATE)}})}return null},r.prototype.drawShape=function(t,n){var s;void 0===n&&(n=!1);var u=this,h=u.shapeFactory;if(this.shape=h.drawShape(u.shapeType,t,u.container),this.shape){this.setShapeInfo(this.shape,t);var y=this.shape.cfg.name;y?(0,S.HD)(y)&&(this.shape.cfg.name=["element",y]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var w=this.getAnimateCfg(n?"enter":"appear");w&&(null===(s=this.geometry)||void 0===s||s.emit(rs.BEFORE_DRAW_ANIMATE),Io(this.shape,w,{coordinate:h.coordinate,toAttrs:(0,E.pi)({},this.shape.attr())}))}},r.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},r.prototype.setShapeInfo=function(t,n){var s=this;t.cfg.origin=n,t.cfg.element=this,t.isGroup()&&t.get("children").forEach(function(h){s.setShapeInfo(h,n)})},r.prototype.syncShapeStyle=function(t,n,s,u,h){var p,d=this;if(void 0===s&&(s=[]),void 0===h&&(h=0),t&&n){var y=t.get("clipShape"),x=n.get("clipShape");if(this.syncShapeStyle(y,x,s,u),t.isGroup())for(var w=t.get("children"),M=n.get("children"),T=0;T<w.length;T++)this.syncShapeStyle(w[T],M[T],s,u,h+T);else{if(!(0,S.xb)(s)&&!(0,S.Xy)(s,["reset"])){var L=t.get("name");(0,S.kJ)(L)&&(L=L[1]),(0,S.S6)(s,function(D){if(n.get("name")!==Gg){var k=d.getStateStyle(D,L||h);n.attr(k)}})}var R=k2(t,n);this.animate?u?(null===(p=this.geometry)||void 0===p||p.emit(rs.BEFORE_DRAW_ANIMATE),Io(t,u,{coordinate:this.shapeFactory.coordinate,toAttrs:R,shapeModel:this.model})):(0,S.xb)(s)?t.attr(R):(t.stopAnimate(),t.animate(R,{duration:300})):t.attr(R)}}},r.prototype.getShapeType=function(t){var n=(0,S.U2)(t,"shape");return(0,S.kJ)(n)?n[0]:n},r}(k0);const pC=yv;var gC={},yC={};function Ma(e,r){gC[e.toLowerCase()]=r}function $n(e,r){yC[e.toLowerCase()]=r}var V3={coordinate:null,defaultShapeType:null,theme:null,getShapePoints:function(e,r){var t=this.getShape(e);return t.getPoints?t.getPoints(r):this.getDefaultPoints(r)},getShape:function(e){var r=this[e]||this[this.defaultShapeType];return r.coordinate=this.coordinate,r},getDefaultPoints:function(){return[]},getDefaultStyle:function(e){return(0,S.U2)(e,[this.defaultShapeType,"default","style"],{})},getMarker:function(e,r){var t=this.getShape(e);t.getMarker||(t=this.getShape(this.defaultShapeType));var u=(0,S.U2)(this.theme,[e,"default"],{}),h=t.getMarker(r);return(0,S.b$)({},u,h)},drawShape:function(e,r,t){return this.getShape(e).draw(r,t)}},X3={coordinate:null,parsePath:function(e){var r=this.coordinate,t=(0,Ku.tr)(e);return t=r.isPolar?function Y2(e,r){var n,s,t=[];return(0,S.S6)(r,function(d,p){switch(d[0].toLowerCase()){case"m":case"c":case"q":t.push(bg(d,e));break;case"l":n=r[p-1],s=d,(e.isTransposed?n[n.length-2]===s[1]:n[n.length-1]===s[2])?t=t.concat(function gs(e,r,t){var n=t.isTransposed,s=t.startAngle,u=t.endAngle,h="a"===e[0].toLowerCase()?{x:e[6],y:e[7]}:{x:e[1],y:e[2]},d={x:r[1],y:r[2]},p=[],y=n?"y":"x",x=Math.abs(d[y]-h[y])*(u-s),w=d[y]>=h[y]?1:0,M=x>Math.PI?1:0,T=t.convert(d),L=av(t,T);if(L>=.5)if(x===2*Math.PI){var D=t.convert({x:(d.x+h.x)/2,y:(d.y+h.y)/2});p.push(["A",L,L,0,M,w,D.x,D.y]),p.push(["A",L,L,0,M,w,T.x,T.y])}else p.push(["A",L,L,0,M,w,T.x,T.y]);return p}(n,s,e)):t.push(bg(d,e));break;case"a":t.push(Tg(d,e));break;default:t.push(d)}}),function io(e){(0,S.S6)(e,function(r,t){if("a"===r[0].toLowerCase()){var s=e[t-1],u=e[t+1];u&&"a"===u[0].toLowerCase()?s&&"l"===s[0].toLowerCase()&&(s[0]="M"):s&&"a"===s[0].toLowerCase()&&u&&"l"===u[0].toLowerCase()&&(u[0]="M")}})}(t),t}(r,t):function U2(e,r){var t=[];return(0,S.S6)(r,function(n){switch(n[0].toLowerCase()){case"m":case"l":case"c":t.push(bg(n,e));break;case"a":t.push(Tg(n,e));break;default:t.push(n)}}),t}(r,t),t},parsePoint:function(e){return this.coordinate.convert(e)},parsePoints:function(e){var r=this.coordinate;return e.map(function(t){return r.convert(t)})},draw:function(e,r){}},Wg={};function il(e,r){var t=(0,S.jC)(e),n=(0,E.pi)((0,E.pi)((0,E.pi)({},V3),r),{geometryType:e});return Wg[t]=n,n}function Xr(e,r,t){var n=(0,S.jC)(e),s=Wg[n],u=(0,E.pi)((0,E.pi)({},X3),t);return s[r]=u,u}function Ug(e){var r=(0,S.jC)(e);return Wg[r]}function ws(e,r){return(0,S.G)(["color","shape","size","x","y","isInCircle","data","style","defaultStyle","points","mappingData"],function(t){return!(0,S.Xy)(e[t],r[t])})}function Uh(e){return(0,S.kJ)(e)?e:e.split("*")}function oo(e,r){for(var t=[],n=[],s=[],u=new Map,h=0;h<r.length;h++){var d=r[h];e[d]?n.push(d):t.push(d),u.set(d,!0)}return Object.keys(e).forEach(function(p){u.has(p)||s.push(p)}),{added:t,updated:n,removed:s}}var nu=function(e){function r(t){var n=e.call(this,t)||this;n.type="base",n.attributes={},n.elements=[],n.elementsMap={},n.animateOption=!0,n.attributeOption={},n.lastElementsMap={},n.generatePoints=!1,n.beforeMappingData=null,n.adjusts={},n.idFields=[],n.hasSorted=!1,n.isCoordinateChanged=!1;var u=t.labelsContainer,h=t.coordinate,d=t.data,p=t.sortable,y=void 0!==p&&p,x=t.visible,w=void 0===x||x,M=t.theme,T=t.scales,L=void 0===T?{}:T,R=t.scaleDefs,D=void 0===R?{}:R,k=t.intervalPadding,z=t.dodgePadding,G=t.maxColumnWidth,U=t.minColumnWidth,q=t.columnWidthRatio,a=t.roseWidthRatio,o=t.multiplePieWidthRatio,i=t.zIndexReversed,l=t.sortZIndex,c=t.useDeferredLabel;return n.container=t.container,n.labelsContainer=u,n.coordinate=h,n.data=d,n.sortable=y,n.visible=w,n.userTheme=M,n.scales=L,n.scaleDefs=D,n.intervalPadding=k,n.dodgePadding=z,n.maxColumnWidth=G,n.minColumnWidth=U,n.columnWidthRatio=q,n.roseWidthRatio=a,n.multiplePieWidthRatio=o,n.zIndexReversed=i,n.sortZIndex=l,n.useDeferredLabel=c?"number"==typeof c?c:1/0:null,n}return(0,E.ZT)(r,e),r.prototype.position=function(t){var n=t;(0,S.PO)(t)||(n={fields:Uh(t)});var s=(0,S.U2)(n,"fields");return 1===s.length&&(s.unshift("1"),(0,S.t8)(n,"fields",s)),(0,S.t8)(this.attributeOption,"position",n),this},r.prototype.color=function(t,n){return this.createAttrOption("color",t,n),this},r.prototype.shape=function(t,n){return this.createAttrOption("shape",t,n),this},r.prototype.size=function(t,n){return this.createAttrOption("size",t,n),this},r.prototype.adjust=function(t){var n=t;return((0,S.HD)(t)||(0,S.PO)(t))&&(n=[t]),(0,S.S6)(n,function(s,u){(0,S.Kn)(s)||(n[u]={type:s})}),this.adjustOption=n,this},r.prototype.style=function(t,n){if((0,S.HD)(t)){var s=Uh(t);this.styleOption={fields:s,callback:n}}else this.styleOption=(s=t.fields)||t.callback||t.cfg?t:{cfg:t};return this},r.prototype.tooltip=function(t,n){if((0,S.HD)(t)){var s=Uh(t);this.tooltipOption={fields:s,callback:n}}else this.tooltipOption=t;return this},r.prototype.animate=function(t){return this.animateOption=t,this},r.prototype.label=function(t,n,s){if((0,S.HD)(t)){var u={},h=Uh(t);u.fields=h,(0,S.mf)(n)?u.callback=n:(0,S.PO)(n)&&(u.cfg=n),s&&(u.cfg=s),this.labelOption=u}else this.labelOption=t;return this},r.prototype.state=function(t){return this.stateOption=t,this},r.prototype.customInfo=function(t){return this.customOption=t,this},r.prototype.init=function(t){void 0===t&&(t={}),this.setCfg(t),this.initAttributes(),this.processData(this.data),this.adjustScale()},r.prototype.update=function(t){void 0===t&&(t={});var n=t.data,s=t.isDataChanged,u=t.isCoordinateChanged;(0,S.Xy)(this.attributeOption,this.lastAttributeOption)?!n||!s&&(0,S.Xy)(n,this.data)?this.setCfg(t):(this.setCfg(t),this.initAttributes(),this.processData(n)):this.init(t),this.adjustScale(),this.isCoordinateChanged=u},r.prototype.paint=function(t){var n=this;void 0===t&&(t=!1),this.animateOption&&(this.animateOption=(0,S.b$)({},vC(this.type,this.coordinate),this.animateOption)),this.defaultSize=void 0,this.elementsMap={},this.elements=[],this.getOffscreenGroup().clear();var h=this.beforeMapping(this.beforeMappingData);this.dataArray=new Array(h.length);for(var d=0;d<h.length;d++)this.dataArray[d]=this.mapping(h[d]);if(this.updateElements(this.dataArray,t),this.lastElementsMap=this.elementsMap,this.canDoGroupAnimation(t)){var y=this.container,x=this.type,w=this.coordinate,M=(0,S.U2)(this.animateOption,"appear"),T=this.getYScale(),L=w.convert({x:0,y:T.scale(this.getYMinValue())});!function W3(e,r,t,n,s){if(dC[t]){var u=dC[t](n),h=fC((0,S.U2)(u,"animation",""));if(h){var d=(0,E.pi)((0,E.pi)((0,E.pi)({},hc.appear),u),r);e.stopAnimate(),h(e,d,{coordinate:n,minYPoint:s,toAttrs:null})}}}(y,M,x,w,L)}if(this.labelOption){var R=this.useDeferredLabel,D=function(){return n.renderLabels((0,S.xH)(n.dataArray),t)}.bind(this);if("number"==typeof R){var k="number"==typeof R&&R!==1/0?R:0;window.requestIdleCallback?window.requestIdleCallback(D,k&&k!==1/0?{timeout:k}:void 0):setTimeout(D,k)}else D()}this.lastAttributeOption=(0,E.pi)({},this.attributeOption),!1===this.visible&&this.changeVisible(!1)},r.prototype.clear=function(){var t=this,n=t.container,s=t.geometryLabel,u=t.offscreenGroup;n&&n.clear(),s&&s.clear(),u&&u.clear(),this.scaleDefs=void 0,this.attributes={},this.scales={},this.elementsMap={},this.lastElementsMap={},this.elements=[],this.adjusts={},this.dataArray=null,this.beforeMappingData=null,this.lastAttributeOption=void 0,this.defaultSize=void 0,this.idFields=[],this.groupScales=void 0,this.hasSorted=!1,this.isCoordinateChanged=!1},r.prototype.destroy=function(){this.clear(),this.container.remove(!0),this.offscreenGroup&&(this.offscreenGroup.remove(!0),this.offscreenGroup=null),this.geometryLabel&&(this.geometryLabel.destroy(),this.geometryLabel=null),this.theme=void 0,this.shapeFactory=void 0,e.prototype.destroy.call(this)},r.prototype.getGroupScales=function(){return this.groupScales},r.prototype.getAttribute=function(t){return this.attributes[t]},r.prototype.getXScale=function(){return this.getAttribute("position").scales[0]},r.prototype.getYScale=function(){return this.getAttribute("position").scales[1]},r.prototype.getGroupAttributes=function(){var t=[];return(0,S.S6)(this.attributes,function(n){Gu.includes(n.type)&&t.push(n)}),t},r.prototype.getDefaultValue=function(t){var n,s=this.getAttribute(t);return s&&(0,S.xb)(s.scales)&&(n=s.values[0]),n},r.prototype.getAttributeValues=function(t,n){for(var s=[],u=t.scales,h=0,d=u.length;h<d;h++){var p=u[h];s.push(p.isIdentity?p.values:n[p.field])}return t.mapping.apply(t,(0,E.ev)([],(0,E.CR)(s),!1))},r.prototype.getAdjust=function(t){return this.adjusts[t]},r.prototype.getCoordinate=function(){return this.coordinate},r.prototype.getData=function(){return this.data},r.prototype.getShapeMarker=function(t,n){return this.getShapeFactory().getMarker(t,n)},r.prototype.getElementsBy=function(t){return this.elements.filter(function(n){return t(n)})},r.prototype.getElements=function(){return this.elements},r.prototype.getElementId=function(t){var n=(t=(0,S.kJ)(t)?t[0]:t)[Jr];if(this.idFields.length){for(var s=n[this.idFields[0]],u=1;u<this.idFields.length;u++)s+="-"+n[this.idFields[u]];return s}var M,T,h=this.type,d=this.getXScale(),w=n[this.getYScale().field||"y"];M="identity"===d.type?d.values[0]:n[d.field||"x"],T="interval"===h||"schema"===h?"".concat(M):"line"===h||"area"===h||"path"===h?h:"".concat(M,"-").concat(w);for(var L=this.groupScales,R=(u=0,L.length);u<R;u++){var k=L[u].field;T="".concat(T,"-").concat(n[k])}var z=this.getAdjust("dodge");if(z){var G=z.dodgeBy;G&&(T="".concat(T,"-").concat(n[G]))}return this.getAdjust("jitter")&&(T="".concat(T,"-").concat(t.x,"-").concat(t.y)),T},r.prototype.getScaleFields=function(){var t=[],n=new Map,s=this,u=s.attributeOption,h=s.labelOption,d=s.tooltipOption;for(var p in u)if(u.hasOwnProperty(p)){var y=u[p];y.fields?rl(y.fields,t,n):y.values&&rl(y.values,t,n)}return h&&h.fields&&rl(h.fields,t,n),(0,S.Kn)(d)&&d.fields&&rl(d.fields,t,n),t},r.prototype.changeVisible=function(t){e.prototype.changeVisible.call(this,t);for(var n=this.elements,s=0,u=n.length;s<u;s++)n[s].changeVisible(t);t?(this.container&&this.container.show(),this.labelsContainer&&this.labelsContainer.show()):(this.container&&this.container.hide(),this.labelsContainer&&this.labelsContainer.hide())},r.prototype.getFields=function(){var t=new Map,n=[];return Object.values(this.attributeOption).forEach(function(s){(s?.fields||[]).forEach(function(h){t.has(h)||n.push(h),t.set(h,!0)})},[]),n},r.prototype.getGroupFields=function(){for(var t=[],n=new Map,s=0,u=Gu.length;s<u;s++){var d=this.attributeOption[Gu[s]];d&&d.fields&&rl(d.fields,t,n)}return t},r.prototype.getXYFields=function(){var t=(0,E.CR)(this.attributeOption.position.fields,2);return[t[0],t[1]]},r.prototype.getXField=function(){return(0,S.U2)(this.getXYFields(),[0])},r.prototype.getYField=function(){return(0,S.U2)(this.getXYFields(),[1])},r.prototype.getShapes=function(){return this.elements.map(function(t){return t.shape})},r.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},r.prototype.sort=function(t){if(!this.hasSorted)for(var n=this.getXScale(),s=n.field,u=0;u<t.length;u++)t[u].sort(function(d,p){return n.translate(d[Jr][s])-n.translate(p[Jr][s])});this.hasSorted=!0},r.prototype.adjustScale=function(){var t=this.getYScale();t&&this.getAdjust("stack")&&this.updateStackRange(t,this.beforeMappingData)},r.prototype.getShapeFactory=function(){var t=this.shapeType;if(Ug(t))return this.shapeFactory||(this.shapeFactory=(0,S.d9)(Ug(t))),this.shapeFactory.coordinate=this.coordinate,this.shapeFactory.theme=this.theme.geometries[t]||{},this.shapeFactory},r.prototype.createShapePointsCfg=function(t){var n=this.getXScale(),s=this.getYScale();return{x:this.normalizeValues(t[n.field],n),y:s?this.normalizeValues(t[s.field],s):t.y?t.y:.1,y0:s?s.scale(this.getYMinValue()):void 0}},r.prototype.createElement=function(t,n,s){void 0===s&&(s=!1);var u=this.container,h=this.getDrawCfg(t),d=this.getShapeFactory(),p=new pC({shapeFactory:d,container:u,offscreenGroup:this.getOffscreenGroup(),elementIndex:n});return p.animate=this.animateOption,p.geometry=this,p.draw(h,s),p},r.prototype.getDrawCfg=function(t){var n=t[Jr],s={mappingData:t,data:n,x:t.x,y:t.y,color:t.color,size:t.size,isInCircle:this.coordinate.isPolar,customInfo:this.customOption},u=t.shape;!u&&this.getShapeFactory()&&(u=this.getShapeFactory().defaultShapeType),s.shape=u;var h=this.theme.geometries[this.shapeType];s.defaultStyle=(0,S.U2)(h,[u,"default"],{}).style,!s.defaultStyle&&this.getShapeFactory()&&(s.defaultStyle=this.getShapeFactory().getDefaultStyle(h));var d=this.styleOption;return d&&(s.style=this.getStyleCfg(d,n)),this.generatePoints&&(s.points=t.points,s.nextPoints=t.nextPoints),s},r.prototype.updateElements=function(t,n){var s,u,h,d,p,y;void 0===n&&(n=!1);for(var x=new Map,w=[],M=new Map,T=0,L=0;L<t.length;L++)for(var R=t[L],D=0;D<R.length;D++){var z=this.getElementId(k=R[D]),G=x.has(z)?"".concat(z,"-").concat(L,"-").concat(D):z;w.push(G),x.set(G,k),M.set(G,T),T++}this.elements=new Array(T);var U=oo(this.lastElementsMap,w),q=U.added,a=U.updated,o=U.removed;try{for(var i=(0,E.XA)(q),l=i.next();!l.done;l=i.next()){var k=x.get(z=l.value),c=(L=M.get(z),this.createElement(k,L,n));this.elements[L]=c,this.elementsMap[z]=c,c.shape&&c.shape.set("zIndex",this.zIndexReversed?this.elements.length-L:L)}}catch(A){s={error:A}}finally{try{l&&!l.done&&(u=i.return)&&u.call(i)}finally{if(s)throw s.error}}try{for(var f=(0,E.XA)(a),v=f.next();!v.done;v=f.next()){c=this.lastElementsMap[z=v.value],k=x.get(z);var g=this.getDrawCfg(k),m=c.getModel();L=M.get(z),(this.isCoordinateChanged||ws(g,m))&&(c.animate=this.animateOption,c.update(g)),this.elements[L]=c,this.elementsMap[z]=c,c.shape&&c.shape.set("zIndex",this.zIndexReversed?this.elements.length-L:L)}}catch(A){h={error:A}}finally{try{v&&!v.done&&(d=f.return)&&d.call(f)}finally{if(h)throw h.error}}this.container&&this.container.sort();try{for(var _=(0,E.XA)(o),b=_.next();!b.done;b=_.next())(c=this.lastElementsMap[z=b.value]).animate=this.animateOption,c.destroy()}catch(A){p={error:A}}finally{try{b&&!b.done&&(y=_.return)&&y.call(_)}finally{if(p)throw p.error}}},r.prototype.getLabelType=function(){var t=this,s=t.coordinate,u=t.type,h=s.type,d=s.isTransposed,p=(0,S.U2)(t.labelOption,["cfg","type"]);return p||(p="polar"===h?d?"pie":"polar":"theta"===h?"pie":"interval"===u||"polygon"===u?"interval":"base"),p},r.prototype.getYMinValue=function(){var t=this.getYScale(),n=t.min,s=t.max;return n>=0?n:s<=0?s:0},r.prototype.createAttrOption=function(t,n,s){if((0,S.UM)(n)||(0,S.Kn)(n))(0,S.Kn)(n)&&(0,S.Xy)(Object.keys(n),["values"])?(0,S.t8)(this.attributeOption,t,{fields:n.values}):(0,S.t8)(this.attributeOption,t,n);else{var u={};(0,S.hj)(n)?u.values=[n]:u.fields=Uh(n),s&&((0,S.mf)(s)?u.callback=s:u.values=s),(0,S.t8)(this.attributeOption,t,u)}},r.prototype.initAttributes=function(){var t=this,n=this,s=n.attributes,u=n.attributeOption,h=n.theme,d=n.shapeType;this.groupScales=[];var p={},y=function(M){if(u.hasOwnProperty(M)){var T=u[M];if(!T)return{value:void 0};var L=(0,E.pi)({},T),R=L.callback,D=L.values,k=L.fields,G=(void 0===k?[]:k).map(function(q){var a=t.scales[q];return!p[q]&&Gu.includes(M)&&"cat"===To(a,(0,S.U2)(t.scaleDefs,q),M,t.type)&&(t.groupScales.push(a),p[q]=!0),a});L.scales=G,"position"!==M&&1===G.length&&"identity"===G[0].type?L.values=G[0].values:!R&&!D&&("size"===M?L.values=h.sizes:"shape"===M?L.values=h.shapes[d]||[]:"color"===M&&(L.values=G.length?G[0].values.length<=10?h.colors10:h.colors20:h.colors10));var U=tg(M);s[M]=new U(L)}};for(var x in u){var w=y(x);if("object"==typeof w)return w.value}},r.prototype.processData=function(t){var n,s;this.hasSorted=!1;for(var h=this.getAttribute("position").scales.filter(function(o){return o.isCategory}),d=this.groupData(t),p=[],y=0,x=d.length;y<x;y++){for(var w=d[y],M=[],T=0,L=w.length;T<L;T++){var R=w[T],D={};for(var k in R)D[k]=R[k];D[Jr]=R;try{for(var z=(n=void 0,(0,E.XA)(h)),G=z.next();!G.done;G=z.next()){var U=G.value,q=U.field;D[q]=U.translate(D[q])}}catch(o){n={error:o}}finally{try{G&&!G.done&&(s=z.return)&&s.call(z)}finally{if(n)throw n.error}}M.push(D)}p.push(M)}var a=this.adjustData(p);return this.beforeMappingData=a,a},r.prototype.adjustData=function(t){var n=this.adjustOption,s=this,u=s.intervalPadding,h=s.dodgePadding,d=s.theme,p=this.maxColumnWidth||d.maxColumnWidth,y=this.minColumnWidth||d.minColumnWidth,x=this.columnWidthRatio||d.columnWidthRatio,w=t;if(n){var M=this.getXScale(),T=this.getYScale(),L=M.field,R=T?T.field:null,D=Bh(this.coordinate),k=M.values.length,z=this.getAttribute("size"),G=void 0;z&&(G=z.values[0]);for(var U=0,q=n.length;U<q;U++){var a=n[U],o=(0,E.pi)({xField:L,yField:R,intervalPadding:u,dodgePadding:h,xDimensionLength:D,groupNum:k,defaultSize:G,maxColumnWidth:p,minColumnWidth:y,columnWidthRatio:x},a),i=a.type;if("dodge"===i){var l=[];if(M.isCategory||"identity"===M.type)l.push("x");else{if(T)throw new Error("dodge is not support linear attribute, please use category attribute!");l.push("y")}o.adjustNames=l,o.dodgeRatio=x}else if("stack"===i){var c=this.coordinate;if(!T){o.height=c.getHeight();var f=this.getDefaultValue("size")||3;o.size=f}!c.isTransposed&&(0,S.UM)(o.reverseOrder)&&(o.reverseOrder=!0)}var v=ox(i);o.dimValuesMap={},M&&M.values&&(o.dimValuesMap[M.field]=M.values.map(function(m){return M.translate(m)}));var g=new v(o);w=g.process(w),this.adjusts[i]=g}}return w},r.prototype.groupData=function(t){for(var n=this.getGroupScales(),s=this.scaleDefs,u={},h=[],d=0;d<n.length;d++){var y=n[d].field;h.push(y),(0,S.U2)(s,[y,"values"])&&(u[y]=s[y].values)}return function tn(e,r,t){var n,s;if(void 0===t&&(t={}),!r)return[e];var u=(0,S.Ms)(e,r),h=[];if(1===r.length&&t[r[0]]){var d=t[r[0]];try{for(var p=(0,E.XA)(d),y=p.next();!y.done;y=p.next()){var w=u["_".concat(y.value)];w&&h.push(w)}}catch(L){n={error:L}}finally{try{y&&!y.done&&(s=p.return)&&s.call(p)}finally{if(n)throw n.error}}}else for(var M in u)u.hasOwnProperty(M)&&h.push(u[M]);return h}(t,h,u)},r.prototype.updateStackRange=function(t,n){for(var s=(0,S.xH)(n),u=t.field,h=t.min,d=t.max,p=0;p<s.length;p++){var y=s[p],x=Math.min.apply(null,y[u]),w=Math.max.apply(null,y[u]);x<h&&(h=x),w>d&&(d=w)}var M=this.scaleDefs,T={};h<t.min&&!(0,S.U2)(M,[u,"min"])&&(T.min=h),d>t.max&&!(0,S.U2)(M,[u,"max"])&&(T.max=d),t.change(T)},r.prototype.beforeMapping=function(t){var n=t;if(this.sortable&&this.sort(n),this.generatePoints)for(var s=0,u=n.length;s<u;s++){var h=n[s];this.generateShapePoints(h);var d=n[s+1];d&&(this.generateShapePoints(d),h[0].nextPoints=d[0].points)}return n},r.prototype.generateShapePoints=function(t){for(var n=this.getShapeFactory(),s=this.getAttribute("shape"),u=0;u<t.length;u++){var h=t[u],d=this.createShapePointsCfg(h),p=s?this.getAttributeValues(s,h):null,y=n.getShapePoints(p,d);h.points=y}},r.prototype.normalizeValues=function(t,n){var s=[];if((0,S.kJ)(t))for(var u=0;u<t.length;u++)s.push(n.scale(t[u]));else s=n.scale(t);return s},r.prototype.mapping=function(t){for(var n=this.attributes,s=[],u=0;u<t.length;u++){var h=t[u],d={_origin:h[Jr],points:h.points,nextPoints:h.nextPoints};for(var p in n)if(n.hasOwnProperty(p)){var y=n[p],x=y.names,w=this.getAttributeValues(y,h);if(x.length>1)for(var M=0;M<w.length;M+=1){var T=w[M];d[x[M]]=(0,S.kJ)(T)&&1===T.length?T[0]:T}else d[x[0]]=1===w.length?w[0]:w}this.convertPoint(d),s.push(d)}return s},r.prototype.convertPoint=function(t){var u,h,d,n=t.x,s=t.y,p=this.coordinate;if((0,S.kJ)(n)&&(0,S.kJ)(s)){u=[],h=[];for(var y=0,x=0,w=n.length,M=s.length;y<w&&x<M;y+=1,x+=1)d=p.convert({x:n[y],y:s[x]}),u.push(d.x),h.push(d.y)}else if((0,S.kJ)(s)){h=[];for(var T=0;T<s.length;T++)d=p.convert({x:n,y:s[T]}),u&&u!==d.x?((0,S.kJ)(u)||(u=[u]),u.push(d.x)):u=d.x,h.push(d.y)}else if((0,S.kJ)(n))for(u=[],T=0;T<n.length;T++)d=p.convert({x:n[T],y:s}),h&&h!==d.y?((0,S.kJ)(h)||(h=[h]),h.push(d.y)):h=d.y,u.push(d.x);else{var D=p.convert({x:n,y:s});u=D.x,h=D.y}t.x=u,t.y=h},r.prototype.getStyleCfg=function(t,n){var s=t.fields,h=t.callback,d=t.cfg;if(d)return d;var p=(void 0===s?[]:s).map(function(y){return n[y]});return h.apply(void 0,(0,E.ev)([],(0,E.CR)(p),!1))},r.prototype.setCfg=function(t){var n=this,s=t.coordinate,u=t.data,h=t.theme,d=t.scaleDefs;s&&(this.coordinate=s),u&&(this.data=u),d&&(this.scaleDefs=d,this.idFields=[],(0,S.S6)(d,function(p,y){p&&p.key&&n.idFields.push(y)})),h&&(this.theme=this.userTheme?(0,S.b$)({},h,this.userTheme):h)},r.prototype.renderLabels=function(t,n){return void 0===n&&(n=!1),(0,E.mG)(this,void 0,void 0,function(){var s,u,h,d,p,y,x,w,L,R,D=this;return(0,E.Jh)(this,function(k){switch(k.label){case 0:return s=this.geometryLabel,this.emit(rs.BEFORE_RENDER_LABEL),s||(u=this.getLabelType(),h=function U3(e){return gC[e.toLowerCase()]}(u),s=new h(this),this.geometryLabel=s),[4,s.render(t,n)];case 1:k.sent(),d=s.labelsRenderer.shapesMap,p=new Map,(0,S.S6)(d,function(z,G){for(var U=z.getChildren()||[],q=0;q<U.length;q++){var a=U[q],o=D.elementsMap[a.get("elementId")||G.split(" ")[0]];if(o){a.cfg.name=["element","label"],a.cfg.element=o;var i=p.get(o)||new Set;i.add(z),p.set(o,i)}}});try{for(y=(0,E.XA)(p.entries()),x=y.next();!x.done;x=y.next())(w=(0,E.CR)(x.value,2))[0].labelShape=(0,E.ev)([],(0,E.CR)(w[1]),!1)}catch(z){L={error:z}}finally{try{x&&!x.done&&(R=y.return)&&R.call(y)}finally{if(L)throw L.error}}return this.emit(rs.AFTER_RENDER_LABEL),[2]}})})},r.prototype.canDoGroupAnimation=function(t){return!t&&this.animateOption&&(void 0===(0,S.U2)(this.animateOption,"appear")||(0,S.U2)(this.animateOption,"appear")&&void 0===(0,S.U2)(this.animateOption,["appear","animation"]))},r}(k0);const nr=nu;var fc=an.vs;function Ga(e,r,t){var n=fc(e.getMatrix(),[["t",r,t]]);e.setMatrix(n)}function Yg(e,r){var t=function mC(e,r){var t=e.attr(),n=t.x,s=t.y;return fc(e.getMatrix(),[["t",-n,-s],["r",r],["t",n,s]])}(e,r);e.setMatrix(t)}function Fi(e){return e.find(function(r){return"text"===r.get("type")})}function xC(e,r,t){void 0===t&&(t=[0,0,0,0]);var n=e&&e.getChildren()[0];if(n){var s=n.clone();r?.rotate&&Yg(s,-r.rotate);var u=s.getCanvasBBox(),h=u.x,d=u.y,p=u.width,y=u.height;s.destroy();var x=t;return(0,S.UM)(x)?x=[2,2,2,2]:(0,S.hj)(x)&&(x=new Array(4).fill(x)),{x:h-x[3],y:d-x[0],width:p+x[1]+x[3],height:y+x[0]+x[2],rotation:r?.rotate||0}}return{x:0,y:0,width:0,height:0,rotation:0}}function Z3(e,r){var t=e.getBBox();return(0,S.G)(r,function(n){var s=n.getBBox();return function $3(e,r,t){return void 0===t&&(t=0),Math.max(0,Math.min(e.x+e.width+t,r.x+r.width+t)-Math.max(e.x-t,r.x-t))*Math.max(0,Math.min(e.y+e.height+t,r.y+r.height+t)-Math.max(e.y-t,r.y-t))}(t,s,2)>0})}function Yh(e,r,t){var n=t.data,s=t.origin,u=t.animateCfg,h=t.coordinate,d=(0,S.U2)(u,"update");e.set("data",n),e.set("origin",s),e.set("animateCfg",u),e.set("coordinate",h),e.set("visible",r.get("visible")),(e.getChildren()||[]).forEach(function(p,y){var x=r.getChildByIndex(y);if(x){p.set("data",n),p.set("origin",s),p.set("animateCfg",u),p.set("coordinate",h);var w=k2(p,x);d?Io(p,d,{toAttrs:w,coordinate:h}):p.attr(w),x.isGroup()&&Yh(p,x,t)}else e.removeChild(p),p.remove(!0)}),(0,S.S6)(r.getChildren(),function(p,y){y>=e.getCount()&&(p.destroyed||e.add(p))})}var q3=function(){function e(r){this.shapesMap={};var n=r.container;this.layout=r.layout,this.container=n}return e.prototype.render=function(r,t,n){return void 0===n&&(n=!1),(0,E.mG)(this,void 0,void 0,function(){var s,u,h,d,p,y,x,w,M=this;return(0,E.Jh)(this,function(T){switch(T.label){case 0:if(s={},u=this.createOffscreenGroup(),!r.length)return[3,2];try{for(h=(0,E.XA)(r),d=h.next();!d.done;d=h.next())(p=d.value)&&(s[p.id]=this.renderLabel(p,u))}catch(L){x={error:L}}finally{try{d&&!d.done&&(w=h.return)&&w.call(h)}finally{if(x)throw x.error}}return[4,this.doLayout(r,t,s)];case 1:T.sent(),this.renderLabelLine(r,s),this.renderLabelBackground(r,s),this.adjustLabel(r,s),T.label=2;case 2:return y=this.shapesMap,(0,S.S6)(s,function(L,R){if(L.destroyed)delete s[R];else{if(y[R]){var D=L.get("data"),k=L.get("origin"),z=L.get("coordinate"),G=L.get("animateCfg"),U=y[R];Yh(U,s[R],{data:D,origin:k,animateCfg:G,coordinate:z}),s[R]=U}else{if(M.container.destroyed)return;M.container.add(L);var q=(0,S.U2)(L.get("animateCfg"),n?"enter":"appear");q&&Io(L,q,{toAttrs:(0,E.pi)({},L.attr()),coordinate:L.get("coordinate")})}delete y[R]}}),(0,S.S6)(y,function(L){var R=(0,S.U2)(L.get("animateCfg"),"leave");R?Io(L,R,{toAttrs:null,coordinate:L.get("coordinate")}):L.remove(!0)}),this.shapesMap=s,u.destroy(),[2]}})})},e.prototype.clear=function(){this.container.clear(),this.shapesMap={}},e.prototype.destroy=function(){this.container.destroy(),this.shapesMap=null},e.prototype.renderLabel=function(r,t){var T,h=r.mappingData,d=r.coordinate,p=r.animate,y=r.content,w={id:r.id,elementId:r.elementId,capture:r.capture,data:r.data,origin:(0,E.pi)((0,E.pi)({},h),{data:h[Jr]}),coordinate:d},M=t.addGroup((0,E.pi)({name:"label",animateCfg:!1!==this.animate&&null!==p&&!1!==p&&(0,S.b$)({},this.animate,p)},w));if(y.isGroup&&y.isGroup()||y.isShape&&y.isShape()){var L=y.getCanvasBBox(),R=L.width,D=L.height,k=(0,S.U2)(r,"textAlign","left"),z=r.x;"center"===k?z-=R/2:("right"===k||"end"===k)&&(z-=R),Ga(y,z,r.y-D/2),T=y,M.add(y)}else{var U=(0,S.U2)(r,["style","fill"]);T=M.addShape("text",(0,E.pi)({attrs:(0,E.pi)((0,E.pi)({x:r.x,y:r.y,textAlign:r.textAlign,textBaseline:(0,S.U2)(r,"textBaseline","middle"),text:r.content},r.style),{fill:(0,S.Ft)(U)?r.color:U})},w))}return r.rotate&&Yg(T,r.rotate),M},e.prototype.doLayout=function(r,t,n){return(0,E.mG)(this,void 0,void 0,function(){var s,u=this;return(0,E.Jh)(this,function(h){switch(h.label){case 0:return this.layout?(s=(0,S.kJ)(this.layout)?this.layout:[this.layout],[4,Promise.all(s.map(function(d){var p=function Y3(e){return yC[e.toLowerCase()]}((0,S.U2)(d,"type",""));if(p){var y=[],x=[];return(0,S.S6)(n,function(w,M){y.push(w),x.push(t[w.get("elementId")])}),p(r,y,x,u.region,d.cfg)}}))]):[3,2];case 1:h.sent(),h.label=2;case 2:return[2]}})})},e.prototype.renderLabelLine=function(r,t){(0,S.S6)(r,function(n){var s=(0,S.U2)(n,"coordinate");if(n&&s){var u=s.getCenter(),h=s.getRadius();if(n.labelLine){var d=(0,S.U2)(n,"labelLine",{}),p=n.id,y=d.path;if(!y){var x=kn(u.x,u.y,h,n.angle);y=[["M",x.x,x.y],["L",n.x,n.y]]}var w=t[p];w.destroyed||w.addShape("path",{capture:!1,attrs:(0,E.pi)({path:y,stroke:n.color?n.color:(0,S.U2)(n,["style","fill"],"#000"),fill:null},d.style),id:p,origin:n.mappingData,data:n.data,coordinate:n.coordinate})}}})},e.prototype.renderLabelBackground=function(r,t){(0,S.S6)(r,function(n){var s=(0,S.U2)(n,"coordinate"),u=(0,S.U2)(n,"background");if(u&&s){var h=n.id,d=t[h];if(!d.destroyed){var p=d.getChildren()[0];if(p){var y=xC(d,n,u.padding),x=y.rotation,w=(0,E._T)(y,["rotation"]),M=d.addShape("rect",{attrs:(0,E.pi)((0,E.pi)({},w),u.style||{}),id:h,origin:n.mappingData,data:n.data,coordinate:n.coordinate});if(M.setZIndex(-1),x){var T=p.getMatrix();M.setMatrix(T)}}}}})},e.prototype.createOffscreenGroup=function(){return new(this.container.getGroupBase())({})},e.prototype.adjustLabel=function(r,t){(0,S.S6)(r,function(n){if(n){var u=t[n.id];if(!u.destroyed){var h=u.findAll(function(d){return"path"!==d.get("type")});(0,S.S6)(h,function(d){d&&(n.offsetX&&d.attr("x",d.attr("x")+n.offsetX),n.offsetY&&d.attr("y",d.attr("y")+n.offsetY))})}}})},e}();const j3=q3;function CC(e){var r=0;return(0,S.S6)(e,function(t){r+=t}),r/e.length}var wC=function(){function e(r){this.geometry=r}return e.prototype.getLabelItems=function(r){var t=this,n=[],s=this.getLabelCfgs(r);return(0,S.S6)(r,function(u,h){var d=s[h];if(!d||(0,S.UM)(u.x)||(0,S.UM)(u.y))n.push(null);else{var p=(0,S.kJ)(d.content)?d.content:[d.content];d.content=p;var y=p.length;(0,S.S6)(p,function(x,w){if((0,S.UM)(x)||""===x)n.push(null);else{var M=(0,E.pi)((0,E.pi)({},d),t.getLabelPoint(d,u,w));M.textAlign||(M.textAlign=t.getLabelAlign(M,w,y)),M.offset<=0&&(M.labelLine=null),n.push(M)}})}}),n},e.prototype.render=function(r,t){return void 0===t&&(t=!1),(0,E.mG)(this,void 0,void 0,function(){var n,s,u;return(0,E.Jh)(this,function(h){switch(h.label){case 0:return n=this.getLabelItems(r),s=this.getLabelsRenderer(),u=this.getGeometryShapes(),[4,s.render(n,u,t)];case 1:return h.sent(),[2]}})})},e.prototype.clear=function(){var r=this.labelsRenderer;r&&r.clear()},e.prototype.destroy=function(){var r=this.labelsRenderer;r&&r.destroy(),this.labelsRenderer=null},e.prototype.getCoordinate=function(){return this.geometry.coordinate},e.prototype.getDefaultLabelCfg=function(r,t){var n=this.geometry,s=n.type,u=n.theme;return"polygon"===s||"interval"===s&&"middle"===t||r<0&&!["line","point","path"].includes(s)?(0,S.U2)(u,"innerLabels",{}):(0,S.U2)(u,"labels",{})},e.prototype.getThemedLabelCfg=function(r){var t=this.geometry,n=this.getDefaultLabelCfg(),s=t.type,u=t.theme;return"polygon"===s||r.offset<0&&!["line","point","path"].includes(s)?(0,S.b$)({},n,u.innerLabels,r):(0,S.b$)({},n,u.labels,r)},e.prototype.setLabelPosition=function(r,t,n,s){},e.prototype.getLabelOffset=function(r){var t=this.getCoordinate(),n=this.getOffsetVector(r);return t.isTransposed?n[0]:n[1]},e.prototype.getLabelOffsetPoint=function(r,t,n){var s=r.offset,h=this.getCoordinate().isTransposed,p=h?1:-1,y={x:0,y:0};return y[h?"x":"y"]=t>0||1===n?s*p:s*p*-1,y},e.prototype.getLabelPoint=function(r,t,n){var s=this.getCoordinate(),u=r.content.length;function h(D,k,z){void 0===z&&(z=!1);var G=D;return(0,S.kJ)(G)&&(G=1===r.content.length?z?CC(G):G.length<=2?G[D.length-1]:CC(G):G[k]),G}var d={content:r.content[n],x:0,y:0,start:{x:0,y:0},color:"#fff"},p=(0,S.kJ)(t.shape)?t.shape[0]:t.shape,y="funnel"===p||"pyramid"===p;if("polygon"===this.geometry.type){var x=function jE(e,r){if((0,S.hj)(e)&&(0,S.hj)(r))return[e,r];if(Jl(e)||Jl(r))return[Dh(e),Dh(r)];for(var u,d,t=-1,n=0,s=0,h=e.length-1,p=0;++t<e.length;)p+=d=e[u=h]*r[h=t]-e[h]*r[u],n+=(e[u]+e[h])*d,s+=(r[u]+r[h])*d;return[n/(p*=3),s/p]}(t.x,t.y);d.x=x[0],d.y=x[1]}else"interval"!==this.geometry.type||y?(d.x=h(t.x,n),d.y=h(t.y,n)):(d.x=h(t.x,n,!0),d.y=h(t.y,n));if(y){var w=(0,S.U2)(t,"nextPoints"),M=(0,S.U2)(t,"points");if(w){var T=s.convert(M[1]),L=s.convert(w[1]);d.x=(T.x+L.x)/2,d.y=(T.y+L.y)/2}else"pyramid"===p&&(T=s.convert(M[1]),L=s.convert(M[2]),d.x=(T.x+L.x)/2,d.y=(T.y+L.y)/2)}r.position&&this.setLabelPosition(d,t,n,r.position);var R=this.getLabelOffsetPoint(r,n,u);return d.start={x:d.x,y:d.y},d.x+=R.x,d.y+=R.y,d.color=t.color,d},e.prototype.getLabelAlign=function(r,t,n){var s="center";if(this.getCoordinate().isTransposed){var h=r.offset;s=h<0?"right":0===h?"center":"left",n>1&&0===t&&("right"===s?s="left":"left"===s&&(s="right"))}return s},e.prototype.getLabelId=function(r){var t=this.geometry,n=t.type,s=t.getXScale(),u=t.getYScale(),h=r[Jr],d=t.getElementId(r);return"line"===n||"area"===n?d+=" ".concat(h[s.field]):"path"===n&&(d+=" ".concat(h[s.field],"-").concat(h[u.field])),d},e.prototype.getLabelsRenderer=function(){var r=this.geometry,s=r.canvasRegion,u=r.animateOption,h=this.geometry.coordinate,d=this.labelsRenderer;return d||(d=new j3({container:r.labelsContainer,layout:(0,S.U2)(r.labelOption,["cfg","layout"],{type:this.defaultLayout})}),this.labelsRenderer=d),d.region=s,d.animate=!!u&&vC("label",h),d},e.prototype.getLabelCfgs=function(r){var t=this,n=this.geometry,s=n.labelOption,u=n.scales,h=n.coordinate,p=s.fields,y=s.callback,x=s.cfg,w=p.map(function(T){return u[T]}),M=[];return(0,S.S6)(r,function(T,L){var k,R=T[Jr],D=t.getLabelText(R,w);if(y){var z=p.map(function(o){return R[o]});if(k=y.apply(void 0,(0,E.ev)([],(0,E.CR)(z),!1)),(0,S.UM)(k))return void M.push(null)}var G=(0,E.pi)((0,E.pi)({id:t.getLabelId(T),elementId:t.geometry.getElementId(T),data:R,mappingData:T,coordinate:h},x),k);(0,S.mf)(G.position)&&(G.position=G.position(R,T,L));var U=t.getLabelOffset(G.offset||0),q=t.getDefaultLabelCfg(U,G.position);(G=(0,S.b$)({},q,G)).offset=t.getLabelOffset(G.offset||0);var a=G.content;(0,S.mf)(a)?G.content=a(R,T,L):(0,S.o8)(a)&&(G.content=D[0]),M.push(G)}),M},e.prototype.getLabelText=function(r,t){var n=[];return(0,S.S6)(t,function(s){var u=r[s.field];u=(0,S.kJ)(u)?u.map(function(h){return s.getText(h)}):s.getText(u),(0,S.UM)(u)||""===u?n.push(null):n.push(u)}),n},e.prototype.getOffsetVector=function(r){void 0===r&&(r=0);var t=this.getCoordinate(),n=0;return(0,S.hj)(r)&&(n=r),t.isTransposed?t.applyMatrix(n,0):t.applyMatrix(0,n)},e.prototype.getGeometryShapes=function(){var r=this.geometry,t={};return(0,S.S6)(r.elementsMap,function(n,s){t[s]=n.shape}),(0,S.S6)(r.getOffscreenGroup().getChildren(),function(n){var s=r.getElementId(n.get("origin").mappingData);t[s]=n}),t},e}();const mv=wC;function Xg(e,r,t){if(!e)return t;var n;if(e.callback&&e.callback.length>1){var s=Array(e.callback.length-1).fill("");n=e.mapping.apply(e,(0,E.ev)([r],(0,E.CR)(s),!1)).join("")}else n=e.mapping(r).join("");return n||t}var so={hexagon:function(e,r,t){var n=t/2*Math.sqrt(3);return[["M",e,r-t],["L",e+n,r-t/2],["L",e+n,r+t/2],["L",e,r+t],["L",e-n,r+t/2],["L",e-n,r-t/2],["Z"]]},bowtie:function(e,r,t){var n=t-1.5;return[["M",e-t,r-n],["L",e+t,r+n],["L",e+t,r-n],["L",e-t,r+n],["Z"]]},cross:function(e,r,t){return[["M",e-t,r-t],["L",e+t,r+t],["M",e+t,r-t],["L",e-t,r+t]]},tick:function(e,r,t){return[["M",e-t/2,r-t],["L",e+t/2,r-t],["M",e,r-t],["L",e,r+t],["M",e-t/2,r+t],["L",e+t/2,r+t]]},plus:function(e,r,t){return[["M",e-t,r],["L",e+t,r],["M",e,r-t],["L",e,r+t]]},hyphen:function(e,r,t){return[["M",e-t,r],["L",e+t,r]]},line:function(e,r,t){return[["M",e,r-t],["L",e,r+t]]}},J3=["line","cross","tick","plus","hyphen"];function _C(e){var r=e.symbol;(0,S.HD)(r)&&so[r]&&(e.symbol=so[r])}function xv(e){return e.startsWith(Ne.LEFT)||e.startsWith(Ne.RIGHT)?"vertical":"horizontal"}function SC(e,r,t,n,s){var u=t.getScale(t.type);if(u.isCategory){var h=u.field,d=r.getAttribute("color"),p=r.getAttribute("shape"),y=e.getTheme().defaultColor,x=r.coordinate.isPolar;return u.getTicks().map(function(w,M){var T,D=w.text,k=u.invert(w.value),z=0===e.filterFieldData(h,[(T={},T[h]=k,T)]).length;(0,S.S6)(e.views,function(o){var i;o.filterFieldData(h,[(i={},i[h]=k,i)]).length||(z=!0)});var G=Xg(d,k,y),U=Xg(p,k,"point"),q=r.getShapeMarker(U,{color:G,isInPolar:x}),a=s;return(0,S.mf)(a)&&(a=a(D,M,(0,E.pi)({name:D,value:k},(0,S.b$)({},n,q)))),function $g(e,r){var t=e.symbol;if((0,S.HD)(t)&&-1!==J3.indexOf(t)){var n=(0,S.U2)(e,"style",{}),s=(0,S.U2)(n,"lineWidth",1);e.style=(0,S.b$)({},e.style,{lineWidth:s,stroke:n.stroke||n.fill||r,fill:null})}}(q=(0,S.b$)({},n,q,aa((0,E.pi)({},a),["style"])),G),a&&a.style&&(q.style=function K3(e,r){return(0,S.mf)(r)?r(e):(0,S.b$)({},e,r)}(q.style,a.style)),_C(q),{id:k,name:D,value:k,marker:q,unchecked:z}})}return[]}function bC(e,r){var t=(0,S.U2)(e,["components","legend"],{});return(0,S.b$)({},(0,S.U2)(t,["common"],{}),(0,S.b$)({},(0,S.U2)(t,[r],{})))}function Zg(e){return!e&&(null==e||isNaN(e))}function Cv(e){if((0,S.kJ)(e))return Zg(e[1].y);var r=e.y;return(0,S.kJ)(r)?Zg(r[0]):Zg(r)}function Vh(e,r,t){if(void 0===r&&(r=!1),void 0===t&&(t=!0),!e.length||1===e.length&&!t)return[];if(r){for(var n=[],s=0,u=e.length;s<u;s++)Cv(h=e[s])||n.push(h);return[n]}var d=[],p=[];for(s=0,u=e.length;s<u;s++){var h;Cv(h=e[s])?p.length&&(1===p.length&&!t||d.push(p),p=[]):p.push(h)}return p.length&&d.push(p),d}function TC(e){for(var r=[],t=0;t<e.length;t++){var n=e[t];n&&r.push([0===t?"M":"L",n.x,n.y])}var u=e[0];return u&&(r.push(["L",u.x,u.y]),r.push(["z"])),r}function AC(e){for(var r=e.length/2,t=[],n=[],s=0;s<e.length;s++)s<r?t.push(e[s]):n.push(e[s]);var u=Ca(t,!1),h=Ca(n,!1);n.length&&u.push(["L",n[0].x,n[0].y]),h.shift();var d=u.concat(h);return t.length&&d.push(["L",t[0].x,t[0].y]),d.push(["z"]),d}function In(e,r,t,n){void 0===n&&(n="");var s=e.style,u=void 0===s?{}:s,d=e.color,p=e.size,y=(0,E.pi)((0,E.pi)({},e.defaultStyle),u);return d&&(r&&(u.stroke||(y.stroke=d)),t&&(u.fill||(y.fill=d))),n&&(0,S.UM)(u[n])&&!(0,S.UM)(p)&&(y[n]=p),y}function EC(e){return(0,S.b$)({},{fill:"#CCD6EC",fillOpacity:.3},(0,S.U2)(e,["background","style"]))}function qg(e){var r=e.x;return((0,S.kJ)(e.y)?e.y:[e.y]).map(function(n,s){return{x:(0,S.kJ)(r)?r[s]:r,y:n}})}var jg={line:function(e,r,t){return[["M",e-t,r],["L",e+t,r]]},dot:function(e,r,t){return[["M",e-t,r],["L",e+t,r]]},dash:function(e,r,t){return[["M",e-t,r],["L",e+t,r]]},smooth:function(e,r,t){return[["M",e-t,r],["A",t/2,t/2,0,1,1,e,r],["A",t/2,t/2,0,1,0,e+t,r]]},hv:function(e,r,t){return[["M",e-t-1,r-2.5],["L",e,r-2.5],["L",e,r+2.5],["L",e+t+1,r+2.5]]},vh:function(e,r,t){return[["M",e-t-1,r+2.5],["L",e,r+2.5],["L",e,r-2.5],["L",e+t+1,r-2.5]]},hvh:function(e,r,t){return[["M",e-(t+1),r+2.5],["L",e-t/2,r+2.5],["L",e-t/2,r-2.5],["L",e+t/2,r-2.5],["L",e+t/2,r+2.5],["L",e+t+1,r+2.5]]},vhv:function(e,r){return[["M",e-5,r+2.5],["L",e-5,r],["L",e,r],["L",e,r-3],["L",e,r+3],["L",e+6.5,r+3]]}};function LC(e,r){return{symbol:jg[r],style:{lineWidth:2,r:6,stroke:e.color}}}function Oo(e,r,t,n,s){return 1===e.length?[["M",e[0].x,e[0].y-s.lineWidth/2],["L",e[0].x,e[0].y],["L",e[0].x,e[0].y+s.lineWidth/2]]:(t?(r&&e.length&&e.push({x:e[0].x,y:e[0].y}),u=Ca(e,!1,n)):(u=ys(e,!1),r&&u.push(["Z"])),u);var u}function IC(e,r,t,n,s,u){return e.length?(0,S.kJ)(e[0].y)?function Q3(e,r,t,n,s,u){var h=[],d=[];(0,S.S6)(e,function(x){var w=qg(x);h.push(w[1]),d.push(w[0])});var p=Oo(h,r,n,s,u),y=Oo(d,r,n,s,u);return t?p:p.concat(y)}(e,r,t,n,s,u):Oo(e,r,n,s,u):[]}il("line",{defaultShapeType:"line"}),(0,S.S6)(["line","dot","dash","smooth"],function(e){Xr("line",e,{draw:function(r,t){var s,n="smooth"===e;if(n){var u=this.coordinate,h=u.start,d=u.end;s=[[h.x,d.y],[d.x,h.y]]}var p=function Wa(e,r,t){for(var n=e.isStack,s=e.connectNulls,u=e.isInCircle,h=e.showSinglePoint,d=In(e,!0,!1,"lineWidth"),p=Vh(e.points,s,h),y=[],x=0,w=p.length;x<w;x++)y=y.concat(IC(p[x],u,n,r,t,d));return d.path=y,d}(r,n,s);return t.addShape({type:"path",attrs:p,name:"line",capture:!n})},getMarker:function(r){return LC(r,e)}})});var sa={getLegendItems:SC,translate:Ga,rotate:Yg,zoom:function Vg(e,r){var t=e.getBBox(),n=(t.minX+t.maxX)/2,s=(t.minY+t.maxY)/2;e.applyToMatrix([n,s,1]);var u=fc(e.getMatrix(),[["t",-n,-s],["s",r,r],["t",n,s]]);e.setMatrix(u)},transform:fc,getAngle:kh,getSectorPath:el,polarToCartesian:kn,getDelegationObject:ms,getTooltipItems:zg,getMappingValue:Xg,getPath:IC,getPathPoints:Vh},Qr_100="#FFFFFF",Qr_65="#A6A6A6",Qr_45="#737373",Qr_25="#404040",Di=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],t6=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],OC=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],r6=function(e){void 0===e&&(e={});var r=e.paletteQualitative10,t=void 0===r?Di:r,n=e.paletteQualitative20,u=e.brandColor;return(0,E.pi)((0,E.pi)({},{backgroundColor:"#141414",brandColor:void 0===u?t[0]:u,subColor:"rgba(255,255,255,0.05)",paletteQualitative10:t,paletteQualitative20:void 0===n?t6:n,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",paletteSequence:OC,fontFamily:'"Segoe UI", Roboto, "Helvetica Neue", Arial,\n    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",\n    "Noto Color Emoji"',axisLineBorderColor:Qr_25,axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:Qr_65,axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisDescriptionIconFillColor:"#262626",axisTickLineBorderColor:Qr_25,axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:"#262626",axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:Qr_45,axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:"#262626",axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:Qr_45,legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:Di[0],legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:Qr_65,legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendSpacing:16,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:Qr_45,legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:Qr_45,legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:Qr_65,legendPageNavigatorTextFontSize:12,sliderRailFillColor:"#262626",sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:Qr_45,sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:"#F0F0F0",sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:"#BFBFBF",annotationArcBorderColor:"#262626",annotationArcBorder:1,annotationLineBorderColor:Qr_25,annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:Qr_65,annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:Qr_100,annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:Qr_25,tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"#1f1f1f",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 2px 4px rgba(0,0,0,.5)",tooltipContainerBorderRadius:3,tooltipTextFillColor:Qr_65,tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:Qr_65,labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:"#000",innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:Qr_65,overflowLabelFillColorDark:"#2c3542",overflowLabelFillColorLight:"#ffffff",overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:"#000",overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:Qr_25,cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#fff",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(255,255,255,0.65)",scrollbarThumbFillColor:"rgba(0,0,0,0.35)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.45)",pointFillColor:Di[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:"#000",pointBorderOpacity:1,pointActiveBorderColor:Qr_100,pointSelectedBorder:2,pointSelectedBorderColor:Qr_100,pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:Di[0],hollowPointBorderOpacity:.95,hollowPointFillColor:"#000",hollowPointActiveBorder:1,hollowPointActiveBorderColor:Qr_100,hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:Qr_100,hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:Di[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:Di[0],areaFillOpacity:.25,areaActiveFillColor:Di[0],areaActiveFillOpacity:.5,areaSelectedFillColor:Di[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:Di[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:Qr_100,hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:Qr_100,hollowAreaInactiveBorderOpacity:.3,intervalFillColor:Di[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:Qr_100,intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:Qr_100,intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:Di[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:"#000",hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:Qr_100,hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:Qr_100,hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3}),e)}();function RC(e,r,t,n){var s=e-t,u=r-n;return Math.sqrt(s*s+u*u)}function iu(e,r,t,n,s,u){return s>=e&&s<=e+t&&u>=r&&u<=r+n}function Xh(e,r){return!(r.minX>e.maxX||r.maxX<e.minX||r.minY>e.maxY||r.maxY<e.minY)}function wv(e,r){return e[0]===r[0]&&e[1]===r[1]}var i6=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,FC=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,DC=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,Kg=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function kC(e,r){var t=e.match(Kg);(0,S.S6)(t,function(n){var s=n.split(":");r.addColorStop(s[0],s[1])})}function o6(e,r,t){var n=r.getBBox();if(isNaN(n.x)||isNaN(n.y)||isNaN(n.width)||isNaN(n.height))return t;if((0,S.HD)(t)){if("("===t[1]||"("===t[2]){if("l"===t[0])return function BC(e,r,t){var d,p,n=i6.exec(t),s=parseFloat(n[1])%360*(Math.PI/180),u=n[2],h=r.getBBox();s>=0&&s<.5*Math.PI?(d={x:h.minX,y:h.minY},p={x:h.maxX,y:h.maxY}):.5*Math.PI<=s&&s<Math.PI?(d={x:h.maxX,y:h.minY},p={x:h.minX,y:h.maxY}):Math.PI<=s&&s<1.5*Math.PI?(d={x:h.maxX,y:h.maxY},p={x:h.minX,y:h.minY}):(d={x:h.minX,y:h.maxY},p={x:h.maxX,y:h.minY});var y=Math.tan(s),x=y*y,T=e.createLinearGradient(d.x,d.y,(p.x-d.x+y*(p.y-d.y))/(x+1)+d.x,y*(p.x-d.x+y*(p.y-d.y))/(x+1)+d.y);return kC(u,T),T}(e,r,t);if("r"===t[0])return function PC(e,r,t){var n=FC.exec(t),s=parseFloat(n[1]),u=parseFloat(n[2]),h=parseFloat(n[3]),d=n[4];if(0===h){var p=d.match(Kg);return p[p.length-1].split(":")[1]}var y=r.getBBox(),x=y.maxX-y.minX,w=y.maxY-y.minY,M=Math.sqrt(x*x+w*w)/2,T=e.createRadialGradient(y.minX+x*s,y.minY+w*u,0,y.minX+x/2,y.minY+w/2,h*M);return kC(d,T),T}(e,r,t);if("p"===t[0])return function a6(e,r,t){if(r.get("patternSource")&&r.get("patternSource")===t)return r.get("pattern");var n,s,u=DC.exec(t),h=u[1],d=u[2];function p(){n=e.createPattern(s,h),r.set("pattern",n),r.set("patternSource",t)}switch(h){case"a":h="repeat";break;case"x":h="repeat-x";break;case"y":h="repeat-y";break;default:h="no-repeat"}return s=new Image,d.match(/^data:/i)||(s.crossOrigin="Anonymous"),s.src=d,s.complete?p():(s.onload=p,s.src=s.src),n}(e,r,t)}return t}return t instanceof CanvasPattern?t:void 0}function _v(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function Qg(e,r){return _v(e)*_v(r)?(e[0]*r[0]+e[1]*r[1])/(_v(e)*_v(r)):1}function Ua(e,r){return(e[0]*r[1]<e[1]*r[0]?-1:1)*Math.acos(Qg(e,r))}function $h(e,r){var t=r[1],n=r[2],s=(0,S.wQ)((0,S.c$)(r[3]),2*Math.PI),u=r[4],h=r[5],d=e[0],p=e[1],y=r[6],x=r[7],w=Math.cos(s)*(d-y)/2+Math.sin(s)*(p-x)/2,M=-1*Math.sin(s)*(d-y)/2+Math.cos(s)*(p-x)/2,T=w*w/(t*t)+M*M/(n*n);T>1&&(t*=Math.sqrt(T),n*=Math.sqrt(T));var L=t*t*(M*M)+n*n*(w*w),R=L?Math.sqrt((t*t*(n*n)-L)/L):1;u===h&&(R*=-1),isNaN(R)&&(R=0);var D=n?R*t*M/n:0,k=t?R*-n*w/t:0,z=(d+y)/2+Math.cos(s)*D-Math.sin(s)*k,G=(p+x)/2+Math.sin(s)*D+Math.cos(s)*k,U=[(w-D)/t,(M-k)/n],q=[(-1*w-D)/t,(-1*M-k)/n],a=Ua([1,0],U),o=Ua(U,q);return Qg(U,q)<=-1&&(o=Math.PI),Qg(U,q)>=1&&(o=0),0===h&&o>0&&(o-=2*Math.PI),1===h&&o<0&&(o+=2*Math.PI),{cx:z,cy:G,rx:wv(e,[y,x])?0:t,ry:wv(e,[y,x])?0:n,startAngle:a,endAngle:a+o,xRotation:s,arcFlag:u,sweepFlag:h}}var Sv=Math.sin,dc=Math.cos,Mv=Math.atan2,vc=Math.PI;function bv(e,r,t,n,s,u,h){var d=r.stroke,p=r.lineWidth,w=Mv(n-u,t-s),M=new uy({type:"path",canvas:e.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*dc(vc/6)+","+10*Sv(vc/6)+" L0,0 L"+10*dc(vc/6)+",-"+10*Sv(vc/6),stroke:d,lineWidth:p}});M.translate(s,u),M.rotateAtPoint(s,u,w),e.set(h?"startArrowShape":"endArrowShape",M)}function zC(e,r,t,n,s,u,h){var y=r.stroke,x=r.lineWidth,w=h?r.startArrow:r.endArrow,M=w.d,T=w.fill,L=w.stroke,R=w.lineWidth,D=(0,E._T)(w,["d","fill","stroke","lineWidth"]),G=Mv(n-u,t-s);M&&(s-=dc(G)*M,u-=Sv(G)*M);var U=new uy({type:"path",canvas:e.get("canvas"),isArrowShape:!0,attrs:(0,E.pi)((0,E.pi)({},D),{stroke:L||y,lineWidth:R||x,fill:T})});U.translate(s,u),U.rotateAtPoint(s,u,G),e.set(h?"startArrowShape":"endArrowShape",U)}function au(e,r,t,n,s){var u=Mv(n-r,t-e);return{dx:dc(u)*s,dy:Sv(u)*s}}function ty(e,r,t,n,s,u){"object"==typeof r.startArrow?zC(e,r,t,n,s,u,!0):r.startArrow?bv(e,r,t,n,s,u,!0):e.set("startArrowShape",null)}function ey(e,r,t,n,s,u){"object"==typeof r.endArrow?zC(e,r,t,n,s,u,!1):r.endArrow?bv(e,r,t,n,s,u,!1):e.set("startArrowShape",null)}var NC={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function pc(e,r){var t=r.attr();for(var n in t){var s=t[n],u=NC[n]?NC[n]:n;"matrix"===u&&s?e.transform(s[0],s[1],s[3],s[4],s[6],s[7]):"lineDash"===u&&e.setLineDash?(0,S.kJ)(s)&&e.setLineDash(s):("strokeStyle"===u||"fillStyle"===u?s=o6(e,r,s):"globalAlpha"===u&&(s*=e.globalAlpha),e[u]=s)}}function ry(e,r,t){for(var n=0;n<r.length;n++){var s=r[n];s.cfg.visible?s.draw(e,t):s.skipDraw()}}function l6(e,r,t){var n=e.get("refreshElements");(0,S.S6)(n,function(s){if(s!==e)for(var u=s.cfg.parent;u&&u!==e&&!u.cfg.refresh;)u.cfg.refresh=!0,u=u.cfg.parent}),n[0]===e?Tv(r,t):ny(r,t)}function ny(e,r){for(var t=0;t<e.length;t++){var n=e[t];if(n.cfg.visible)if(n.cfg.hasChanged)n.cfg.refresh=!0,n.isGroup()&&Tv(n.cfg.children,r);else if(n.cfg.refresh)n.isGroup()&&ny(n.cfg.children,r);else{var s=u6(n,r);n.cfg.refresh=s,s&&n.isGroup()&&ny(n.cfg.children,r)}}}function HC(e){for(var r=0;r<e.length;r++){var t=e[r];t.cfg.hasChanged=!1,t.isGroup()&&!t.destroyed&&HC(t.cfg.children)}}function Tv(e,r){for(var t=0;t<e.length;t++){var n=e[t];n.cfg.visible&&(n.cfg.refresh=!0,n.isGroup()&&Tv(n.get("children"),r))}}function u6(e,r){var t=e.cfg.cacheCanvasBBox;return e.cfg.isInView&&t&&Xh(t,r)}function GC(e,r,t,n){var s=t.path,u=t.startArrow,h=t.endArrow;if(s){var d=[0,0],p=[0,0],y={dx:0,dy:0};r.beginPath();for(var x=0;x<s.length;x++){var w=s[x],M=w[0];if(0===x&&u&&u.d)y=au((T=e.getStartTangent())[0][0],T[0][1],T[1][0],T[1][1],u.d);else if(x===s.length-2&&"Z"===s[x+1][0]&&h&&h.d)"Z"===s[x+1][0]&&(y=au((T=e.getEndTangent())[0][0],T[0][1],T[1][0],T[1][1],h.d));else if(x===s.length-1&&h&&h.d&&"Z"!==s[0]){var T;y=au((T=e.getEndTangent())[0][0],T[0][1],T[1][0],T[1][1],h.d)}var R=y.dx,D=y.dy;switch(M){case"M":r.moveTo(w[1]-R,w[2]-D),p=[w[1],w[2]];break;case"L":r.lineTo(w[1]-R,w[2]-D);break;case"Q":r.quadraticCurveTo(w[1],w[2],w[3]-R,w[4]-D);break;case"C":r.bezierCurveTo(w[1],w[2],w[3],w[4],w[5]-R,w[6]-D);break;case"A":var k=void 0;n?(k=n[x])||(k=$h(d,w),n[x]=k):k=$h(d,w);var z=k.cx,G=k.cy,U=k.rx,q=k.ry,a=k.startAngle,o=k.endAngle,i=k.xRotation,l=k.sweepFlag;if(r.ellipse)r.ellipse(z,G,U,q,i,a,o,1-l);else{var c=U>q?U:q,f=U>q?1:U/q,v=U>q?q/U:1;r.translate(z,G),r.rotate(i),r.scale(f,v),r.arc(0,0,c,a,o,1-l),r.scale(1/f,1/v),r.rotate(-i),r.translate(-z,-G)}break;case"Z":r.closePath()}if("Z"===M)d=p;else{var g=w.length;d=[w[g-2],w[g-1]]}}}}function WC(e,r){var t=e.get("canvas");t&&("remove"===r&&(e._cacheCanvasBBox=e.get("cacheCanvasBBox")),e.get("hasChanged")||(e.set("hasChanged",!0),e.cfg.parent&&e.cfg.parent.get("hasChanged")||(t.refreshElement(e,r,t),t.get("autoDraw")&&t.draw())))}var f6=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.onCanvasChange=function(t){WC(this,t)},r.prototype.getShapeBase=function(){return Ut},r.prototype.getGroupBase=function(){return r},r.prototype._applyClip=function(t,n){n&&(t.save(),pc(t,n),n.createPath(t),t.restore(),t.clip(),n._afterDraw())},r.prototype.cacheCanvasBBox=function(){var n=[],s=[];(0,S.S6)(this.cfg.children,function(M){var T=M.cfg.cacheCanvasBBox;T&&M.cfg.isInView&&(n.push(T.minX,T.maxX),s.push(T.minY,T.maxY))});var u=null;if(n.length){var h=(0,S.VV)(n),d=(0,S.Fp)(n),p=(0,S.VV)(s),y=(0,S.Fp)(s);u={minX:h,minY:p,x:h,y:p,maxX:d,maxY:y,width:d-h,height:y-p};var x=this.cfg.canvas;if(x){var w=x.getViewRange();this.set("isInView",Xh(u,w))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",u)},r.prototype.draw=function(t,n){var s=this.cfg.children;s.length&&(!n||this.cfg.refresh)&&(t.save(),pc(t,this),this._applyClip(t,this.getClip()),ry(t,s,n),t.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},r.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},r}(qn.AbstractGroup);const iy=f6;var d6=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,E.pi)((0,E.pi)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},r.prototype.getShapeBase=function(){return Ut},r.prototype.getGroupBase=function(){return iy},r.prototype.onCanvasChange=function(t){WC(this,t)},r.prototype.calculateBBox=function(){var t=this.get("type"),n=this.getHitLineWidth(),u=(0,qn.getBBoxMethod)(t)(this),h=n/2,d=u.x-h,p=u.y-h;return{x:d,minX:d,y:p,minY:p,width:u.width+n,height:u.height+n,maxX:u.x+u.width+h,maxY:u.y+u.height+h}},r.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},r.prototype.isStroke=function(){return!!this.attrs.stroke},r.prototype._applyClip=function(t,n){n&&(t.save(),pc(t,n),n.createPath(t),t.restore(),t.clip(),n._afterDraw())},r.prototype.draw=function(t,n){var s=this.cfg.clipShape;if(n){if(!1===this.cfg.refresh)return void this.set("hasChanged",!1);if(!Xh(n,this.getCanvasBBox()))return this.set("hasChanged",!1),void(this.cfg.isInView&&this._afterDraw())}t.save(),pc(t,this),this._applyClip(t,s),this.drawPath(t),t.restore(),this._afterDraw()},r.prototype.getCanvasViewBox=function(){var t=this.cfg.canvas;return t?t.getViewRange():null},r.prototype.cacheCanvasBBox=function(){var t=this.getCanvasViewBox();if(t){var n=this.getCanvasBBox(),s=Xh(n,t);this.set("isInView",s),this.set("cacheCanvasBBox",s?n:null)}},r.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},r.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},r.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},r.prototype.fill=function(t){t.fill()},r.prototype.stroke=function(t){t.stroke()},r.prototype.strokeAndFill=function(t){var n=this.attrs,s=n.lineWidth,u=n.opacity,h=n.strokeOpacity,d=n.fillOpacity;this.isFill()&&((0,S.UM)(d)||1===d?this.fill(t):(t.globalAlpha=d,this.fill(t),t.globalAlpha=u)),this.isStroke()&&s>0&&(!(0,S.UM)(h)&&1!==h&&(t.globalAlpha=h),this.stroke(t)),this.afterDrawPath(t)},r.prototype.createPath=function(t){},r.prototype.afterDrawPath=function(t){},r.prototype.isInShape=function(t,n){var s=this.isStroke(),u=this.isFill(),h=this.getHitLineWidth();return this.isInStrokeOrPath(t,n,s,u,h)},r.prototype.isInStrokeOrPath=function(t,n,s,u,h){return!1},r.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t.lineWidth+t.lineAppendWidth},r}(qn.AbstractShape);const Ya=d6;var YC=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,E.pi)((0,E.pi)({},t),{x:0,y:0,r:0})},r.prototype.isInStrokeOrPath=function(t,n,s,u,h){var d=this.attr(),x=d.r,w=h/2,M=RC(d.x,d.y,t,n);return u&&s?M<=x+w:u?M<=x:!!s&&M>=x-w&&M<=x+w},r.prototype.createPath=function(t){var n=this.attr(),s=n.x,u=n.y,h=n.r;t.beginPath(),t.arc(s,u,h,0,2*Math.PI,!1),t.closePath()},r}(Ya);const v6=YC;function Av(e,r,t,n){return e/(t*t)+r/(n*n)}var p6=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,E.pi)((0,E.pi)({},t),{x:0,y:0,rx:0,ry:0})},r.prototype.isInStrokeOrPath=function(t,n,s,u,h){var d=this.attr(),p=h/2,y=d.x,x=d.y,w=d.rx,M=d.ry,T=(t-y)*(t-y),L=(n-x)*(n-x);return u&&s?Av(T,L,w+p,M+p)<=1:u?Av(T,L,w,M)<=1:!!s&&Av(T,L,w-p,M-p)>=1&&Av(T,L,w+p,M+p)<=1},r.prototype.createPath=function(t){var n=this.attr(),s=n.x,u=n.y,h=n.rx,d=n.ry;if(t.beginPath(),t.ellipse)t.ellipse(s,u,h,d,0,0,2*Math.PI,!1);else{var p=h>d?h:d,y=h>d?1:h/d,x=h>d?d/h:1;t.save(),t.translate(s,u),t.scale(y,x),t.arc(0,0,p,0,2*Math.PI),t.restore(),t.closePath()}},r}(Ya);const g6=p6;function ay(e){return e instanceof HTMLElement&&(0,S.HD)(e.nodeName)&&"CANVAS"===e.nodeName.toUpperCase()}var y6=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,E.pi)((0,E.pi)({},t),{x:0,y:0,width:0,height:0})},r.prototype.initAttrs=function(t){this._setImage(t.img)},r.prototype.isStroke=function(){return!1},r.prototype.isOnlyHitBox=function(){return!0},r.prototype._afterLoading=function(){if(!0===this.get("toDraw")){var t=this.get("canvas");t?t.draw():this.createPath(this.get("context"))}},r.prototype._setImage=function(t){var n=this,s=this.attrs;if((0,S.HD)(t)){var u=new Image;u.onload=function(){if(n.destroyed)return!1;n.attr("img",u),n.set("loading",!1),n._afterLoading();var h=n.get("callback");h&&h.call(n)},u.crossOrigin="Anonymous",u.src=t,this.set("loading",!0)}else t instanceof Image?(s.width||(s.width=t.width),s.height||(s.height=t.height)):ay(t)&&(s.width||(s.width=Number(t.getAttribute("width"))),s.height||Number(t.getAttribute("height")))},r.prototype.onAttrChange=function(t,n,s){e.prototype.onAttrChange.call(this,t,n,s),"img"===t&&this._setImage(n)},r.prototype.createPath=function(t){if(this.get("loading"))return this.set("toDraw",!0),void this.set("context",t);var n=this.attr(),s=n.x,u=n.y,h=n.width,d=n.height,p=n.sx,y=n.sy,x=n.swidth,w=n.sheight,M=n.img;(M instanceof Image||ay(M))&&((0,S.UM)(p)||(0,S.UM)(y)||(0,S.UM)(x)||(0,S.UM)(w)?t.drawImage(M,s,u,h,d):t.drawImage(M,p,y,x,w,s,u,h,d))},r}(Ya);const VC=y6;var gi=ut(9174);function _s(e,r,t,n,s,u,h){var d=Math.min(e,t),p=Math.max(e,t),y=Math.min(r,n),x=Math.max(r,n),w=s/2;return u>=d-w&&u<=p+w&&h>=y-w&&h<=x+w&&gi.x1.pointToLine(e,r,t,n,u,h)<=s/2}var m6=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,E.pi)((0,E.pi)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this.setArrow()},r.prototype.onAttrChange=function(t,n,s){e.prototype.onAttrChange.call(this,t,n,s),this.setArrow()},r.prototype.setArrow=function(){var t=this.attr(),n=t.x1,s=t.y1,u=t.x2,h=t.y2,p=t.endArrow;t.startArrow&&ty(this,t,u,h,n,s),p&&ey(this,t,n,s,u,h)},r.prototype.isInStrokeOrPath=function(t,n,s,u,h){if(!s||!h)return!1;var d=this.attr();return _s(d.x1,d.y1,d.x2,d.y2,h,t,n)},r.prototype.createPath=function(t){var n=this.attr(),s=n.x1,u=n.y1,h=n.x2,d=n.y2,p=n.startArrow,y=n.endArrow,x={dx:0,dy:0},w={dx:0,dy:0};p&&p.d&&(x=au(s,u,h,d,n.startArrow.d)),y&&y.d&&(w=au(s,u,h,d,n.endArrow.d)),t.beginPath(),t.moveTo(s+x.dx,u+x.dy),t.lineTo(h-w.dx,d-w.dy)},r.prototype.afterDrawPath=function(t){var n=this.get("startArrowShape"),s=this.get("endArrowShape");n&&n.draw(t),s&&s.draw(t)},r.prototype.getTotalLength=function(){var t=this.attr();return gi.x1.length(t.x1,t.y1,t.x2,t.y2)},r.prototype.getPoint=function(t){var n=this.attr();return gi.x1.pointAt(n.x1,n.y1,n.x2,n.y2,t)},r}(Ya);const XC=m6;var x6={circle:function(e,r,t){return[["M",e-t,r],["A",t,t,0,1,0,e+t,r],["A",t,t,0,1,0,e-t,r]]},square:function(e,r,t){return[["M",e-t,r-t],["L",e+t,r-t],["L",e+t,r+t],["L",e-t,r+t],["Z"]]},diamond:function(e,r,t){return[["M",e-t,r],["L",e,r-t],["L",e+t,r],["L",e,r+t],["Z"]]},triangle:function(e,r,t){var n=t*Math.sin(.3333333333333333*Math.PI);return[["M",e-t,r+n],["L",e,r-n],["L",e+t,r+n],["Z"]]},"triangle-down":function(e,r,t){var n=t*Math.sin(.3333333333333333*Math.PI);return[["M",e-t,r-n],["L",e+t,r-n],["L",e,r+n],["Z"]]}},$C=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.initAttrs=function(t){this._resetParamsCache()},r.prototype._resetParamsCache=function(){this.set("paramsCache",{})},r.prototype.onAttrChange=function(t,n,s){e.prototype.onAttrChange.call(this,t,n,s),-1!==["symbol","x","y","r","radius"].indexOf(t)&&this._resetParamsCache()},r.prototype.isOnlyHitBox=function(){return!0},r.prototype._getR=function(t){return(0,S.UM)(t.r)?t.radius:t.r},r.prototype._getPath=function(){var d,p,t=this.attr(),n=t.x,s=t.y,u=t.symbol||"circle",h=this._getR(t);if((0,S.mf)(u))p=(d=u)(n,s,h),p=(0,Ku.wb)(p);else{if(!(d=r.Symbols[u]))return console.warn(u+" marker is not supported."),null;p=d(n,s,h)}return p},r.prototype.createPath=function(t){GC(this,t,{path:this._getPath()},this.get("paramsCache"))},r.Symbols=x6,r}(Ya);const ZC=$C;function qC(e,r,t){var n=(0,qn.getOffScreenContext)();return e.createPath(n),n.isPointInPath(r,t)}var C6=1e-6;function oy(e){return Math.abs(e)<C6?0:e<0?-1:1}function jC(e,r,t){return(t[0]-e[0])*(r[1]-e[1])==(r[0]-e[0])*(t[1]-e[1])&&Math.min(e[0],r[0])<=t[0]&&t[0]<=Math.max(e[0],r[0])&&Math.min(e[1],r[1])<=t[1]&&t[1]<=Math.max(e[1],r[1])}function sy(e,r,t){var n=!1,s=e.length;if(s<=2)return!1;for(var u=0;u<s;u++){var h=e[u],d=e[(u+1)%s];if(jC(h,d,[r,t]))return!0;oy(h[1]-t)>0!=oy(d[1]-t)>0&&oy(r-(t-h[1])*(h[0]-d[0])/(h[1]-d[1])-h[0])<0&&(n=!n)}return n}function Ro(e,r,t,n,s,u,h,d){var p=(Math.atan2(d-r,h-e)+2*Math.PI)%(2*Math.PI);if(p<n||p>s)return!1;var y={x:e+t*Math.cos(p),y:r+t*Math.sin(p)};return RC(y.x,y.y,h,d)<=u/2}var w6=an.vs;const Zh=(0,E.pi)({hasArc:function JC(e){for(var r=!1,t=e.length,n=0;n<t;n++){var u=e[n][0];if("C"===u||"A"===u||"Q"===u){r=!0;break}}return r},extractPolygons:function KC(e){for(var r=e.length,t=[],n=[],s=[],u=0;u<r;u++){var h=e[u],d=h[0];"M"===d?(s.length&&(n.push(s),s=[]),s.push([h[1],h[2]])):"Z"===d?s.length&&(t.push(s),s=[]):s.push([h[1],h[2]])}return s.length>0&&n.push(s),{polygons:t,polylines:n}},isPointInStroke:function _6(e,r,t,n,s){for(var u=!1,h=r/2,d=0;d<e.length;d++){var p=e[d],y=p.currentPoint,x=p.params,w=p.prePoint,M=p.box;if(!M||iu(M.x-h,M.y-h,M.width+r,M.height+r,t,n)){switch(p.command){case"L":case"Z":u=_s(w[0],w[1],y[0],y[1],r,t,n);break;case"Q":u=gi.lD.pointDistance(w[0],w[1],x[1],x[2],x[3],x[4],t,n)<=r/2;break;case"C":u=gi.Ll.pointDistance(w[0],w[1],x[1],x[2],x[3],x[4],x[5],x[6],t,n,s)<=r/2;break;case"A":var R=p.arcParams,z=R.rx,G=R.ry,U=R.startAngle,q=R.endAngle,o=[t,n,1],i=z>G?z:G;Wd(o,o,w6(null,[["t",-R.cx,-R.cy],["r",-R.xRotation],["s",1/(z>G?1:z/G),1/(z>G?G/z:1)]])),u=Ro(0,0,i,U,q,r,o[0],o[1])}if(u)break}}return u}},qn.PathUtil);function ly(e,r,t){for(var n=!1,s=0;s<e.length&&!(n=sy(e[s],r,t));s++);return n}var QC=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,E.pi)((0,E.pi)({},t),{startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},r.prototype.onAttrChange=function(t,n,s){e.prototype.onAttrChange.call(this,t,n,s),"path"===t&&this._setPathArr(n),this.setArrow()},r.prototype._setPathArr=function(t){this.attrs.path=(0,Ku.wb)(t);var n=Zh.hasArc(t);this.set("hasArc",n),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},r.prototype.getSegments=function(){var t=this.get("segements");return t||(t=(0,Ku.zx)(this.attr("path")),this.set("segments",t)),t},r.prototype.setArrow=function(){var u,t=this.attr(),s=t.endArrow;t.startArrow&&ty(this,t,(u=this.getStartTangent())[0][0],u[0][1],u[1][0],u[1][1]),s&&ey(this,t,(u=this.getEndTangent())[0][0],u[0][1],u[1][0],u[1][1])},r.prototype.isInStrokeOrPath=function(t,n,s,u,h){var d=this.getSegments(),p=this.get("hasArc"),y=!1;if(s){var x=this.getTotalLength();y=Zh.isPointInStroke(d,h,t,n,x)}if(!y&&u)if(p)y=qC(this,t,n);else{var w=this.attr("path"),M=Zh.extractPolygons(w);y=ly(M.polygons,t,n)||ly(M.polylines,t,n)}return y},r.prototype.createPath=function(t){GC(this,t,this.attr(),this.get("paramsCache"))},r.prototype.afterDrawPath=function(t){var n=this.get("startArrowShape"),s=this.get("endArrowShape");n&&n.draw(t),s&&s.draw(t)},r.prototype.getTotalLength=function(){var t=this.get("totalLength");return(0,S.UM)(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},r.prototype.getPoint=function(t){var n=this.get("tCache");n||(this._calculateCurve(),this._setTcache(),n=this.get("tCache"));var s,u,h=this.get("curve");if(!n||0===n.length)return h?{x:h[0][1],y:h[0][2]}:null;(0,S.S6)(n,function(x,w){t>=x[0]&&t<=x[1]&&(s=(t-x[0])/(x[1]-x[0]),u=w)});var d=h[u];if((0,S.UM)(d)||(0,S.UM)(u))return null;var p=d.length,y=h[u+1];return gi.Ll.pointAt(d[p-2],d[p-1],y[1],y[2],y[3],y[4],y[5],y[6],s)},r.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",Zh.pathToCurve(t))},r.prototype._setTcache=function(){var u,h,d,p,t=0,n=0,s=[],y=this.get("curve");if(y){if((0,S.S6)(y,function(x,w){p=x.length,(d=y[w+1])&&(t+=gi.Ll.length(x[p-2],x[p-1],d[1],d[2],d[3],d[4],d[5],d[6])||0)}),this.set("totalLength",t),0===t)return void this.set("tCache",[]);(0,S.S6)(y,function(x,w){p=x.length,(d=y[w+1])&&((u=[])[0]=n/t,h=gi.Ll.length(x[p-2],x[p-1],d[1],d[2],d[3],d[4],d[5],d[6]),u[1]=(n+=h||0)/t,s.push(u))}),this.set("tCache",s)}},r.prototype.getStartTangent=function(){var n,t=this.getSegments();if(t.length>1){var s=t[0].currentPoint,u=t[1].currentPoint,h=t[1].startTangent;n=[],h?(n.push([s[0]-h[0],s[1]-h[1]]),n.push([s[0],s[1]])):(n.push([u[0],u[1]]),n.push([s[0],s[1]]))}return n},r.prototype.getEndTangent=function(){var s,t=this.getSegments(),n=t.length;if(n>1){var u=t[n-2].currentPoint,h=t[n-1].currentPoint,d=t[n-1].endTangent;s=[],d?(s.push([h[0]-d[0],h[1]-d[1]]),s.push([h[0],h[1]])):(s.push([u[0],u[1]]),s.push([h[0],h[1]]))}return s},r}(Ya);const uy=QC;function tw(e,r,t,n,s){var u=e.length;if(u<2)return!1;for(var h=0;h<u-1;h++)if(_s(e[h][0],e[h][1],e[h+1][0],e[h+1][1],r,t,n))return!0;if(s){var w=e[0],M=e[u-1];if(_s(w[0],w[1],M[0],M[1],r,t,n))return!0}return!1}var S6=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.isInStrokeOrPath=function(t,n,s,u,h){var d=this.attr().points,p=!1;return s&&(p=tw(d,h,t,n,!0)),!p&&u&&(p=sy(d,t,n)),p},r.prototype.createPath=function(t){var s=this.attr().points;if(!(s.length<2)){t.beginPath();for(var u=0;u<s.length;u++){var h=s[u];0===u?t.moveTo(h[0],h[1]):t.lineTo(h[0],h[1])}t.closePath()}},r}(Ya);const M6=S6;var b6=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,E.pi)((0,E.pi)({},t),{startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this.setArrow()},r.prototype.onAttrChange=function(t,n,s){e.prototype.onAttrChange.call(this,t,n,s),this.setArrow(),-1!==["points"].indexOf(t)&&this._resetCache()},r.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},r.prototype.setArrow=function(){var t=this.attr(),n=this.attrs,s=n.points,h=n.endArrow,d=s.length,x=s[d-1][0],w=s[d-1][1];n.startArrow&&ty(this,t,s[1][0],s[1][1],s[0][0],s[0][1]),h&&ey(this,t,s[d-2][0],s[d-2][1],x,w)},r.prototype.isFill=function(){return!1},r.prototype.isInStrokeOrPath=function(t,n,s,u,h){return!(!s||!h)&&tw(this.attr().points,h,t,n,!1)},r.prototype.isStroke=function(){return!0},r.prototype.createPath=function(t){var n=this.attr(),s=n.points,u=n.startArrow,h=n.endArrow,d=s.length;if(!(s.length<2)){var M,p=s[0][0],y=s[0][1],x=s[d-1][0],w=s[d-1][1];u&&u.d&&(p+=(M=au(p,y,s[1][0],s[1][1],u.d)).dx,y+=M.dy),h&&h.d&&(x-=(M=au(s[d-2][0],s[d-2][1],x,w,h.d)).dx,w-=M.dy),t.beginPath(),t.moveTo(p,y);for(var T=0;T<d-1;T++){var L=s[T];t.lineTo(L[0],L[1])}t.lineTo(x,w)}},r.prototype.afterDrawPath=function(t){var n=this.get("startArrowShape"),s=this.get("endArrowShape");n&&n.draw(t),s&&s.draw(t)},r.prototype.getTotalLength=function(){var t=this.attr().points,n=this.get("totalLength");return(0,S.UM)(n)?(this.set("totalLength",gi.aH.length(t)),this.get("totalLength")):n},r.prototype.getPoint=function(t){var u,h,n=this.attr().points,s=this.get("tCache");return s||(this._setTcache(),s=this.get("tCache")),(0,S.S6)(s,function(d,p){t>=d[0]&&t<=d[1]&&(u=(t-d[0])/(d[1]-d[0]),h=p)}),gi.x1.pointAt(n[h][0],n[h][1],n[h+1][0],n[h+1][1],u)},r.prototype._setTcache=function(){var t=this.attr().points;if(t&&0!==t.length){var n=this.getTotalLength();if(!(n<=0)){var h,d,s=0,u=[];(0,S.S6)(t,function(p,y){t[y+1]&&((h=[])[0]=s/n,d=gi.x1.length(p[0],p[1],t[y+1][0],t[y+1][1]),h[1]=(s+=d)/n,u.push(h))}),this.set("tCache",u)}}},r.prototype.getStartTangent=function(){var t=this.attr().points,n=[];return n.push([t[1][0],t[1][1]]),n.push([t[0][0],t[0][1]]),n},r.prototype.getEndTangent=function(){var t=this.attr().points,n=t.length-1,s=[];return s.push([t[n-1][0],t[n-1][1]]),s.push([t[n][0],t[n][1]]),s},r}(Ya);const T6=b6;var E6=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,E.pi)((0,E.pi)({},t),{x:0,y:0,width:0,height:0,radius:0})},r.prototype.isInStrokeOrPath=function(t,n,s,u,h){var d=this.attr(),p=d.x,y=d.y,x=d.width,w=d.height,M=d.radius;if(M){var L=!1;return s&&(L=function ew(e,r,t,n,s,u,h,d){return _s(e+s,r,e+t-s,r,u,h,d)||_s(e+t,r+s,e+t,r+n-s,u,h,d)||_s(e+t-s,r+n,e+s,r+n,u,h,d)||_s(e,r+n-s,e,r+s,u,h,d)||Ro(e+t-s,r+s,s,1.5*Math.PI,2*Math.PI,u,h,d)||Ro(e+t-s,r+n-s,s,0,.5*Math.PI,u,h,d)||Ro(e+s,r+n-s,s,.5*Math.PI,Math.PI,u,h,d)||Ro(e+s,r+s,s,Math.PI,1.5*Math.PI,u,h,d)}(p,y,x,w,M,h,t,n)),!L&&u&&(L=qC(this,t,n)),L}var T=h/2;return u&&s?iu(p-T,y-T,x+T,w+T,t,n):u?iu(p,y,x,w,t,n):s?function A6(e,r,t,n,s,u,h){var d=s/2;return iu(e-d,r-d,t,s,u,h)||iu(e+t-d,r-d,s,n,u,h)||iu(e+d,r+n-d,t,s,u,h)||iu(e-d,r+d,s,n,u,h)}(p,y,x,w,h,t,n):void 0},r.prototype.createPath=function(t){var n=this.attr(),s=n.x,u=n.y,h=n.width,d=n.height,p=n.radius;if(t.beginPath(),0===p)t.rect(s,u,h,d);else{var y=function s6(e){var r=0,t=0,n=0,s=0;return(0,S.kJ)(e)?1===e.length?r=t=n=s=e[0]:2===e.length?(r=n=e[0],t=s=e[1]):3===e.length?(r=e[0],t=s=e[1],n=e[2]):(r=e[0],t=e[1],n=e[2],s=e[3]):r=t=n=s=e,[r,t,n,s]}(p),x=y[0],w=y[1],M=y[2],T=y[3];t.moveTo(s+x,u),t.lineTo(s+h-w,u),0!==w&&t.arc(s+h-w,u+w,w,-Math.PI/2,0),t.lineTo(s+h,u+d-M),0!==M&&t.arc(s+h-M,u+d-M,M,0,Math.PI/2),t.lineTo(s+T,u+d),0!==T&&t.arc(s+T,u+d-T,T,Math.PI/2,Math.PI),t.lineTo(s,u+x),0!==x&&t.arc(s+x,u+x,x,Math.PI,1.5*Math.PI),t.closePath()}},r}(Ya);const L6=E6;var gc=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,E.pi)((0,E.pi)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},r.prototype.isOnlyHitBox=function(){return!0},r.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},r.prototype._assembleFont=function(){var t=this.attrs;t.font=(0,qn.assembleFont)(t)},r.prototype._setText=function(t){var n=null;(0,S.HD)(t)&&-1!==t.indexOf("\n")&&(n=t.split("\n")),this.set("textArr",n)},r.prototype.onAttrChange=function(t,n,s){e.prototype.onAttrChange.call(this,t,n,s),t.startsWith("font")&&this._assembleFont(),"text"===t&&this._setText(n)},r.prototype._getSpaceingY=function(){var t=this.attrs,n=t.lineHeight,s=1*t.fontSize;return n?n-s:.14*s},r.prototype._drawTextArr=function(t,n,s){var M,u=this.attrs,h=u.textBaseline,d=u.x,p=u.y,y=1*u.fontSize,x=this._getSpaceingY(),w=(0,qn.getTextHeight)(u.text,u.fontSize,u.lineHeight);(0,S.S6)(n,function(T,L){M=p+L*(x+y)-w+y,"middle"===h&&(M+=w-y-(w-y)/2),"top"===h&&(M+=w-y),(0,S.UM)(T)||(s?t.fillText(T,d,M):t.strokeText(T,d,M))})},r.prototype._drawText=function(t,n){var s=this.attr(),u=s.x,h=s.y,d=this.get("textArr");if(d)this._drawTextArr(t,d,n);else{var p=s.text;(0,S.UM)(p)||(n?t.fillText(p,u,h):t.strokeText(p,u,h))}},r.prototype.strokeAndFill=function(t){var n=this.attrs,s=n.lineWidth,u=n.opacity,h=n.strokeOpacity,d=n.fillOpacity;this.isStroke()&&s>0&&(!(0,S.UM)(h)&&1!==h&&(t.globalAlpha=u),this.stroke(t)),this.isFill()&&((0,S.UM)(d)||1===d?this.fill(t):(t.globalAlpha=d,this.fill(t),t.globalAlpha=u)),this.afterDrawPath(t)},r.prototype.fill=function(t){this._drawText(t,!0)},r.prototype.stroke=function(t){this._drawText(t,!1)},r}(Ya);const I6=gc;function rw(e,r,t){var n=e.getTotalMatrix();if(n){var s=function O6(e,r){if(r){var t=(0,qn.invert)(r);return(0,qn.multiplyVec2)(t,e)}return e}([r,t,1],n);return[s[0],s[1]]}return[r,t]}function nw(e,r,t){if(e.isCanvas&&e.isCanvas())return!0;if(!(0,qn.isAllowCapture)(e)||!1===e.cfg.isInView)return!1;if(e.cfg.clipShape){var n=rw(e,r,t);if(e.isClipped(n[0],n[1]))return!1}var h=e.cfg.cacheCanvasBBox||e.getCanvasBBox();return r>=h.minX&&r<=h.maxX&&t>=h.minY&&t<=h.maxY}function iw(e,r,t){if(!nw(e,r,t))return null;for(var n=null,s=e.getChildren(),h=s.length-1;h>=0;h--){var d=s[h];if(d.isGroup())n=iw(d,r,t);else if(nw(d,r,t)){var p=d,y=rw(d,r,t);p.isInShape(y[0],y[1])&&(n=d)}if(n)break}return n}var cy=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.renderer="canvas",t.autoDraw=!0,t.localRefresh=!0,t.refreshElements=[],t.clipView=!0,t.quickHit=!1,t},r.prototype.onCanvasChange=function(t){("attr"===t||"sort"===t||"changeSize"===t)&&(this.set("refreshElements",[this]),this.draw())},r.prototype.getShapeBase=function(){return Ut},r.prototype.getGroupBase=function(){return iy},r.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||function n6(){return window?window.devicePixelRatio:1}();return t>=1?Math.ceil(t):1},r.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},r.prototype.createDom=function(){var t=document.createElement("canvas"),n=t.getContext("2d");return this.set("context",n),t},r.prototype.setDOMSize=function(t,n){e.prototype.setDOMSize.call(this,t,n);var s=this.get("context"),u=this.get("el"),h=this.getPixelRatio();u.width=h*t,u.height=h*n,h>1&&s.scale(h,h)},r.prototype.clear=function(){e.prototype.clear.call(this),this._clearFrame();var t=this.get("context"),n=this.get("el");t.clearRect(0,0,n.width,n.height)},r.prototype.getShape=function(t,n){return this.get("quickHit")?iw(this,t,n):e.prototype.getShape.call(this,t,n,null)},r.prototype._getRefreshRegion=function(){var s,t=this.get("refreshElements"),n=this.getViewRange();return t.length&&t[0]===this?s=n:(s=function UC(e){if(!e.length)return null;var r=[],t=[],n=[],s=[];return(0,S.S6)(e,function(u){var h=function c6(e){var r;if(e.destroyed)r=e._cacheCanvasBBox;else{var t=e.get("cacheCanvasBBox"),n=t&&!(!t.width||!t.height),s=e.getCanvasBBox(),u=s&&!(!s.width||!s.height);n&&u?r=function Jg(e,r){return e&&r?{minX:Math.min(e.minX,r.minX),minY:Math.min(e.minY,r.minY),maxX:Math.max(e.maxX,r.maxX),maxY:Math.max(e.maxY,r.maxY)}:e||r}(t,s):n?r=t:u&&(r=s)}return r}(u);h&&(r.push(h.minX),t.push(h.minY),n.push(h.maxX),s.push(h.maxY))}),{minX:(0,S.VV)(r),minY:(0,S.VV)(t),maxX:(0,S.Fp)(n),maxY:(0,S.Fp)(s)}}(t),s&&(s.minX=Math.floor(s.minX),s.minY=Math.floor(s.minY),s.maxX=Math.ceil(s.maxX),s.maxY=Math.ceil(s.maxY),s.maxY+=1,this.get("clipView")&&(s=function h6(e,r){return e&&r&&Xh(e,r)?{minX:Math.max(e.minX,r.minX),minY:Math.max(e.minY,r.minY),maxX:Math.min(e.maxX,r.maxX),maxY:Math.min(e.maxY,r.maxY)}:null}(s,n)))),s},r.prototype.refreshElement=function(t){this.get("refreshElements").push(t)},r.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&((0,S.VS)(t),this.set("drawFrame",null),this.set("refreshElements",[]))},r.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},r.prototype._drawAll=function(){var t=this.get("context"),n=this.get("el"),s=this.getChildren();t.clearRect(0,0,n.width,n.height),pc(t,this),ry(t,s),this.set("refreshElements",[])},r.prototype._drawRegion=function(){var t=this.get("context"),n=this.get("refreshElements"),s=this.getChildren(),u=this._getRefreshRegion();u?(t.clearRect(u.minX,u.minY,u.maxX-u.minX,u.maxY-u.minY),t.save(),t.beginPath(),t.rect(u.minX,u.minY,u.maxX-u.minX,u.maxY-u.minY),t.clip(),pc(t,this),l6(this,s,u),ry(t,s,u),t.restore()):n.length&&HC(n),(0,S.S6)(n,function(h){h.get("hasChanged")&&h.set("hasChanged",!1)}),this.set("refreshElements",[])},r.prototype._startDraw=function(){var t=this,n=this.get("drawFrame");n||(n=(0,S.U7)(function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),t.set("drawFrame",null)}),this.set("drawFrame",n))},r.prototype.skipDraw=function(){},r.prototype.removeDom=function(){var t=this.get("el");t.width=0,t.height=0,t.parentNode.removeChild(t)},r}(qn.AbstractCanvas);const R6=cy;var F6="0.5.12",Ev={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},Yr={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"};function Va(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function ol(e){var r=Ev[e.type],t=e.getParent();if(!r)throw new Error("the type "+e.type+" is not supported by svg");var n=Va(r);if(e.get("id")&&(n.id=e.get("id")),e.set("el",n),e.set("attrs",{}),t){var s=t.get("el");s||(s=t.createDom(),t.set("el",s)),s.appendChild(n)}return n}function qh(e,r){var t=e.get("el"),n=(0,S.qo)(t.children).sort(r),s=document.createDocumentFragment();n.forEach(function(u){s.appendChild(u)}),t.appendChild(s)}function jh(e){var r=e.attr().matrix;if(r){for(var t=e.cfg.el,n=[],s=0;s<9;s+=3)n.push(r[s]+","+r[s+1]);-1===(n=n.join(",")).indexOf("NaN")?t.setAttribute("transform","matrix("+n+")"):console.warn("invalid matrix:",r)}}function Jh(e,r){var t=e.getClip(),n=e.get("el");if(t){if(t&&!n.hasAttribute("clip-path")){ol(t),t.createPath(r);var s=r.addClip(t);n.setAttribute("clip-path","url(#"+s+")")}}else n.removeAttribute("clip-path")}function aw(e,r){r.forEach(function(t){t.draw(e)})}function ow(e,r){var t=e.get("canvas");if(t&&t.get("autoDraw")){var n=t.get("context"),s=e.getParent(),u=s?s.getChildren():[t],h=e.get("el");if("remove"===r)if(e.get("isClipShape")){var p=h&&h.parentNode,y=p&&p.parentNode;p&&y&&y.removeChild(p)}else h&&h.parentNode&&h.parentNode.removeChild(h);else if("show"===r)h.setAttribute("visibility","visible");else if("hide"===r)h.setAttribute("visibility","hidden");else if("zIndex"===r)!function D6(e,r){var t=e.parentNode,n=Array.from(t.childNodes).filter(function(d){return 1===d.nodeType&&"defs"!==d.nodeName.toLowerCase()}),s=n[r],u=n.indexOf(e);if(s){if(u>r)t.insertBefore(e,s);else if(u<r){var h=n[r+1];h?t.insertBefore(e,h):t.appendChild(e)}}else t.appendChild(e)}(h,u.indexOf(e));else if("sort"===r){var x=e.get("children");x&&x.length&&qh(e,function(w,M){return x.indexOf(w)-x.indexOf(M)?1:0})}else"clear"===r?h&&(h.innerHTML=""):"matrix"===r?jh(e):"clip"===r?Jh(e,n):"attr"===r||"add"===r&&e.draw(n)}}var lo=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.isEntityGroup=function(){return!0},r.prototype.createDom=function(){var t=Va("g");this.set("el",t);var n=this.getParent();if(n){var s=n.get("el");s||(s=n.createDom(),n.set("el",s)),s.appendChild(t)}return t},r.prototype.afterAttrsChange=function(t){e.prototype.afterAttrsChange.call(this,t);var n=this.get("canvas");if(n&&n.get("autoDraw")){var s=n.get("context");this.createPath(s,t)}},r.prototype.onCanvasChange=function(t){ow(this,t)},r.prototype.getShapeBase=function(){return ee},r.prototype.getGroupBase=function(){return r},r.prototype.draw=function(t){var n=this.getChildren(),s=this.get("el");this.get("destroyed")?s&&s.parentNode.removeChild(s):(s||this.createDom(),Jh(this,t),this.createPath(t),n.length&&aw(t,n))},r.prototype.createPath=function(t,n){var s=this.attr(),u=this.get("el");(0,S.S6)(n||s,function(h,d){Yr[d]&&u.setAttribute(Yr[d],h)}),jh(this)},r}(qn.AbstractGroup);const Lv=lo;var B6=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="svg",t.canFill=!1,t.canStroke=!1,t}return(0,E.ZT)(r,e),r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,E.pi)((0,E.pi)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},r.prototype.afterAttrsChange=function(t){e.prototype.afterAttrsChange.call(this,t);var n=this.get("canvas");if(n&&n.get("autoDraw")){var s=n.get("context");this.draw(s,t)}},r.prototype.getShapeBase=function(){return ee},r.prototype.getGroupBase=function(){return Lv},r.prototype.onCanvasChange=function(t){ow(this,t)},r.prototype.calculateBBox=function(){var t=this.get("el"),n=null;if(t)n=t.getBBox();else{var s=(0,qn.getBBoxMethod)(this.get("type"));s&&(n=s(this))}if(n){var u=n.x,h=n.y,d=n.width,p=n.height,y=this.getHitLineWidth(),x=y/2,w=u-x,M=h-x;return{x:w,y:M,minX:w,minY:M,maxX:u+d+x,maxY:h+p+x,width:d+y,height:p+y}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},r.prototype.isFill=function(){var t=this.attr();return(t.fill||t.fillStyle||this.isClipShape())&&this.canFill},r.prototype.isStroke=function(){var t=this.attr();return(t.stroke||t.strokeStyle)&&this.canStroke},r.prototype.draw=function(t,n){var s=this.get("el");this.get("destroyed")?s&&s.parentNode.removeChild(s):(s||ol(this),Jh(this,t),this.createPath(t,n),this.shadow(t,n),this.strokeAndFill(t,n),this.transform(n))},r.prototype.createPath=function(t,n){},r.prototype.strokeAndFill=function(t,n){var s=n||this.attr(),u=s.fill,h=s.fillStyle,d=s.stroke,p=s.strokeStyle,y=s.fillOpacity,x=s.strokeOpacity,w=s.lineWidth,M=this.get("el");this.canFill&&(n?"fill"in s?this._setColor(t,"fill",u):"fillStyle"in s&&this._setColor(t,"fill",h):this._setColor(t,"fill",u||h),y&&M.setAttribute(Yr.fillOpacity,y)),this.canStroke&&w>0&&(n?"stroke"in s?this._setColor(t,"stroke",d):"strokeStyle"in s&&this._setColor(t,"stroke",p):this._setColor(t,"stroke",d||p),x&&M.setAttribute(Yr.strokeOpacity,x),w&&M.setAttribute(Yr.lineWidth,w))},r.prototype._setColor=function(t,n,s){var u=this.get("el");if(s)if(s=s.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(s))(h=t.find("gradient",s))||(h=t.addGradient(s)),u.setAttribute(Yr[n],"url(#"+h+")");else if(/^[p,P]{1}[\s]*\(/.test(s)){var h;(h=t.find("pattern",s))||(h=t.addPattern(s)),u.setAttribute(Yr[n],"url(#"+h+")")}else u.setAttribute(Yr[n],s);else u.setAttribute(Yr[n],"none")},r.prototype.shadow=function(t,n){var s=this.attr(),u=n||s;(u.shadowOffsetX||u.shadowOffsetY||u.shadowBlur||u.shadowColor)&&function k6(e,r){var t=e.cfg.el,n=e.attr(),s={dx:n.shadowOffsetX,dy:n.shadowOffsetY,blur:n.shadowBlur,color:n.shadowColor};if(s.dx||s.dy||s.blur||s.color){var u=r.find("filter",s);u||(u=r.addShadow(s)),t.setAttribute("filter","url(#"+u+")")}else t.removeAttribute("filter")}(this,t)},r.prototype.transform=function(t){var n=this.attr();(t||n).matrix&&jh(this)},r.prototype.isInShape=function(t,n){return this.isPointInPath(t,n)},r.prototype.isPointInPath=function(t,n){var s=this.get("el"),h=this.get("canvas").get("el").getBoundingClientRect(),y=document.elementFromPoint(t+h.left,n+h.top);return!(!y||!y.isEqualNode(s))},r.prototype.getHitLineWidth=function(){var t=this.attrs,n=t.lineWidth,s=t.lineAppendWidth;return this.isStroke()?n+s:0},r}(qn.AbstractShape);const ba=B6;var sw=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="circle",t.canFill=!0,t.canStroke=!0,t}return(0,E.ZT)(r,e),r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,E.pi)((0,E.pi)({},t),{x:0,y:0,r:0})},r.prototype.createPath=function(t,n){var s=this.attr(),u=this.get("el");(0,S.S6)(n||s,function(h,d){"x"===d||"y"===d?u.setAttribute("c"+d,h):Yr[d]&&u.setAttribute(Yr[d],h)})},r}(ba);const P6=sw;var lw=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="dom",t.canFill=!1,t.canStroke=!1,t}return(0,E.ZT)(r,e),r.prototype.createPath=function(t,n){var s=this.attr(),u=this.get("el");if((0,S.S6)(n||s,function(y,x){Yr[x]&&u.setAttribute(Yr[x],y)}),"function"==typeof s.html){var h=s.html.call(this,s);if(h instanceof Element||h instanceof HTMLDocument){for(var d=u.childNodes,p=d.length-1;p>=0;p--)u.removeChild(d[p]);u.appendChild(h)}else u.innerHTML=h}else u.innerHTML=s.html},r}(ba);const uw=lw;var cw=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="ellipse",t.canFill=!0,t.canStroke=!0,t}return(0,E.ZT)(r,e),r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,E.pi)((0,E.pi)({},t),{x:0,y:0,rx:0,ry:0})},r.prototype.createPath=function(t,n){var s=this.attr(),u=this.get("el");(0,S.S6)(n||s,function(h,d){"x"===d||"y"===d?u.setAttribute("c"+d,h):Yr[d]&&u.setAttribute(Yr[d],h)})},r}(ba);const sl=cw;var hy=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="image",t.canFill=!1,t.canStroke=!1,t}return(0,E.ZT)(r,e),r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,E.pi)((0,E.pi)({},t),{x:0,y:0,width:0,height:0})},r.prototype.createPath=function(t,n){var s=this,u=this.attr(),h=this.get("el");(0,S.S6)(n||u,function(d,p){"img"===p?s._setImage(u.img):Yr[p]&&h.setAttribute(Yr[p],d)})},r.prototype.setAttr=function(t,n){this.attrs[t]=n,"img"===t&&this._setImage(n)},r.prototype._setImage=function(t){var n=this.attr(),s=this.get("el");if((0,S.HD)(t))s.setAttribute("href",t);else if(t instanceof window.Image)n.width||(s.setAttribute("width",t.width),this.attr("width",t.width)),n.height||(s.setAttribute("height",t.height),this.attr("height",t.height)),s.setAttribute("href",t.src);else if(t instanceof HTMLElement&&(0,S.HD)(t.nodeName)&&"CANVAS"===t.nodeName.toUpperCase())s.setAttribute("href",t.toDataURL());else if(t instanceof ImageData){var u=document.createElement("canvas");u.setAttribute("width",""+t.width),u.setAttribute("height",""+t.height),u.getContext("2d").putImageData(t,0,0),n.width||(s.setAttribute("width",""+t.width),this.attr("width",t.width)),n.height||(s.setAttribute("height",""+t.height),this.attr("height",t.height)),s.setAttribute("href",u.toDataURL())}},r}(ba);const z6=hy;var N6=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="line",t.canFill=!1,t.canStroke=!0,t}return(0,E.ZT)(r,e),r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,E.pi)((0,E.pi)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},r.prototype.createPath=function(t,n){var s=this.attr(),u=this.get("el");(0,S.S6)(n||s,function(h,d){if("startArrow"===d||"endArrow"===d)if(h){var p=(0,S.Kn)(h)?t.addArrow(s,Yr[d]):t.getDefaultArrow(s,Yr[d]);u.setAttribute(Yr[d],"url(#"+p+")")}else u.removeAttribute(Yr[d]);else Yr[d]&&u.setAttribute(Yr[d],h)})},r.prototype.getTotalLength=function(){var t=this.attr();return gi.x1.length(t.x1,t.y1,t.x2,t.y2)},r.prototype.getPoint=function(t){var n=this.attr();return gi.x1.pointAt(n.x1,n.y1,n.x2,n.y2,t)},r}(ba);const hw=N6;var Iv={circle:function(e,r,t){return[["M",e,r],["m",-t,0],["a",t,t,0,1,0,2*t,0],["a",t,t,0,1,0,2*-t,0]]},square:function(e,r,t){return[["M",e-t,r-t],["L",e+t,r-t],["L",e+t,r+t],["L",e-t,r+t],["Z"]]},diamond:function(e,r,t){return[["M",e-t,r],["L",e,r-t],["L",e+t,r],["L",e,r+t],["Z"]]},triangle:function(e,r,t){var n=t*Math.sin(.3333333333333333*Math.PI);return[["M",e-t,r+n],["L",e,r-n],["L",e+t,r+n],["z"]]},triangleDown:function(e,r,t){var n=t*Math.sin(.3333333333333333*Math.PI);return[["M",e-t,r-n],["L",e+t,r-n],["L",e,r+n],["Z"]]}};const Ov={get:function(e){return Iv[e]},register:function(e,r){Iv[e]=r},remove:function(e){delete Iv[e]},getAll:function(){return Iv}};var H6=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="marker",t.canFill=!0,t.canStroke=!0,t}return(0,E.ZT)(r,e),r.prototype.createPath=function(t){this.get("el").setAttribute("d",this._assembleMarker())},r.prototype._assembleMarker=function(){var t=this._getPath();return(0,S.kJ)(t)?t.map(function(n){return n.join(" ")}).join(""):t},r.prototype._getPath=function(){var d,t=this.attr(),n=t.x,s=t.y,u=t.r||t.radius,h=t.symbol||"circle";return(d=(0,S.mf)(h)?h:Ov.get(h))?d(n,s,u):(console.warn(d+" symbol is not exist."),null)},r.symbolsFactory=Ov,r}(ba);const G6=H6;var W6=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="path",t.canFill=!0,t.canStroke=!0,t}return(0,E.ZT)(r,e),r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,E.pi)((0,E.pi)({},t),{startArrow:!1,endArrow:!1})},r.prototype.createPath=function(t,n){var s=this,u=this.attr(),h=this.get("el");(0,S.S6)(n||u,function(d,p){if("path"===p&&(0,S.kJ)(d))h.setAttribute("d",s._formatPath(d));else if("startArrow"===p||"endArrow"===p)if(d){var y=(0,S.Kn)(d)?t.addArrow(u,Yr[p]):t.getDefaultArrow(u,Yr[p]);h.setAttribute(Yr[p],"url(#"+y+")")}else h.removeAttribute(Yr[p]);else Yr[p]&&h.setAttribute(Yr[p],d)})},r.prototype._formatPath=function(t){var n=t.map(function(s){return s.join(" ")}).join("");return~n.indexOf("NaN")?"":n},r.prototype.getTotalLength=function(){var t=this.get("el");return t?t.getTotalLength():null},r.prototype.getPoint=function(t){var n=this.get("el"),s=this.getTotalLength();if(0===s)return null;var u=n?n.getPointAtLength(t*s):null;return u?{x:u.x,y:u.y}:null},r}(ba);const fw=W6;var U6=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="polygon",t.canFill=!0,t.canStroke=!0,t}return(0,E.ZT)(r,e),r.prototype.createPath=function(t,n){var s=this.attr(),u=this.get("el");(0,S.S6)(n||s,function(h,d){"points"===d&&(0,S.kJ)(h)&&h.length>=2?u.setAttribute("points",h.map(function(p){return p[0]+","+p[1]}).join(" ")):Yr[d]&&u.setAttribute(Yr[d],h)})},r}(ba);const dw=U6;var fy=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="polyline",t.canFill=!0,t.canStroke=!0,t}return(0,E.ZT)(r,e),r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,E.pi)((0,E.pi)({},t),{startArrow:!1,endArrow:!1})},r.prototype.onAttrChange=function(t,n,s){e.prototype.onAttrChange.call(this,t,n,s),-1!==["points"].indexOf(t)&&this._resetCache()},r.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},r.prototype.createPath=function(t,n){var s=this.attr(),u=this.get("el");(0,S.S6)(n||s,function(h,d){"points"===d&&(0,S.kJ)(h)&&h.length>=2?u.setAttribute("points",h.map(function(p){return p[0]+","+p[1]}).join(" ")):Yr[d]&&u.setAttribute(Yr[d],h)})},r.prototype.getTotalLength=function(){var t=this.attr().points,n=this.get("totalLength");return(0,S.UM)(n)?(this.set("totalLength",gi.aH.length(t)),this.get("totalLength")):n},r.prototype.getPoint=function(t){var u,h,n=this.attr().points,s=this.get("tCache");return s||(this._setTcache(),s=this.get("tCache")),(0,S.S6)(s,function(d,p){t>=d[0]&&t<=d[1]&&(u=(t-d[0])/(d[1]-d[0]),h=p)}),gi.x1.pointAt(n[h][0],n[h][1],n[h+1][0],n[h+1][1],u)},r.prototype._setTcache=function(){var t=this.attr().points;if(t&&0!==t.length){var n=this.getTotalLength();if(!(n<=0)){var h,d,s=0,u=[];(0,S.S6)(t,function(p,y){t[y+1]&&((h=[])[0]=s/n,d=gi.x1.length(p[0],p[1],t[y+1][0],t[y+1][1]),h[1]=(s+=d)/n,u.push(h))}),this.set("tCache",u)}}},r.prototype.getStartTangent=function(){var t=this.attr().points,n=[];return n.push([t[1][0],t[1][1]]),n.push([t[0][0],t[0][1]]),n},r.prototype.getEndTangent=function(){var t=this.attr().points,n=t.length-1,s=[];return s.push([t[n-1][0],t[n-1][1]]),s.push([t[n][0],t[n][1]]),s},r}(ba);const dy=fy;var X6=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="rect",t.canFill=!0,t.canStroke=!0,t}return(0,E.ZT)(r,e),r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,E.pi)((0,E.pi)({},t),{x:0,y:0,width:0,height:0,radius:0})},r.prototype.createPath=function(t,n){var s=this,u=this.attr(),h=this.get("el"),d=!1,p=["x","y","width","height","radius"];(0,S.S6)(n||u,function(y,x){-1===p.indexOf(x)||d?-1===p.indexOf(x)&&Yr[x]&&h.setAttribute(Yr[x],y):(h.setAttribute("d",s._assembleRect(u)),d=!0)})},r.prototype._assembleRect=function(t){var n=t.x,s=t.y,u=t.width,h=t.height,d=t.radius;if(!d)return"M "+n+","+s+" l "+u+",0 l 0,"+h+" l"+-u+" 0 z";var p=function V6(e){var r=0,t=0,n=0,s=0;return(0,S.kJ)(e)?1===e.length?r=t=n=s=e[0]:2===e.length?(r=n=e[0],t=s=e[1]):3===e.length?(r=e[0],t=s=e[1],n=e[2]):(r=e[0],t=e[1],n=e[2],s=e[3]):r=t=n=s=e,{r1:r,r2:t,r3:n,r4:s}}(d);return(0,S.kJ)(d)?1===d.length?p.r1=p.r2=p.r3=p.r4=d[0]:2===d.length?(p.r1=p.r3=d[0],p.r2=p.r4=d[1]):3===d.length?(p.r1=d[0],p.r2=p.r4=d[1],p.r3=d[2]):(p.r1=d[0],p.r2=d[1],p.r3=d[2],p.r4=d[3]):p.r1=p.r2=p.r3=p.r4=d,[["M "+(n+p.r1)+","+s],["l "+(u-p.r1-p.r2)+",0"],["a "+p.r2+","+p.r2+",0,0,1,"+p.r2+","+p.r2],["l 0,"+(h-p.r2-p.r3)],["a "+p.r3+","+p.r3+",0,0,1,"+-p.r3+","+p.r3],["l "+(p.r3+p.r4-u)+",0"],["a "+p.r4+","+p.r4+",0,0,1,"+-p.r4+","+-p.r4],["l 0,"+(p.r4+p.r1-h)],["a "+p.r1+","+p.r1+",0,0,1,"+p.r1+","+-p.r1],["z"]].join(" ")},r}(ba);const yc=X6;var pw=ut(2260),yw={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},mw={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},xw={left:"left",start:"left",center:"middle",right:"end",end:"end"},Cw=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="text",t.canFill=!0,t.canStroke=!0,t}return(0,E.ZT)(r,e),r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,E.pi)((0,E.pi)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},r.prototype.createPath=function(t,n){var s=this,u=this.attr(),h=this.get("el");this._setFont(),(0,S.S6)(n||u,function(d,p){"text"===p?s._setText(""+d):"matrix"===p&&d?jh(s):Yr[p]&&h.setAttribute(Yr[p],d)}),h.setAttribute("paint-order","stroke"),h.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},r.prototype._setFont=function(){var t=this.get("el"),n=this.attr(),s=n.textBaseline,u=n.textAlign,h=(0,pw.qY)();h&&"firefox"===h.name?t.setAttribute("dominant-baseline",mw[s]||"alphabetic"):t.setAttribute("alignment-baseline",yw[s]||"baseline"),t.setAttribute("text-anchor",xw[u]||"left")},r.prototype._setText=function(t){var n=this.get("el"),s=this.attr(),u=s.x,h=s.textBaseline,d=void 0===h?"bottom":h;if(t)if(~t.indexOf("\n")){var p=t.split("\n"),y=p.length-1,x="";(0,S.S6)(p,function(w,M){0===M?"alphabetic"===d?x+='<tspan x="'+u+'" dy="'+-y+'em">'+w+"</tspan>":"top"===d?x+='<tspan x="'+u+'" dy="0.9em">'+w+"</tspan>":"middle"===d?x+='<tspan x="'+u+'" dy="'+-(y-1)/2+'em">'+w+"</tspan>":"bottom"===d?x+='<tspan x="'+u+'" dy="-'+(y+.3)+'em">'+w+"</tspan>":"hanging"===d&&(x+='<tspan x="'+u+'" dy="'+(-(y-1)-.3)+'em">'+w+"</tspan>"):x+='<tspan x="'+u+'" dy="1em">'+w+"</tspan>"}),n.innerHTML=x}else n.innerHTML=t;else n.innerHTML=""},r}(ba);const $6=Cw;var Z6=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,q6=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,j6=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function ww(e){var r=e.match(j6);if(!r)return"";var t="";return r.sort(function(n,s){return n=n.split(":"),s=s.split(":"),Number(n[0])-Number(s[0])}),(0,S.S6)(r,function(n){n=n.split(":"),t+='<stop offset="'+n[0]+'" stop-color="'+n[1]+'"></stop>'}),t}var J6=function(){function e(r){this.cfg={};var t=null,n=(0,S.EL)("gradient_");return"l"===r.toLowerCase()[0]?function ou(e,r){var u,h,t=Z6.exec(e),n=(0,S.wQ)((0,S.c$)(parseFloat(t[1])),2*Math.PI),s=t[2];n>=0&&n<.5*Math.PI?(u={x:0,y:0},h={x:1,y:1}):.5*Math.PI<=n&&n<Math.PI?(u={x:1,y:0},h={x:0,y:1}):Math.PI<=n&&n<1.5*Math.PI?(u={x:1,y:1},h={x:0,y:0}):(u={x:0,y:1},h={x:1,y:0});var d=Math.tan(n),p=d*d,y=(h.x-u.x+d*(h.y-u.y))/(p+1)+u.x,x=d*(h.x-u.x+d*(h.y-u.y))/(p+1)+u.y;r.setAttribute("x1",u.x),r.setAttribute("y1",u.y),r.setAttribute("x2",y),r.setAttribute("y2",x),r.innerHTML=ww(s)}(r,t=Va("linearGradient")):function Fo(e,r){var t=q6.exec(e),n=parseFloat(t[1]),s=parseFloat(t[2]),u=parseFloat(t[3]),h=t[4];r.setAttribute("cx",n),r.setAttribute("cy",s),r.setAttribute("r",u),r.innerHTML=ww(h)}(r,t=Va("radialGradient")),t.setAttribute("id",n),this.el=t,this.id=n,this.cfg=r,this}return e.prototype.match=function(r,t){return this.cfg===t},e}();const K6=J6;var Q6={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},t4={x:"-40%",y:"-40%",width:"200%",height:"200%"},Rv=function(){function e(r){this.type="filter",this.cfg={},this.type="filter";var t=Va("filter");return(0,S.S6)(t4,function(n,s){t.setAttribute(s,n)}),this.el=t,this.id=(0,S.EL)("filter_"),this.el.id=this.id,this.cfg=r,this._parseShadow(r,t),this}return e.prototype.match=function(r,t){if(this.type!==r)return!1;var n=!0,s=this.cfg;return(0,S.S6)(Object.keys(s),function(u){if(s[u]!==t[u])return n=!1,!1}),n},e.prototype.update=function(r,t){var n=this.cfg;return n[Q6[r]]=t,this._parseShadow(n,this.el),this},e.prototype._parseShadow=function(r,t){t.innerHTML='<feDropShadow\n      dx="'+(r.dx||0)+'"\n      dy="'+(r.dy||0)+'"\n      stdDeviation="'+(r.blur?r.blur/10:0)+'"\n      flood-color="'+(r.color?r.color:"#000")+'"\n      flood-opacity="'+(r.opacity?r.opacity:1)+'"\n      />'},e}();const py=Rv;var e4=function(){function e(r,t){this.cfg={};var n=Va("marker"),s=(0,S.EL)("marker_");n.setAttribute("id",s);var u=Va("path");u.setAttribute("stroke",r.stroke||"none"),u.setAttribute("fill",r.fill||"none"),n.appendChild(u),n.setAttribute("overflow","visible"),n.setAttribute("orient","auto-start-reverse"),this.el=n,this.child=u,this.id=s;var h=r["marker-start"===t?"startArrow":"endArrow"];return this.stroke=r.stroke||"#000",!0===h?this._setDefaultPath(t,u):(this.cfg=h,this._setMarker(r.lineWidth,u)),this}return e.prototype.match=function(){return!1},e.prototype._setDefaultPath=function(r,t){var n=this.el;t.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),n.setAttribute("refX",""+10*Math.cos(Math.PI/6)),n.setAttribute("refY","5")},e.prototype._setMarker=function(r,t){var n=this.el,s=this.cfg.path,u=this.cfg.d;(0,S.kJ)(s)&&(s=s.map(function(h){return h.join(" ")}).join("")),t.setAttribute("d",s),n.appendChild(t),u&&n.setAttribute("refX",""+u/r)},e.prototype.update=function(r){var t=this.child;t.attr?t.attr("fill",r):t.setAttribute("fill",r)},e}();const _w=e4;var r4=function(){function e(r){this.type="clip",this.cfg={};var t=Va("clipPath");return this.el=t,this.id=(0,S.EL)("clip_"),t.id=this.id,t.appendChild(r.cfg.el),this.cfg=r,this}return e.prototype.match=function(){return!1},e.prototype.remove=function(){var r=this.el;r.parentNode.removeChild(r)},e}();const Sw=r4;var Mw=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,n4=function(){function e(r){this.cfg={};var t=Va("pattern");t.setAttribute("patternUnits","userSpaceOnUse");var n=Va("image");t.appendChild(n);var s=(0,S.EL)("pattern_");t.id=s,this.el=t,this.id=s,this.cfg=r;var h=Mw.exec(r)[2];n.setAttribute("href",h);var d=new Image;function p(){t.setAttribute("width",""+d.width),t.setAttribute("height",""+d.height)}return h.match(/^data:/i)||(d.crossOrigin="Anonymous"),d.src=h,d.complete?p():(d.onload=p,d.src=d.src),this}return e.prototype.match=function(r,t){return this.cfg===t},e}();const bw=n4;var a4=function(){function e(r){var t=Va("defs"),n=(0,S.EL)("defs_");t.id=n,r.appendChild(t),this.children=[],this.defaultArrow={},this.el=t,this.canvas=r}return e.prototype.find=function(r,t){for(var n=this.children,s=null,u=0;u<n.length;u++)if(n[u].match(r,t)){s=n[u].id;break}return s},e.prototype.findById=function(r){for(var t=this.children,n=null,s=0;s<t.length;s++)if(t[s].id===r){n=t[s];break}return n},e.prototype.add=function(r){this.children.push(r),r.canvas=this.canvas,r.parent=this},e.prototype.getDefaultArrow=function(r,t){var n=r.stroke||r.strokeStyle;if(this.defaultArrow[n])return this.defaultArrow[n].id;var s=new _w(r,t);return this.defaultArrow[n]=s,this.el.appendChild(s.el),this.add(s),s.id},e.prototype.addGradient=function(r){var t=new K6(r);return this.el.appendChild(t.el),this.add(t),t.id},e.prototype.addArrow=function(r,t){var n=new _w(r,t);return this.el.appendChild(n.el),this.add(n),n.id},e.prototype.addShadow=function(r){var t=new py(r);return this.el.appendChild(t.el),this.add(t),t.id},e.prototype.addPattern=function(r){var t=new bw(r);return this.el.appendChild(t.el),this.add(t),t.id},e.prototype.addClip=function(r){var t=new Sw(r);return this.el.appendChild(t.el),this.add(t),t.id},e}();const o4=a4;var s4=function(e){function r(t){return e.call(this,(0,E.pi)((0,E.pi)({},t),{autoDraw:!0,renderer:"svg"}))||this}return(0,E.ZT)(r,e),r.prototype.getShapeBase=function(){return ee},r.prototype.getGroupBase=function(){return Lv},r.prototype.getShape=function(t,n,s){var u=s.target||s.srcElement;if(!Ev[u.tagName]){for(var h=u.parentNode;h&&!Ev[h.tagName];)h=h.parentNode;u=h}return this.find(function(d){return d.get("el")===u})},r.prototype.createDom=function(){var t=Va("svg"),n=new o4(t);return t.setAttribute("width",""+this.get("width")),t.setAttribute("height",""+this.get("height")),this.set("context",n),t},r.prototype.onCanvasChange=function(t){var n=this.get("context"),s=this.get("el");if("sort"===t){var u=this.get("children");u&&u.length&&qh(this,function(d,p){return u.indexOf(d)-u.indexOf(p)?1:0})}else if("clear"===t){if(s){s.innerHTML="";var h=n.el;h.innerHTML="",s.appendChild(h)}}else"matrix"===t?jh(this):"clip"===t?Jh(this,n):"changeSize"===t&&(s.setAttribute("width",""+this.get("width")),s.setAttribute("height",""+this.get("height")))},r.prototype.draw=function(){var t=this.get("context"),n=this.getChildren();Jh(this,t),n.length&&aw(t,n)},r}(qn.AbstractCanvas);const l4=s4;var u4="0.5.6",c4=function(e){function r(t){var n=e.call(this,t)||this;n.type="path",n.shapeType="line";var s=t.connectNulls,h=t.showSinglePoint,d=void 0===h||h;return n.connectNulls=void 0!==s&&s,n.showSinglePoint=d,n}return(0,E.ZT)(r,e),r.prototype.updateElements=function(t,n){var s,u,h,d,p,y;void 0===n&&(n=!1);for(var x=new Map,w=new Map,M=[],T=0,L=0;L<t.length;L++){var D=this.getElementId(R=t[L]);M.push(D),x.set(D,R),w.set(D,T),T++}this.elements=new Array(T);var k=oo(this.lastElementsMap,M),z=k.added,G=k.updated,U=k.removed;try{for(var q=(0,E.XA)(z),a=q.next();!a.done;a=q.next()){var R=x.get(D=a.value),o=this.getShapeFactory(),i=this.getShapeInfo(R);L=w.get(D),(l=new pC({shapeFactory:o,container:this.container,offscreenGroup:this.getOffscreenGroup(),elementIndex:L})).geometry=this,l.animate=this.animateOption,l.draw(i,n),this.elementsMap[D]=l,this.elements[L]=l}}catch(_){s={error:_}}finally{try{a&&!a.done&&(u=q.return)&&u.call(q)}finally{if(s)throw s.error}}try{for(var c=(0,E.XA)(G),f=c.next();!f.done;f=c.next()){R=x.get(D=f.value);var l=this.lastElementsMap[D],v=(L=w.get(D),i=this.getShapeInfo(R),l.getModel());(this.isCoordinateChanged||ws(v,i))&&(l.animate=this.animateOption,l.update(i)),this.elementsMap[D]=l,this.elements[L]=l}}catch(_){h={error:_}}finally{try{f&&!f.done&&(d=c.return)&&d.call(c)}finally{if(h)throw h.error}}try{for(var g=(0,E.XA)(U),m=g.next();!m.done;m=g.next())(l=this.lastElementsMap[D=m.value]).animate=this.animateOption,l.destroy()}catch(_){p={error:_}}finally{try{m&&!m.done&&(y=g.return)&&y.call(g)}finally{if(p)throw p.error}}},r.prototype.getPointsAndData=function(t){for(var n=[],s=[],u=0,h=t.length;u<h;u++){var d=t[u];n.push({x:d.x,y:d.y}),s.push(d[Jr])}return{points:n,data:s}},r.prototype.getShapeInfo=function(t){var n=this.getDrawCfg(t[0]),s=this.getPointsAndData(t),u=s.points,h=s.data;return n.mappingData=t,n.data=h,n.isStack=!!this.getAdjust("stack"),n.points=u,n.connectNulls=this.connectNulls,n.showSinglePoint=this.showSinglePoint,n},r}(nr);const gy=c4;function h4(e,r,t,n,s){var u=[];if(e.length){for(var h=[],d=[],p=0,y=e.length;p<y;p++){var x=e[p];h.push(x[1]),d.push(x[0])}d=d.reverse(),(0,S.S6)([h,d],function(w,M){var T=[],L=n.parsePoints(w),R=L[0];1===h.length&&1===d.length?T=0===M?[["M",R.x-.5,R.y],["L",R.x+.5,R.y]]:[["L",R.x+.5,R.y],["L",R.x-.5,R.y]]:(r&&L.push({x:R.x,y:R.y}),T=t?Ca(L,!1,s):ys(L,!1),M>0&&(T[0][0]="L")),u=u.concat(T)}),u.push(["Z"])}return u}function Fv(e,r,t,n,s){for(var u=In(e,r,!r,"lineWidth"),d=e.isInCircle,x=Vh(e.points,e.connectNulls,e.showSinglePoint),w=[],M=0,T=x.length;M<T;M++)w=w.concat(h4(x[M],d,t,n,s));return u.path=w,u}function Tw(e){var r=e.start,t=e.end;return[[r.x,t.y],[t.x,r.y]]}il("area",{defaultShapeType:"area",getDefaultPoints:function(e){var r=e.x,t=e.y0;return((0,S.kJ)(e.y)?e.y:[t,e.y]).map(function(s){return{x:r,y:s}})}}),Xr("area","area",{draw:function(e,r){var t=Fv(e,!1,!1,this);return r.addShape({type:"path",attrs:t,name:"area"})},getMarker:function(e){return{symbol:function(t,n,s){return void 0===s&&(s=5.5),[["M",t-s,n-4],["L",t+s,n-4],["L",t+s,n+4],["L",t-s,n+4],["Z"]]},style:{r:5,fill:e.color,fillOpacity:1}}}});var f4=function(e){function r(t){var n=e.call(this,t)||this;n.type="area",n.shapeType="area",n.generatePoints=!0,n.startOnZero=!0;var s=t.startOnZero,h=t.sortable,d=void 0!==h&&h,p=t.showSinglePoint,y=void 0!==p&&p;return n.startOnZero=void 0===s||s,n.sortable=d,n.showSinglePoint=y,n}return(0,E.ZT)(r,e),r.prototype.getPointsAndData=function(t){for(var n=[],s=[],u=0,h=t.length;u<h;u++){var d=t[u];n.push(d.points),s.push(d[Jr])}return{points:n,data:s}},r.prototype.getYMinValue=function(){return this.startOnZero?e.prototype.getYMinValue.call(this):this.getYScale().min},r}(gy);const d4=f4;il("edge",{defaultShapeType:"line",getDefaultPoints:function(e){return qg(e)}}),Xr("edge","line",{draw:function(e,r){var t=In(e,!0,!1,"lineWidth"),n=ys(this.parsePoints(e.points),this.coordinate.isPolar);return r.addShape("path",{attrs:(0,E.pi)((0,E.pi)({},t),{path:n})})},getMarker:function(e){return{symbol:"circle",style:{r:4.5,fill:e.color}}}});var v4=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="edge",t.shapeType="edge",t.generatePoints=!0,t}return(0,E.ZT)(r,e),r}(nr);const p4=v4;var g4=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="heatmap",t.paletteCache={},t}return(0,E.ZT)(r,e),r.prototype.updateElements=function(t,n){void 0===n&&(n=!1);for(var s=0;s<t.length;s++){var u=t[s],h=this.prepareRange(u),d=this.prepareSize(),p=(0,S.U2)(this.styleOption,["cfg","shadowBlur"]);(0,S.hj)(p)||(p=d/2),this.prepareGreyScaleBlurredCircle(d,p),this.drawWithRange(u,h,d,p)}},r.prototype.color=function(t,n){return this.createAttrOption("color",t,"function"!=typeof n?n:""),this},r.prototype.clear=function(){e.prototype.clear.call(this),this.clearShadowCanvasCtx(),this.paletteCache={}},r.prototype.prepareRange=function(t){var s=this.getAttribute("color").getFields()[0],u=1/0,h=-1/0;return t.forEach(function(d){var p=d[Jr][s];p>h&&(h=p),p<u&&(u=p)}),u===h&&(u=h-1),[u,h]},r.prototype.prepareSize=function(){var t=this.getDefaultValue("size");return(0,S.hj)(t)||(t=this.getDefaultSize()),t},r.prototype.prepareGreyScaleBlurredCircle=function(t,n){var s=this.getGrayScaleBlurredCanvas(),u=t+n,h=s.getContext("2d");s.width=s.height=2*u,h.clearRect(0,0,s.width,s.height),h.shadowOffsetX=h.shadowOffsetY=2*u,h.shadowBlur=n,h.shadowColor="black",h.beginPath(),h.arc(-u,-u,t,0,2*Math.PI,!0),h.closePath(),h.fill()},r.prototype.drawWithRange=function(t,n,s,u){var h,d,p=this.coordinate,y=p.start,x=p.end,w=this.coordinate.getWidth(),M=this.coordinate.getHeight(),L=this.getAttribute("color").getFields()[0];this.clearShadowCanvasCtx();var R=this.getShadowCanvasCtx();n&&(t=t.filter(function(c){return c[Jr][L]<=n[1]&&c[Jr][L]>=n[0]}));var D=this.scales[L];try{for(var k=(0,E.XA)(t),z=k.next();!z.done;z=k.next()){var G=z.value,U=this.getDrawCfg(G),q=U.x,a=U.y,o=D.scale(G[Jr][L]);this.drawGrayScaleBlurredCircle(q-y.x,a-x.y,s+u,o,R)}}catch(c){h={error:c}}finally{try{z&&!z.done&&(d=k.return)&&d.call(k)}finally{if(h)throw h.error}}var i=R.getImageData(0,0,w,M);this.clearShadowCanvasCtx(),this.colorize(i),R.putImageData(i,0,0);var l=this.getImageShape();l.attr("x",y.x),l.attr("y",x.y),l.attr("width",w),l.attr("height",M),l.attr("img",R.canvas),l.set("origin",this.getShapeInfo(t))},r.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),n=this.coordinate;return Math.min(n.getWidth()/(4*t.scales[0].ticks.length),n.getHeight()/(4*t.scales[1].ticks.length))},r.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},r.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;return t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight(),t.getContext("2d")},r.prototype.getGrayScaleBlurredCanvas=function(){return this.grayScaleBlurredCanvas||(this.grayScaleBlurredCanvas=document.createElement("canvas")),this.grayScaleBlurredCanvas},r.prototype.drawGrayScaleBlurredCircle=function(t,n,s,u,h){var d=this.getGrayScaleBlurredCanvas();h.globalAlpha=u,h.drawImage(d,t-s,n-s)},r.prototype.colorize=function(t){for(var n=this.getAttribute("color"),s=t.data,u=this.paletteCache,h=3;h<s.length;h+=4){var d=s[h];if((0,S.hj)(d)){var p=u[d]?u[d]:is.rgb2arr(n.gradient(d/256));s[h-3]=p[0],s[h-2]=p[1],s[h-1]=p[2],s[h]=d}}},r.prototype.getImageShape=function(){var t=this.imageShape;return t||(t=this.container.addShape({type:"image",attrs:{}}),this.imageShape=t,t)},r.prototype.getShapeInfo=function(t){var n=this.getDrawCfg(t[0]),s=t.map(function(u){return u[Jr]});return(0,E.pi)((0,E.pi)({},n),{mappingData:t,data:s})},r}(nr);const y4=g4;function Dv(e){var r,t,d,p,y,x,n=e.x,s=e.y,u=e.y0,h=e.size;(0,S.kJ)(s)?(d=(r=(0,E.CR)(s,2))[0],p=r[1]):(d=u,p=s),(0,S.kJ)(n)?(y=(t=(0,E.CR)(n,2))[0],x=t[1]):(y=n-h/2,x=n+h/2);var w=[{x:y,y:d},{x:y,y:p}];return w.push({x,y:p},{x,y:d}),w}function yy(e,r){void 0===r&&(r=!0);var t=[],n=e[0];t.push(["M",n.x,n.y]);for(var s=1,u=e.length;s<u;s++)t.push(["L",e[s].x,e[s].y]);return r&&(t.push(["L",n.x,n.y]),t.push(["z"])),t}function Aw(e,r){var t=0,n=0,s=0,u=0;return(0,S.kJ)(e)?1===e.length?t=n=s=u=e[0]:2===e.length?(t=s=e[0],n=u=e[1]):3===e.length?(t=e[0],n=u=e[1],s=e[2]):(t=e[0],n=e[1],s=e[2],u=e[3]):t=n=s=u=e,t+n>r&&(n=r-(t=t?r/(1+n/t):0)),s+u>r&&(u=r-(s=s?r/(1+u/s):0)),[t||0,n||0,s||0,u||0]}function my(e,r,t){var n=[];if(t.isRect){var s=t.isTransposed?{x:t.start.x,y:r[0].y}:{x:r[0].x,y:t.start.y},u=t.isTransposed?{x:t.end.x,y:r[2].y}:{x:r[3].x,y:t.end.y},h=(0,S.U2)(e,["background","style","radius"]);if(h){var d=t.isTransposed?Math.abs(r[0].y-r[2].y):r[2].x-r[1].x,p=t.isTransposed?t.getWidth():t.getHeight(),y=(0,E.CR)(Aw(h,Math.min(d,p)),4),x=y[0],w=y[1],M=y[2],T=y[3],L=t.isTransposed&&t.isReflect("y"),R=L?0:1,D=function(a){return L?-a:a};n.push(["M",s.x,u.y+D(x)]),0!==x&&n.push(["A",x,x,0,0,R,s.x+x,u.y]),n.push(["L",u.x-w,u.y]),0!==w&&n.push(["A",w,w,0,0,R,u.x,u.y+D(w)]),n.push(["L",u.x,s.y-D(M)]),0!==M&&n.push(["A",M,M,0,0,R,u.x-M,s.y]),n.push(["L",s.x+T,s.y]),0!==T&&n.push(["A",T,T,0,0,R,s.x,s.y-D(T)])}else n.push(["M",s.x,s.y]),n.push(["L",u.x,s.y]),n.push(["L",u.x,u.y]),n.push(["L",s.x,u.y]),n.push(["L",s.x,s.y]);n.push(["z"])}if(t.isPolar){var k=t.getCenter(),z=kh(e,t),G=z.startAngle,U=z.endAngle;if("theta"===t.type||t.isTransposed){var q=function(i){return Math.pow(i,2)};x=Math.sqrt(q(k.x-r[0].x)+q(k.y-r[0].y)),w=Math.sqrt(q(k.x-r[2].x)+q(k.y-r[2].y)),n=el(k.x,k.y,x,t.startAngle,t.endAngle,w)}else n=el(k.x,k.y,t.getRadius(),G,U)}return n}function xy(e,r,t){var n=[];return(0,S.UM)(r)?t?n.push(["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["L",(e[2].x+e[3].x)/2,(e[2].y+e[3].y)/2],["Z"]):n.push(["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["L",e[2].x,e[2].y],["L",e[3].x,e[3].y],["Z"]):n.push(["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["L",r[1].x,r[1].y],["L",r[0].x,r[0].y],["Z"]),n}function Kh(e,r){return[r,e]}function Cy(e){var r=e.theme,t=e.coordinate,n=e.getXScale(),s=n.values,u=e.beforeMappingData,h=s.length,d=Bh(e.coordinate),p=e.intervalPadding,y=e.dodgePadding,x=e.maxColumnWidth||r.maxColumnWidth,w=e.minColumnWidth||r.minColumnWidth,M=e.columnWidthRatio||r.columnWidthRatio,T=e.multiplePieWidthRatio||r.multiplePieWidthRatio,L=e.roseWidthRatio||r.roseWidthRatio;if(n.isLinear&&s.length>1){s.sort();var R=function Ew(e,r){var t=e.length,n=e;(0,S.HD)(n[0])&&(n=e.map(function(d){return r.translate(d)}));for(var s=n[1]-n[0],u=2;u<t;u++){var h=n[u]-n[u-1];s>h&&(s=h)}return s}(s,n);s.length>(h=(n.max-n.min)/R)&&(h=s.length)}var D=n.range,k=1/h,z=1;if(t.isPolar?z=t.isTransposed&&h>1?T:L:(n.isLinear&&(k*=D[1]-D[0]),z=M),!(0,S.UM)(p)&&p>=0?k=(1-p/d*(h-1))/h:k*=z,e.getAdjust("dodge")){var a=function w4(e,r){if(r){var t=(0,S.xH)(e);return(0,S.I)(t,r).length}return e.length}(u,e.getAdjust("dodge").dodgeBy);!(0,S.UM)(y)&&y>=0?k=(k-y/d*(a-1))/a:(!(0,S.UM)(p)&&p>=0&&(k*=z),k/=a),k=k>=0?k:0}if(!(0,S.UM)(x)&&x>=0){var i=x/d;k>i&&(k=i)}if(!(0,S.UM)(w)&&w>=0){var l=w/d;k<l&&(k=l)}return k}il("interval",{defaultShapeType:"rect",getDefaultPoints:function(e){return Dv(e)}}),Xr("interval","rect",{draw:function(e,r){var d,t=In(e,!1,!0),n=r,s=e?.background;if(s){n=r.addGroup({name:"interval-group"});var u=EC(e),h=my(e,this.parsePoints(e.points),this.coordinate);n.addShape("path",{attrs:(0,E.pi)((0,E.pi)({},u),{path:h}),capture:!1,zIndex:-1,name:Gg})}d=t.radius&&this.coordinate.isRect?function x4(e,r,t){var n,s,u,h,d,p,y,x=(0,E.CR)((0,E.ev)([],(0,E.CR)(e),!1),4),w=x[0],M=x[1],T=x[2],L=x[3],R=(0,E.CR)("number"==typeof t?Array(4).fill(t):t,4),D=R[0],k=R[1],z=R[2],G=R[3];r.isTransposed&&(M=(n=(0,E.CR)(Kh(M,L),2))[0],L=n[1]),r.isReflect("y")&&(w=(s=(0,E.CR)(Kh(w,M),2))[0],M=s[1],T=(u=(0,E.CR)(Kh(T,L),2))[0],L=u[1]),r.isReflect("x")&&(w=(h=(0,E.CR)(Kh(w,L),2))[0],L=h[1],M=(d=(0,E.CR)(Kh(M,T),2))[0],T=d[1]);var U=[],q=function(a){return Math.abs(a)};return D=(p=(0,E.CR)(Aw([D,k,z,G],Math.min(q(L.x-w.x),q(M.y-w.y))).map(function(a){return q(a)}),4))[0],k=p[1],z=p[2],G=p[3],r.isTransposed&&(D=(y=(0,E.CR)([G,D,k,z],4))[0],k=y[1],z=y[2],G=y[3]),w.y<M.y?(U.push(["M",L.x,L.y+z]),0!==z&&U.push(["A",z,z,0,0,0,L.x-z,L.y]),U.push(["L",w.x+G,w.y]),0!==G&&U.push(["A",G,G,0,0,0,w.x,w.y+G]),U.push(["L",M.x,M.y-D]),0!==D&&U.push(["A",D,D,0,0,0,M.x+D,M.y]),U.push(["L",T.x-k,T.y]),0!==k&&U.push(["A",k,k,0,0,0,T.x,T.y-k]),U.push(["L",L.x,L.y+z]),U.push(["z"])):L.x<w.x?(U.push(["M",T.x+k,T.y]),0!==k&&U.push(["A",k,k,0,0,0,T.x,T.y+k]),U.push(["L",L.x,L.y-z]),0!==z&&U.push(["A",z,z,0,0,0,L.x+z,L.y]),U.push(["L",w.x-G,w.y]),0!==G&&U.push(["A",G,G,0,0,0,w.x,w.y-G]),U.push(["L",M.x,M.y+D]),0!==D&&U.push(["A",D,D,0,0,0,M.x-D,M.y]),U.push(["L",T.x+k,T.y]),U.push(["z"])):(U.push(["M",M.x,M.y+D]),0!==D&&U.push(["A",D,D,0,0,1,M.x+D,M.y]),U.push(["L",T.x-k,T.y]),0!==k&&U.push(["A",k,k,0,0,1,T.x,T.y+k]),U.push(["L",L.x,L.y-z]),0!==z&&U.push(["A",z,z,0,0,1,L.x-z,L.y]),U.push(["L",w.x+G,w.y]),0!==G&&U.push(["A",G,G,0,0,1,w.x,w.y-G]),U.push(["L",M.x,M.y+D]),U.push(["z"])),U}(this.parsePoints(e.points),this.coordinate,t.radius):this.parsePath(function m4(e,r,t){var n=t.getWidth(),s=t.getHeight(),h=[],d=(e[2].x-e[1].x)/2,p=t.isTransposed?d*s/n:d*n/s;return"round"===r?("rect"===t.type?(h.push(["M",e[0].x,e[0].y+p]),h.push(["L",e[1].x,e[1].y-p]),h.push(["A",d,d,0,0,1,e[2].x,e[2].y-p]),h.push(["L",e[3].x,e[3].y+p]),h.push(["A",d,d,0,0,1,e[0].x,e[0].y+p])):(h.push(["M",e[0].x,e[0].y]),h.push(["L",e[1].x,e[1].y]),h.push(["A",d,d,0,0,1,e[2].x,e[2].y]),h.push(["L",e[3].x,e[3].y]),h.push(["A",d,d,0,0,1,e[0].x,e[0].y])),h.push(["z"])):h=yy(e),h}(e.points,t.lineCap,this.coordinate));var p=n.addShape("path",{attrs:(0,E.pi)((0,E.pi)({},t),{path:d}),name:"interval"});return s?n:p},getMarker:function(e){var r=e.color;return e.isInPolar?{symbol:"circle",style:{r:4.5,fill:r}}:{symbol:"square",style:{r:4,fill:r}}}});var _4=function(e){function r(t){var n=e.call(this,t)||this;return n.type="interval",n.shapeType="interval",n.generatePoints=!0,n.background=t.background,n}return(0,E.ZT)(r,e),r.prototype.createShapePointsCfg=function(t){var s,n=e.prototype.createShapePointsCfg.call(this,t),u=this.getAttribute("size");return u?(s=this.getAttributeValues(u,t)[0],s/=Bh(this.coordinate)):(this.defaultSize||(this.defaultSize=Cy(this)),s=this.defaultSize),n.size=s,n},r.prototype.adjustScale=function(){e.prototype.adjustScale.call(this);var t=this.getYScale();if("theta"===this.coordinate.type)t.change({nice:!1,min:0,max:a3(t)});else{var n=this.scaleDefs,s=t.field,h=t.max;"time"!==t.type&&(t.min>0&&!(0,S.U2)(n,[s,"min"])&&t.change({min:0}),h<=0&&!(0,S.U2)(n,[s,"max"])&&t.change({max:0}))}},r.prototype.getDrawCfg=function(t){var n=e.prototype.getDrawCfg.call(this,t);return n.background=this.background,n},r}(nr);const Lw=_4;var S4=function(e){function r(t){var n=e.call(this,t)||this;n.type="line";var s=t.sortable;return n.sortable=void 0!==s&&s,n}return(0,E.ZT)(r,e),r}(gy);const M4=S4;var Iw=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"];function kv(e,r,t,n,s){var u,h,d=In(r,s,!s,"r"),p=e.parsePoints(r.points),y=p[0];if(r.isStack)y=p[1];else if(p.length>1){var x=t.addGroup();try{for(var w=(0,E.XA)(p),M=w.next();!M.done;M=w.next()){var T=M.value;x.addShape({type:"marker",attrs:(0,E.pi)((0,E.pi)((0,E.pi)({},d),{symbol:so[n]||n}),T)})}}catch(L){u={error:L}}finally{try{M&&!M.done&&(h=w.return)&&h.call(w)}finally{if(u)throw u.error}}return x}return t.addShape({type:"marker",attrs:(0,E.pi)((0,E.pi)((0,E.pi)({},d),{symbol:so[n]||n}),y)})}il("point",{defaultShapeType:"hollow-circle",getDefaultPoints:function(e){return qg(e)}}),(0,S.S6)(Iw,function(e){Xr("point","hollow-".concat(e),{draw:function(r,t){return kv(this,r,t,e,!0)},getMarker:function(r){return{symbol:so[e]||e,style:{r:4.5,stroke:r.color,fill:null}}}})});var T4=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="point",t.shapeType="point",t.generatePoints=!0,t}return(0,E.ZT)(r,e),r.prototype.getDrawCfg=function(t){var n=e.prototype.getDrawCfg.call(this,t);return(0,E.pi)((0,E.pi)({},n),{isStack:!!this.getAdjust("stack")})},r}(nr);const Ow=T4;il("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(e){var r=[];return(0,S.S6)(e.x,function(t,n){r.push({x:t,y:e.y[n]})}),r}}),Xr("polygon","polygon",{draw:function(e,r){if(!(0,S.xb)(e.points)){var t=In(e,!0,!0),n=this.parsePath(function A4(e){for(var r=e[0],t=1,n=[["M",r.x,r.y]];t<e.length;){var s=e[t];(s.x!==e[t-1].x||s.y!==e[t-1].y)&&(n.push(["L",s.x,s.y]),s.x===r.x&&s.y===r.y&&t<e.length-1&&(r=e[t+1],n.push(["Z"]),n.push(["M",r.x,r.y]),t++)),t++}return(0,S.Xy)((0,S.Z$)(n),r)||n.push(["L",r.x,r.y]),n.push(["Z"]),n}(e.points));return r.addShape("path",{attrs:(0,E.pi)((0,E.pi)({},t),{path:n}),name:"polygon"})}},getMarker:function(e){return{symbol:"square",style:{r:4,fill:e.color}}}});var E4=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="polygon",t.shapeType="polygon",t.generatePoints=!0,t}return(0,E.ZT)(r,e),r.prototype.createShapePointsCfg=function(t){var h,n=e.prototype.createShapePointsCfg.call(this,t),s=n.x,u=n.y;if(!(0,S.kJ)(s)||!(0,S.kJ)(u)){var d=this.getXScale(),p=this.getYScale(),w=.5/d.values.length,M=.5/p.values.length;d.isCategory&&p.isCategory?(s=[s-w,s-w,s+w,s+w],u=[u-M,u+M,u+M,u-M]):(0,S.kJ)(s)?(s=[(h=s)[0],h[0],h[1],h[1]],u=[u-M/2,u+M/2,u+M/2,u-M/2]):(0,S.kJ)(u)&&(u=[(h=u)[0],h[1],h[1],h[0]],s=[s-w/2,s-w/2,s+w/2,s+w/2]),n.x=s,n.y=u}return n},r}(nr);const L4=E4;il("schema",{defaultShapeType:""});var I4=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="schema",t.shapeType="schema",t.generatePoints=!0,t}return(0,E.ZT)(r,e),r.prototype.createShapePointsCfg=function(t){var s,n=e.prototype.createShapePointsCfg.call(this,t),u=this.getAttribute("size");return u?(s=this.getAttributeValues(u,t)[0],s/=Bh(this.coordinate)):(this.defaultSize||(this.defaultSize=Cy(this)),s=this.defaultSize),n.size=s,n},r}(nr);const O4=I4;il("violin",{defaultShapeType:"violin",getDefaultPoints:function(e){var r=e.size/2,t=[],n=function R4(e){if(!(0,S.kJ)(e))return[];var r=(0,S.Fp)(e);return(0,S.UI)(e,function(t){return t/r})}(e._size);return(0,S.S6)(e.y,function(s,u){var h=n[u]*r,d=0===u,p=u===e.y.length-1;t.push({isMin:d,isMax:p,x:e.x-h,y:s}),t.unshift({isMin:d,isMax:p,x:e.x+h,y:s})}),t}}),Xr("violin","violin",{draw:function(e,r){var t=In(e,!0,!0),n=this.parsePath(TC(e.points));return r.addShape("path",{attrs:(0,E.pi)((0,E.pi)({},t),{path:n}),name:"violin"})},getMarker:function(e){return{symbol:"circle",style:{r:4,fill:e.color}}}});var F4=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="violin",t.shapeType="violin",t.generatePoints=!0,t}return(0,E.ZT)(r,e),r.prototype.createShapePointsCfg=function(t){var s,n=e.prototype.createShapePointsCfg.call(this,t),u=this.getAttribute("size");return u?(s=this.getAttributeValues(u,t)[0],s/=Bh(this.coordinate)):(this.defaultSize||(this.defaultSize=Cy(this)),s=this.defaultSize),n.size=s,n._size=(0,S.U2)(t[Jr],[this._sizeField]),n},r.prototype.initAttributes=function(){var t=this.attributeOption;this._sizeField=t.size?t.size.fields[0]:this._sizeField?this._sizeField:"size",delete t.size,e.prototype.initAttributes.call(this)},r}(nr);const D4=F4;function wy(e,r){return["C",1*e.x/2+1*r.x/2,e.y,1*e.x/2+1*r.x/2,r.y,r.x,r.y]}function _y(e,r){var t=[];t.push({x:r.x,y:r.y}),t.push(e);var n=["Q"];return(0,S.S6)(t,function(s){n.push(s.x,s.y)}),n}Xr("area","line",{draw:function(e,r){var t=Fv(e,!0,!1,this);return r.addShape({type:"path",attrs:t,name:"area"})},getMarker:function(e){return{symbol:function(t,n,s){return void 0===s&&(s=5.5),[["M",t-s,n-4],["L",t+s,n-4],["L",t+s,n+4],["L",t-s,n+4],["Z"]]},style:{r:5,stroke:e.color,fill:null}}}}),Xr("area","smooth",{draw:function(e,r){var n=Fv(e,!1,!0,this,Tw(this.coordinate));return r.addShape({type:"path",attrs:n,name:"area"})},getMarker:function(e){return{symbol:function(t,n,s){return void 0===s&&(s=5.5),[["M",t-s,n-4],["L",t+s,n-4],["L",t+s,n+4],["L",t-s,n+4],["Z"]]},style:{r:5,fill:e.color,fillOpacity:1}}}}),Xr("area","smooth-line",{draw:function(e,r){var n=Fv(e,!0,!0,this,Tw(this.coordinate));return r.addShape({type:"path",attrs:n,name:"area"})},getMarker:function(e){return{symbol:function(t,n,s){return void 0===s&&(s=5.5),[["M",t-s,n-4],["L",t+s,n-4],["L",t+s,n+4],["L",t-s,n+4],["Z"]]},style:{r:5,stroke:e.color,fill:null}}}}),Xr("edge","arc",{draw:function(e,r){var u,t=In(e,!0,!1,"lineWidth"),n=e.points,s=n.length>2?"weight":"normal";if(e.isInCircle){var h={x:0,y:1};return"normal"===s?u=function _n(e,r,t){var n=_y(r,t),s=[["M",e.x,e.y]];return s.push(n),s}(n[0],n[1],h):(t.fill=t.stroke,u=function Xa(e,r){var t=_y(e[1],r),n=_y(e[3],r),s=[["M",e[0].x,e[0].y]];return s.push(n),s.push(["L",e[3].x,e[3].y]),s.push(["L",e[2].x,e[2].y]),s.push(t),s.push(["L",e[1].x,e[1].y]),s.push(["L",e[0].x,e[0].y]),s.push(["Z"]),s}(n,h)),u=this.parsePath(u),r.addShape("path",{attrs:(0,E.pi)((0,E.pi)({},t),{path:u})})}if("normal"===s)return u=D2(((n=this.parsePoints(n))[1].x+n[0].x)/2,n[0].y,Math.abs(n[1].x-n[0].x)/2,Math.PI,2*Math.PI),r.addShape("path",{attrs:(0,E.pi)((0,E.pi)({},t),{path:u})});var d=wy(n[1],n[3]),p=wy(n[2],n[0]);return u=this.parsePath(u=[["M",n[0].x,n[0].y],["L",n[1].x,n[1].y],d,["L",n[3].x,n[3].y],["L",n[2].x,n[2].y],p,["Z"]]),t.fill=t.stroke,r.addShape("path",{attrs:(0,E.pi)((0,E.pi)({},t),{path:u})})},getMarker:function(e){return{symbol:"circle",style:{r:4.5,fill:e.color}}}}),Xr("edge","smooth",{draw:function(e,r){var t=In(e,!0,!1,"lineWidth"),n=e.points,s=this.parsePath(function k4(e,r){var t=wy(e,r),n=[["M",e.x,e.y]];return n.push(t),n}(n[0],n[1]));return r.addShape("path",{attrs:(0,E.pi)((0,E.pi)({},t),{path:s})})},getMarker:function(e){return{symbol:"circle",style:{r:4.5,fill:e.color}}}});var Ss=1/3;Xr("edge","vhv",{draw:function(e,r){var t=In(e,!0,!1,"lineWidth"),n=e.points,s=this.parsePath(function B4(e,r){var t=[];t.push({x:e.x,y:e.y*(1-Ss)+r.y*Ss}),t.push({x:r.x,y:e.y*(1-Ss)+r.y*Ss}),t.push(r);var n=[["M",e.x,e.y]];return(0,S.S6)(t,function(s){n.push(["L",s.x,s.y])}),n}(n[0],n[1]));return r.addShape("path",{attrs:(0,E.pi)((0,E.pi)({},t),{path:s})})},getMarker:function(e){return{symbol:"circle",style:{r:4.5,fill:e.color}}}}),Xr("interval","funnel",{getPoints:function(e){return e.size=2*e.size,Dv(e)},draw:function(e,r){var t=In(e,!1,!0),n=this.parsePath(xy(e.points,e.nextPoints,!1));return r.addShape("path",{attrs:(0,E.pi)((0,E.pi)({},t),{path:n}),name:"interval"})},getMarker:function(e){return{symbol:"square",style:{r:4,fill:e.color}}}}),Xr("interval","hollow-rect",{draw:function(e,r){var t=In(e,!0,!1),n=r,s=e?.background;if(s){n=r.addGroup();var u=EC(e),h=my(e,this.parsePoints(e.points),this.coordinate);n.addShape("path",{attrs:(0,E.pi)((0,E.pi)({},u),{path:h}),capture:!1,zIndex:-1,name:Gg})}var d=this.parsePath(yy(e.points)),p=n.addShape("path",{attrs:(0,E.pi)((0,E.pi)({},t),{path:d}),name:"interval"});return s?n:p},getMarker:function(e){var r=e.color;return e.isInPolar?{symbol:"circle",style:{r:4.5,stroke:r,fill:null}}:{symbol:"square",style:{r:4,stroke:r,fill:null}}}}),Xr("interval","line",{getPoints:function(e){return function P4(e){var r=e.x,t=e.y,n=e.y0;return(0,S.kJ)(t)?t.map(function(s,u){return{x:(0,S.kJ)(r)?r[u]:r,y:s}}):[{x:r,y:n},{x:r,y:t}]}(e)},draw:function(e,r){var t=In(e,!0,!1,"lineWidth"),n=aa((0,E.pi)({},t),["fill"]),s=this.parsePath(yy(e.points,!1));return r.addShape("path",{attrs:(0,E.pi)((0,E.pi)({},n),{path:s}),name:"interval"})},getMarker:function(e){return{symbol:function(t,n,s){return[["M",t,n-s],["L",t,n+s]]},style:{r:5,stroke:e.color}}}}),Xr("interval","pyramid",{getPoints:function(e){return e.size=2*e.size,Dv(e)},draw:function(e,r){var t=In(e,!1,!0),n=this.parsePath(xy(e.points,e.nextPoints,!0));return r.addShape("path",{attrs:(0,E.pi)((0,E.pi)({},t),{path:n}),name:"interval"})},getMarker:function(e){return{symbol:"square",style:{r:4,fill:e.color}}}}),Xr("interval","tick",{getPoints:function(e){return function Sy(e){var r,h,d,t=e.x,n=e.y,s=e.y0,u=e.size;(0,S.kJ)(n)?(h=(r=(0,E.CR)(n,2))[0],d=r[1]):(h=s,d=n);var p=t+u/2,y=t-u/2;return[{x:t,y:h},{x:t,y:d},{x:y,y:h},{x:p,y:h},{x:y,y:d},{x:p,y:d}]}(e)},draw:function(e,r){var t=In(e,!0,!1),n=this.parsePath(function z4(e){return[["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["M",e[2].x,e[2].y],["L",e[3].x,e[3].y],["M",e[4].x,e[4].y],["L",e[5].x,e[5].y]]}(e.points));return r.addShape("path",{attrs:(0,E.pi)((0,E.pi)({},t),{path:n}),name:"interval"})},getMarker:function(e){return{symbol:function(t,n,s){return[["M",t-s/2,n-s],["L",t+s/2,n-s],["M",t,n-s],["L",t,n+s],["M",t-s/2,n+s],["L",t+s/2,n+s]]},style:{r:5,stroke:e.color}}}});var N4=function(e,r,t){var d,n=e.x,s=e.y,u=r.x,h=r.y;switch(t){case"hv":d=[{x:u,y:s}];break;case"vh":d=[{x:n,y:h}];break;case"hvh":var p=(u+n)/2;d=[{x:p,y:s},{x:p,y:h}];break;case"vhv":var y=(s+h)/2;d=[{x:n,y},{x:u,y}]}return d};function Rw(e){var r=(0,S.kJ)(e)?e:[e],t=r[0],n=r[r.length-1],s=r.length>1?r[1]:t;return{min:t,max:n,min1:s,max1:r.length>3?r[3]:n,median:r.length>2?r[2]:s}}function Do(e,r,t){var s,n=t/2;if((0,S.kJ)(r)){var u=Rw(r),w=e-n,M=e+n;s=[[w,d=u.max],[M,d],[e,d],[e,x=u.max1],[w,y=u.min1],[w,x],[M,x],[M,y],[e,y],[e,h=u.min],[w,h],[M,h],[w,p=u.median],[M,p]]}else{r=(0,S.UM)(r)?.5:r;var h,d,p,y,x,T=Rw(e),L=r-n,R=r+n;s=[[h=T.min,L],[h,R],[h,r],[y=T.min1,r],[y,L],[y,R],[x=T.max1,R],[x,L],[x,r],[d=T.max,r],[d,L],[d,R],[p=T.median,L],[p,R]]}return s.map(function(D){return{x:D[0],y:D[1]}})}function Fw(e,r,t){var n=function U4(e){var t=((0,S.kJ)(e)?e:[e]).sort(function(n,s){return s-n});return function JE(e,r,t){if((0,S.HD)(e))return e.padEnd(r,t);if((0,S.kJ)(e)){var n=e.length;if(n<r)for(var s=r-n,u=0;u<s;u++)e.push(t)}return e}(t,4,t[t.length-1])}(r);return[{x:e,y:n[0]},{x:e,y:n[1]},{x:e-t/2,y:n[2]},{x:e-t/2,y:n[1]},{x:e+t/2,y:n[1]},{x:e+t/2,y:n[2]},{x:e,y:n[2]},{x:e,y:n[3]}]}function su(e,r){var t=Math.abs(e[0].x-e[2].x),n=Math.abs(e[0].y-e[2].y),s=Math.min(t,n);return r&&(s=(0,S.uZ)(r,0,Math.min(t,n))),{x:(e[0].x+e[2].x)/2-(s/=2),y:(e[0].y+e[2].y)/2-s,width:2*s,height:2*s}}(0,S.S6)(["hv","vh","hvh","vhv"],function(e){Xr("line",e,{draw:function(r,t){var n=function W4(e,r){var t=Vh(e.points,e.connectNulls,e.showSinglePoint),n=[];return(0,S.S6)(t,function(s){var u=function H4(e,r){var t=[];return(0,S.S6)(e,function(n,s){var u=e[s+1];if(t.push(n),u){var h=N4(n,u,r);t=t.concat(h)}}),t}(s,r);n=n.concat(function G4(e){return e.map(function(r,t){return 0===t?["M",r.x,r.y]:["L",r.x,r.y]})}(u))}),(0,E.pi)((0,E.pi)({},In(e,!0,!1,"lineWidth")),{path:n})}(r,e);return t.addShape({type:"path",attrs:n,name:"line"})},getMarker:function(r){return LC(r,e)}})}),(0,S.S6)(["cross","tick","plus","hyphen","line"],function(e){Xr("point",e,{draw:function(r,t){return kv(this,r,t,e,!0)},getMarker:function(r){return{symbol:so[e],style:{r:4.5,stroke:r.color,fill:null}}}})}),Xr("point","image",{draw:function(e,r){var t,n,s=In(e,!1,!1,"r").r,u=this.parsePoints(e.points),h=u[0];if(e.isStack)h=u[1];else if(u.length>1){var d=r.addGroup();try{for(var p=(0,E.XA)(u),y=p.next();!y.done;y=p.next()){var x=y.value;d.addShape("image",{attrs:{x:x.x-s/2,y:x.y-s,width:s,height:s,img:e.shape[1]}})}}catch(w){t={error:w}}finally{try{y&&!y.done&&(n=p.return)&&n.call(p)}finally{if(t)throw t.error}}return d}return r.addShape("image",{attrs:{x:h.x-s/2,y:h.y-s,width:s,height:s,img:e.shape[1]}})},getMarker:function(e){return{symbol:"circle",style:{r:4.5,fill:e.color}}}}),(0,S.S6)(Iw,function(e){Xr("point",e,{draw:function(r,t){return kv(this,r,t,e,!1)},getMarker:function(r){return{symbol:so[e]||e,style:{r:4.5,fill:r.color}}}})}),Xr("schema","box",{getPoints:function(e){return Do(e.x,e.y,e.size)},draw:function(e,r){var t=In(e,!0,!1),n=this.parsePath(function ko(e){return[["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["M",e[2].x,e[2].y],["L",e[3].x,e[3].y],["M",e[4].x,e[4].y],["L",e[5].x,e[5].y],["L",e[6].x,e[6].y],["L",e[7].x,e[7].y],["L",e[4].x,e[4].y],["Z"],["M",e[8].x,e[8].y],["L",e[9].x,e[9].y],["M",e[10].x,e[10].y],["L",e[11].x,e[11].y],["M",e[12].x,e[12].y],["L",e[13].x,e[13].y]]}(e.points));return r.addShape("path",{attrs:(0,E.pi)((0,E.pi)({},t),{path:n,name:"schema"})})},getMarker:function(e){return{symbol:function(t,n,s){var h=Do(t,[n-6,n-3,n,n+3,n+6],s);return[["M",h[0].x+1,h[0].y],["L",h[1].x-1,h[1].y],["M",h[2].x,h[2].y],["L",h[3].x,h[3].y],["M",h[4].x,h[4].y],["L",h[5].x,h[5].y],["L",h[6].x,h[6].y],["L",h[7].x,h[7].y],["L",h[4].x,h[4].y],["Z"],["M",h[8].x,h[8].y],["L",h[9].x,h[9].y],["M",h[10].x+1,h[10].y],["L",h[11].x-1,h[11].y],["M",h[12].x,h[12].y],["L",h[13].x,h[13].y]]},style:{r:6,lineWidth:1,stroke:e.color}}}}),Xr("schema","candle",{getPoints:function(e){return Fw(e.x,e.y,e.size)},draw:function(e,r){var t=In(e,!0,!0),n=this.parsePath(function Y4(e){return[["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["M",e[2].x,e[2].y],["L",e[3].x,e[3].y],["L",e[4].x,e[4].y],["L",e[5].x,e[5].y],["Z"],["M",e[6].x,e[6].y],["L",e[7].x,e[7].y]]}(e.points));return r.addShape("path",{attrs:(0,E.pi)((0,E.pi)({},t),{path:n,name:"schema"})})},getMarker:function(e){var r=e.color;return{symbol:function(t,n,s){var h=Fw(t,[n+7.5,n+3,n-3,n-7.5],s);return[["M",h[0].x,h[0].y],["L",h[1].x,h[1].y],["M",h[2].x,h[2].y],["L",h[3].x,h[3].y],["L",h[4].x,h[4].y],["L",h[5].x,h[5].y],["Z"],["M",h[6].x,h[6].y],["L",h[7].x,h[7].y]]},style:{lineWidth:1,stroke:r,fill:r,r:6}}}}),Xr("polygon","square",{draw:function(e,r){if(!(0,S.xb)(e.points)){var t=In(e,!0,!0),n=this.parsePoints(e.points);return r.addShape("rect",{attrs:(0,E.pi)((0,E.pi)({},t),su(n,e.size)),name:"polygon"})}},getMarker:function(e){return{symbol:"square",style:{r:4,fill:e.color}}}}),Xr("violin","smooth",{draw:function(e,r){var t=In(e,!0,!0),n=this.parsePath(AC(e.points));return r.addShape("path",{attrs:(0,E.pi)((0,E.pi)({},t),{path:n})})},getMarker:function(e){return{symbol:"circle",style:{stroke:null,r:4,fill:e.color}}}}),Xr("violin","hollow",{draw:function(e,r){var t=In(e,!0,!1),n=this.parsePath(TC(e.points));return r.addShape("path",{attrs:(0,E.pi)((0,E.pi)({},t),{path:n})})},getMarker:function(e){return{symbol:"circle",style:{r:4,fill:null,stroke:e.color}}}}),Xr("violin","hollow-smooth",{draw:function(e,r){var t=In(e,!0,!1),n=this.parsePath(AC(e.points));return r.addShape("path",{attrs:(0,E.pi)((0,E.pi)({},t),{path:n})})},getMarker:function(e){return{symbol:"circle",style:{r:4,fill:null,stroke:e.color}}}});var My=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getLabelValueDir=function(t){var s=t.points;return s[0].y<=s[2].y?1:-1},r.prototype.getLabelOffsetPoint=function(t,n,s,u){var h,d=e.prototype.getLabelOffsetPoint.call(this,t,n,s),p=this.getCoordinate(),x=p.isTransposed?"x":"y",w=this.getLabelValueDir(t.mappingData);return d=(0,E.pi)((0,E.pi)({},d),((h={})[x]=d[x]*w,h)),p.isReflect("x")&&(d=(0,E.pi)((0,E.pi)({},d),{x:-1*d.x})),p.isReflect("y")&&(d=(0,E.pi)((0,E.pi)({},d),{y:-1*d.y})),d},r.prototype.getThemedLabelCfg=function(t){var n=this.geometry,s=this.getDefaultLabelCfg();return(0,S.b$)({},s,n.theme.labels,"middle"===t.position?{offset:0}:{},t)},r.prototype.setLabelPosition=function(t,n,s,u){var M,T,L,R,h=this.getCoordinate(),d=h.isTransposed,p=n.points,y=h.convert(p[0]),x=h.convert(p[2]),w=this.getLabelValueDir(n),D=(0,S.kJ)(n.shape)?n.shape[0]:n.shape;if("funnel"===D||"pyramid"===D){var k=(0,S.U2)(n,"nextPoints"),z=(0,S.U2)(n,"points");if(k){var G=h.convert(z[0]),U=h.convert(z[1]),q=h.convert(k[0]),a=h.convert(k[1]);d?(M=Math.min(q.y,G.y),L=Math.max(q.y,G.y),T=(U.x+a.x)/2,R=(G.x+q.x)/2):(M=Math.min((U.y+a.y)/2,(G.y+q.y)/2),L=Math.max((U.y+a.y)/2,(G.y+q.y)/2),T=a.x,R=G.x)}else M=Math.min(x.y,y.y),L=Math.max(x.y,y.y),T=x.x,R=y.x}else M=Math.min(x.y,y.y),L=Math.max(x.y,y.y),T=x.x,R=y.x;switch(u){case"right":t.x=T,t.y=(M+L)/2,t.textAlign=(0,S.U2)(t,"textAlign",w>0?"left":"right");break;case"left":t.x=R,t.y=(M+L)/2,t.textAlign=(0,S.U2)(t,"textAlign",w>0?"left":"right");break;case"bottom":d&&(t.x=(T+R)/2),t.y=L,t.textAlign=(0,S.U2)(t,"textAlign","center"),t.textBaseline=(0,S.U2)(t,"textBaseline",w>0?"bottom":"top");break;case"middle":d&&(t.x=(T+R)/2),t.y=(M+L)/2,t.textAlign=(0,S.U2)(t,"textAlign","center"),t.textBaseline=(0,S.U2)(t,"textBaseline","middle");break;case"top":d&&(t.x=(T+R)/2),t.y=M,t.textAlign=(0,S.U2)(t,"textAlign","center"),t.textBaseline=(0,S.U2)(t,"textBaseline",w>0?"bottom":"top")}},r}(mv);const Qh=My;var Bv=Math.PI/2,V4=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getLabelOffset=function(t){var n=this.getCoordinate(),s=0;if((0,S.hj)(t))s=t;else if((0,S.HD)(t)&&-1!==t.indexOf("%")){var u=n.getRadius();n.innerRadius>0&&(u*=1-n.innerRadius),s=.01*parseFloat(t)*u}return s},r.prototype.getLabelItems=function(t){var n=e.prototype.getLabelItems.call(this,t),s=this.geometry.getYScale();return(0,S.UI)(n,function(u){if(u&&s){var h=s.scale((0,S.U2)(u.data,s.field));return(0,E.pi)((0,E.pi)({},u),{percent:h})}return u})},r.prototype.getLabelAlign=function(t){var s,n=this.getCoordinate();if(t.labelEmit)s=t.angle<=Math.PI/2&&t.angle>=-Math.PI/2?"left":"right";else if(n.isTransposed){var u=n.getCenter(),h=t.offset;s=Math.abs(t.x-u.x)<1?"center":t.angle>Math.PI||t.angle<=0?h>0?"left":"right":h>0?"right":"left"}else s="center";return s},r.prototype.getLabelPoint=function(t,n,s){var h,u=1,d=t.content[s];this.isToMiddle(n)?h=this.getMiddlePoint(n.points):(1===t.content.length&&0===s?s=1:0===s&&(u=-1),h=this.getArcPoint(n,s));var p=t.offset*u,y=this.getPointAngle(h),x=t.labelEmit,w=this.getCirclePoint(y,p,h,x);return 0===w.r?w.content="":(w.content=d,w.angle=y,w.color=n.color),w.rotate=t.autoRotate?this.getLabelRotate(y,p,x):t.rotate,w.start={x:h.x,y:h.y},w},r.prototype.getArcPoint=function(t,n){return void 0===n&&(n=0),(0,S.kJ)(t.x)||(0,S.kJ)(t.y)?{x:(0,S.kJ)(t.x)?t.x[n]:t.x,y:(0,S.kJ)(t.y)?t.y[n]:t.y}:{x:t.x,y:t.y}},r.prototype.getPointAngle=function(t){return Kl(this.getCoordinate(),t)},r.prototype.getCirclePoint=function(t,n,s,u){var h=this.getCoordinate(),d=h.getCenter(),p=av(h,s);if(0===p)return(0,E.pi)((0,E.pi)({},d),{r:p});var y=t;return h.isTransposed&&p>n&&!u?y=t+2*Math.asin(n/(2*p)):p+=n,{x:d.x+p*Math.cos(y),y:d.y+p*Math.sin(y),r:p}},r.prototype.getLabelRotate=function(t,n,s){var u=t+Bv;return s&&(u-=Bv),u&&(u>Bv?u-=Math.PI:u<-Bv&&(u+=Math.PI)),u},r.prototype.getMiddlePoint=function(t){var n=this.getCoordinate(),s=t.length,u={x:0,y:0};return(0,S.S6)(t,function(h){u.x+=h.x,u.y+=h.y}),u.x/=s,u.y/=s,u=n.convert(u)},r.prototype.isToMiddle=function(t){return t.x.length>2},r}(mv);const by=V4;var Ty=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.defaultLayout="distribute",t}return(0,E.ZT)(r,e),r.prototype.getDefaultLabelCfg=function(t,n){var s=e.prototype.getDefaultLabelCfg.call(this,t,n);return(0,S.b$)({},s,(0,S.U2)(this.geometry.theme,"pieLabels",{}))},r.prototype.getLabelOffset=function(t){return e.prototype.getLabelOffset.call(this,t)||0},r.prototype.getLabelRotate=function(t,n,s){var u;return n<0&&((u=t)>Math.PI/2&&(u-=Math.PI),u<-Math.PI/2&&(u+=Math.PI)),u},r.prototype.getLabelAlign=function(t){var u,s=this.getCoordinate().getCenter();return u=t.angle<=Math.PI/2&&t.x>=s.x?"left":"right",t.offset<=0&&(u="right"===u?"left":"right"),u},r.prototype.getArcPoint=function(t){return t},r.prototype.getPointAngle=function(t){var h,n=this.getCoordinate(),s={x:(0,S.kJ)(t.x)?t.x[0]:t.x,y:t.y[0]},u={x:(0,S.kJ)(t.x)?t.x[1]:t.x,y:t.y[1]},d=Kl(n,s);if(t.points&&t.points[0].y===t.points[1].y)h=d;else{var p=Kl(n,u);d>=p&&(p+=2*Math.PI),h=d+(p-d)/2}return h},r.prototype.getCirclePoint=function(t,n){var s=this.getCoordinate(),u=s.getCenter(),h=s.getRadius()+n;return(0,E.pi)((0,E.pi)({},kn(u.x,u.y,h,t)),{angle:t,r:h})},r}(by);const Pv=Ty;function kw(e,r,t){var n=e.filter(function(L){return!L.invisible});n.sort(function(L,R){return L.y-R.y});var p,s=!0,u=t.minY,d=Math.abs(u-t.maxY),y=0,x=Number.MIN_VALUE,w=n.map(function(L){return L.y>y&&(y=L.y),L.y<x&&(x=L.y),{content:L.content,size:r,targets:[L.y-u],pos:null}});for(x-=u,y-u>d&&(d=y-u);s;)for(w.forEach(function(L){var R=(Math.min.apply(x,L.targets)+Math.max.apply(x,L.targets))/2;L.pos=Math.min(Math.max(x,R-L.size/2),d-L.size),L.pos=Math.max(0,L.pos)}),s=!1,p=w.length;p--;)if(p>0){var M=w[p-1],T=w[p];M.pos+M.size>T.pos&&(M.size+=T.size,M.targets=M.targets.concat(T.targets),M.pos+M.size>d&&(M.pos=d-M.size),w.splice(p,1),s=!0)}p=0,w.forEach(function(L){var R=u+r/2;L.targets.forEach(function(){n[p].y=L.pos+R,R+=r,p++})})}var Nw=function(){function e(r){void 0===r&&(r={}),this.bitmap={};var t=r.xGap,s=r.yGap,u=void 0===s?8:s;this.xGap=void 0===t?1:t,this.yGap=u}return e.prototype.hasGap=function(r){for(var t=!0,n=this.bitmap,s=Math.round(r.minX),u=Math.round(r.maxX),h=Math.round(r.minY),d=Math.round(r.maxY),p=s;p<=u;p+=1)if(n[p]){if(p===s||p===u){for(var y=h;y<=d;y++)if(n[p][y]){t=!1;break}}else if(n[p][h]||n[p][d]){t=!1;break}}else n[p]={};return t},e.prototype.fillGap=function(r){for(var t=this.bitmap,n=Math.round(r.minX),s=Math.round(r.maxX),u=Math.round(r.minY),h=Math.round(r.maxY),d=n;d<=s;d+=1)t[d]||(t[d]={});for(d=n;d<=s;d+=this.xGap){for(var p=u;p<=h;p+=this.yGap)t[d][p]=!0;t[d][h]=!0}if(1!==this.yGap)for(d=u;d<=h;d+=1)t[n][d]=!0,t[s][d]=!0;if(1!==this.xGap)for(d=n;d<=s;d+=1)t[d][u]=!0,t[d][h]=!0},e.prototype.destroy=function(){this.bitmap={}},e}();function e5(e,r,t,n){var s=e.getCanvasBBox(),u=s.width,h=s.height,d={x:r,y:t,textAlign:"center"};switch(n){case 0:d.y-=h+1,d.x+=1,d.textAlign="left";break;case 1:d.y-=h+1,d.x-=1,d.textAlign="right";break;case 2:d.y+=h+1,d.x-=1,d.textAlign="right";break;case 3:d.y+=h+1,d.x+=1,d.textAlign="left";break;case 5:d.y-=2*h+2;break;case 6:d.y+=2*h+2;break;case 7:d.x+=u+1,d.textAlign="left";break;case 8:d.x-=u+1,d.textAlign="right"}return e.attr(d),e.getCanvasBBox()}function Ly(e){if(e.length>4)return[];var r=function(s,u){return[u.x-s.x,u.y-s.y]};return[r(e[0],e[1]),r(e[1],e[2])]}function tf(e,r,t){void 0===r&&(r=0),void 0===t&&(t={x:0,y:0});var n=e.x,s=e.y;return{x:(n-t.x)*Math.cos(-r)+(s-t.y)*Math.sin(-r)+t.x,y:(t.x-n)*Math.sin(-r)+(s-t.y)*Math.cos(-r)+t.y}}function ef(e){var r=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],t=e.rotation;return t?[tf(r[0],t,r[0]),tf(r[1],t,r[0]),tf(r[2],t,r[0]),tf(r[3],t,r[0])]:r}function Hw(e,r){if(e.length>4)return{min:0,max:0};var t=[];return e.forEach(function(n){t.push(function i5(e,r){return(e[0]||0)*(r[0]||0)+(e[1]||0)*(r[1]||0)+(e[2]||0)*(r[2]||0)}([n.x,n.y],r))}),{min:Math.min.apply(Math,(0,E.ev)([],(0,E.CR)(t),!1)),max:Math.max.apply(Math,(0,E.ev)([],(0,E.CR)(t),!1))}}function Gw(e,r){return e.max>r.min&&e.min<r.max}function mc(e){return["x","y","width","height"].every(function(r){return function a5(e){return"number"==typeof e&&!Number.isNaN(e)&&e!==1/0&&e!==-1/0}(e[r])})}function s5(e,r,t){if(void 0===t&&(t=0),!mc(e)||!mc(r))return!1;if(!e.rotation&&!r.rotation)return function o5(e,r,t){return void 0===t&&(t=0),!(r.x>e.x+e.width+t||r.x+r.width<e.x-t||r.y>e.y+e.height+t||r.y+r.height<e.y-t)}(e,r,t);for(var n=ef(e),s=ef(r),u=Ly(n).concat(Ly(s)),h=0;h<u.length;h++){var d=u[h];if(!Gw(Hw(n,d),Hw(s,d)))return!1}return!0}var Hv,Iy=function(){function e(r){var t=this;this.queue=[],this.worker=new Worker(r),this.worker.onmessage=function(n){var s;null===(s=t.queue.shift())||void 0===s||s.resolve(n)},this.worker.onmessageerror=function(n){var s;console.warn("[AntV G2] Web worker is not available"),null===(s=t.queue.shift())||void 0===s||s.reject(n)}}return e.prototype.post=function(r,t){var n=this;return new Promise(function(s,u){n.queue.push({resolve:s,reject:u});try{n.worker.postMessage(r)}catch{console.warn("[AntV G2] Web worker is not available"),(0,S.mf)(t)&&t()}})},e.prototype.destroy=function(){this.worker.terminate()},e}(),Uw="\n   self.onmessage = ".concat(function(e){var t=function r(){function x(G){if(G.length>4)return[];var U=function(o,i){return[i.x-o.x,i.y-o.y]};return[U(G[0],G[1]),U(G[1],G[2])]}function w(G,U,q){void 0===U&&(U=0),void 0===q&&(q={x:0,y:0});var a=G.x,o=G.y;return{x:(a-q.x)*Math.cos(-U)+(o-q.y)*Math.sin(-U)+q.x,y:(q.x-a)*Math.sin(-U)+(o-q.y)*Math.cos(-U)+q.y}}function M(G){var U=[{x:G.x,y:G.y},{x:G.x+G.width,y:G.y},{x:G.x+G.width,y:G.y+G.height},{x:G.x,y:G.y+G.height}],q=G.rotation;return q?[w(U[0],q,U[0]),w(U[1],q,U[0]),w(U[2],q,U[0]),w(U[3],q,U[0])]:U}function T(G,U){if(G.length>4)return{min:0,max:0};var q=[];return G.forEach(function(a){q.push(function y(G,U){return(G[0]||0)*(U[0]||0)+(G[1]||0)*(U[1]||0)+(G[2]||0)*(U[2]||0)}([a.x,a.y],U))}),{min:Math.min.apply(null,q),max:Math.max.apply(null,q)}}function L(G,U){return G.max>U.min&&G.min<U.max}function D(G){return["x","y","width","height"].every(function(U){return function R(G){return"number"==typeof G&&!Number.isNaN(G)&&G!==1/0&&G!==-1/0}(G[U])})}return{intersect:function z(G,U,q){if(void 0===q&&(q=0),!D(G)||!D(U))return!1;if(!G.rotation&&!U.rotation)return function k(G,U,q){return void 0===q&&(q=0),!(U.x>G.x+G.width+q||U.x+U.width<G.x-q||U.y>G.y+G.height+q||U.y+U.height<G.y-q)}(G,U,q);for(var a=M(G),o=M(U),i=x(a).concat(x(o)),l=0;l<i.length;l++){var c=i[l];if(!L(T(a,c),T(o,c)))return!1}return!0}}}().intersect,s={"hide-overlap":function n(y){for(var x=y.slice(),w=0;w<x.length;w++){var M=x[w];if(M.visible)for(var T=w+1;T<x.length;T++){var L=x[T];M!==L&&L.visible&&t(M,L)&&(L.visible=!1)}}return x}};try{var u=JSON.parse(e.data);if(!u||!u.type||!s[u.type])return;var p=s[u.type](u.items);self.postMessage(p)}catch(y){throw y}}.toString(),"\n"),zv=function(e){for(var r=e.slice(),t=0;t<r.length;t++){var n=r[t];if(n.visible)for(var s=t+1;s<r.length;s++){var u=r[s];n!==u&&u.visible&&s5(n,u)&&(u.visible=!1)}}return r},Ry=new Map,Fy=function Ww(e){if(!(typeof window>"u")){var r;try{r=new Blob([e.toString()],{type:"application/javascript"})}catch{(r=new window.BlobBuilder).append(e.toString()),r=r.getBlob()}return new Iy(URL.createObjectURL(r))}}(Uw),Yw={"#5B8FF9":!0};function qw(e,r,t){return e.some(function(n){return t(n,r)})}function jw(e,r){return qw(e,r,function(t,n){var s=Fi(t),u=Fi(n);return function h5(e,r,t){return void 0===t&&(t=0),Math.max(0,Math.min(e.x+e.width+t,r.x+r.width+t)-Math.max(e.x-t,r.x-t))*Math.max(0,Math.min(e.y+e.height+t,r.y+r.height+t)-Math.max(e.y-t,r.y-t))}(s.getCanvasBBox(),u.getCanvasBBox(),2)>0})}function ky(e,r,t){return e.some(function(n){return t(n,r)})}function Nv(e,r){return ky(e,r,function(t,n){var s=Fi(t),u=Fi(n);return function v5(e,r,t){return void 0===t&&(t=0),Math.max(0,Math.min(e.x+e.width+t,r.x+r.width+t)-Math.max(e.x-t,r.x-t))*Math.max(0,Math.min(e.y+e.height+t,r.y+r.height+t)-Math.max(e.y-t,r.y-t))}(s.getCanvasBBox(),u.getCanvasBBox(),2)>0})}var uo=(0,S.HP)(function(e,r){void 0===r&&(r={});var t=r.fontSize,n=r.fontFamily,s=r.fontWeight,u=r.fontStyle,h=r.fontVariant,d=function p5(){return Hv||(Hv=document.createElement("canvas").getContext("2d")),Hv}();return d.font=[u,h,s,"".concat(t,"px"),n].join(" "),d.measureText((0,S.HD)(e)?e:"").width},function(e,r){return void 0===r&&(r={}),(0,E.ev)([e],(0,E.CR)((0,S.VO)(r)),!1).join("")});function By(e,r,t,n,s){var y,x,u=t.start,h=t.end,d=t.getWidth(),p=t.getHeight();"y"===s?(y=u.x+d/2,x=n.y<u.y?n.y:u.y):"x"===s?(y=n.x>u.x?n.x:u.x,x=u.y+p/2):"xy"===s&&(t.isPolar?(y=t.getCenter().x,x=t.getCenter().y):(y=(u.x+h.x)/2,x=(u.y+h.y)/2));var w=function x5(e,r,t){var n,s=(0,E.CR)(r,2),u=s[0],h=s[1];return e.applyToMatrix([u,h,1]),"x"===t?(e.setMatrix(an.vs(e.getMatrix(),[["t",-u,-h],["s",.01,1],["t",u,h]])),n=an.vs(e.getMatrix(),[["t",-u,-h],["s",100,1],["t",u,h]])):"y"===t?(e.setMatrix(an.vs(e.getMatrix(),[["t",-u,-h],["s",1,.01],["t",u,h]])),n=an.vs(e.getMatrix(),[["t",-u,-h],["s",1,100],["t",u,h]])):"xy"===t&&(e.setMatrix(an.vs(e.getMatrix(),[["t",-u,-h],["s",.01,.01],["t",u,h]])),n=an.vs(e.getMatrix(),[["t",-u,-h],["s",100,100],["t",u,h]])),n}(e,[y,x],s);e.animate({matrix:w},r)}function Jw(e,r){var t,n=$h(e,r),s=n.startAngle,u=n.endAngle;return!(0,S.vQ)(s,.5*-Math.PI)&&s<.5*-Math.PI&&(s+=2*Math.PI),!(0,S.vQ)(u,.5*-Math.PI)&&u<.5*-Math.PI&&(u+=2*Math.PI),0===r[5]&&(s=(t=(0,E.CR)([u,s],2))[0],u=t[1]),(0,S.vQ)(s,1.5*Math.PI)&&(s=-.5*Math.PI),(0,S.vQ)(u,-.5*Math.PI)&&!(0,S.vQ)(s,u)&&(u=1.5*Math.PI),{startAngle:s,endAngle:u}}function Kw(e){var r;return"M"===e[0]||"L"===e[0]?r=[e[1],e[2]]:("a"===e[0]||"A"===e[0]||"C"===e[0])&&(r=[e[e.length-2],e[e.length-1]]),r}function Qw(e){var r,t,n,s=e.filter(function(G){return"A"===G[0]||"a"===G[0]});if(0===s.length)return{startAngle:0,endAngle:0,radius:0,innerRadius:0};var u=s[0],h=s.length>1?s[1]:s[0],d=e.indexOf(u),p=e.indexOf(h),y=Kw(e[d-1]),x=Kw(e[p-1]),w=Jw(y,u),M=w.startAngle,T=w.endAngle,L=Jw(x,h),R=L.startAngle,D=L.endAngle;(0,S.vQ)(M,R)&&(0,S.vQ)(T,D)?(t=M,n=T):(t=Math.min(M,R),n=Math.max(T,D));var k=u[1],z=s[s.length-1][1];return k<z?(k=(r=(0,E.CR)([z,k],2))[0],z=r[1]):k===z&&(z=0),{startAngle:t,endAngle:n,radius:k,innerRadius:z}}function Uv(e,r,t){if(e.isGroup())(0,S.S6)(e.getChildren(),function(d){Uv(d,r,t)});else{var n=e.getBBox(),s=(n.minX+n.maxX)/2,u=(n.minY+n.maxY)/2;if(e.applyToMatrix([s,u,1]),"zoomIn"===t){var h=an.vs(e.getMatrix(),[["t",-s,-u],["s",.01,.01],["t",s,u]]);e.setMatrix(h),e.animate({matrix:an.vs(e.getMatrix(),[["t",-s,-u],["s",100,100],["t",s,u]])},r)}else e.animate({matrix:an.vs(e.getMatrix(),[["t",-s,-u],["s",.01,.01],["t",s,u]])},(0,E.pi)((0,E.pi)({},r),{callback:function(){e.remove(!0),(0,S.mf)(r.callback)&&r.callback()}}))}}function Ms(e){return[Ne.TOP,Ne.BOTTOM].includes(e)?{offsetX:0,offsetY:e===Ne.TOP?-8:8,style:{textAlign:"center",textBaseline:e===Ne.TOP?"bottom":"top"}}:[Ne.LEFT,Ne.RIGHT].includes(e)?{offsetX:e===Ne.LEFT?-8:8,offsetY:0,style:{textAlign:e===Ne.LEFT?"right":"left",textBaseline:"middle",rotate:Math.PI/2}}:{}}function af(e,r,t){return{x:e.x+r*Math.cos(t),y:e.y+r*Math.sin(t)}}var Un=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){return(0,S.b$)({},e.prototype.getDefaultCfg.call(this),{type:"circle",showTitle:!0,title:e.prototype.getDefaultTitleCfg.call(this)})},r.prototype.render=function(){e.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.getRegion=function(t,n){var h=2*Math.PI/t,d=-1*Math.PI/2+h*n,p=.5/(1+1/Math.sin(h/2)),y=af({x:.5,y:.5},.5-p,d),x=5*Math.PI/4,w=1*Math.PI/4;return{start:af(y,p,x),end:af(y,p,w)}},r.prototype.afterEachView=function(t,n){this.processAxis(t,n)},r.prototype.beforeEachView=function(t,n){},r.prototype.generateFacets=function(t){var n=this,s=this.cfg,h=s.type,p=(0,E.CR)(s.fields,1)[0];if(!p)throw new Error("No `fields` specified!");var y=this.getFieldValues(t,p),x=y.length,w=[];return y.forEach(function(M,T){var R=(0,S.hX)(t,n.getFacetDataFilter([{field:p,value:M,values:y}])),D={type:h,data:R,region:n.getRegion(x,T),columnValue:M,columnField:p,columnIndex:T,columnValuesLength:x,rowValue:null,rowField:null,rowIndex:0,rowValuesLength:1};w.push(D)}),w},r.prototype.getXAxisOption=function(t,n,s,u){return s},r.prototype.getYAxisOption=function(t,n,s,u){return s},r.prototype.renderTitle=function(){var t=this;(0,S.S6)(this.facets,function(n){var s=n.columnValue,u=n.view,h=(0,S.U2)(t.cfg.title,"formatter"),d=(0,S.b$)({position:["50%","0%"],content:h?h(s):s},Ms(Ne.TOP),t.cfg.title);u.annotation().text(d)})},r}(ic);const Ny=Un;var t_=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){return(0,S.b$)({},e.prototype.getDefaultCfg.call(this),{type:"list",cols:null,showTitle:!0,title:e.prototype.getDefaultTitleCfg.call(this)})},r.prototype.render=function(){e.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.afterEachView=function(t,n){this.processAxis(t,n)},r.prototype.beforeEachView=function(t,n){},r.prototype.generateFacets=function(t){var n=this,u=this.cfg.cols,d=(0,E.CR)(this.cfg.fields,1)[0];if(!d)throw new Error("No `fields` specified!");var p=this.getFieldValues(t,d),y=p.length,x=this.getPageCount(y,u=u||y),w=[];return p.forEach(function(M,T){var L=n.getRowCol(T,u),R=L.row,D=L.col,z=(0,S.hX)(t,n.getFacetDataFilter([{field:d,value:M,values:p}])),G={type:n.cfg.type,data:z,region:n.getRegion(x,u,D,R),columnValue:M,rowValue:M,columnField:d,rowField:null,columnIndex:D,rowIndex:R,columnValuesLength:u,rowValuesLength:x,total:y};w.push(G)}),w},r.prototype.getXAxisOption=function(t,n,s,u){return u.rowIndex!==u.rowValuesLength-1&&u.columnValuesLength*u.rowIndex+u.columnIndex+1+u.columnValuesLength<=u.total?(0,E.pi)((0,E.pi)({},s),{label:null,title:null}):s},r.prototype.getYAxisOption=function(t,n,s,u){return 0!==u.columnIndex?(0,E.pi)((0,E.pi)({},s),{title:null,label:null}):s},r.prototype.renderTitle=function(){var t=this;(0,S.S6)(this.facets,function(n){var s=n.columnValue,u=n.view,h=(0,S.U2)(t.cfg.title,"formatter"),d=(0,S.b$)({position:["50%","0%"],content:h?h(s):s},Ms(Ne.TOP),t.cfg.title);u.annotation().text(d)})},r.prototype.getPageCount=function(t,n){return Math.floor((t+n-1)/n)},r.prototype.getRowCol=function(t,n){return{row:Math.floor(t/n),col:t%n}},r}(ic);const A5=t_;var Yv=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){return(0,S.b$)({},e.prototype.getDefaultCfg.call(this),{type:"matrix",showTitle:!1,columnTitle:(0,E.pi)({},e.prototype.getDefaultTitleCfg.call(this)),rowTitle:(0,E.pi)({},e.prototype.getDefaultTitleCfg.call(this))})},r.prototype.render=function(){e.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.afterEachView=function(t,n){this.processAxis(t,n)},r.prototype.beforeEachView=function(t,n){},r.prototype.generateFacets=function(t){for(var n=this.cfg,s=n.fields,u=n.type,h=s.length,d=h,p=[],y=0;y<d;y++)for(var x=s[y],w=0;w<h;w++){var M=s[w],T={type:u,data:t,region:this.getRegion(h,d,y,w),columnValue:x,rowValue:M,columnField:x,rowField:M,columnIndex:y,rowIndex:w,columnValuesLength:d,rowValuesLength:h};p.push(T)}return p},r.prototype.getXAxisOption=function(t,n,s,u){return u.rowIndex!==u.rowValuesLength-1?(0,E.pi)((0,E.pi)({},s),{label:null,title:null}):s},r.prototype.getYAxisOption=function(t,n,s,u){return 0!==u.columnIndex?(0,E.pi)((0,E.pi)({},s),{title:null,label:null}):s},r.prototype.renderTitle=function(){var t=this;(0,S.S6)(this.facets,function(n,s){var u=n.columnIndex,d=n.columnValuesLength,y=n.columnValue,x=n.rowValue,w=n.view;if(0===n.rowIndex){var M=(0,S.U2)(t.cfg.columnTitle,"formatter"),T=(0,S.b$)({position:["50%","0%"],content:M?M(y):y},Ms(Ne.TOP),t.cfg.columnTitle);w.annotation().text(T)}u===d-1&&(M=(0,S.U2)(t.cfg.rowTitle,"formatter"),T=(0,S.b$)({position:["100%","50%"],content:M?M(x):x},Ms(Ne.RIGHT),t.cfg.rowTitle),w.annotation().text(T))})},r}(ic);const e_=Yv;var E5=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){return(0,S.b$)({},e.prototype.getDefaultCfg.call(this),{type:"mirror",showTitle:!0,title:e.prototype.getDefaultTitleCfg.call(this),transpose:!1})},r.prototype.render=function(){e.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.beforeEachView=function(t,n){this.cfg.transpose?n.columnIndex%2==0?t.coordinate().transpose().reflect("x"):t.coordinate().transpose():n.rowIndex%2!=0&&t.coordinate().reflect("y")},r.prototype.afterEachView=function(t,n){this.processAxis(t,n)},r.prototype.generateFacets=function(t){var w,M,n=this,u=(0,E.CR)(this.cfg.fields,1)[0],h=[],d=1,p=1,y=[""],x=[""];return this.cfg.transpose?(y=this.getFieldValues(t,w=u).slice(0,2),d=y.length):(x=this.getFieldValues(t,M=u).slice(0,2),p=x.length),y.forEach(function(T,L){x.forEach(function(R,D){var z=(0,S.hX)(t,n.getFacetDataFilter([{field:w,value:T,values:y},{field:M,value:R,values:x}])),G={type:n.cfg.type,data:z,region:n.getRegion(p,d,L,D),columnValue:T,rowValue:R,columnField:w,rowField:M,columnIndex:L,rowIndex:D,columnValuesLength:d,rowValuesLength:p};h.push(G)})}),h},r.prototype.getXAxisOption=function(t,n,s,u){return 1===u.columnIndex||1===u.rowIndex?(0,E.pi)((0,E.pi)({},s),{label:null,title:null}):s},r.prototype.getYAxisOption=function(t,n,s,u){return s},r.prototype.renderTitle=function(){var t=this;(0,S.S6)(this.facets,function(n,s){var u=n.columnValue,h=n.rowValue,d=n.view,p=(0,S.U2)(t.cfg.title,"formatter");if(t.cfg.transpose){var y=(0,S.b$)({position:["50%","0%"],content:p?p(u):u},Ms(Ne.TOP),t.cfg.title);d.annotation().text(y)}else y=(0,S.b$)({position:["100%","50%"],content:p?p(h):h},Ms(Ne.RIGHT),t.cfg.title),d.annotation().text(y)})},r}(ic);const Hy=E5;var L5=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.afterEachView=function(t,n){this.processAxis(t,n)},r.prototype.beforeEachView=function(t,n){},r.prototype.getDefaultCfg=function(){return(0,S.b$)({},e.prototype.getDefaultCfg.call(this),{type:"rect",columnTitle:(0,E.pi)({},e.prototype.getDefaultTitleCfg.call(this)),rowTitle:(0,E.pi)({},e.prototype.getDefaultTitleCfg.call(this))})},r.prototype.render=function(){e.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.generateFacets=function(t){var n=this,s=(0,E.CR)(this.cfg.fields,2),u=s[0],h=s[1],d=[],p=1,y=1,x=[""],w=[""];return u&&(x=this.getFieldValues(t,u),p=x.length),h&&(w=this.getFieldValues(t,h),y=w.length),x.forEach(function(M,T){w.forEach(function(L,R){var k=(0,S.hX)(t,n.getFacetDataFilter([{field:u,value:M,values:x},{field:h,value:L,values:w}])),z={type:n.cfg.type,data:k,region:n.getRegion(y,p,T,R),columnValue:M,rowValue:L,columnField:u,rowField:h,columnIndex:T,rowIndex:R,columnValuesLength:p,rowValuesLength:y};d.push(z)})}),d},r.prototype.renderTitle=function(){var t=this;(0,S.S6)(this.facets,function(n,s){var u=n.columnIndex,d=n.columnValuesLength,p=n.columnValue,y=n.rowValue,x=n.view;if(0===n.rowIndex){var w=(0,S.U2)(t.cfg.columnTitle,"formatter"),M=(0,S.b$)({position:["50%","0%"],content:w?w(p):p},Ms(Ne.TOP),t.cfg.columnTitle);x.annotation().text(M)}u===d-1&&(w=(0,S.U2)(t.cfg.rowTitle,"formatter"),M=(0,S.b$)({position:["100%","50%"],content:w?w(y):y},Ms(Ne.RIGHT),t.cfg.rowTitle),x.annotation().text(M))})},r.prototype.getXAxisOption=function(t,n,s,u){return u.rowIndex!==u.rowValuesLength-1?(0,E.pi)((0,E.pi)({},s),{title:null,label:null}):u.columnIndex!==Math.floor((u.columnValuesLength-1)/2)?(0,E.pi)((0,E.pi)({},s),{title:null}):s},r.prototype.getYAxisOption=function(t,n,s,u){return 0!==u.columnIndex?(0,E.pi)((0,E.pi)({},s),{title:null,label:null}):u.rowIndex!==Math.floor((u.rowValuesLength-1)/2)?(0,E.pi)((0,E.pi)({},s),{title:null}):s},r}(ic);const I5=L5;var O5=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.afterChartRender=function(){t.facets&&t.cfg.line&&(t.container.clear(),t.drawLines(t.facets))},t}return(0,E.ZT)(r,e),r.prototype.afterEachView=function(t,n){this.processAxis(t,n)},r.prototype.beforeEachView=function(t,n){},r.prototype.init=function(){e.prototype.init.call(this),this.view.on(Er.AFTER_RENDER,this.afterChartRender)},r.prototype.getDefaultCfg=function(){return(0,S.b$)({},e.prototype.getDefaultCfg.call(this),{type:"tree",line:{style:{lineWidth:1,stroke:"#ddd"},smooth:!1},showTitle:!0,title:e.prototype.getDefaultTitleCfg.call(this)})},r.prototype.generateFacets=function(t){if(!this.cfg.fields.length)throw new Error("Please specify for the fields for rootFacet!");var s=[],u={type:this.cfg.type,data:t,region:null,rowValuesLength:this.getRows(),columnValuesLength:1,rowIndex:0,columnIndex:0,rowField:"",columnField:"",rowValue:"",columnValue:""};return s.push(u),u.children=this.getChildFacets(t,1,s),this.setRegion(s),s},r.prototype.setRegion=function(t){var n=this;this.forceColIndex(t),t.forEach(function(s){s.region=n.getRegion(s.rowValuesLength,s.columnValuesLength,s.columnIndex,s.rowIndex)})},r.prototype.getRegion=function(t,n,s,u){var h=1/n,d=1/t,p={x:h*s,y:d*u};return{start:p,end:{x:p.x+h,y:p.y+2*d/3}}},r.prototype.forceColIndex=function(t){var n,s,u=this,h=[],d=0;t.forEach(function(L){u.isLeaf(L)&&(h.push(L),L.columnIndex=d,d++)}),h.forEach(function(L){L.columnValuesLength=h.length});for(var y=this.cfg.fields.length-1;y>=0;y--){var x=this.getFacetsByLevel(t,y);try{for(var w=(n=void 0,(0,E.XA)(x)),M=w.next();!M.done;M=w.next()){var T=M.value;this.isLeaf(T)||(T.originColIndex=T.columnIndex,T.columnIndex=this.getRegionIndex(T.children),T.columnValuesLength=h.length)}}catch(L){n={error:L}}finally{try{M&&!M.done&&(s=w.return)&&s.call(w)}finally{if(n)throw n.error}}}},r.prototype.getFacetsByLevel=function(t,n){var s=[];return t.forEach(function(u){u.rowIndex===n&&s.push(u)}),s},r.prototype.getRegionIndex=function(t){var n=t[0];return(t[t.length-1].columnIndex-n.columnIndex)/2+n.columnIndex},r.prototype.isLeaf=function(t){return!t.children||!t.children.length},r.prototype.getRows=function(){return this.cfg.fields.length+1},r.prototype.getChildFacets=function(t,n,s){var u=this,h=this.cfg.fields;if(!(h.length<n)){var p=[],y=h[n-1],x=this.getFieldValues(t,y);return x.forEach(function(w,M){var L=t.filter(u.getFacetDataFilter([{field:y,value:w,values:x}]));if(L.length){var R={type:u.cfg.type,data:L,region:null,columnValue:w,rowValue:"",columnField:y,rowField:"",columnIndex:M,rowValuesLength:u.getRows(),columnValuesLength:1,rowIndex:n,children:u.getChildFacets(L,n+1,s)};p.push(R),s.push(R)}}),p}},r.prototype.render=function(){e.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.renderTitle=function(){var t=this;(0,S.S6)(this.facets,function(n){var s=n.columnValue,u=n.view,h=(0,S.U2)(t.cfg.title,"formatter"),d=(0,S.b$)({position:["50%","0%"],content:h?h(s):s},Ms(Ne.TOP),t.cfg.title);u.annotation().text(d)})},r.prototype.drawLines=function(t){var n=this;t.forEach(function(s){n.isLeaf(s)||n.addFacetLines(s,s.children)})},r.prototype.addFacetLines=function(t,n){var s=this,h=t.view.coordinateBBox,d={x:h.x+h.width/2,y:h.y+h.height};n.forEach(function(p){var y=p.view.coordinateBBox,x={x:y.bl.x+(y.tr.x-y.bl.x)/2,y:y.tr.y},w={x:d.x,y:d.y+(x.y-d.y)/2};s.drawLine([d,w,{x:x.x,y:w.y},x])})},r.prototype.getPath=function(t){var n=[];return this.cfg.line.smooth?(n.push(["M",t[0].x,t[0].y]),n.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y])):t.forEach(function(u,h){n.push(0===h?["M",u.x,u.y]:["L",u.x,u.y])}),n},r.prototype.drawLine=function(t){var n=this.getPath(t);this.container.addShape("path",{attrs:(0,S.f0)({path:n},this.cfg.line.style)})},r.prototype.getXAxisOption=function(t,n,s,u){return u.rowIndex!==u.rowValuesLength-1?(0,E.pi)((0,E.pi)({},s),{title:null,label:null}):s},r.prototype.getYAxisOption=function(t,n,s,u){return 0!==u.originColIndex&&0!==u.columnIndex?(0,E.pi)((0,E.pi)({},s),{title:null,label:null}):s},r}(ic);const r_=O5;function Vv(e,r){if(!r)return null;var t;switch(e){case"start":return 0;case"center":return.5;case"end":return 1;case"median":t=function n_(e){var r=(0,E.ev)([],(0,E.CR)(e),!1);r.sort(function(n,s){return n-s});var t=r.length;return 0===t?0:t%2==1?r[(t-1)/2]:(r[t/2]+r[t/2-1])/2}(r.isCategory?r.values.map(function(n,s){return s}):r.values);break;case"mean":t=r.isCategory?(r.values.length-1)/2:function R5(e){var r=(0,S.u4)(e,function(t,n){return t+(isNaN(n)||!(0,S.hj)(n)?0:n)},0);return 0===e.length?0:r/e.length}(r.values);break;case"min":t=r.isCategory?0:r[e];break;case"max":t=r.isCategory?r.values.length-1:r[e];break;default:t=e}return r.scale(t)}var Xv=["regionFilter","shape"],Gy=function(e){function r(t){var n=e.call(this,t)||this;return n.cache=new Map,n.foregroundContainer=n.view.getLayer(Cn.FORE).addGroup(),n.backgroundContainer=n.view.getLayer(Cn.BG).addGroup(),n.option=[],n}return(0,E.ZT)(r,e),Object.defineProperty(r.prototype,"name",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.layout=function(){this.update()},r.prototype.render=function(){},r.prototype.update=function(){var t=this;this.onAfterRender(function(){var s=new Map;(0,S.S6)(t.option,function(u){if((0,S.q9)(Xv,u.type)){var h=t.updateOrCreate(u);h&&s.set(t.getCacheKey(u),h)}}),t.cache=t.syncCache(s)});var n=new Map;(0,S.S6)(this.option,function(s){if(!(0,S.q9)(Xv,s.type)){var u=t.updateOrCreate(s);u&&n.set(t.getCacheKey(s),u)}}),this.cache=this.syncCache(n)},r.prototype.clear=function(t){void 0===t&&(t=!1),e.prototype.clear.call(this),this.clearComponents(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),t&&(this.option=[])},r.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},r.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(n){t.push(n)}),t},r.prototype.clearComponents=function(){this.getComponents().forEach(function(t){t.component.destroy()}),this.cache.clear()},r.prototype.onAfterRender=function(t){var n=!1;this.view.getOptions().animate&&this.view.geometries.forEach(function(s){s.animateOption&&(s.once(rs.AFTER_DRAW_ANIMATE,function(){t()}),n=!0)}),n||this.view.getRootView().once(Er.AFTER_RENDER,function(){t()})},r.prototype.createAnnotation=function(t){var n=t.type,s=te[(0,S.jC)(n)];if(s){var u=this.getAnnotationTheme(n),h=this.getAnnotationCfg(n,t,u);return h?{component:new s(h),layer:this.isTop(h)?Cn.FORE:Cn.BG,direction:Ne.NONE,type:Rn.ANNOTATION,extra:t}:null}},r.prototype.annotation=function(t){this.option.push(t)},r.prototype.arc=function(t){return this.annotation((0,E.pi)({type:"arc"},t)),this},r.prototype.image=function(t){return this.annotation((0,E.pi)({type:"image"},t)),this},r.prototype.line=function(t){return this.annotation((0,E.pi)({type:"line"},t)),this},r.prototype.region=function(t){return this.annotation((0,E.pi)({type:"region"},t)),this},r.prototype.text=function(t){return this.annotation((0,E.pi)({type:"text"},t)),this},r.prototype.dataMarker=function(t){return this.annotation((0,E.pi)({type:"dataMarker"},t)),this},r.prototype.dataRegion=function(t){this.annotation((0,E.pi)({type:"dataRegion"},t))},r.prototype.regionFilter=function(t){this.annotation((0,E.pi)({type:"regionFilter"},t))},r.prototype.shape=function(t){this.annotation((0,E.pi)({type:"shape"},t))},r.prototype.html=function(t){this.annotation((0,E.pi)({type:"html"},t))},r.prototype.parsePosition=function(t){var n,s,u=this.view.getXScale(),h=this.view.getScalesByDim("y"),d=(0,S.mf)(t)?t.call(null,u,h):t,p=0,y=0;if((0,S.kJ)(d)){var x=(0,E.CR)(d,2),w=x[0],M=x[1];if((0,S.HD)(w)&&-1!==w.indexOf("%")&&!isNaN(w.slice(0,-1)))return this.parsePercentPosition(d);p=Vv(w,u),y=Vv(M,Object.values(h)[0])}else if(!(0,S.UM)(d))try{for(var T=(0,E.XA)((0,S.XP)(d)),L=T.next();!L.done;L=T.next()){var R=L.value,D=d[R];R===u.field&&(p=Vv(D,u)),h[R]&&(y=Vv(D,h[R]))}}catch(k){n={error:k}}finally{try{L&&!L.done&&(s=T.return)&&s.call(T)}finally{if(n)throw n.error}}return isNaN(p)||isNaN(y)?null:this.view.getCoordinate().convert({x:p,y})},r.prototype.getRegionPoints=function(t,n){var T,s=this,u=this.view.getXScale(),h=this.view.getScalesByDim("y"),d=Object.values(h)[0],p=u.field,y=this.view.getData(),x=(0,S.kJ)(t)?t[0]:t[p],w=(0,S.kJ)(n)?n[0]:n[p],M=[];return(0,S.S6)(y,function(L,R){if(L[p]===x&&(T=R),R>=T){var D=s.parsePosition([L[p],L[d.field]]);D&&M.push(D)}if(L[p]===w)return!1}),M},r.prototype.parsePercentPosition=function(t){var n=parseFloat(t[0])/100,s=parseFloat(t[1])/100,u=this.view.getCoordinate(),h=u.start,d=u.end,p_x=Math.min(h.x,d.x),p_y=Math.min(h.y,d.y);return{x:u.getWidth()*n+p_x,y:u.getHeight()*s+p_y}},r.prototype.getCoordinateBBox=function(){var t=this.view.getCoordinate(),n=t.start,s=t.end,u=t.getWidth(),h=t.getHeight(),d={x:Math.min(n.x,s.x),y:Math.min(n.y,s.y)};return{x:d.x,y:d.y,minX:d.x,minY:d.y,maxX:d.x+u,maxY:d.y+h,width:u,height:h}},r.prototype.getAnnotationCfg=function(t,n,s){var u=this,h=this.view.getCoordinate(),d=this.view.getCanvas(),p={};if((0,S.UM)(n))return null;var x=n.end,w=n.position,M=this.parsePosition(n.start),T=this.parsePosition(x),L=this.parsePosition(w);if(["arc","image","line","region","regionFilter"].includes(t)&&(!M||!T))return null;if(["text","dataMarker","html"].includes(t)&&!L)return null;if("arc"===t){var z=(0,E._T)(n,["start","end"]),G=Kl(h,M),U=Kl(h,T);G>U&&(U=2*Math.PI+U),p=(0,E.pi)((0,E.pi)({},z),{center:h.getCenter(),radius:av(h,M),startAngle:G,endAngle:U})}else if("image"===t)z=(0,E._T)(n,["start","end"]),p=(0,E.pi)((0,E.pi)({},z),{start:M,end:T,src:n.src});else if("line"===t)z=(0,E._T)(n,["start","end"]),p=(0,E.pi)((0,E.pi)({},z),{start:M,end:T,text:(0,S.U2)(n,"text",null)});else if("region"===t)z=(0,E._T)(n,["start","end"]),p=(0,E.pi)((0,E.pi)({},z),{start:M,end:T});else if("text"===t){var m=this.view.getData(),A=n.content,I=(z=(0,E._T)(n,["position","content"]),A);(0,S.mf)(A)&&(I=A(m)),p=(0,E.pi)((0,E.pi)((0,E.pi)({},L),z),{content:I})}else if("dataMarker"===t){var B=n.point,P=n.line,H=n.text,Y=n.autoAdjust,V=n.direction;z=(0,E._T)(n,["position","point","line","text","autoAdjust","direction"]),p=(0,E.pi)((0,E.pi)((0,E.pi)({},z),L),{coordinateBBox:this.getCoordinateBBox(),point:B,line:P,text:H,autoAdjust:Y,direction:V})}else if("dataRegion"===t){var yt=n.start,Lt=n.end,Pt=n.region,ge=(H=n.text,n.lineLength);z=(0,E._T)(n,["start","end","region","text","lineLength"]),p=(0,E.pi)((0,E.pi)({},z),{points:this.getRegionPoints(yt,Lt),region:Pt,text:H,lineLength:ge})}else if("regionFilter"===t){var $e=n.apply,lr=n.color,er=(z=(0,E._T)(n,["start","end","apply","color"]),[]),Ze=function(Tn){Tn&&(Tn.isGroup()?Tn.getChildren().forEach(function(ci){return Ze(ci)}):er.push(Tn))};(0,S.S6)(this.view.geometries,function(Tn){$e?(0,S.FX)($e,Tn.type)&&(0,S.S6)(Tn.elements,function(ci){Ze(ci.shape)}):(0,S.S6)(Tn.elements,function(ci){Ze(ci.shape)})}),p=(0,E.pi)((0,E.pi)({},z),{color:lr,shapes:er,start:M,end:T})}else if("shape"===t){var Br=n.render,un=(0,E._T)(n,["render"]);p=(0,E.pi)((0,E.pi)({},un),{render:function(dn){if((0,S.mf)(n.render))return Br(dn,u.view,{parsePosition:u.parsePosition.bind(u)})}})}else if("html"===t){var qr=n.html;un=(0,E._T)(n,["html","position"]),p=(0,E.pi)((0,E.pi)((0,E.pi)({},un),L),{parent:d.get("el").parentNode,html:function(Tn){return(0,S.mf)(qr)?qr(Tn,u.view):qr}})}var Hr=(0,S.b$)({},s,(0,E.pi)((0,E.pi)({},p),{top:n.top,style:n.style,offsetX:n.offsetX,offsetY:n.offsetY}));return"html"!==t&&(Hr.container=this.getComponentContainer(Hr)),Hr.animate=this.view.getOptions().animate&&Hr.animate&&(0,S.U2)(n,"animate",Hr.animate),Hr.animateOption=(0,S.b$)({},hc,Hr.animateOption,n.animateOption),Hr},r.prototype.isTop=function(t){return(0,S.U2)(t,"top",!0)},r.prototype.getComponentContainer=function(t){return this.isTop(t)?this.foregroundContainer:this.backgroundContainer},r.prototype.getAnnotationTheme=function(t){return(0,S.U2)(this.view.getTheme(),["components","annotation",t],{})},r.prototype.updateOrCreate=function(t){var n=this.cache.get(this.getCacheKey(t));if(n){var s=t.type,u=this.getAnnotationTheme(s),h=this.getAnnotationCfg(s,t,u);h&&aa(h,["container"]),n.component.update((0,E.pi)((0,E.pi)({},h||{}),{visible:!!h})),(0,S.q9)(Xv,t.type)&&n.component.render()}else(n=this.createAnnotation(t))&&(n.component.init(),(0,S.q9)(Xv,t.type)&&n.component.render());return n},r.prototype.syncCache=function(t){var n=this,s=new Map(this.cache);return t.forEach(function(u,h){s.set(h,u)}),s.forEach(function(u,h){(0,S.sE)(n.option,function(d){return h===n.getCacheKey(d)})||(u.component.destroy(),s.delete(h))}),s},r.prototype.getCacheKey=function(t){return t},r}(cc);const F5=Gy;function xc(e,r){var t=(0,S.b$)({},(0,S.U2)(e,["components","axis","common"]),(0,S.U2)(e,["components","axis",r]));return(0,S.U2)(t,["grid"],{})}function $v(e,r,t,n){var s=[],u=r.getTicks();return e.isPolar&&u.push({value:1,text:"",tickValue:""}),u.reduce(function(h,d,p){var y=d.value;if(n)s.push({points:[e.convert("y"===t?{x:0,y}:{x:y,y:0}),e.convert("y"===t?{x:1,y}:{x:y,y:1})]});else if(p){var w=(h.value+y)/2;s.push({points:[e.convert("y"===t?{x:0,y:w}:{x:w,y:0}),e.convert("y"===t?{x:1,y:w}:{x:w,y:1})]})}return d},u[0]),s}function of(e,r,t,n,s){var u=r.values.length,h=[],d=t.getTicks();return d.reduce(function(p,y){var w=y.value,M=((p?p.value:y.value)+w)/2;return h.push("x"===s?{points:[e.convert({x:n?w:M,y:0}),e.convert({x:n?w:M,y:1})]}:{points:(0,S.UI)(Array(u+1),function(T,L){return e.convert({x:L/u,y:n?w:M})})}),y},d[0]),h}function hn(e,r){var t=(0,S.U2)(r,"grid");if(null===t)return!1;var n=(0,S.U2)(e,"grid");return!(void 0===t&&null===n)}var ll=["container"],i_=(0,E.pi)((0,E.pi)({},hc),{appear:null}),D5=function(e){function r(t){var n=e.call(this,t)||this;return n.cache=new Map,n.gridContainer=n.view.getLayer(Cn.BG).addGroup(),n.gridForeContainer=n.view.getLayer(Cn.FORE).addGroup(),n.axisContainer=n.view.getLayer(Cn.BG).addGroup(),n.axisForeContainer=n.view.getLayer(Cn.FORE).addGroup(),n}return(0,E.ZT)(r,e),Object.defineProperty(r.prototype,"name",{get:function(){return"axis"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.render=function(){this.update()},r.prototype.layout=function(){var t=this,n=this.view.getCoordinate();(0,S.S6)(this.getComponents(),function(s){var M,u=s.component,h=s.direction,d=s.type,p=s.extra,y=p.dim,x=p.scale,w=p.alignTick;d===Rn.AXIS?n.isPolar?"x"===y?M=n.isTransposed?sv(n,h):_g(n):"y"===y&&(M=n.isTransposed?_g(n):sv(n,h)):M=sv(n,h):d===Rn.GRID&&(M=n.isPolar?{items:n.isTransposed?"x"===y?of(n,t.view.getYScales()[0],x,w,y):$v(n,x,y,w):"x"===y?$v(n,x,y,w):of(n,t.view.getXScale(),x,w,y),center:t.view.getCoordinate().getCenter()}:{items:$v(n,x,y,w)}),u.update(M)})},r.prototype.update=function(){this.option=this.view.getOptions().axes;var t=new Map;this.updateXAxes(t),this.updateYAxes(t);var n=new Map;this.cache.forEach(function(s,u){t.has(u)?n.set(u,s):s.component.destroy()}),this.cache=n},r.prototype.clear=function(){e.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.gridForeContainer.clear(),this.axisContainer.clear(),this.axisForeContainer.clear()},r.prototype.destroy=function(){e.prototype.destroy.call(this),this.gridContainer.remove(!0),this.gridForeContainer.remove(!0),this.axisContainer.remove(!0),this.axisForeContainer.remove(!0)},r.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(n){t.push(n)}),t},r.prototype.updateXAxes=function(t){var n=this.view.getXScale();if(n&&!n.isIdentity){var s=zh(this.option,n.field);if(!1!==s){var u=uv(s,Ne.BOTTOM),h=Cn.BG,d="x",p=this.view.getCoordinate(),y=this.getId("axis",n.field),x=this.getId("grid",n.field);if(p.isRect)(w=this.cache.get(y))?(aa(M=this.getLineAxisCfg(n,s,u),ll),w.component.update(M),t.set(y,w)):(w=this.createLineAxis(n,s,h,u,d),this.cache.set(y,w),t.set(y,w)),(T=this.cache.get(x))?(aa(M=this.getLineGridCfg(n,s,u,d),ll),T.component.update(M),t.set(x,T)):(T=this.createLineGrid(n,s,h,u,d))&&(this.cache.set(x,T),t.set(x,T));else if(p.isPolar){var w,T;if(w=this.cache.get(y))aa(M=p.isTransposed?this.getLineAxisCfg(n,s,Ne.RADIUS):this.getCircleAxisCfg(n,s,u),ll),w.component.update(M),t.set(y,w);else{if(p.isTransposed){if((0,S.o8)(s))return;w=this.createLineAxis(n,s,h,Ne.RADIUS,d)}else w=this.createCircleAxis(n,s,h,u,d);this.cache.set(y,w),t.set(y,w)}if(T=this.cache.get(x)){var M;aa(M=p.isTransposed?this.getCircleGridCfg(n,s,Ne.RADIUS,d):this.getLineGridCfg(n,s,Ne.CIRCLE,d),ll),T.component.update(M),t.set(x,T)}else{if(p.isTransposed){if((0,S.o8)(s))return;T=this.createCircleGrid(n,s,h,Ne.RADIUS,d)}else T=this.createLineGrid(n,s,h,Ne.CIRCLE,d);T&&(this.cache.set(x,T),t.set(x,T))}}}}},r.prototype.updateYAxes=function(t){var n=this,s=this.view.getYScales();(0,S.S6)(s,function(u,h){if(u&&!u.isIdentity){var d=u.field,p=zh(n.option,d);if(!1!==p){var y=Cn.BG,x="y",w=n.getId("axis",d),M=n.getId("grid",d),T=n.view.getCoordinate();if(T.isRect){var L=uv(p,0===h?Ne.LEFT:Ne.RIGHT);(R=n.cache.get(w))?(aa(D=n.getLineAxisCfg(u,p,L),ll),R.component.update(D),t.set(w,R)):(R=n.createLineAxis(u,p,y,L,x),n.cache.set(w,R),t.set(w,R)),(k=n.cache.get(M))?(aa(D=n.getLineGridCfg(u,p,L,x),ll),k.component.update(D),t.set(M,k)):(k=n.createLineGrid(u,p,y,L,x))&&(n.cache.set(M,k),t.set(M,k))}else if(T.isPolar){var R,k;if(R=n.cache.get(w))aa(D=T.isTransposed?n.getCircleAxisCfg(u,p,Ne.CIRCLE):n.getLineAxisCfg(u,p,Ne.RADIUS),ll),R.component.update(D),t.set(w,R);else{if(T.isTransposed){if((0,S.o8)(p))return;R=n.createCircleAxis(u,p,y,Ne.CIRCLE,x)}else R=n.createLineAxis(u,p,y,Ne.RADIUS,x);n.cache.set(w,R),t.set(w,R)}if(k=n.cache.get(M)){var D;aa(D=T.isTransposed?n.getLineGridCfg(u,p,Ne.CIRCLE,x):n.getCircleGridCfg(u,p,Ne.RADIUS,x),ll),k.component.update(D),t.set(M,k)}else{if(T.isTransposed){if((0,S.o8)(p))return;k=n.createLineGrid(u,p,y,Ne.CIRCLE,x)}else k=n.createCircleGrid(u,p,y,Ne.RADIUS,x);k&&(n.cache.set(M,k),t.set(M,k))}}}}})},r.prototype.createLineAxis=function(t,n,s,u,h){var d={component:new XE(this.getLineAxisCfg(t,n,u)),layer:s,direction:u===Ne.RADIUS?Ne.NONE:u,type:Rn.AXIS,extra:{dim:h,scale:t}};return d.component.set("field",t.field),d.component.init(),d},r.prototype.createLineGrid=function(t,n,s,u,h){var d=this.getLineGridCfg(t,n,u,h);if(d){var p={component:new ZE(d),layer:s,direction:Ne.NONE,type:Rn.GRID,extra:{dim:h,scale:t,alignTick:(0,S.U2)(d,"alignTick",!0)}};return p.component.init(),p}},r.prototype.createCircleAxis=function(t,n,s,u,h){var d={component:new $E(this.getCircleAxisCfg(t,n,u)),layer:s,direction:u,type:Rn.AXIS,extra:{dim:h,scale:t}};return d.component.set("field",t.field),d.component.init(),d},r.prototype.createCircleGrid=function(t,n,s,u,h){var d=this.getCircleGridCfg(t,n,u,h);if(d){var p={component:new wg(d),layer:s,direction:Ne.NONE,type:Rn.GRID,extra:{dim:h,scale:t,alignTick:(0,S.U2)(d,"alignTick",!0)}};return p.component.init(),p}},r.prototype.getLineAxisCfg=function(t,n,s){var u=(0,S.U2)(n,["top"])?this.axisForeContainer:this.axisContainer,h=this.view.getCoordinate(),d=sv(h,s),p=N2(t,n),y=lv(this.view.getTheme(),s),x=(0,S.U2)(n,["title"])?(0,S.b$)({title:{style:{text:p}}},{title:z2(this.view.getTheme(),s,n.title)},n):n,w=(0,S.b$)((0,E.pi)((0,E.pi)({container:u},d),{ticks:t.getTicks().map(function(G){return{id:"".concat(G.tickValue),name:G.text,value:G.value}}),verticalFactor:h.isPolar?-1*Ph(d,h.getCenter()):Ph(d,h.getCenter()),theme:y}),y,x),M=this.getAnimateCfg(w),T=M.animate;w.animateOption=M.animateOption,w.animate=T;var R=P2(d),D=(0,S.U2)(w,"verticalLimitLength",R?1/3:.5);if(D<=1){var k=this.view.getCanvas().get("width"),z=this.view.getCanvas().get("height");w.verticalLimitLength=D*(R?k:z)}return w},r.prototype.getLineGridCfg=function(t,n,s,u){if(hn(lv(this.view.getTheme(),s),n)){var h=xc(this.view.getTheme(),s),d=(0,S.b$)({container:(0,S.U2)(n,["top"])?this.gridForeContainer:this.gridContainer},h,(0,S.U2)(n,"grid"),this.getAnimateCfg(n));return d.items=$v(this.view.getCoordinate(),t,u,(0,S.U2)(d,"alignTick",!0)),d}},r.prototype.getCircleAxisCfg=function(t,n,s){var u=(0,S.U2)(n,["top"])?this.axisForeContainer:this.axisContainer,h=this.view.getCoordinate(),d=t.getTicks().map(function(R){return{id:"".concat(R.tickValue),name:R.text,value:R.value}});!t.isCategory&&Math.abs(h.endAngle-h.startAngle)===2*Math.PI&&d.length&&(d[d.length-1].name="");var p=N2(t,n),y=lv(this.view.getTheme(),Ne.CIRCLE),x=(0,S.U2)(n,["title"])?(0,S.b$)({title:{style:{text:p}}},{title:z2(this.view.getTheme(),s,n.title)},n):n,w=(0,S.b$)((0,E.pi)((0,E.pi)({container:u},_g(this.view.getCoordinate())),{ticks:d,verticalFactor:1,theme:y}),y,x),M=this.getAnimateCfg(w),L=M.animateOption;return w.animate=M.animate,w.animateOption=L,w},r.prototype.getCircleGridCfg=function(t,n,s,u){if(hn(lv(this.view.getTheme(),s),n)){var h=xc(this.view.getTheme(),Ne.RADIUS),d=(0,S.b$)({container:(0,S.U2)(n,["top"])?this.gridForeContainer:this.gridContainer,center:this.view.getCoordinate().getCenter()},h,(0,S.U2)(n,"grid"),this.getAnimateCfg(n)),p=(0,S.U2)(d,"alignTick",!0),y="x"===u?this.view.getYScales()[0]:this.view.getXScale();return d.items=of(this.view.getCoordinate(),y,t,p,u),d}},r.prototype.getId=function(t,n){var s=this.view.getCoordinate();return"".concat(t,"-").concat(n,"-").concat(s.type)},r.prototype.getAnimateCfg=function(t){return{animate:this.view.getOptions().animate&&(0,S.U2)(t,"animate"),animateOption:t&&t.animateOption?(0,S.b$)({},i_,t.animateOption):i_}},r}(cc);const a_=D5;function ul(e,r,t){return t===Ne.TOP?[e.minX+e.width/2-r.width/2,e.minY]:t===Ne.BOTTOM?[e.minX+e.width/2-r.width/2,e.maxY-r.height]:t===Ne.LEFT?[e.minX,e.minY+e.height/2-r.height/2]:t===Ne.RIGHT?[e.maxX-r.width,e.minY+e.height/2-r.height/2]:t===Ne.TOP_LEFT||t===Ne.LEFT_TOP?[e.tl.x,e.tl.y]:t===Ne.TOP_RIGHT||t===Ne.RIGHT_TOP?[e.tr.x-r.width,e.tr.y]:t===Ne.BOTTOM_LEFT||t===Ne.LEFT_BOTTOM?[e.bl.x,e.bl.y-r.height]:t===Ne.BOTTOM_RIGHT||t===Ne.RIGHT_BOTTOM?[e.br.x-r.width,e.br.y-r.height]:[0,0]}function co(e,r){return(0,S.jn)(e)?!1!==e&&{}:(0,S.U2)(e,[r],e)}function Cr(e){return(0,S.U2)(e,"position",Ne.BOTTOM)}var P5=function(e){function r(t){var n=e.call(this,t)||this;return n.container=n.view.getLayer(Cn.FORE).addGroup(),n}return(0,E.ZT)(r,e),Object.defineProperty(r.prototype,"name",{get:function(){return"legend"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.render=function(){this.update()},r.prototype.layout=function(){var t=this;this.layoutBBox=this.view.viewBBox,(0,S.S6)(this.components,function(n){var s=n.component,u=n.direction,h=xv(u),d=s.get("maxWidthRatio"),p=s.get("maxHeightRatio"),y=t.getCategoryLegendSizeCfg(h,d,p),x=s.get("maxWidth"),w=s.get("maxHeight");s.update({maxWidth:Math.min(y.maxWidth,x||0),maxHeight:Math.min(y.maxHeight,w||0)});var M=s.get("padding"),T=s.getLayoutBBox(),L=new Oi(T.x,T.y,T.width,T.height).expand(M),R=(0,E.CR)(ul(t.view.viewBBox,L,u),2),D=R[0],k=R[1],z=(0,E.CR)(ul(t.layoutBBox,L,u),2),G=z[0],U=z[1],q=0,a=0;u.startsWith("top")||u.startsWith("bottom")?(q=D,a=U):(q=G,a=k),s.setLocation({x:q+M[3],y:a+M[0]}),t.layoutBBox=t.layoutBBox.cut(L,u)})},r.prototype.update=function(){var t=this;this.option=this.view.getOptions().legends;var n={};if((0,S.U2)(this.option,"custom")){var u="global-custom",h=this.getComponentById(u);if(h){var d=this.getCategoryCfg(void 0,void 0,void 0,this.option,!0);aa(d,["container"]),h.component.update(d),n[u]=!0}else{var p=this.createCustomLegend(void 0,void 0,void 0,this.option);if(p){p.init();var y=Cn.FORE,x=Cr(this.option);this.components.push({id:u,component:p,layer:y,direction:x,type:Rn.LEGEND,extra:void 0}),n[u]=!0}}}else this.loopLegends(function(M,T,L){var R=t.getId(L.field),D=t.getComponentById(R);if(D){var k=void 0,z=co(t.option,L.field);!1!==z&&((0,S.U2)(z,"custom")?k=t.getCategoryCfg(M,T,L,z,!0):L.isLinear?k=t.getContinuousCfg(M,T,L,z):L.isCategory&&(k=t.getCategoryCfg(M,T,L,z))),k&&(aa(k,["container"]),D.direction=Cr(z),D.component.update(k),n[R]=!0)}else{var G=t.createFieldLegend(M,T,L);G&&(G.component.init(),t.components.push(G),n[R]=!0)}});var w=[];(0,S.S6)(this.getComponents(),function(M){n[M.id]?w.push(M):M.component.destroy()}),this.components=w},r.prototype.clear=function(){e.prototype.clear.call(this),this.container.clear()},r.prototype.destroy=function(){e.prototype.destroy.call(this),this.container.remove(!0)},r.prototype.getGeometries=function(t){var n=this,s=t.geometries;return(0,S.S6)(t.views,function(u){s=s.concat(n.getGeometries(u))}),s},r.prototype.loopLegends=function(t){if(this.view.getRootView()===this.view){var s=this.getGeometries(this.view),u={};(0,S.S6)(s,function(h){var d=h.getGroupAttributes();(0,S.S6)(d,function(p){var y=p.getScale(p.type);!y||"identity"===y.type||u[y.field]||(t(h,p,y),u[y.field]=!0)})})}},r.prototype.createFieldLegend=function(t,n,s){var u,h=co(this.option,s.field),d=Cn.FORE,p=Cr(h);if(!1!==h&&((0,S.U2)(h,"custom")?u=this.createCustomLegend(t,n,s,h):s.isLinear?u=this.createContinuousLegend(t,n,s,h):s.isCategory&&(u=this.createCategoryLegend(t,n,s,h))),u)return u.set("field",s.field),{id:this.getId(s.field),component:u,layer:d,direction:p,type:Rn.LEGEND,extra:{scale:s}}},r.prototype.createCustomLegend=function(t,n,s,u){var h=this.getCategoryCfg(t,n,s,u,!0);return new xa(h)},r.prototype.createContinuousLegend=function(t,n,s,u){var h=this.getContinuousCfg(t,n,s,aa(u,["value"]));return new iv(h)},r.prototype.createCategoryLegend=function(t,n,s,u){var h=this.getCategoryCfg(t,n,s,u);return new xa(h)},r.prototype.getContinuousCfg=function(t,n,s,u){var h=s.getTicks(),d=(0,S.sE)(h,function(R){return 0===R.value}),p=(0,S.sE)(h,function(R){return 1===R.value}),y=h.map(function(R){var D=R.value,k=R.tickValue,z=n.mapping(s.invert(D)).join("");return{value:k,attrValue:z,color:z,scaleValue:D}});d||y.push({value:s.min,attrValue:n.mapping(s.invert(0)).join(""),color:n.mapping(s.invert(0)).join(""),scaleValue:0}),p||y.push({value:s.max,attrValue:n.mapping(s.invert(1)).join(""),color:n.mapping(s.invert(1)).join(""),scaleValue:1}),y.sort(function(R,D){return R.value-D.value});var x={min:(0,S.YM)(y).value,max:(0,S.Z$)(y).value,colors:[],rail:{type:n.type},track:{}};"size"===n.type&&(x.track={style:{fill:"size"===n.type?this.view.getTheme().defaultColor:void 0}}),"color"===n.type&&(x.colors=y.map(function(R){return R.attrValue}));var w=this.container,T=xv(Cr(u)),L=(0,S.U2)(u,"title");return L&&(L=(0,S.b$)({text:nc(s)},L)),x.container=w,x.layout=T,x.title=L,x.animateOption=hc,this.mergeLegendCfg(x,u,"continuous")},r.prototype.getCategoryCfg=function(t,n,s,u,h){var d=this.container,p=(0,S.U2)(u,"position",Ne.BOTTOM),y=bC(this.view.getTheme(),p),x=(0,S.U2)(y,["marker"]),w=(0,S.U2)(u,"marker"),M=xv(p),T=(0,S.U2)(y,["pageNavigator"]),L=(0,S.U2)(u,"pageNavigator"),R=h?function MC(e,r,t){return t.map(function(n,s){var u=r;(0,S.mf)(u)&&(u=u(n.name,s,(0,S.b$)({},e,n)));var h=(0,S.mf)(n.marker)?n.marker(n.name,s,(0,S.b$)({},e,n)):n.marker,d=(0,S.b$)({},e,u,h);return _C(d),n.marker=d,n})}(x,w,u.items):SC(this.view,t,n,x,w),D=(0,S.U2)(u,"title");D&&(D=(0,S.b$)({text:s?nc(s):""},D));var k=(0,S.U2)(u,"maxWidthRatio"),z=(0,S.U2)(u,"maxHeightRatio"),G=this.getCategoryLegendSizeCfg(M,k,z);G.container=d,G.layout=M,G.items=R,G.title=D,G.animateOption=hc,G.pageNavigator=(0,S.b$)({},T,L);var U=this.mergeLegendCfg(G,u,p);U.reversed&&U.items.reverse();var q=(0,S.U2)(U,"maxItemWidth");return q&&q<=1&&(U.maxItemWidth=this.view.viewBBox.width*q),U},r.prototype.mergeLegendCfg=function(t,n,s){var u=s.split("-")[0],h=bC(this.view.getTheme(),u);return(0,S.b$)({},h,t,n)},r.prototype.getId=function(t){return"".concat(this.name,"-").concat(t)},r.prototype.getComponentById=function(t){return(0,S.sE)(this.components,function(n){return n.id===t})},r.prototype.getCategoryLegendSizeCfg=function(t,n,s){void 0===n&&(n=.25),void 0===s&&(s=.25);var u=this.view.viewBBox,h=u.width,d=u.height;return"vertical"===t?{maxWidth:h*n,maxHeight:d}:{maxWidth:h,maxHeight:d*s}},r}(cc);const z5=P5;var l_=function(e){function r(t){var n=e.call(this,t)||this;return n.onChangeFn=S.ZT,n.resetMeasure=function(){n.clear()},n.onValueChange=function(s){var u=(0,E.CR)(s,2),h=u[0],d=u[1];n.start=h,n.end=d,n.changeViewData(h,d)},n.container=n.view.getLayer(Cn.FORE).addGroup(),n.onChangeFn=(0,S.P2)(n.onValueChange,20,{leading:!0}),n.width=0,n.view.on(Er.BEFORE_CHANGE_DATA,n.resetMeasure),n.view.on(Er.BEFORE_CHANGE_SIZE,n.resetMeasure),n}return(0,E.ZT)(r,e),Object.defineProperty(r.prototype,"name",{get:function(){return"slider"},enumerable:!1,configurable:!0}),r.prototype.destroy=function(){e.prototype.destroy.call(this),this.view.off(Er.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(Er.BEFORE_CHANGE_SIZE,this.resetMeasure)},r.prototype.init=function(){},r.prototype.render=function(){this.option=this.view.getOptions().slider;var t=this.getSliderCfg(),n=t.start,s=t.end;(0,S.UM)(this.start)&&(this.start=n,this.end=s);var u=this.view.getOptions().data;this.option&&!(0,S.xb)(u)?this.slider?this.slider=this.updateSlider():(this.slider=this.createSlider(),this.slider.component.on("sliderchange",this.onChangeFn)):this.slider&&(this.slider.component.destroy(),this.slider=void 0)},r.prototype.layout=function(){var t=this;if(this.option&&!this.width&&(this.measureSlider(),setTimeout(function(){t.view.destroyed||t.changeViewData(t.start,t.end)},0)),this.slider){var n=this.view.coordinateBBox.width,s=this.slider.component.get("padding"),u=(0,E.CR)(s,4),h=u[0],y=u[3],x=this.slider.component.getLayoutBBox(),w=new Oi(x.x,x.y,Math.min(x.width,n),x.height).expand(s),M=this.getMinMaxText(this.start,this.end),T=M.minText,L=M.maxText,k=(0,E.CR)(ul(this.view.viewBBox,w,Ne.BOTTOM),2)[1],G=(0,E.CR)(ul(this.view.coordinateBBox,w,Ne.BOTTOM),2)[0];this.slider.component.update((0,E.pi)((0,E.pi)({},this.getSliderCfg()),{x:G+y,y:k+h,width:this.width,start:this.start,end:this.end,minText:T,maxText:L})),this.view.viewBBox=this.view.viewBBox.cut(w,Ne.BOTTOM)}},r.prototype.update=function(){this.render()},r.prototype.createSlider=function(){var t=this.getSliderCfg(),n=new VE((0,E.pi)({container:this.container},t));return n.init(),{component:n,layer:Cn.FORE,direction:Ne.BOTTOM,type:Rn.SLIDER}},r.prototype.updateSlider=function(){var t=this.getSliderCfg();if(this.width){var n=this.getMinMaxText(this.start,this.end),s=n.minText,u=n.maxText;t=(0,E.pi)((0,E.pi)({},t),{width:this.width,start:this.start,end:this.end,minText:s,maxText:u})}return this.slider.component.update(t),this.slider},r.prototype.measureSlider=function(){var t=this.getSliderCfg().width;this.width=t},r.prototype.getSliderCfg=function(){var t={height:16,start:0,end:1,minText:"",maxText:"",x:0,y:0,width:this.view.coordinateBBox.width};if((0,S.Kn)(this.option)){var n=(0,E.pi)({data:this.getData()},(0,S.U2)(this.option,"trendCfg",{}));t=(0,S.b$)({},t,this.getThemeOptions(),this.option),t=(0,E.pi)((0,E.pi)({},t),{trendCfg:n})}return t.start=(0,S.uZ)(Math.min((0,S.UM)(t.start)?0:t.start,(0,S.UM)(t.end)?1:t.end),0,1),t.end=(0,S.uZ)(Math.max((0,S.UM)(t.start)?0:t.start,(0,S.UM)(t.end)?1:t.end),0,1),t},r.prototype.getData=function(){var t=this.view.getOptions().data,s=(0,E.CR)(this.view.getYScales(),1)[0],u=this.view.getGroupScales();if(u.length){var h=u[0],d=h.field,p=h.ticks;return t.reduce(function(y,x){return x[d]===p[0]&&y.push(x[s.field]),y},[])}return t.map(function(y){return y[s.field]||0})},r.prototype.getThemeOptions=function(){var t=this.view.getTheme();return(0,S.U2)(t,["components","slider","common"],{})},r.prototype.getMinMaxText=function(t,n){var s=this.view.getOptions().data,u=this.view.getXScale(),d=(0,S.I)(s,u.field);u.isLinear&&(d=d.sort());var p=d,y=(0,S.dp)(s);if(!u||!y)return{};var x=(0,S.dp)(p),w=Math.round(t*(x-1)),M=Math.round(n*(x-1)),T=(0,S.U2)(p,[w]),L=(0,S.U2)(p,[M]),R=this.getSliderCfg().formatter;return R&&(T=R(T,s[w],w),L=R(L,s[M],M)),{minText:T,maxText:L}},r.prototype.changeViewData=function(t,n){var s=this.view.getOptions().data,u=this.view.getXScale(),h=(0,S.dp)(s);if(u&&h){var p=(0,S.I)(s,u.field),x=this.view.getXScale().isLinear?p.sort(function(L,R){return Number(L)-Number(R)}):p,w=(0,S.dp)(x),M=Math.round(t*(w-1)),T=Math.round(n*(w-1));this.view.filter(u.field,function(L,R){var D=x.indexOf(L);return!(D>-1)||ec(D,M,T)}),this.view.render(!0)}},r.prototype.getComponents=function(){return this.slider?[this.slider]:[]},r.prototype.clear=function(){this.slider&&(this.slider.component.destroy(),this.slider=void 0),this.width=0,this.start=void 0,this.end=void 0},r}(cc);const Wy=l_;var N5=function(e){function r(t){var n=e.call(this,t)||this;return n.onChangeFn=S.ZT,n.resetMeasure=function(){n.clear()},n.onValueChange=function(s){var u=s.ratio,h=n.getValidScrollbarCfg().animate;n.ratio=(0,S.uZ)(u,0,1);var d=n.view.getOptions().animate;h||n.view.animate(!1),n.changeViewData(n.getScrollRange(),!0),n.view.animate(d)},n.container=n.view.getLayer(Cn.FORE).addGroup(),n.onChangeFn=(0,S.P2)(n.onValueChange,20,{leading:!0}),n.trackLen=0,n.thumbLen=0,n.ratio=0,n.view.on(Er.BEFORE_CHANGE_DATA,n.resetMeasure),n.view.on(Er.BEFORE_CHANGE_SIZE,n.resetMeasure),n}return(0,E.ZT)(r,e),Object.defineProperty(r.prototype,"name",{get:function(){return"scrollbar"},enumerable:!1,configurable:!0}),r.prototype.destroy=function(){e.prototype.destroy.call(this),this.view.off(Er.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(Er.BEFORE_CHANGE_SIZE,this.resetMeasure)},r.prototype.init=function(){},r.prototype.render=function(){this.option=this.view.getOptions().scrollbar,this.option?this.scrollbar?this.scrollbar=this.updateScrollbar():(this.scrollbar=this.createScrollbar(),this.scrollbar.component.on("scrollchange",this.onChangeFn)):this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0)},r.prototype.layout=function(){var t=this;if(this.option&&!this.trackLen&&(this.measureScrollbar(),setTimeout(function(){t.view.destroyed||t.changeViewData(t.getScrollRange(),!0)})),this.scrollbar){var n=this.view.coordinateBBox.width,s=this.scrollbar.component.get("padding"),u=this.scrollbar.component.getLayoutBBox(),h=new Oi(u.x,u.y,Math.min(u.width,n),u.height).expand(s),d=this.getScrollbarComponentCfg(),p=void 0,y=void 0;if(d.isHorizontal){var M=(0,E.CR)(ul(this.view.viewBBox,h,Ne.BOTTOM),2)[1];p=(0,E.CR)(ul(this.view.coordinateBBox,h,Ne.BOTTOM),2)[0],y=M}else{p=(M=(0,E.CR)(ul(this.view.viewBBox,h,Ne.RIGHT),2)[1],(0,E.CR)(ul(this.view.viewBBox,h,Ne.RIGHT),2))[0],y=M}p+=s[3],y+=s[0],this.scrollbar.component.update((0,E.pi)((0,E.pi)({},d),this.trackLen?{x:p,y,trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio}:{x:p,y})),this.view.viewBBox=this.view.viewBBox.cut(h,d.isHorizontal?Ne.BOTTOM:Ne.RIGHT)}},r.prototype.update=function(){this.render()},r.prototype.getComponents=function(){return this.scrollbar?[this.scrollbar]:[]},r.prototype.clear=function(){this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0),this.trackLen=0,this.thumbLen=0,this.ratio=0,this.cnt=0,this.step=0,this.data=void 0,this.xScaleCfg=void 0,this.yScalesCfg=[]},r.prototype.setValue=function(t){this.onValueChange({ratio:t})},r.prototype.getValue=function(){return this.ratio},r.prototype.getThemeOptions=function(){var t=this.view.getTheme();return(0,S.U2)(t,["components","scrollbar","common"],{})},r.prototype.getScrollbarTheme=function(t){var n=(0,S.U2)(this.view.getTheme(),["components","scrollbar"]),s=t||{},u=s.thumbHighlightColor,h=(0,E._T)(s,["thumbHighlightColor"]);return{default:(0,S.b$)({},(0,S.U2)(n,["default","style"],{}),h),hover:(0,S.b$)({},(0,S.U2)(n,["hover","style"],{}),{thumbColor:u})}},r.prototype.measureScrollbar=function(){var t=this.view.getXScale(),n=this.view.getYScales().slice();this.data=this.getScrollbarData(),this.step=this.getStep(),this.cnt=this.getCnt();var s=this.getScrollbarComponentCfg(),h=s.thumbLen;this.trackLen=s.trackLen,this.thumbLen=h,this.xScaleCfg={field:t.field,values:t.values||[]},this.yScalesCfg=n},r.prototype.getScrollRange=function(){var t=Math.floor((this.cnt-this.step)*(0,S.uZ)(this.ratio,0,1));return[t,Math.min(t+this.step-1,this.cnt-1)]},r.prototype.changeViewData=function(t,n){var s=this,u=(0,E.CR)(t,2),h=u[0],d=u[1],y="vertical"!==this.getValidScrollbarCfg().type,x=(0,S.I)(this.data,this.xScaleCfg.field),w=this.view.getXScale().isLinear?x.sort(function(T,L){return Number(T)-Number(L)}):x,M=y?w:w.reverse();this.yScalesCfg.forEach(function(T){s.view.scale(T.field,{formatter:T.formatter,type:T.type,min:T.min,max:T.max,tickMethod:T.tickMethod})}),this.view.filter(this.xScaleCfg.field,function(T){var L=M.indexOf(T);return!(L>-1)||ec(L,h,d)}),this.view.render(!0)},r.prototype.createScrollbar=function(){var n="vertical"!==this.getValidScrollbarCfg().type,s=new nv((0,E.pi)((0,E.pi)({container:this.container},this.getScrollbarComponentCfg()),{x:0,y:0}));return s.init(),{component:s,layer:Cn.FORE,direction:n?Ne.BOTTOM:Ne.RIGHT,type:Rn.SCROLLBAR}},r.prototype.updateScrollbar=function(){var t=this.getScrollbarComponentCfg(),n=this.trackLen?(0,E.pi)((0,E.pi)({},t),{trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio}):(0,E.pi)({},t);return this.scrollbar.component.update(n),this.scrollbar},r.prototype.getStep=function(){if(this.step)return this.step;var t=this.view.coordinateBBox,n=this.getValidScrollbarCfg();return Math.floor(("vertical"!==n.type?t.width:t.height)/n.categorySize)},r.prototype.getCnt=function(){if(this.cnt)return this.cnt;var t=this.view.getXScale(),n=this.getScrollbarData(),s=(0,S.I)(n,t.field);return(0,S.dp)(s)},r.prototype.getScrollbarComponentCfg=function(){var t=this.view,n=t.coordinateBBox,s=t.viewBBox,u=this.getValidScrollbarCfg(),p=u.width,y=u.height,x=u.style,w="vertical"!==u.type,M=(0,E.CR)(u.padding,4),T=M[0],L=M[1],R=M[2],D=M[3],k=w?{x:n.minX+D,y:s.maxY-y-R}:{x:s.maxX-p-L,y:n.minY+T},z=this.getStep(),G=this.getCnt(),U=w?n.width-D-L:n.height-T-R,q=Math.max(U*(0,S.uZ)(z/G,0,1),20);return(0,E.pi)((0,E.pi)({},this.getThemeOptions()),{x:k.x,y:k.y,size:w?y:p,isHorizontal:w,trackLen:U,thumbLen:q,thumbOffset:0,theme:this.getScrollbarTheme(x)})},r.prototype.getValidScrollbarCfg=function(){var t={type:"horizontal",categorySize:32,width:8,height:8,padding:[0,0,0,0],animate:!0,style:{}};return(0,S.Kn)(this.option)&&(t=(0,E.pi)((0,E.pi)({},t),this.option)),(!(0,S.Kn)(this.option)||!this.option.padding)&&(t.padding=[0,0,0,0]),t},r.prototype.getScrollbarData=function(){var t=this.view.getCoordinate(),n=this.getValidScrollbarCfg(),s=this.view.getOptions().data||[];return t.isReflect("y")&&"vertical"===n.type&&(s=(0,E.ev)([],(0,E.CR)(s),!1).reverse()),s},r}(cc);const H5=N5;var G5={fill:"#CCD6EC",opacity:.3};var h_=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.show=function(t){var n=this.context.view,s=this.context.event,u=n.getController("tooltip").getTooltipCfg(),h=function W5(e,r,t){var n,s,u,h,d,p,y=function oa(e,r,t){var n,s,u=Ng(e,r,t);try{for(var h=(0,E.XA)(e.views),d=h.next();!d.done;d=h.next())u=u.concat(Ng(d.value,r,t))}catch(y){n={error:y}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(n)throw n.error}}return u}(e,r,t);if(y.length){y=(0,S.xH)(y);try{for(var x=(0,E.XA)(y),w=x.next();!w.done;w=x.next()){var M=w.value;try{for(var T=(u=void 0,(0,E.XA)(M)),L=T.next();!L.done;L=T.next()){var R=L.value,D=R.mappingData,k=D.x,z=D.y;R.x=(0,S.kJ)(k)?k[k.length-1]:k,R.y=(0,S.kJ)(z)?z[z.length-1]:z}}catch(c){u={error:c}}finally{try{L&&!L.done&&(h=T.return)&&h.call(T)}finally{if(u)throw u.error}}}}catch(c){n={error:c}}finally{try{w&&!w.done&&(s=x.return)&&s.call(x)}finally{if(n)throw n.error}}if(!1===t.shared&&y.length>1){var U=y[0],q=Math.abs(r.y-U[0].y);try{for(var a=(0,E.XA)(y),o=a.next();!o.done;o=a.next()){var i=o.value,l=Math.abs(r.y-i[0].y);l<=q&&(U=i,q=l)}}catch(c){d={error:c}}finally{try{o&&!o.done&&(p=a.return)&&p.call(a)}finally{if(d)throw d.error}}y=[U]}return(0,S.jj)((0,S.xH)(y))}return[]}(n,{x:s.x,y:s.y},u);if(!(0,S.Xy)(h,this.items)&&(this.items=h,h.length)){var d=n.getXScale().field,p=h[0].data[d],y=[];if((0,S.S6)(n.geometries,function(I){if("interval"===I.type||"schema"===I.type){var O=I.getElementsBy(function(F){return F.getData()[d]===p});y=y.concat(O)}}),y.length){var w=n.getCoordinate(),M=y[0].shape.getCanvasBBox(),T=y[0].shape.getCanvasBBox(),L=M;(0,S.S6)(y,function(I){var O=I.shape.getCanvasBBox();w.isTransposed?(O.minY<M.minY&&(M=O),O.maxY>T.maxY&&(T=O)):(O.minX<M.minX&&(M=O),O.maxX>T.maxX&&(T=O)),L.x=Math.min(O.minX,L.minX),L.y=Math.min(O.minY,L.minY),L.width=Math.max(O.maxX,L.maxX)-L.x,L.height=Math.max(O.maxY,L.maxY)-L.y});var R=n.backgroundGroup,D=n.coordinateBBox,k=void 0;if(w.isRect){var z=n.getXScale(),G=t||{},U=G.appendRatio,q=G.appendWidth;(0,S.UM)(q)&&(U=(0,S.UM)(U)?z.isLinear?0:.25:U,q=w.isTransposed?U*T.height:U*M.width);var a=void 0,o=void 0,i=void 0,l=void 0;w.isTransposed?(a=D.minX,o=Math.min(T.minY,M.minY)-q,i=D.width,l=L.height+2*q):(a=Math.min(M.minX,T.minX)-q,o=D.minY,i=L.width+2*q,l=D.height),k=[["M",a,o],["L",a+i,o],["L",a+i,o+l],["L",a,o+l],["Z"]]}else{var c=(0,S.YM)(y),f=(0,S.Z$)(y),v=kh(c.getModel(),w).startAngle,g=kh(f.getModel(),w).endAngle,m=w.getCenter(),_=w.getRadius();k=el(m.x,m.y,_,v,g,w.innerRadius*_)}if(this.regionPath)this.regionPath.attr("path",k),this.regionPath.show();else{var A=(0,S.U2)(t,"style",G5);this.regionPath=R.addShape({type:"path",name:"active-region",capture:!1,attrs:(0,E.pi)((0,E.pi)({},A),{path:k})})}}}},r.prototype.hide=function(){this.regionPath&&this.regionPath.hide(),this.items=null},r.prototype.destroy=function(){this.hide(),this.regionPath&&this.regionPath.remove(!0),e.prototype.destroy.call(this)},r}(cn);const U5=h_;var f_=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.timeStamp=0,t}return(0,E.ZT)(r,e),r.prototype.show=function(){var t=this.context,n=t.event,s=t.view;if(!s.isTooltipLocked()){var h=this.timeStamp,d=+new Date;if(d-h>(0,S.U2)(t.view.getOptions(),"tooltip.showDelay",16)){var y=this.location,x={x:n.x,y:n.y};(!y||!(0,S.Xy)(y,x))&&this.showTooltip(s,x),this.timeStamp=d,this.location=x}}},r.prototype.hide=function(){var t=this.context.view,n=t.getController("tooltip"),s=this.context.event;n.isCursorEntered({x:s.clientX,y:s.clientY})||t.isTooltipLocked()||(this.hideTooltip(t),this.location=null)},r.prototype.showTooltip=function(t,n){t.showTooltip(n)},r.prototype.hideTooltip=function(t){t.hideTooltip()},r}(cn);const d_=f_;var v_=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.showTooltip=function(t,n){var s=Ao(t);(0,S.S6)(s,function(u){var h=Og(t,u,n);u.showTooltip(h)})},r.prototype.hideTooltip=function(t){var n=Ao(t);(0,S.S6)(n,function(s){s.hideTooltip()})},r}(d_);const Y5=v_;var V5=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.timeStamp=0,t}return(0,E.ZT)(r,e),r.prototype.destroy=function(){e.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},r.prototype.show=function(){var n=this.context.event,s=this.timeStamp,u=+new Date;if(u-s>16){var h=this.location,d={x:n.x,y:n.y};(!h||!(0,S.Xy)(h,d))&&this.showTooltip(d),this.timeStamp=u,this.location=d}},r.prototype.hide=function(){this.hideTooltip(),this.location=null},r.prototype.showTooltip=function(t){var u=this.context.event.target;if(u&&u.get("tip")){this.tooltip||this.renderTooltip();var h=u.get("tip");this.tooltip.update((0,E.pi)({title:h},t)),this.tooltip.show()}},r.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},r.prototype.renderTooltip=function(){var t,n=this.context.view,s=n.canvas,u={start:{x:0,y:0},end:{x:s.get("width"),y:s.get("height")}},h=n.getTheme(),d=(0,S.U2)(h,["components","tooltip","domStyles"],{}),p=new Fh({parent:s.get("el").parentNode,region:u,visible:!1,crosshairs:null,domStyles:(0,E.pi)({},(0,S.b$)({},d,(t={},t[So]={"max-width":"50%"},t[ds]={"word-break":"break-all"},t)))});p.init(),p.setCapture(!1),this.tooltip=p},r}(cn);const X5=V5;var p_=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.stateName="",t}return(0,E.ZT)(r,e),r.prototype.hasState=function(t){return t.hasState(this.stateName)},r.prototype.setElementState=function(t,n){t.setState(this.stateName,n)},r.prototype.setState=function(){this.setStateEnable(!0)},r.prototype.clear=function(){this.clearViewState(this.context.view)},r.prototype.clearViewState=function(t){var n=this,s=q2(t,this.stateName);(0,S.S6)(s,function(u){n.setElementState(u,!1)})},r}(cn);const Yy=p_;function jv(e){return(0,S.U2)(e.get("delegateObject"),"item")}var g_=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.ignoreListItemStates=["unchecked"],t}return(0,E.ZT)(r,e),r.prototype.isItemIgnore=function(t,n){return!!this.ignoreListItemStates.filter(function(h){return n.hasState(t,h)}).length},r.prototype.setStateByComponent=function(t,n,s){var u=this.context.view,h=t.get("field"),d=ni(u);this.setElementsStateByItem(d,h,n,s)},r.prototype.setStateByElement=function(t,n){this.setElementState(t,n)},r.prototype.isMathItem=function(t,n,s){var h=sc(this.context.view,n),d=ao(t,n);return!(0,S.UM)(d)&&s.name===h.getText(d)},r.prototype.setElementsStateByItem=function(t,n,s,u){var h=this;(0,S.S6)(t,function(d){h.isMathItem(d,n,s)&&d.setState(h.stateName,u)})},r.prototype.setStateEnable=function(t){var n=Na(this.context);if(n)X2(this.context)&&this.setStateByElement(n,t);else{var s=ms(this.context);if(oc(s)){var u=s.item,h=s.component;if(u&&h&&!this.isItemIgnore(u,h)){var d=this.context.event.gEvent;if(d&&d.fromShape&&d.toShape&&jv(d.fromShape)===jv(d.toShape))return;this.setStateByComponent(h,u,t)}}}},r.prototype.toggle=function(){var t=Na(this.context);if(t){var n=t.hasState(this.stateName);this.setElementState(t,!n)}},r.prototype.reset=function(){this.setStateEnable(!1)},r}(Yy);const Vy=g_;var $5=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.stateName="active",t}return(0,E.ZT)(r,e),r.prototype.active=function(){this.setState()},r}(Vy);const y_=$5;var Z5=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.cache={},t}return(0,E.ZT)(r,e),r.prototype.getColorScale=function(t,n){var s=n.geometry.getAttribute("color");return s?t.getScaleByField(s.getFields()[0]):null},r.prototype.getLinkPath=function(t,n){var u=this.context.view.getCoordinate().isTransposed,h=t.shape.getCanvasBBox(),d=n.shape.getCanvasBBox();return u?[["M",h.minX,h.minY],["L",d.minX,d.maxY],["L",d.maxX,d.maxY],["L",h.maxX,h.minY],["Z"]]:[["M",h.maxX,h.minY],["L",d.minX,d.minY],["L",d.minX,d.maxY],["L",h.maxX,h.maxY],["Z"]]},r.prototype.addLinkShape=function(t,n,s,u){var h={opacity:.4,fill:n.shape.attr("fill")};t.addShape({type:"path",attrs:(0,E.pi)((0,E.pi)({},(0,S.b$)({},h,(0,S.mf)(u)?u(h,n):u)),{path:this.getLinkPath(n,s)})})},r.prototype.linkByElement=function(t,n){var s=this,u=this.context.view,h=this.getColorScale(u,t);if(h){var d=ao(t,h.field);if(!this.cache[d]){var p=function Z2(e,r,t){return ni(e).filter(function(s){return ao(s,r)===t})}(u,h.field,d),x=this.linkGroup.addGroup();this.cache[d]=x;var w=p.length;(0,S.S6)(p,function(M,T){T<w-1&&s.addLinkShape(x,M,p[T+1],n)})}}},r.prototype.removeLink=function(t){var n=this.getColorScale(this.context.view,t);if(n){var s=ao(t,n.field);this.cache[s]&&(this.cache[s].remove(),this.cache[s]=null)}},r.prototype.link=function(t){var n=this.context;this.linkGroup||(this.linkGroup=n.view.foregroundGroup.addGroup({id:"link-by-color-group",capture:!1}));var s=Na(n);s&&this.linkByElement(s,t?.style)},r.prototype.unlink=function(){var t=Na(this.context);t&&this.removeLink(t)},r.prototype.clear=function(){this.linkGroup&&this.linkGroup.clear(),this.cache={}},r.prototype.destroy=function(){e.prototype.destroy.call(this),this.linkGroup&&this.linkGroup.remove()},r}(cn);const sf=Z5;var q5=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.startPoint=null,t.endPoint=null,t.isStarted=!1,t.effectSiblings=!1,t.effectByRecord=!1,t}return(0,E.ZT)(r,e),r.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},r.prototype.start=function(){this.clear(),this.startPoint=this.getCurrentPoint(),this.isStarted=!0},r.prototype.getIntersectElements=function(){var t=null;if(Gh(this.context))t=Eg(this.context,10);else{var n=this.startPoint,s=this.isStarted?this.getCurrentPoint():this.endPoint;if(!n||!s)return;var u={minX:Math.min(n.x,s.x),minY:Math.min(n.y,s.y),maxX:Math.max(n.x,s.x),maxY:Math.max(n.y,s.y)};t=dv(this.context.view,u)}return t},r.prototype.setStateEnable=function(t){if(this.effectSiblings&&!this.effectByRecord)this.setSiblingsState(t);else{var n=ni(this.context.view),s=this.getIntersectElements();s&&s.length?this.effectByRecord?this.setSiblingsStateByRecord(s,t):this.setElementsState(s,t,n):this.clear()}},r.prototype.setSiblingsStateByRecord=function(t,n){var s=this,u=this.context.view,h=Ao(u),d=t.map(function(x){return x.getModel().data}),p=u.getXScale().field,y=u.getYScales()[0].field;(0,S.S6)(h,function(x){var w=ni(x),M=w.filter(function(T){var L=T.getModel().data;return tC(d,L,p,y)});s.setElementsState(M,n,w)})},r.prototype.setSiblingsState=function(t){var n=this,u=Ao(this.context.view);Gh(this.context)&&(0,S.S6)(u,function(h){var d=ni(h),p=fv(n.context,h,10);p&&p.length?n.setElementsState(p,t,d):n.clearViewState(h)})},r.prototype.setElementsState=function(t,n,s){var u=this;(0,S.S6)(s,function(h){t.includes(h)?u.setElementState(h,n):u.setElementState(h,!1)})},r.prototype.end=function(){this.isStarted=!1,this.endPoint=this.getCurrentPoint()},r.prototype.clear=function(){var t=this,n=this.context.view;if(this.effectSiblings){var s=Ao(n);(0,S.S6)(s,function(u){t.clearViewState(u)})}else this.clearViewState(n)},r}(Yy);const Jv=q5;var j5=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.stateName="active",t}return(0,E.ZT)(r,e),r.prototype.active=function(){this.setState()},r}(Jv);const J5=j5;var m_=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.setStateEnable=function(t){var n=Na(this.context);if(n){if(!X2(this.context))return;t?(this.clear(),this.setElementState(n,!0)):this.hasState(n)&&this.setElementState(n,!1)}},r.prototype.toggle=function(){var t=Na(this.context);if(t){var n=this.hasState(t);n||this.clear(),this.setElementState(t,!n)}},r.prototype.reset=function(){this.setStateEnable(!1)},r}(Yy);const $a=m_;var x_=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.stateName="active",t}return(0,E.ZT)(r,e),r.prototype.active=function(){this.setState()},r}($a);const K5=x_;var Po="inactive",lf="active";function jn(e){var r=ni(e);(0,S.S6)(r,function(t){t.hasState(lf)&&t.setState(lf,!1),t.hasState(Po)&&t.setState(Po,!1)})}function Xy(e,r,t){(0,S.S6)(e,function(n){r(n)?(n.hasState(Po)&&n.setState(Po,!1),n.setState(lf,t)):(n.hasState(lf)&&n.setState(lf,!1),n.setState(Po,t))})}var lu=Ys.INACTIVE,bs=Ys.ACTIVE,Q5=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.stateName=bs,t}return(0,E.ZT)(r,e),r.prototype.setElementsStateByItem=function(t,n,s,u){var h=this;this.setHighlightBy(t,function(p){return h.isMathItem(p,n,s)},u)},r.prototype.setElementHighlight=function(t,n){n(t)?(t.hasState(lu)&&t.setState(lu,!1),t.setState(bs,!0)):t.hasState(bs)||t.setState(lu,!0)},r.prototype.setHighlightBy=function(t,n,s){var u=this;if(s)(0,S.S6)(t,function(p){u.setElementHighlight(p,n)});else{var h=q2(this.context.view,bs),d=!0;(0,S.S6)(h,function(p){if(!n(p))return d=!1,!1}),d?this.clear():(0,S.S6)(t,function(p){n(p)&&(p.hasState(bs)&&p.setState(bs,!1),p.setState(lu,!0))})}},r.prototype.setElementState=function(t,n){var u=ni(this.context.view);this.setHighlightBy(u,function(h){return t===h},n)},r.prototype.highlight=function(){this.setState()},r.prototype.clear=function(){jn(this.context.view)},r}(Vy);const Kv=Q5;var tL=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.setStateByElement=function(t,n){var s=this.context.view,u=t.geometry.getAttribute("color");if(u){var h=s.getScaleByField(u.getFields()[0]),d=ao(t,h.field),p=ni(s),y=p.filter(function(x){return ao(x,h.field)===d});this.setHighlightBy(p,function(x){return y.includes(x)},n)}},r}(Kv);const Qv=tL;var eL=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.setElementHighlight=function(t,n){n(t)?(t.hasState(lu)&&t.setState(lu,!1),t.setState(bs,!0)):(t.setState(lu,!0),t.hasState(bs)&&t.setState(bs,!1))},r.prototype.setStateByElement=function(t,n){var s=this.context.view,u=s.getXScale(),h=ao(t,u.field),d=ni(s),p=d.filter(function(y){return ao(y,u.field)===h});this.setHighlightBy(d,function(y){return p.includes(y)},n)},r.prototype.toggle=function(){var t=Na(this.context);if(t){var n=t.hasState(this.stateName);this.setStateByElement(t,!n)}},r}(Kv);const Cc=eL;var Za=(()=>(function(e){e.BEFORE_HIGHLIGHT="element-range-highlight:beforehighlight",e.AFTER_HIGHLIGHT="element-range-highlight:afterhighlight",e.BEFORE_CLEAR="element-range-highlight:beforeclear",e.AFTER_CLEAR="element-range-highlight:afterclear"}(Za||(Za={})),Za))(),$r=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.stateName="active",t}return(0,E.ZT)(r,e),r.prototype.clearViewState=function(t){jn(t)},r.prototype.highlight=function(){var t=this.context,n=t.view,h={view:n,event:t.event,highlightElements:this.getIntersectElements()};n.emit(Za.BEFORE_HIGHLIGHT,sn.fromData(n,Za.BEFORE_HIGHLIGHT,h)),this.setState(),n.emit(Za.AFTER_HIGHLIGHT,sn.fromData(n,Za.AFTER_HIGHLIGHT,h))},r.prototype.clear=function(){var t=this.context.view;t.emit(Za.BEFORE_CLEAR,sn.fromData(t,Za.BEFORE_CLEAR,{})),e.prototype.clear.call(this),t.emit(Za.AFTER_CLEAR,sn.fromData(t,Za.AFTER_CLEAR,{}))},r.prototype.setElementsState=function(t,n,s){Xy(s,function(u){return t.indexOf(u)>=0},n)},r}(Jv);const C_=$r;var rL=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.stateName="active",t}return(0,E.ZT)(r,e),r.prototype.highlight=function(){this.setState()},r.prototype.setElementState=function(t,n){Xy(ni(this.context.view),function(h){return t===h},n)},r.prototype.clear=function(){jn(this.context.view)},r}($a);const nL=rL;var iL=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.stateName="selected",t}return(0,E.ZT)(r,e),r.prototype.selected=function(){this.setState()},r}(Jv);const aL=iL;var oL=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.stateName="selected",t}return(0,E.ZT)(r,e),r.prototype.selected=function(){this.setState()},r}(Vy);const sL=oL;var lL=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.stateName="selected",t}return(0,E.ZT)(r,e),r.prototype.selected=function(){this.setState()},r}($a);const uL=lL;var cL=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.stateName="",t.ignoreItemStates=[],t}return(0,E.ZT)(r,e),r.prototype.getTriggerListInfo=function(){var t=ms(this.context),n=null;return oc(t)&&(n={item:t.item,list:t.component}),n},r.prototype.getAllowComponents=function(){var t=this,s=K2(this.context.view),u=[];return(0,S.S6)(s,function(h){h.isList()&&t.allowSetStateByElement(h)&&u.push(h)}),u},r.prototype.hasState=function(t,n){return t.hasState(n,this.stateName)},r.prototype.clearAllComponentsState=function(){var t=this,n=this.getAllowComponents();(0,S.S6)(n,function(s){s.clearItemsState(t.stateName)})},r.prototype.allowSetStateByElement=function(t){var n=t.get("field");if(!n)return!1;if(this.cfg&&this.cfg.componentNames){var s=t.get("name");if(-1===this.cfg.componentNames.indexOf(s))return!1}var h=sc(this.context.view,n);return h&&h.isCategory},r.prototype.allowSetStateByItem=function(t,n){var s=this.ignoreItemStates;return!s.length||0===s.filter(function(h){return n.hasState(t,h)}).length},r.prototype.setStateByElement=function(t,n,s){var u=t.get("field"),d=sc(this.context.view,u),p=ao(n,u),y=d.getText(p);this.setItemsState(t,y,s)},r.prototype.setStateEnable=function(t){var n=this,s=Na(this.context);if(s){var u=this.getAllowComponents();(0,S.S6)(u,function(y){n.setStateByElement(y,s,t)})}else{var h=ms(this.context);if(oc(h)){var d=h.item,p=h.component;this.allowSetStateByElement(p)&&this.allowSetStateByItem(d,p)&&this.setItemState(p,d,t)}}},r.prototype.setItemsState=function(t,n,s){var u=this,h=t.getItems();(0,S.S6)(h,function(d){d.name===n&&u.setItemState(t,d,s)})},r.prototype.setItemState=function(t,n,s){t.setItemState(n,this.stateName,s)},r.prototype.setState=function(){this.setStateEnable(!0)},r.prototype.reset=function(){this.setStateEnable(!1)},r.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var n=t.list,s=t.item,u=this.hasState(n,s);this.setItemState(n,s,!u)}},r.prototype.clear=function(){var t=this.getTriggerListInfo();t?t.list.clearItemsState(this.stateName):this.clearAllComponentsState()},r}(cn);const uu=cL;var hL=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.stateName="active",t}return(0,E.ZT)(r,e),r.prototype.active=function(){this.setState()},r}(uu);const fL=hL;var w_="inactive",wc="inactive",cu="active",vL=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.stateName=cu,t.ignoreItemStates=["unchecked"],t}return(0,E.ZT)(r,e),r.prototype.setItemsState=function(t,n,s){this.setHighlightBy(t,function(u){return u.name===n},s)},r.prototype.setItemState=function(t,n,s){t.getItems(),this.setHighlightBy(t,function(h){return h===n},s)},r.prototype.setHighlightBy=function(t,n,s){var u=t.getItems();if(s)(0,S.S6)(u,function(p){n(p)?(t.hasState(p,wc)&&t.setItemState(p,wc,!1),t.setItemState(p,cu,!0)):t.hasState(p,cu)||t.setItemState(p,wc,!0)});else{var h=t.getItemsByState(cu),d=!0;(0,S.S6)(h,function(p){if(!n(p))return d=!1,!1}),d?this.clear():(0,S.S6)(u,function(p){n(p)&&(t.hasState(p,cu)&&t.setItemState(p,cu,!1),t.setItemState(p,wc,!0))})}},r.prototype.highlight=function(){this.setState()},r.prototype.clear=function(){var t=this.getTriggerListInfo();if(t)!function dL(e){var r=e.getItems();(0,S.S6)(r,function(t){e.hasState(t,"active")&&e.setItemState(t,"active",!1),e.hasState(t,w_)&&e.setItemState(t,w_,!1)})}(t.list);else{var n=this.getAllowComponents();(0,S.S6)(n,function(s){s.clearItemsState(cu),s.clearItemsState(wc)})}},r}(uu);const $y=vL;var pL=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.stateName="selected",t}return(0,E.ZT)(r,e),r.prototype.selected=function(){this.setState()},r}(uu);const S_=pL;var gL=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.stateName="unchecked",t}return(0,E.ZT)(r,e),r.prototype.unchecked=function(){this.setState()},r}(uu);const yL=gL;var _c="unchecked",tp="checked",ep=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.stateName=tp,t}return(0,E.ZT)(r,e),r.prototype.setItemState=function(t,n,s){this.setCheckedBy(t,function(u){return u===n},s)},r.prototype.setCheckedBy=function(t,n,s){var u=t.getItems();s&&(0,S.S6)(u,function(h){n(h)?(t.hasState(h,_c)&&t.setItemState(h,_c,!1),t.setItemState(h,tp,!0)):t.hasState(h,tp)||t.setItemState(h,_c,!0)})},r.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var n=t.list,s=t.item;!(0,S.G)(n.getItems(),function(h){return n.hasState(h,_c)})||n.hasState(s,_c)?this.setItemState(n,s,!0):this.reset()}},r.prototype.checked=function(){this.setState()},r.prototype.reset=function(){var t=this.getAllowComponents();(0,S.S6)(t,function(n){n.clearItemsState(tp),n.clearItemsState(_c)})},r}(uu);const mL=ep;var Sc="unchecked",xL=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.toggle=function(){var t,n,s,u,h,d,p,y,x=this.getTriggerListInfo();if(x?.item){var w=x.list,M=x.item,T=w.getItems(),L=T.filter(function(c){return!w.hasState(c,Sc)}),R=T.filter(function(c){return w.hasState(c,Sc)}),D=L[0];if(T.length===L.length)try{for(var k=(0,E.XA)(T),z=k.next();!z.done;z=k.next())w.setItemState(G=z.value,Sc,G.id!==M.id)}catch(c){t={error:c}}finally{try{z&&!z.done&&(n=k.return)&&n.call(k)}finally{if(t)throw t.error}}else if(T.length-R.length==1)if(D.id===M.id)try{for(var U=(0,E.XA)(T),q=U.next();!q.done;q=U.next())w.setItemState(G=q.value,Sc,!1)}catch(c){s={error:c}}finally{try{q&&!q.done&&(u=U.return)&&u.call(U)}finally{if(s)throw s.error}}else try{for(var a=(0,E.XA)(T),o=a.next();!o.done;o=a.next())w.setItemState(G=o.value,Sc,G.id!==M.id)}catch(c){h={error:c}}finally{try{o&&!o.done&&(d=a.return)&&d.call(a)}finally{if(h)throw h.error}}else try{for(var i=(0,E.XA)(T),l=i.next();!l.done;l=i.next()){var G;w.setItemState(G=l.value,Sc,G.id!==M.id)}}catch(c){p={error:c}}finally{try{l&&!l.done&&(y=i.return)&&y.call(i)}finally{if(p)throw p.error}}}},r}(uu);const CL=xL;var M_="showRadio",Zy="legend-radio-tip",qy=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.timeStamp=0,t}return(0,E.ZT)(r,e),r.prototype.show=function(){var t=this.getTriggerListInfo();t?.item&&t.list.setItemState(t.item,M_,!0)},r.prototype.hide=function(){var t=this.getTriggerListInfo();t?.item&&t.list.setItemState(t.item,M_,!1)},r.prototype.destroy=function(){e.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},r.prototype.showTip=function(){var n=this.context.event,s=this.timeStamp,u=+new Date;if(u-s>16&&"legend-item-radio"===this.context.event.target.get("name")){var d=this.location,p={x:n.x,y:n.y};this.timeStamp=u,this.location=p,(!d||!(0,S.Xy)(d,p))&&this.showTooltip(p)}},r.prototype.hideTip=function(){this.hideTooltip(),this.location=null},r.prototype.showTooltip=function(t){var n=this.context,u=n.event.target;if(u&&u.get("tip")){this.tooltip||this.renderTooltip();var h=n.view.getCanvas().get("el").getBoundingClientRect(),d=h.x,p=h.y;this.tooltip.update((0,E.pi)((0,E.pi)({title:u.get("tip")},t),{x:t.x+d,y:t.y+p})),this.tooltip.show()}},r.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},r.prototype.renderTooltip=function(){var t,n=((t={})[So]={padding:"6px 8px",transform:"translate(-50%, -80%)",background:"rgba(0,0,0,0.75)",color:"#fff","border-radius":"2px","z-index":100},t[ds]={"font-size":"12px","line-height":"14px","margin-bottom":0,"word-break":"break-all"},t);document.getElementById(Zy)&&document.body.removeChild(document.getElementById(Zy));var s=new Fh({parent:document.body,region:null,visible:!1,crosshairs:null,domStyles:n,containerId:Zy});s.init(),s.setCapture(!1),this.tooltip=s},r}(uu);const rp=qy;var wL=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.maskShape=null,t.points=[],t.starting=!1,t.moving=!1,t.preMovePoint=null,t.shapeType="path",t}return(0,E.ZT)(r,e),r.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},r.prototype.emitEvent=function(t){var n="mask:".concat(t),u=this.context.event;this.context.view.emit(n,{target:this.maskShape,shape:this.maskShape,points:this.points,x:u.x,y:u.y})},r.prototype.createMask=function(){var t=this.context.view,n=this.getMaskAttrs();return t.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:(0,E.pi)({fill:"#C5D4EB",opacity:.3},n)})},r.prototype.getMaskPath=function(){return[]},r.prototype.show=function(){this.maskShape&&(this.maskShape.show(),this.emitEvent("show"))},r.prototype.start=function(t){this.starting=!0,this.moving=!1,this.points=[this.getCurrentPoint()],this.maskShape||(this.maskShape=this.createMask(),this.maskShape.set("capture",!1)),this.updateMask(t?.maskStyle),this.emitEvent("start")},r.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint()},r.prototype.move=function(){if(this.moving&&this.maskShape){var t=this.getCurrentPoint(),n=this.preMovePoint,s=t.x-n.x,u=t.y-n.y;(0,S.S6)(this.points,function(d){d.x+=s,d.y+=u}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t}},r.prototype.updateMask=function(t){var n=(0,S.b$)({},this.getMaskAttrs(),t);this.maskShape.attr(n)},r.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null},r.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.maskShape&&this.maskShape.set("capture",!0)},r.prototype.hide=function(){this.maskShape&&(this.maskShape.hide(),this.emitEvent("hide"))},r.prototype.resize=function(){this.starting&&this.maskShape&&(this.points.push(this.getCurrentPoint()),this.updateMask(),this.emitEvent("change"))},r.prototype.destroy=function(){this.points=[],this.maskShape&&this.maskShape.remove(),this.maskShape=null,this.preMovePoint=null,e.prototype.destroy.call(this)},r}(cn);const jy=wL;function b_(e){var r=(0,S.Z$)(e),t=0,n=0,s=0;if(e.length){var u=e[0];t=Ig(u,r)/2,n=(r.x+u.x)/2,s=(r.y+u.y)/2}return{x:n,y:s,r:t}}var _L=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.shapeType="circle",t}return(0,E.ZT)(r,e),r.prototype.getMaskAttrs=function(){return b_(this.points)},r}(jy);const SL=_L;function T_(e){return{start:(0,S.YM)(e),end:(0,S.Z$)(e)}}function A_(e,r){return{x:Math.min(e.x,r.x),y:Math.min(e.y,r.y),width:Math.abs(r.x-e.x),height:Math.abs(r.y-e.y)}}var Mc=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.shapeType="rect",t}return(0,E.ZT)(r,e),r.prototype.getRegion=function(){return T_(this.points)},r.prototype.getMaskAttrs=function(){var t=this.getRegion();return A_(t.start,t.end)},r}(jy);const E_=Mc;function L_(e){e.x=(0,S.uZ)(e.x,0,1),e.y=(0,S.uZ)(e.y,0,1)}function I_(e,r,t,n){var s=null,u=null,h=n.invert((0,S.YM)(e)),d=n.invert((0,S.Z$)(e));return t&&(L_(h),L_(d)),"x"===r?(s=n.convert({x:h.x,y:0}),u=n.convert({x:d.x,y:1})):(s=n.convert({x:0,y:h.y}),u=n.convert({x:1,y:d.y})),{start:s,end:u}}var Jy=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.dim="x",t.inPlot=!0,t}return(0,E.ZT)(r,e),r.prototype.getRegion=function(){var t=this.context.view.getCoordinate();return I_(this.points,this.dim,this.inPlot,t)},r}(E_);const O_=Jy;function cl(e){var r=[];return e.length&&((0,S.S6)(e,function(t,n){r.push(0===n?["M",t.x,t.y]:["L",t.x,t.y])}),r.push(["L",e[0].x,e[0].y])),r}function np(e){return{path:cl(e)}}var zo=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getMaskPath=function(){return cl(this.points)},r.prototype.getMaskAttrs=function(){return np(this.points)},r.prototype.addPoint=function(){this.resize()},r}(jy);const R_=zo;function yi(e){return function d3(e,r){if(e.length<=2)return ys(e,!1);var t=e[0],n=[];(0,S.S6)(e,function(u){n.push(u.x),n.push(u.y)});var s=W2(n,r,null);return s.unshift(["M",t.x,t.y]),s}(e,!0)}function F_(e){return{path:yi(e)}}var D_=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getMaskPath=function(){return yi(this.points)},r.prototype.getMaskAttrs=function(){return F_(this.points)},r}(R_);const ML=D_;var bL=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.maskShapes=[],t.starting=!1,t.moving=!1,t.recordPoints=null,t.preMovePoint=null,t.shapeType="path",t.maskType="multi-mask",t}return(0,E.ZT)(r,e),r.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},r.prototype.emitEvent=function(t){var n="".concat(this.maskType,":").concat(t),u=this.context.event,h={type:this.shapeType,name:this.maskType,get:function(d){return h.hasOwnProperty(d)?h[d]:void 0}};this.context.view.emit(n,{target:h,maskShapes:this.maskShapes,multiPoints:this.recordPoints,x:u.x,y:u.y})},r.prototype.createMask=function(t){var n=this.context.view,u=this.getMaskAttrs(this.recordPoints[t]),h=n.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:(0,E.pi)({fill:"#C5D4EB",opacity:.3},u)});this.maskShapes.push(h)},r.prototype.getMaskPath=function(t){return[]},r.prototype.show=function(){this.maskShapes.length>0&&(this.maskShapes.forEach(function(t){return t.show()}),this.emitEvent("show"))},r.prototype.start=function(t){this.recordPointStart(),this.starting=!0,this.moving=!1,this.createMask(this.recordPoints.length-1),this.updateShapesCapture(!1),this.updateMask(t?.maskStyle),this.emitEvent("start")},r.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint(),this.updateShapesCapture(!1)},r.prototype.move=function(){if(this.moving&&0!==this.maskShapes.length){var t=this.getCurrentPoint(),n=this.preMovePoint,s=t.x-n.x,u=t.y-n.y,h=this.getCurMaskShapeIndex();h>-1&&(this.recordPoints[h].forEach(function(d){d.x+=s,d.y+=u}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t)}},r.prototype.updateMask=function(t){var n=this;this.recordPoints.forEach(function(s,u){var h=(0,S.b$)({},n.getMaskAttrs(s),t);n.maskShapes[u].attr(h)})},r.prototype.resize=function(){this.starting&&this.maskShapes.length>0&&(this.recordPointContinue(),this.updateMask(),this.emitEvent("change"))},r.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null,this.updateShapesCapture(!0)},r.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.updateShapesCapture(!0)},r.prototype.hide=function(){this.maskShapes.length>0&&(this.maskShapes.forEach(function(t){return t.hide()}),this.emitEvent("hide"))},r.prototype.remove=function(){var t=this.getCurMaskShapeIndex();t>-1&&(this.recordPoints.splice(t,1),this.maskShapes[t].remove(),this.maskShapes.splice(t,1),this.preMovePoint=null,this.updateShapesCapture(!0),this.emitEvent("change"))},r.prototype.clearAll=function(){this.recordPointClear(),this.maskShapes.forEach(function(t){return t.remove()}),this.maskShapes=[],this.preMovePoint=null},r.prototype.clear=function(){var t=this.getCurMaskShapeIndex();-1===t?(this.recordPointClear(),this.maskShapes.forEach(function(n){return n.remove()}),this.maskShapes=[],this.emitEvent("clearAll")):(this.recordPoints.splice(t,1),this.maskShapes[t].remove(),this.maskShapes.splice(t,1),this.preMovePoint=null,this.emitEvent("clearSingle")),this.preMovePoint=null},r.prototype.destroy=function(){this.clear(),e.prototype.destroy.call(this)},r.prototype.getRecordPoints=function(){var t;return(0,E.ev)([],(0,E.CR)(null!==(t=this.recordPoints)&&void 0!==t?t:[]),!1)},r.prototype.recordPointStart=function(){var t=this.getRecordPoints(),n=this.getCurrentPoint();this.recordPoints=(0,E.ev)((0,E.ev)([],(0,E.CR)(t),!1),[[n]],!1)},r.prototype.recordPointContinue=function(){var t=this.getRecordPoints(),n=this.getCurrentPoint(),s=t.splice(-1,1)[0]||[];s.push(n),this.recordPoints=(0,E.ev)((0,E.ev)([],(0,E.CR)(t),!1),[s],!1)},r.prototype.recordPointClear=function(){this.recordPoints=[]},r.prototype.updateShapesCapture=function(t){this.maskShapes.forEach(function(n){return n.set("capture",t)})},r.prototype.getCurMaskShapeIndex=function(){var t=this.getCurrentPoint();return this.maskShapes.findIndex(function(n){var s=n.attrs;return!(0===s.width||0===s.height||0===s.r)&&n.isHit(t.x,t.y)})},r}(cn);const uf=bL;var Ky=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.shapeType="rect",t}return(0,E.ZT)(r,e),r.prototype.getRegion=function(t){return T_(t)},r.prototype.getMaskAttrs=function(t){var n=this.getRegion(t);return A_(n.start,n.end)},r}(uf);const k_=Ky;var Qy=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.dim="x",t.inPlot=!0,t}return(0,E.ZT)(r,e),r.prototype.getRegion=function(t){var n=this.context.view.getCoordinate();return I_(t,this.dim,this.inPlot,n)},r}(k_);const B_=Qy;var TL=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.shapeType="circle",t.getMaskAttrs=b_,t}return(0,E.ZT)(r,e),r}(uf);const AL=TL;var EL=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.getMaskPath=cl,t.getMaskAttrs=np,t}return(0,E.ZT)(r,e),r.prototype.addPoint=function(){this.resize()},r}(uf);const P_=EL;var z_=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.getMaskPath=yi,t.getMaskAttrs=F_,t}return(0,E.ZT)(r,e),r}(P_);const LL=z_;var IL=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.setCursor=function(t){this.context.view.getCanvas().setCursor(t)},r.prototype.default=function(){this.setCursor("default")},r.prototype.pointer=function(){this.setCursor("pointer")},r.prototype.move=function(){this.setCursor("move")},r.prototype.crosshair=function(){this.setCursor("crosshair")},r.prototype.wait=function(){this.setCursor("wait")},r.prototype.help=function(){this.setCursor("help")},r.prototype.text=function(){this.setCursor("text")},r.prototype.eResize=function(){this.setCursor("e-resize")},r.prototype.wResize=function(){this.setCursor("w-resize")},r.prototype.nResize=function(){this.setCursor("n-resize")},r.prototype.sResize=function(){this.setCursor("s-resize")},r.prototype.neResize=function(){this.setCursor("ne-resize")},r.prototype.nwResize=function(){this.setCursor("nw-resize")},r.prototype.seResize=function(){this.setCursor("se-resize")},r.prototype.swResize=function(){this.setCursor("sw-resize")},r.prototype.nsResize=function(){this.setCursor("ns-resize")},r.prototype.ewResize=function(){this.setCursor("ew-resize")},r.prototype.zoomIn=function(){this.setCursor("zoom-in")},r.prototype.zoomOut=function(){this.setCursor("zoom-out")},r}(cn);const OL=IL;var RL=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.filterView=function(t,n,s){var u=this;t.getScaleByField(n)&&t.filter(n,s),t.views&&t.views.length&&(0,S.S6)(t.views,function(h){u.filterView(h,n,s)})},r.prototype.filter=function(){var t=ms(this.context);if(t){var n=this.context.view,s=t.component,u=s.get("field");if(oc(t)){if(u){var h=s.getItemsByState("unchecked"),d=sc(n,u),p=h.map(function(T){return T.name});this.filterView(n,u,p.length?function(T){var L=d.getText(T);return!p.includes(L)}:null),n.render(!0)}}else if(Ag(t)){var y=s.getValue(),x=(0,E.CR)(y,2),w=x[0],M=x[1];this.filterView(n,u,function(T){return T>=w&&T<=M}),n.render(!0)}}},r}(cn);const N_=RL;function H_(e,r,t,n){var s=Math.min(t[r],n[r]),u=Math.max(t[r],n[r]),h=(0,E.CR)(e.range,2),d=h[0],p=h[1];if(s<d&&(s=d),u>p&&(u=p),s===p&&u===p)return null;var y=e.invert(s),x=e.invert(u);if(e.isCategory){var w=e.values.indexOf(y),M=e.values.indexOf(x),T=e.values.slice(w,M+1);return function(L){return T.includes(L)}}return function(L){return L>=y&&L<=x}}var Zi=(()=>(function(e){e.FILTER="brush-filter-processing",e.RESET="brush-filter-reset",e.BEFORE_FILTER="brush-filter:beforefilter",e.AFTER_FILTER="brush-filter:afterfilter",e.BEFORE_RESET="brush-filter:beforereset",e.AFTER_RESET="brush-filter:afterreset"}(Zi||(Zi={})),Zi))(),FL=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.dims=["x","y"],t.startPoint=null,t.isStarted=!1,t}return(0,E.ZT)(r,e),r.prototype.hasDim=function(t){return this.dims.includes(t)},r.prototype.start=function(){var t=this.context;this.isStarted=!0,this.startPoint=t.getCurrentPoint()},r.prototype.filter=function(){var t,n;if(Gh(this.context)){var u=this.context.event.target.getCanvasBBox();t={x:u.x,y:u.y},n={x:u.maxX,y:u.maxY}}else{if(!this.isStarted)return;t=this.startPoint,n=this.context.getCurrentPoint()}if(!(Math.abs(t.x-n.x)<5||Math.abs(t.x-n.y)<5)){var h=this.context,d=h.view,y={view:d,event:h.event,dims:this.dims};d.emit(Zi.BEFORE_FILTER,sn.fromData(d,Zi.BEFORE_FILTER,y));var x=d.getCoordinate(),w=x.invert(n),M=x.invert(t);if(this.hasDim("x")){var T=d.getXScale(),L=H_(T,"x",w,M);this.filterView(d,T.field,L)}if(this.hasDim("y")){var R=d.getYScales()[0];L=H_(R,"y",w,M),this.filterView(d,R.field,L)}this.reRender(d,{source:Zi.FILTER}),d.emit(Zi.AFTER_FILTER,sn.fromData(d,Zi.AFTER_FILTER,y))}},r.prototype.end=function(){this.isStarted=!1},r.prototype.reset=function(){var t=this.context.view;if(t.emit(Zi.BEFORE_RESET,sn.fromData(t,Zi.BEFORE_RESET,{})),this.isStarted=!1,this.hasDim("x")){var n=t.getXScale();this.filterView(t,n.field,null)}if(this.hasDim("y")){var s=t.getYScales()[0];this.filterView(t,s.field,null)}this.reRender(t,{source:Zi.RESET}),t.emit(Zi.AFTER_RESET,sn.fromData(t,Zi.AFTER_RESET,{}))},r.prototype.filterView=function(t,n,s){t.filter(n,s)},r.prototype.reRender=function(t,n){t.render(!0,n)},r}(cn);const ip=FL;var G_=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.filterView=function(t,n,s){var u=Ao(t);(0,S.S6)(u,function(h){h.filter(n,s)})},r.prototype.reRender=function(t){var n=Ao(t);(0,S.S6)(n,function(s){s.render(!0)})},r}(ip);const hu=G_;var DL=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.filter=function(){var t=ms(this.context),n=this.context.view,s=ni(n);if(Gh(this.context)){var u=Eg(this.context,10);u&&(0,S.S6)(s,function(R){u.includes(R)?R.show():R.hide()})}else if(t){var h=t.component,d=h.get("field");if(oc(t)){if(d){var p=h.getItemsByState("unchecked"),y=sc(n,d),x=p.map(function(R){return R.name});(0,S.S6)(s,function(R){var D=ao(R,d),k=y.getText(D);x.indexOf(k)>=0?R.hide():R.show()})}}else if(Ag(t)){var w=h.getValue(),M=(0,E.CR)(w,2),T=M[0],L=M[1];(0,S.S6)(s,function(R){var D=ao(R,d);D>=T&&D<=L?R.show():R.hide()})}}},r.prototype.clear=function(){var t=ni(this.context.view);(0,S.S6)(t,function(n){n.show()})},r.prototype.reset=function(){this.clear()},r}(cn);const kL=DL;var BL=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.byRecord=!1,t}return(0,E.ZT)(r,e),r.prototype.filter=function(){Gh(this.context)&&(this.byRecord?this.filterByRecord():this.filterByBBox())},r.prototype.filterByRecord=function(){var t=this.context.view,n=Eg(this.context,10);if(n){var s=t.getXScale().field,u=t.getYScales()[0].field,h=n.map(function(p){return p.getModel().data}),d=Ao(t);(0,S.S6)(d,function(p){var y=ni(p);(0,S.S6)(y,function(x){var w=x.getModel().data;tC(h,w,s,u)?x.show():x.hide()})})}},r.prototype.filterByBBox=function(){var t=this,s=Ao(this.context.view);(0,S.S6)(s,function(u){var h=fv(t.context,u,10),d=ni(u);h&&(0,S.S6)(d,function(p){h.includes(p)?p.show():p.hide()})})},r.prototype.reset=function(){var t=Ao(this.context.view);(0,S.S6)(t,function(n){var s=ni(n);(0,S.S6)(s,function(u){u.show()})})},r}(cn);const W_=BL;var U_=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.buttonGroup=null,t.buttonCfg={name:"button",text:"button",textStyle:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"},padding:[8,10],style:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},activeStyle:{fill:"#e6e6e6"}},t}return(0,E.ZT)(r,e),r.prototype.getButtonCfg=function(){return(0,S.b$)(this.buttonCfg,this.cfg)},r.prototype.drawButton=function(){var t=this.getButtonCfg(),n=this.context.view.foregroundGroup.addGroup({name:t.name}),u=n.addShape({type:"text",name:"button-text",attrs:(0,E.pi)({text:t.text},t.textStyle)}).getBBox(),h=vv(t.padding),d=n.addShape({type:"rect",name:"button-rect",attrs:(0,E.pi)({x:u.x-h[3],y:u.y-h[0],width:u.width+h[1]+h[3],height:u.height+h[0]+h[2]},t.style)});d.toBack(),n.on("mouseenter",function(){d.attr(t.activeStyle)}),n.on("mouseleave",function(){d.attr(t.style)}),this.buttonGroup=n},r.prototype.resetPosition=function(){var s=this.context.view.getCoordinate().convert({x:1,y:1}),u=this.buttonGroup,h=u.getBBox(),d=an.vs(null,[["t",s.x-h.width-10,s.y+h.height+5]]);u.setMatrix(d)},r.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},r.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},r.prototype.destroy=function(){var t=this.buttonGroup;t&&t.remove(),e.prototype.destroy.call(this)},r}(cn);const NL=U_;var GL=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.starting=!1,t.dragStart=!1,t}return(0,E.ZT)(r,e),r.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint()},r.prototype.drag=function(){if(this.startPoint){var t=this.context.getCurrentPoint(),n=this.context.view,s=this.context.event;this.dragStart?n.emit("drag",{target:s.target,x:s.x,y:s.y}):Ig(t,this.startPoint)>4&&(n.emit("dragstart",{target:s.target,x:s.x,y:s.y}),this.dragStart=!0)}},r.prototype.end=function(){if(this.dragStart){var n=this.context.event;this.context.view.emit("dragend",{target:n.target,x:n.x,y:n.y})}this.starting=!1,this.dragStart=!1},r}(cn);const No=GL;var UL=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.starting=!1,t.isMoving=!1,t.startPoint=null,t.startMatrix=null,t}return(0,E.ZT)(r,e),r.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint(),this.startMatrix=this.context.view.middleGroup.getMatrix()},r.prototype.move=function(){if(this.starting){var t=this.startPoint,n=this.context.getCurrentPoint();if(Ig(t,n)>5&&!this.isMoving&&(this.isMoving=!0),this.isMoving){var u=this.context.view,h=an.vs(this.startMatrix,[["t",n.x-t.x,n.y-t.y]]);u.backgroundGroup.setMatrix(h),u.foregroundGroup.setMatrix(h),u.middleGroup.setMatrix(h)}}},r.prototype.end=function(){this.isMoving&&(this.isMoving=!1),this.startMatrix=null,this.starting=!1,this.startPoint=null},r.prototype.reset=function(){this.starting=!1,this.startPoint=null,this.isMoving=!1;var t=this.context.view;t.backgroundGroup.resetMatrix(),t.foregroundGroup.resetMatrix(),t.middleGroup.resetMatrix(),this.isMoving=!1},r}(cn);const Y_=UL;var V_="x",X_="y",YL=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.dims=[V_,X_],t.cfgFields=["dims"],t.cacheScaleDefs={},t}return(0,E.ZT)(r,e),r.prototype.hasDim=function(t){return this.dims.includes(t)},r.prototype.getScale=function(t){var n=this.context.view;return"x"===t?n.getXScale():n.getYScales()[0]},r.prototype.resetDim=function(t){var n=this.context.view;if(this.hasDim(t)&&this.cacheScaleDefs[t]){var s=this.getScale(t);n.scale(s.field,this.cacheScaleDefs[t]),this.cacheScaleDefs[t]=null}},r.prototype.reset=function(){this.resetDim(V_),this.resetDim(X_),this.context.view.render(!0)},r}(cn);const $_=YL;var VL=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.startPoint=null,t.starting=!1,t.startCache={},t}return(0,E.ZT)(r,e),r.prototype.start=function(){var t=this;this.startPoint=this.context.getCurrentPoint(),this.starting=!0,(0,S.S6)(this.dims,function(s){var u=t.getScale(s);t.startCache[s]={min:u.min,max:u.max,values:u.values}})},r.prototype.end=function(){this.startPoint=null,this.starting=!1,this.startCache={}},r.prototype.translate=function(){var t=this;if(this.starting){var n=this.startPoint,s=this.context.view.getCoordinate(),u=this.context.getCurrentPoint(),h=s.invert(n),d=s.invert(u),p=d.x-h.x,y=d.y-h.y,x=this.context.view;(0,S.S6)(this.dims,function(M){t.translateDim(M,{x:-1*p,y:-1*y})}),x.render(!0)}},r.prototype.translateDim=function(t,n){if(this.hasDim(t)){var s=this.getScale(t);s.isLinear&&this.translateLinear(t,s,n)}},r.prototype.translateLinear=function(t,n,s){var u=this.context.view,h=this.startCache[t],d=h.min,p=h.max,x=s[t]*(p-d);this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:n.nice,min:d,max:p}),u.scale(n.field,{nice:!1,min:d+x,max:p+x})},r.prototype.reset=function(){e.prototype.reset.call(this),this.startPoint=null,this.starting=!1},r}($_);const XL=VL;var $L=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.zoomRatio=.05,t}return(0,E.ZT)(r,e),r.prototype.zoomIn=function(){this.zoom(this.zoomRatio)},r.prototype.zoom=function(t){var n=this;(0,S.S6)(this.dims,function(u){n.zoomDim(u,t)}),this.context.view.render(!0)},r.prototype.zoomOut=function(){this.zoom(-1*this.zoomRatio)},r.prototype.zoomDim=function(t,n){if(this.hasDim(t)){var s=this.getScale(t);s.isLinear&&this.zoomLinear(t,s,n)}},r.prototype.zoomLinear=function(t,n,s){var u=this.context.view;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:n.nice,min:n.min,max:n.max});var h=this.cacheScaleDefs[t],d=h.max-h.min,p=n.min,y=n.max,x=s*d,w=p-x,M=y+x,L=(M-w)/d;M>w&&L<100&&L>.01&&u.scale(n.field,{nice:!1,min:p-x,max:y+x})},r}($_);const Ve=$L;var qL=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.scroll=function(t){var n=this.context,s=n.view,u=n.event;if(s.getOptions().scrollbar){var h=t?.wheelDelta||1,d=s.getController("scrollbar"),p=s.getXScale(),y=s.getOptions().data,x=(0,S.dp)((0,S.I)(y,p.field)),w=(0,S.dp)(p.values),M=d.getValue(),L=Math.floor((x-w)*M)+(function ii(e){return e.gEvent.originalEvent.deltaY>0}(u)?h:-h),D=(0,S.uZ)(L/(x-w)+h/(x-w)/1e4,0,1);d.setValue(D)}},r}(cn);const jL=qL;var JL=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.show=function(){var t=this.context,s=ms(t).axis.cfg.title,u=s.description,h=s.text,d=s.descriptionTooltipStyle,p=t.event,y=p.x,x=p.y;this.tooltip||this.renderTooltip(),this.tooltip.update({title:h||"",customContent:function(){return'\n          <div class="'.concat(So,'" style={').concat(d,'}>\n            <div class="').concat(ds,'">\n              \u5b57\u6bb5\u8bf4\u660e\uff1a').concat(u,"\n            </div>\n          </div>\n        ")},x:y,y:x}),this.tooltip.show()},r.prototype.destroy=function(){e.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},r.prototype.hide=function(){this.tooltip&&this.tooltip.hide()},r.prototype.renderTooltip=function(){var t,s=this.context.view.canvas,u={start:{x:0,y:0},end:{x:s.get("width"),y:s.get("height")}},h=new Fh({parent:s.get("el").parentNode,region:u,visible:!1,containerId:"aixs-description-tooltip",domStyles:(0,E.pi)({},(0,S.b$)({},(t={},t[So]={"max-width":"50%",padding:"10px","line-height":"15px","font-size":"12px",color:"rgba(0, 0, 0, .65)"},t[ds]={"word-break":"break-all","margin-bottom":"3px"},t)))});h.init(),h.setCapture(!1),this.tooltip=h},r}(cn);const KL=JL;function Ts(e){return e.isInPlot()}function qi(e){return e.gEvent.preventDefault(),e.gEvent.originalEvent.deltaY>0}(function iC(e,r){kg[(0,S.vl)(e)]=xs(r)})("dark",Rg(r6)),gd("canvas",Ce),gd("svg",_e),Lo("Polygon",L4),Lo("Interval",Lw),Lo("Schema",O4),Lo("Path",gy),Lo("Point",Ow),Lo("Line",M4),Lo("Area",d4),Lo("Edge",p4),Lo("Heatmap",y4),Lo("Violin",D4),Ma("base",mv),Ma("interval",Qh),Ma("pie",Pv),Ma("polar",by),$n("overlap",function n5(e,r,t,n){var s=new Nw;(0,S.S6)(r,function(u){for(var h=u.find(function(T){return"text"===T.get("type")}),d=h.attr(),p=d.x,y=d.y,x=!1,w=0;w<=8;w++){var M=e5(h,p,y,w);if(s.hasGap(M)){s.fillGap(M),x=!0;break}}x||u.remove(!0)}),s.destroy()}),$n("distribute",function $4(e,r,t,n){if(e.length&&r.length){var s=e[0]?e[0].offset:0,u=r[0].get("coordinate"),h=u.getRadius(),d=u.getCenter();if(s>0){var x=2*(h+s)+28,w={start:u.start,end:u.end},M=[[],[]];e.forEach(function(T){T&&("right"===T.textAlign?M[0].push(T):M[1].push(T))}),M.forEach(function(T,L){var R=x/14;T.length>R&&(T.sort(function(D,k){return k["..percent"]-D["..percent"]}),T.splice(R,T.length-R)),T.sort(function(D,k){return D.y-k.y}),function X4(e,r,t,n,s,u){var h,d,T,p=!0,y=n.start,x=n.end,w=Math.min(y.y,x.y),M=Math.abs(y.y-x.y),L=0,R=Number.MIN_VALUE,D=r.map(function(o){return o.y>L&&(L=o.y),o.y<R&&(R=o.y),{size:t,targets:[o.y-w]}});for(R-=w,L-w>M&&(M=L-w);p;)for(D.forEach(function(o){var i=(Math.min.apply(R,o.targets)+Math.max.apply(R,o.targets))/2;o.pos=Math.min(Math.max(R,i-o.size/2),M-o.size)}),p=!1,T=D.length;T--;)if(T>0){var k=D[T-1],z=D[T];k.pos+k.size>z.pos&&(k.size+=z.size,k.targets=k.targets.concat(z.targets),k.pos+k.size>M&&(k.pos=M-k.size),D.splice(T,1),p=!0)}T=0,D.forEach(function(o){var i=w+t/2;o.targets.forEach(function(){r[T].y=o.pos+i,i+=t,T++})});var G={};try{for(var U=(0,E.XA)(e),q=U.next();!q.done;q=U.next()){var a=q.value;G[a.get("id")]=a}}catch(o){h={error:o}}finally{try{q&&!q.done&&(d=U.return)&&d.call(U)}finally{if(h)throw h.error}}r.forEach(function(o){var i=o.r*o.r,l=Math.pow(Math.abs(o.y-s.y),2);if(i<l)o.x=s.x;else{var c=Math.sqrt(i-l);o.x=u?s.x+c:s.x-c}var f=G[o.id];f.attr("x",o.x),f.attr("y",o.y);var v=(0,S.sE)(f.getChildren(),function(g){return"text"===g.get("type")});v&&(v.attr("y",o.y),v.attr("x",o.x))})}(r,T,14,w,d,L)})}(0,S.S6)(e,function(T){if(T&&T.labelLine){var L=T.offset,R=T.angle,D=kn(d.x,d.y,h,R),k=kn(d.x,d.y,h+L/2,R),z=T.x+(0,S.U2)(T,"offsetX",0),G=T.y+(0,S.U2)(T,"offsetY",0),U={x:z-4*Math.cos(R),y:G-4*Math.sin(R)};(0,S.Kn)(T.labelLine)||(T.labelLine={}),T.labelLine.path=["M ".concat(D.x),"".concat(D.y," Q").concat(k.x),"".concat(k.y," ").concat(U.x),U.y].join(",")}})}}),$n("fixed-overlap",function r5(e,r,t,n){var s=new Nw;(0,S.S6)(r,function(u){(function t5(e,r,t){void 0===t&&(t=100);var y,z,s=e.attr(),u=s.x,h=s.y,d=e.getCanvasBBox(),p=Math.sqrt(d.width*d.width+d.height*d.height),x=1,w=0,M=0;if(r.hasGap(d))return r.fillGap(d),!0;for(var L=!1,R=0,D={};Math.min(Math.abs(w),Math.abs(M))<p&&R<t;)if(void 0,M=~~(y=[(z=.1*(x+=-1))*Math.cos(z),z*Math.sin(z)])[1],((w=~~y[0])||M)&&!D["".concat(w,"-").concat(M)]&&(e.attr({x:u+w,y:h+M}),w+M<0&&e.attr("textAlign","right"),R++,r.hasGap(e.getCanvasBBox()))){r.fillGap(e.getCanvasBBox()),L=!0,D["".concat(w,"-").concat(M)]=!0;break}return L})(u.find(function(d){return"text"===d.get("type")}),s)||u.remove(!0)}),s.destroy()}),$n("hide-overlap",function rf(e,r,t,n){return(0,E.mG)(this,void 0,void 0,function(){var s,u,h,d,p,y;return(0,E.Jh)(this,function(x){switch(x.label){case 0:return s=r.map(function(w,M){return(0,E.pi)((0,E.pi)({},xC(w,e[M],(0,S.U2)(e[M],"background.padding"))),{visible:!0})}),u=JSON.stringify(s),h=function(w){return Ry.set(u,w),(0,S.S6)(w,function(M,T){var R=r[T];M.visible?R?.show():R?.hide()}),w},Ry.get(u)?(h(Ry.get(u)),[3,7]):[3,1];case 1:if(!Fy)return[3,6];x.label=2;case 2:return x.trys.push([2,4,,5]),d=JSON.stringify({type:"hide-overlap",items:s}),[4,Fy.post(d,function(){return h(zv(s))})];case 3:return p=x.sent(),h(Array.isArray(p.data)?p.data:[]),[3,5];case 4:return y=x.sent(),console.error(y),h(zv(s)),[3,5];case 5:return[3,7];case 6:h(zv(s)),x.label=7;case 7:return[2]}})})}),$n("limit-in-shape",function zw(e,r,t,n){(0,S.S6)(r,function(s,u){var h=s.getCanvasBBox(),d=t[u].getBBox();(h.minX<d.minX||h.minY<d.minY||h.maxX>d.maxX||h.maxY>d.maxY)&&s.remove(!0)})}),$n("limit-in-canvas",function Q4(e,r,t,n){(0,S.S6)(r,function(s){var u=n.minX,h=n.minY,d=n.maxX,p=n.maxY,y=s.getCanvasBBox(),x=y.minX,w=y.minY,M=y.maxX,T=y.maxY,L=y.x,R=y.y,z=L,G=R;(x<u||M<u)&&(z=u),(w<h||T<h)&&(G=h),x>d?z=d-y.width:M>d&&(z-=M-d),w>p?G=p-y.height:T>p&&(G-=T-p),(z!==L||G!==R)&&Ga(s,z-L,G-R)})}),$n("limit-in-plot",function Gv(e,r,t,n,s){if(!(r.length<=0)){var u=s?.direction||["top","right","bottom","left"],h=s?.action||"translate",d=s?.margin||0,p=r[0].get("coordinate");if(p){var y=function rc(e,r){void 0===r&&(r=0);var t=e.start,n=e.end,s=e.getWidth(),u=e.getHeight(),h=Math.min(t.x,n.x),d=Math.min(t.y,n.y);return Oi.fromRange(h-r,d-r,h+s+r,d+u+r)}(p,d),x=y.minX,w=y.minY,M=y.maxX,T=y.maxY;(0,S.S6)(r,function(L){var R=L.getCanvasBBox(),D=R.minX,k=R.minY,z=R.maxX,G=R.maxY,U=R.x,q=R.y,a=R.width,o=R.height,i=U,l=q;if(u.indexOf("left")>=0&&(D<x||z<x)&&(i=x),u.indexOf("top")>=0&&(k<w||G<w)&&(l=w),u.indexOf("right")>=0&&(D>M?i=M-a:z>M&&(i-=z-M)),u.indexOf("bottom")>=0&&(k>T?l=T-o:G>T&&(l-=G-T)),i!==U||l!==q){var c=i-U;"translate"===h?Ga(L,c,l-q):"ellipsis"===h?L.findAll(function(v){return"text"===v.get("type")}).forEach(function(v){var g=(0,S.ei)(v.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),m=v.getCanvasBBox(),_=function(e,r,t){var u,s=uo("...",t);u=(0,S.HD)(e)?e:(0,S.BB)(e);var p,y,h=r,d=[];if(uo(e,t)<=r)return e;for(;p=u.substr(0,16),!((y=uo(p,t))+s>h&&y>h);)if(d.push(p),h-=y,!(u=u.substr(16)))return d.join("");for(;p=u.substr(0,1),!((y=uo(p,t))+s>h);)if(d.push(p),h-=y,!(u=u.substr(1)))return d.join("");return"".concat(d.join(""),"...")}(v.attr("text"),m.width-Math.abs(c),g);v.attr("text",_)}):L.hide()}})}}}),$n("pie-outer",function q4(e,r,t,n){var s,u,h=(0,S.hX)(e,function(i){return!(0,S.UM)(i)}),d=r[0]&&r[0].get("coordinate");if(d){var p=d.getCenter(),y=d.getRadius(),x={};try{for(var w=(0,E.XA)(r),M=w.next();!M.done;M=w.next()){var T=M.value;x[T.get("id")]=T}}catch(i){s={error:i}}finally{try{M&&!M.done&&(u=w.return)&&u.call(w)}finally{if(s)throw s.error}}var L=(0,S.U2)(h[0],"labelHeight",14),R=(0,S.U2)(h[0],"offset",0);if(!(R<=0)){var k="right",z=(0,S.vM)(h,function(i){return i.x<p.x?"left":k}),G=d.start,U=d.end,q=Math.min(2*(y+R+L),d.getHeight()),a=q/2,o={minX:G.x,maxX:U.x,minY:p.y-a,maxY:p.y+a};(0,S.S6)(z,function(i,l){var c=Math.floor(q/L);i.length>c&&(i.sort(function(f,v){return v.percent-f.percent}),(0,S.S6)(i,function(f,v){v+1>c&&(x[f.id].set("visible",!1),f.invisible=!0)})),kw(i,L,o)}),(0,S.S6)(z,function(i,l){(0,S.S6)(i,function(c){var f=l===k,g=x[c.id].getChildByIndex(0);if(g){var m=y+R,_=c.y-p.y,b=Math.pow(m,2),A=Math.pow(_,2),O=Math.sqrt(b-A>0?b-A:0),F=Math.abs(Math.cos(c.angle)*m);c.x=f?p.x+Math.max(O,F):p.x-Math.max(O,F)}g&&(g.attr("y",c.y),g.attr("x",c.x)),function Z4(e,r){var t=r.getCenter(),n=r.getRadius();if(e&&e.labelLine){var s=e.angle,u=e.offset,h=kn(t.x,t.y,n,s),d=e.x+(0,S.U2)(e,"offsetX",0)*(Math.cos(s)>0?1:-1),p=e.y+(0,S.U2)(e,"offsetY",0)*(Math.sin(s)>0?1:-1),y={x:d-4*Math.cos(s),y:p-4*Math.sin(s)},x=e.labelLine.smooth,w=[],M=y.x-t.x,L=Math.atan((y.y-t.y)/M);if(M<0&&(L+=Math.PI),!1===x){(0,S.Kn)(e.labelLine)||(e.labelLine={});var R=0;(s<0&&s>-Math.PI/2||s>1.5*Math.PI)&&y.y>h.y&&(R=1),s>=0&&s<Math.PI/2&&y.y>h.y&&(R=1),s>=Math.PI/2&&s<Math.PI&&h.y>y.y&&(R=1),(s<-Math.PI/2||s>=Math.PI&&s<1.5*Math.PI)&&h.y>y.y&&(R=1);var D=u/2>4?4:Math.max(u/2-1,0),k=kn(t.x,t.y,n+D,s),z=kn(t.x,t.y,n+u/2,L);w.push("M ".concat(h.x," ").concat(h.y)),w.push("L ".concat(k.x," ").concat(k.y)),w.push("A ".concat(t.x," ").concat(t.y," 0 ").concat(0," ").concat(R," ").concat(z.x," ").concat(z.y)),w.push("L ".concat(y.x," ").concat(y.y))}else{k=kn(t.x,t.y,n+(u/2>4?4:Math.max(u/2-1,0)),s);var U=h.x<t.x?1:-1;w.push("M ".concat(y.x," ").concat(y.y)),Math.abs((h.y-t.y)/(h.x-t.x)-(y.y-t.y)/(y.x-t.x))>Math.pow(Math.E,-16)&&w.push.apply(w,["C",y.x+4*U,y.y,2*k.x-h.x,2*k.y-h.y,h.x,h.y]),w.push("L ".concat(h.x," ").concat(h.y))}e.labelLine.path=w.join(" ")}}(c,d)})})}}}),$n("adjust-color",function Vw(e,r,t){if(0!==t.length){var s=t[0].get("element").geometry.theme,u=s.labels||{},h=u.fillColorLight,d=u.fillColorDark;t.forEach(function(p,y){var w=r[y].find(function(k){return"text"===k.get("type")}),M=Oi.fromObject(p.getBBox()),T=Oi.fromObject(w.getCanvasBBox()),L=!M.contains(T),D=function(e){var r=is.toRGB(e).toUpperCase();if(Yw[r])return Yw[r];var t=(0,E.CR)(is.rgb2arr(r),3);return(299*t[0]+587*t[1]+114*t[2])/1e3<128}(p.attr("fill"));L?w.attr(s.overflowLabels.style):D?h&&w.attr("fill",h):d&&w.attr("fill",d)})}}),$n("interval-adjust-position",function Dr(e,r,t){var n;if(0!==t.length){var u=(null===(n=t[0])||void 0===n?void 0:n.get("element"))?.geometry;u&&"interval"===u.type&&function u5(e,r,t){return!!e.getAdjust("stack")||r.every(function(s,u){return function Dy(e,r,t){var n=e.coordinate,s=Fi(r),u=Oi.fromObject(s.getCanvasBBox()),h=Oi.fromObject(t.getBBox());return n.isTransposed?h.height>=u.height:h.width>=u.width}(e,s,t[u])})}(u,r,t)&&t.forEach(function(d,p){!function Xw(e,r,t){var n=e.coordinate,s=Oi.fromObject(t.getBBox());Fi(r).attr(n.isTransposed?{x:s.minX+s.width/2,textAlign:"center"}:{y:s.minY+s.height/2,textBaseline:"middle"})}(u,r[p],d)})}}),$n("interval-hide-overlap",function $w(e,r,t){var n;if(0!==t.length){var u=(null===(n=t[0])||void 0===n?void 0:n.get("element"))?.geometry;if(u&&"interval"===u.type){var T,h=function c5(e){var t=[],n=Math.max(Math.floor(e.length/500),1);return(0,S.S6)(e,function(s,u){u%n==0?t.push(s):s.set("visible",!1)}),t}(r),p=(0,E.CR)(u.getXYFields(),1)[0],y=[],x=[],w=(0,S.vM)(h,function(D){return D.get("data")[p]}),M=(0,S.jj)((0,S.UI)(h,function(D){return D.get("data")[p]}));h.forEach(function(D){D.set("visible",!0)});var L=function(D){D&&(D.length&&x.push(D.pop()),x.push.apply(x,(0,E.ev)([],(0,E.CR)(D),!1)))};for((0,S.dp)(M)>0&&(T=M.shift(),L(w[T])),(0,S.dp)(M)>0&&(T=M.pop(),L(w[T])),(0,S.S6)(M.reverse(),function(D){L(w[D])});x.length>0;){var R=x.shift();R.get("visible")&&(Z3(R,y)?R.set("visible",!1):y.push(R))}}}}),$n("point-adjust-position",function f5(e,r,t,n,s){var u,h;if(0!==t.length){var p=(null===(u=t[0])||void 0===u?void 0:u.get("element"))?.geometry;if(p&&"point"===p.type){var y=(0,E.CR)(p.getXYFields(),2),x=y[0],w=y[1],M=(0,S.vM)(r,function(R){return R.get("data")[x]}),T=[],L=s&&s.offset||(null===(h=e[0])||void 0===h?void 0:h.offset)||12;(0,S.UI)((0,S.XP)(M).reverse(),function(R){for(var D=function Zw(e,r){var t=e.getXYFields()[1],n=[],s=r.sort(function(u,h){return u.get("data")[t]-u.get("data")[t]});return s.length>0&&n.push(s.shift()),s.length>0&&n.push(s.pop()),n.push.apply(n,(0,E.ev)([],(0,E.CR)(s),!1)),n}(p,M[R]);D.length;){var k=D.shift(),z=Fi(k);if(qw(T,k,function(q,a){return q.get("data")[x]===a.get("data")[x]&&q.get("data")[w]===a.get("data")[w]}))z.set("visible",!1);else{var U=!1;jw(T,k)&&(z.attr("y",z.attr("y")+2*L),U=jw(T,k)),U?z.set("visible",!1):T.push(k)}}})}}}),$n("pie-spider",function K4(e,r,t,n){var s,u,h=r[0]&&r[0].get("coordinate");if(h){var d=h.getCenter(),p=h.getRadius(),y={};try{for(var x=(0,E.XA)(r),w=x.next();!w.done;w=x.next()){var M=w.value;y[M.get("id")]=M}}catch(i){s={error:i}}finally{try{w&&!w.done&&(u=x.return)&&u.call(x)}finally{if(s)throw s.error}}var T=(0,S.U2)(e[0],"labelHeight",14),L=Math.max((0,S.U2)(e[0],"offset",0),4);(0,S.S6)(e,function(i){if(i&&(0,S.U2)(y,[i.id])){var c=i.x>d.x||i.x===d.x&&i.y>d.y,f=(0,S.UM)(i.offsetX)?4:i.offsetX,v=kn(d.x,d.y,p+4,i.angle);i.x=d.x+(c?1:-1)*(p+(L+f)),i.y=v.y}});var R=h.start,D=h.end,z="right",G=(0,S.vM)(e,function(i){return i.x<d.x?"left":z}),U=2*(p+L)+T;(0,S.S6)(G,function(i){var l=i.length*T;l>U&&(U=Math.min(l,Math.abs(R.y-D.y)))});var q={minX:R.x,maxX:D.x,minY:d.y-U/2,maxY:d.y+U/2};(0,S.S6)(G,function(i,l){var c=U/T;i.length>c&&(i.sort(function(f,v){return v.percent-f.percent}),(0,S.S6)(i,function(f,v){v>c&&(y[f.id].set("visible",!1),f.invisible=!0)})),kw(i,T,q)});var a=q.minY,o=q.maxY;(0,S.S6)(G,function(i,l){var c=l===z;(0,S.S6)(i,function(f){var v=(0,S.U2)(y,f&&[f.id]);if(v){if(f.y<a||f.y>o)return void v.set("visible",!1);var g=v.getChildByIndex(0),m=g.getCanvasBBox(),_={x:c?m.x:m.maxX,y:m.y+m.height/2};Ga(g,f.x-_.x,f.y-_.y),f.labelLine&&function J4(e,r,t){var x,n=r.getCenter(),s=r.getRadius(),u={x:e.x-(t?4:-4),y:e.y},h=kn(n.x,n.y,s+4,e.angle),d={x:u.x,y:u.y},p={x:h.x,y:h.y},y=kn(n.x,n.y,s,e.angle);if(u.y!==h.y){var w=t?4:-4;d.y=u.y,e.angle<0&&e.angle>=-Math.PI/2&&(d.x=Math.max(h.x,u.x-w),u.y<h.y?p.y=d.y:(p.y=h.y,p.x=Math.max(p.x,d.x-w))),e.angle>0&&e.angle<Math.PI/2&&(d.x=Math.max(h.x,u.x-w),u.y>h.y?p.y=d.y:(p.y=h.y,p.x=Math.max(p.x,d.x-w))),e.angle>Math.PI/2&&(d.x=Math.min(h.x,u.x-w),u.y>h.y?p.y=d.y:(p.y=h.y,p.x=Math.min(p.x,d.x-w))),e.angle<-Math.PI/2&&(d.x=Math.min(h.x,u.x-w),u.y<h.y?p.y=d.y:(p.y=h.y,p.x=Math.min(p.x,d.x-w)))}x=["M ".concat(u.x,",").concat(u.y),"L ".concat(d.x,",").concat(d.y),"L ".concat(p.x,",").concat(p.y),"L ".concat(h.x,",").concat(h.y),"L ".concat(y.x,",").concat(y.y)].join(" "),e.labelLine=(0,S.b$)({},e.labelLine,{path:x})}(f,h,c)}})})}}),$n("path-adjust-position",function Bo(e,r,t,n,s){var u,h;if(0!==t.length){var p=(null===(u=t[0])||void 0===u?void 0:u.get("element"))?.geometry;if(p&&!(["path","line","area"].indexOf(p.type)<0)){var y=(0,E.CR)(p.getXYFields(),2),x=y[0],w=y[1],M=(0,S.vM)(r,function(R){return R.get("data")[x]}),T=[],L=s&&s.offset||(null===(h=e[0])||void 0===h?void 0:h.offset)||12;(0,S.UI)((0,S.XP)(M).reverse(),function(R){for(var D=function d5(e,r){var t=e.getXYFields()[1],n=[],s=r.sort(function(u,h){return u.get("data")[t]-u.get("data")[t]});return s.length>0&&n.push(s.shift()),s.length>0&&n.push(s.pop()),n.push.apply(n,(0,E.ev)([],(0,E.CR)(s),!1)),n}(p,M[R]);D.length;){var k=D.shift(),z=Fi(k);if(ky(T,k,function(q,a){return q.get("data")[x]===a.get("data")[x]&&q.get("data")[w]===a.get("data")[w]}))z.set("visible",!1);else{var U=!1;Nv(T,k)&&(z.attr("y",z.attr("y")+2*L),U=Nv(T,k)),U?z.set("visible",!1):T.push(k)}}})}}}),Sa("fade-in",function y5(e,r,t){var n={fillOpacity:(0,S.UM)(e.attr("fillOpacity"))?1:e.attr("fillOpacity"),strokeOpacity:(0,S.UM)(e.attr("strokeOpacity"))?1:e.attr("strokeOpacity"),opacity:(0,S.UM)(e.attr("opacity"))?1:e.attr("opacity")};e.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),e.animate(n,r)}),Sa("fade-out",function m5(e,r,t){e.animate({fillOpacity:0,strokeOpacity:0,opacity:0},r.duration,r.easing,function(){e.remove(!0)},r.delay)}),Sa("grow-in-x",function C5(e,r,t){By(e,r,t.coordinate,t.minYPoint,"x")}),Sa("grow-in-xy",function Py(e,r,t){By(e,r,t.coordinate,t.minYPoint,"xy")}),Sa("grow-in-y",function w5(e,r,t){By(e,r,t.coordinate,t.minYPoint,"y")}),Sa("scale-in-x",function S5(e,r,t){var n=e.getBBox(),u=e.get("origin").mappingData.points,h=u[0].y-u[1].y>0?n.maxX:n.minX,d=(n.minY+n.maxY)/2;e.applyToMatrix([h,d,1]);var p=an.vs(e.getMatrix(),[["t",-h,-d],["s",.01,1],["t",h,d]]);e.setMatrix(p),e.animate({matrix:an.vs(e.getMatrix(),[["t",-h,-d],["s",100,1],["t",h,d]])},r)}),Sa("scale-in-y",function Wv(e,r,t){var n=e.getBBox(),s=e.get("origin").mappingData,u=(n.minX+n.maxX)/2,h=s.points,d=h[0].y-h[1].y<=0?n.maxY:n.minY;e.applyToMatrix([u,d,1]);var p=an.vs(e.getMatrix(),[["t",-u,-d],["s",1,.01],["t",u,d]]);e.setMatrix(p),e.animate({matrix:an.vs(e.getMatrix(),[["t",-u,-d],["s",1,100],["t",u,d]])},r)}),Sa("wave-in",function M5(e,r,t){var n=ov(t.coordinate,20),h=n.endState,d=e.setClip({type:n.type,attrs:n.startState});t.toAttrs&&e.attr(t.toAttrs),d.animate(h,(0,E.pi)((0,E.pi)({},r),{callback:function(){e&&!e.get("destroyed")&&e.set("clipShape",null),d.remove(!0),(0,S.mf)(r.callback)&&r.callback()}}))}),Sa("zoom-in",function b5(e,r,t){Uv(e,r,"zoomIn")}),Sa("zoom-out",function T5(e,r,t){Uv(e,r,"zoomOut")}),Sa("position-update",function zy(e,r,t){var n=t.toAttrs,s=n.x,u=n.y;delete n.x,delete n.y,e.attr(n),e.animate({x:s,y:u},r)}),Sa("sector-path-update",function nf(e,r,t){var n=t.toAttrs,s=t.coordinate,u=n.path||[],h=u.map(function(z){return z[0]});if(!(u.length<1)){var d=Qw(u),p=d.startAngle,y=d.endAngle,x=d.radius,w=d.innerRadius,M=Qw(e.attr("path")),T=M.startAngle,L=M.endAngle,R=s.getCenter(),D=p-T,k=y-L;if(0===D&&0===k)return void e.attr("path",u);e.animate(function(z){var G=T+z*D,U=L+z*k;return(0,E.pi)((0,E.pi)({},n),{path:(0,S.Xy)(h,["M","A","A","Z"])?D2(R.x,R.y,x,G,U):el(R.x,R.y,x,G,U,w)})},(0,E.pi)((0,E.pi)({},r),{callback:function(){e.attr("path",u),(0,S.mf)(r.callback)&&r.callback()}}))}}),Sa("path-in",function _5(e,r,t){var n=e.getTotalLength();e.attr("lineDash",[n]),e.animate(function(s){return{lineDashOffset:(1-s)*n}},r)}),Ql("rect",I5),Ql("mirror",Hy),Ql("list",A5),Ql("matrix",e_),Ql("circle",Ny),Ql("tree",r_),Eo("axis",a_),Eo("legend",z5),Eo("tooltip",Wh),Eo("annotation",F5),Eo("slider",Wy),Eo("scrollbar",H5),rr("tooltip",d_),rr("sibling-tooltip",Y5),rr("ellipsis-text",X5),rr("element-active",y_),rr("element-single-active",K5),rr("element-range-active",J5),rr("element-highlight",Kv),rr("element-highlight-by-x",Cc),rr("element-highlight-by-color",Qv),rr("element-single-highlight",nL),rr("element-range-highlight",C_),rr("element-sibling-highlight",C_,{effectSiblings:!0,effectByRecord:!0}),rr("element-selected",sL),rr("element-single-selected",uL),rr("element-range-selected",aL),rr("element-link-by-color",sf),rr("active-region",U5),rr("list-active",fL),rr("list-selected",S_),rr("list-highlight",$y),rr("list-unchecked",yL),rr("list-checked",mL),rr("list-focus",CL),rr("list-radio",rp),rr("legend-item-highlight",$y,{componentNames:["legend"]}),rr("axis-label-highlight",$y,{componentNames:["axis"]}),rr("axis-description",KL),rr("rect-mask",E_),rr("x-rect-mask",O_,{dim:"x"}),rr("y-rect-mask",O_,{dim:"y"}),rr("circle-mask",SL),rr("path-mask",R_),rr("smooth-path-mask",ML),rr("rect-multi-mask",k_),rr("x-rect-multi-mask",B_,{dim:"x"}),rr("y-rect-multi-mask",B_,{dim:"y"}),rr("circle-multi-mask",AL),rr("path-multi-mask",P_),rr("smooth-path-multi-mask",LL),rr("cursor",OL),rr("data-filter",N_),rr("brush",ip),rr("brush-x",ip,{dims:["x"]}),rr("brush-y",ip,{dims:["y"]}),rr("sibling-filter",hu),rr("sibling-x-filter",hu,{dims:"x"}),rr("sibling-y-filter",hu,{dims:"y"}),rr("element-filter",kL),rr("element-sibling-filter",W_),rr("element-sibling-filter-record",W_,{byRecord:!0}),rr("view-drag",No),rr("view-move",Y_),rr("scale-translate",XL),rr("scale-zoom",Ve),rr("reset-button",NL,{name:"reset-button",text:"reset"}),rr("mousewheel-scroll",jL),wr("tooltip",{start:[{trigger:"plot:mousemove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseleave",action:"tooltip:hide"},{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"}]}),wr("ellipsis-text",{start:[{trigger:"legend-item-name:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"legend-item-name:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"legend-item-name:mouseleave",action:"ellipsis-text:hide"},{trigger:"legend-item-name:touchend",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseleave",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseout",action:"ellipsis-text:hide"},{trigger:"axis-label:touchend",action:"ellipsis-text:hide"}]}),wr("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]}),wr("element-selected",{start:[{trigger:"element:click",action:"element-selected:toggle"}]}),wr("element-highlight",{start:[{trigger:"element:mouseenter",action:"element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight:reset"}]}),wr("element-highlight-by-x",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-x:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-x:reset"}]}),wr("element-highlight-by-color",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-color:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-color:reset"}]}),wr("legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","element-active:reset"]}]}),wr("legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","element-highlight:reset"]}]}),wr("axis-label-highlight",{start:[{trigger:"axis-label:mouseenter",action:["axis-label-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"axis-label:mouseleave",action:["axis-label-highlight:reset","element-highlight:reset"]}]}),wr("element-list-highlight",{start:[{trigger:"element:mouseenter",action:["list-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"element:mouseleave",action:["list-highlight:reset","element-highlight:reset"]}]}),wr("element-range-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(e){return!e.isInShape("mask")},action:["rect-mask:start","rect-mask:show"]},{trigger:"mask:dragstart",action:["rect-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:drag",action:["rect-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end"]},{trigger:"mask:dragend",action:["rect-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(e){return!e.isInPlot()},action:["element-range-highlight:clear","rect-mask:end","rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","rect-mask:hide"]}]}),wr("brush",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:Ts,action:["brush:start","rect-mask:start","rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:Ts,action:["rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:Ts,action:["brush:filter","brush:end","rect-mask:end","rect-mask:hide","reset-button:show"]}],rollback:[{trigger:"reset-button:click",action:["brush:reset","reset-button:hide","cursor:crosshair"]}]}),wr("brush-visible",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"plot:mousedown",action:["rect-mask:start","rect-mask:show"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end","rect-mask:hide","element-filter:filter","element-range-highlight:clear"]}],rollback:[{trigger:"dblclick",action:["element-filter:clear"]}]}),wr("brush-x",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:Ts,action:["brush-x:start","x-rect-mask:start","x-rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:Ts,action:["x-rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:Ts,action:["brush-x:filter","brush-x:end","x-rect-mask:end","x-rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]}),wr("element-path-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:Ts,action:"path-mask:start"},{trigger:"mousedown",isEnable:Ts,action:"path-mask:show"}],processing:[{trigger:"mousemove",action:"path-mask:addPoint"}],end:[{trigger:"mouseup",action:"path-mask:end"}],rollback:[{trigger:"dblclick",action:"path-mask:hide"}]}),wr("brush-x-multi",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"mousedown",isEnable:Ts,action:["x-rect-multi-mask:start","x-rect-multi-mask:show"]},{trigger:"mask:dragstart",action:["x-rect-multi-mask:moveStart"]}],processing:[{trigger:"mousemove",isEnable:function(e){return!hv(e)},action:["x-rect-multi-mask:resize"]},{trigger:"multi-mask:change",action:"element-range-highlight:highlight"},{trigger:"mask:drag",action:["x-rect-multi-mask:move"]}],end:[{trigger:"mouseup",action:["x-rect-multi-mask:end"]},{trigger:"mask:dragend",action:["x-rect-multi-mask:moveEnd"]}],rollback:[{trigger:"dblclick",action:["x-rect-multi-mask:clear","cursor:crosshair"]},{trigger:"multi-mask:clearAll",action:["element-range-highlight:clear"]},{trigger:"multi-mask:clearSingle",action:["element-range-highlight:highlight"]}]}),wr("element-single-selected",{start:[{trigger:"element:click",action:"element-single-selected:toggle"}]}),wr("legend-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:["cursor:pointer","list-radio:show"]},{trigger:"legend-item:mouseleave",action:["cursor:default","list-radio:hide"]}],start:[{trigger:"legend-item:click",isEnable:function(e){return!e.isInShape("legend-item-radio")},action:["legend-item-highlight:reset","element-highlight:reset","list-unchecked:toggle","data-filter:filter","list-radio:show"]},{trigger:"legend-item-radio:mouseenter",action:["list-radio:showTip"]},{trigger:"legend-item-radio:mouseleave",action:["list-radio:hideTip"]},{trigger:"legend-item-radio:click",action:["list-focus:toggle","data-filter:filter","list-radio:show"]}]}),wr("continuous-filter",{start:[{trigger:"legend:valuechanged",action:"data-filter:filter"}]}),wr("continuous-visible-filter",{start:[{trigger:"legend:valuechanged",action:"element-filter:filter"}]}),wr("legend-visible-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["legend-item-highlight:reset","element-highlight:reset","list-unchecked:toggle","element-filter:filter"]}]}),wr("active-region",{start:[{trigger:"plot:mousemove",action:"active-region:show"}],end:[{trigger:"plot:mouseleave",action:"active-region:hide"}]}),wr("axis-description",{start:[{trigger:"axis-description:mousemove",action:"axis-description:show"}],end:[{trigger:"axis-description:mouseleave",action:"axis-description:hide"}]}),wr("view-zoom",{start:[{trigger:"plot:mousewheel",isEnable:function(e){return qi(e.event)},action:"scale-zoom:zoomOut",throttle:{wait:100,leading:!0,trailing:!1}},{trigger:"plot:mousewheel",isEnable:function(e){return!qi(e.event)},action:"scale-zoom:zoomIn",throttle:{wait:100,leading:!0,trailing:!1}}]}),wr("sibling-tooltip",{start:[{trigger:"plot:mousemove",action:"sibling-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"sibling-tooltip:hide"}]}),wr("plot-mousewheel-scroll",{start:[{trigger:"plot:mousewheel",action:"mousewheel-scroll:scroll"}]});var ki=["type","alias","tickCount","tickInterval","min","max","nice","minLimit","maxLimit","range","tickMethod","base","exponent","mask","sync"],qa=(()=>(function(e){e.ERROR="error",e.WARN="warn",e.INFO="log"}(qa||(qa={})),qa))(),q_="AntV/G2Plot";function j_(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];var n=0;return"".concat(q_,": ").concat(e.replace(/%s/g,function(){return"".concat(r[n++])}))}function fn(e,r,t){for(var n=[],s=3;s<arguments.length;s++)n[s-3]=arguments[s];r||console[e](j_.apply(void 0,(0,E.ev)([t],n,!1)))}function jr(e,r){var t={};return null!==e&&"object"==typeof e&&r.forEach(function(n){var s=e[n];void 0!==s&&(t[n]=s)}),t}function tm(e,r){if(!e)return{};var t=e.filter(function(u){var h=(0,S.U2)(u,[r]);return(0,S.hj)(h)&&!isNaN(h)}),n=t.every(function(u){return(0,S.U2)(u,[r])>=0}),s=t.every(function(u){return(0,S.U2)(u,[r])<=0});return n?{min:0}:s?{max:0}:{}}function J_(e,r,t,n,s){if(void 0===s&&(s=[]),!Array.isArray(e))return{nodes:[],links:[]};var u=[],h={},d=-1;return e.forEach(function(p){var y=p[r],x=p[t],w=p[n],M=jr(p,s);h[y]||(h[y]=(0,E.pi)({id:++d,name:y},M)),h[x]||(h[x]=(0,E.pi)({id:++d,name:x},M)),u.push((0,E.pi)({source:h[y].id,target:h[x].id,value:w},M))}),{nodes:Object.values(h).sort(function(p,y){return p.id-y.id}),links:u}}function fu(e,r){var t=(0,S.hX)(e,function(n){var s=n[r];return null===s||"number"==typeof s&&!isNaN(s)});return fn(qa.WARN,t.length===e.length,"illegal data existed in chart data."),t}var im,em={}.toString,rm=function(e,r){return em.call(e)==="[object "+r+"]"},tI=function(e){return rm(e,"Array")},K_=function(e){if(!function(e){return"object"==typeof e&&null!==e}(e)||!rm(e,"Object"))return!1;for(var r=e;null!==Object.getPrototypeOf(r);)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r},Q_=function(e,r,t,n){for(var s in t=t||0,n=n||5,r)if(Object.prototype.hasOwnProperty.call(r,s)){var u=r[s];u?K_(u)?(K_(e[s])||(e[s]={}),t<n?Q_(e[s],u,t+1,n):e[s]=r[s]):tI(u)?(e[s]=[],e[s]=e[s].concat(u)):e[s]=u:e[s]=u}},$t=function(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];for(var n=0;n<r.length;n+=1)Q_(e,r[n]);return e};function nm(e){if(!e)return{width:0,height:0};var r=getComputedStyle(e);return{width:(e.clientWidth||parseInt(r.width,10))-parseInt(r.paddingLeft,10)-parseInt(r.paddingRight,10),height:(e.clientHeight||parseInt(r.height,10))-parseInt(r.paddingTop,10)-parseInt(r.paddingBottom,10)}}function vr(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return function(t){return e.reduce(function(n,s){return s(n)},t)}}function mi(e,r){return e.geometries.find(function(t){return t.type===r})}function ap(e){return(0,S.u4)(e.geometries,function(r,t){return r.concat(t.elements)},[])}function cf(e){return(0,S.U2)(e,["views","length"],0)<=0?ap(e):(0,S.u4)(e.views,function(r,t){return r.concat(cf(t))},ap(e))}function Jn(e){if(!(0,S.P9)(e,"Object"))return e;var r=(0,E.pi)({},e);return r.formatter&&!r.content&&(r.content=r.formatter),r}function du(e){return"number"==typeof e&&!isNaN(e)}function hl(e){if((0,S.hj)(e))return[e,e,e,e];if((0,S.kJ)(e)){var r=e.length;if(1===r)return[e[0],e[0],e[0],e[0]];if(2===r)return[e[0],e[1],e[0],e[1]];if(3===r)return[e[0],e[1],e[2],e[1]];if(4===r)return e}return[0,0,0,0]}function op(e,r,t){void 0===r&&(r="bottom"),void 0===t&&(t=25);var n=hl(e),s=[r.startsWith("top")?t:0,r.startsWith("right")?t:0,r.startsWith("bottom")?t:0,r.startsWith("left")?t:0];return[n[0]+s[0],n[1]+s[1],n[2]+s[2],n[3]+s[3]]}function am(e){var r=e.map(function(n){return hl(n)}),t=[0,0,0,0];return r.length>0&&(t=t.map(function(n,s){return r.forEach(function(u,h){n+=r[h][s]}),n})),t}(0,S.HP)(function(e,r){void 0===r&&(r={});var t=r.fontSize,n=r.fontFamily,s=void 0===n?"sans-serif":n,u=r.fontWeight,h=r.fontStyle,d=r.fontVariant,p=function rI(){return im||(im=document.createElement("canvas").getContext("2d")),im}();return p.font=[h,u,d,"".concat(t,"px"),s].join(" "),p.measureText((0,S.HD)(e)?e:"").width},function(e,r){return void 0===r&&(r={}),(0,E.ev)([e],(0,S.VO)(r),!0).join("")});var iI=function(e,r,t,n){var u,h,p,y,s=[],d=!!n;if(d){p=[1/0,1/0],y=[-1/0,-1/0];for(var x=0,w=e.length;x<w;x++)p=gr.VV([0,0],p,M=e[x]),y=gr.Fp([0,0],y,M);p=gr.VV([0,0],p,n[0]),y=gr.Fp([0,0],y,n[1])}x=0;for(var T=e.length;x<T;x++){var M=e[x];if(t)u=e[x?x-1:T-1],h=e[(x+1)%T];else{if(0===x||x===T-1){s.push(M);continue}u=e[x-1],h=e[x+1]}var L=[0,0];L=gr.lu(L,h,u),L=gr.bA(L,L,r);var R=gr.TE(M,u),D=gr.TE(M,h),k=R+D;0!==k&&(R/=k,D/=k);var z=gr.bA([0,0],L,-R),G=gr.bA([0,0],L,D),U=gr.IH([0,0],M,z),q=gr.IH([0,0],M,G);d&&(U=gr.Fp([0,0],U,p),U=gr.VV([0,0],U,y),q=gr.Fp([0,0],q,p),q=gr.VV([0,0],q,y)),s.push(U),s.push(q)}return t&&s.push(s.shift()),s};function tS(e){return e?e.match(/(([A-Z]{0,1}[a-z]*[^A-Z])|([A-Z]{1}))/g).map(function(t){return t.toLowerCase()}).join("-"):e}function eS(e){var r={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis",display:"flex",justifyContent:"center",alignItems:"center"},t=["stroke","lineWidth","shadowColor","strokeOpacity","shadowBlur","shadowOffsetX","shadowOffsetY","fill"];(0,S.U2)(e,"fill")&&(r.color=e.fill);var n=jr(e,t),u=n.shadowBlur,h=void 0===u?0:u,d=n.shadowOffsetX,y=n.shadowOffsetY,x=void 0===y?0:y;r["text-shadow"]="".concat([n.shadowColor,"".concat(void 0===d?0:d,"px"),"".concat(x,"px"),"".concat(h,"px")].join(" "));var w=jr(e,t),M=w.stroke,T=w.lineWidth;return r["-webkit-text-stroke"]="".concat(["".concat(void 0===T?0:T,"px"),M].join(" ")),(0,S.S6)(e,function(R,D){["fontSize"].includes(D)&&(0,S.hj)(R)?r[tS(D)]="".concat(R,"px"):D&&!t.includes(D)&&(r[tS(D)]="".concat(R))}),r}function rS(e,r){e.style["pointer-events"]="none",(0,S.S6)(r,function(t,n){n&&t&&(e.style[n]=t)})}var sp=function(e,r,t){var n=r.statistic,s=r.plotType,u=n.title,h=n.content;[u,h].forEach(function(d,p){if(d){var y;y=0===p?h?"translate(-50%, -100%)":"translate(-50%, -50%)":u?"translate(-50%, 0)":"translate(-50%, -50%)";var x=(0,S.mf)(d.style)?d.style(t):d.style;e.annotation().html((0,E.pi)({position:["50%","50%"],html:function(w,M){var T=M.getCoordinate(),L=0;if("pie"===s||"ring-progress"===s)L=T.getRadius()*T.innerRadius*2;else if("liquid"===s){var R=(0,S.U2)(M.geometries,[0,"elements",0,"shape"]);R&&(L=R.find(function(U){return"wrap"===U.get("name")}).getCanvasBBox().width)}else L||(L=T.getWidth());rS(w,(0,E.pi)({width:"".concat(L,"px"),transform:y},eS(x)));var z=M.getData();if(d.customHtml)return d.customHtml(w,M,t,z);var G=d.content;return d.formatter&&(G=d.formatter(t,z)),G?(0,S.HD)(G)?G:"".concat(G):"<div></div>"},key:"".concat(0===p?"top":"bottom","-statistic")},jr(d,["offsetX","offsetY","rotate","style","formatter"])))}})},nS=function(e,r,t){var n=r.statistic;[n.title,n.content].forEach(function(h){if(h){var d=(0,S.mf)(h.style)?h.style(t):h.style;e.annotation().html((0,E.pi)({position:["50%","100%"],html:function(p,y){var x=y.getCoordinate(),w=y.views[0].getCoordinate(),M=w.getCenter(),T=w.getRadius(),L=Math.max(Math.sin(w.startAngle),Math.sin(w.endAngle))*T,R=M.y+L-x.y.start-parseFloat((0,S.U2)(d,"fontSize",0)),D=x.getRadius()*x.innerRadius*2;rS(p,(0,E.pi)({width:"".concat(D,"px"),transform:"translate(-50%, ".concat(R,"px)")},eS(d)));var k=y.getData();if(h.customHtml)return h.customHtml(p,y,t,k);var z=h.content;return h.formatter&&(z=h.formatter(t,k)),z?(0,S.HD)(z)?z:"".concat(z):"<div></div>"}},jr(h,["offsetX","offsetY","rotate","style","formatter"])))}})};function iS(e,r){return r?(0,S.u4)(r,function(t,n,s){return t.replace(new RegExp("{\\s*".concat(s,"\\s*}"),"g"),n)},e):e}function Lr(e,r){return e.views.find(function(t){return t.id===r})}function vu(e){var r=e.parent;return r?r.views:[]}function aS(e){return vu(e).filter(function(r){return r!==e})}function hf(e,r,t){void 0===t&&(t=e.geometries),e.animate("boolean"!=typeof r||r),(0,S.S6)(t,function(n){var s;s=(0,S.mf)(r)?r(n.type||n.shapeType,n)||!0:r,n.animate(s)})}function pu(){return"object"==typeof window?window?.devicePixelRatio:2}function ho(e,r){void 0===r&&(r=e);var t=document.createElement("canvas"),n=pu();return t.width=e*n,t.height=r*n,t.style.width="".concat(e,"px"),t.style.height="".concat(r,"px"),t.getContext("2d").scale(n,n),t}function ff(e,r,t,n){void 0===n&&(n=t);var s=r.backgroundColor;e.globalAlpha=r.opacity,e.fillStyle=s,e.beginPath(),e.fillRect(0,0,t,n),e.closePath()}function lp(e,r,t){var n=e+r;return t?2*n:n}function oS(e,r){return r?[[.25*e,.25*e],[.75*e,.75*e]]:[[.5*e,.5*e]]}function up(e,r){var t=r*Math.PI/180;return{a:Math.cos(t)*(1/e),b:Math.sin(t)*(1/e),c:-Math.sin(t)*(1/e),d:Math.cos(t)*(1/e),e:0,f:0}}var oI={size:6,padding:2,backgroundColor:"transparent",opacity:1,rotation:0,fill:"#fff",fillOpacity:.5,stroke:"transparent",lineWidth:0,isStagger:!0};function sI(e,r,t,n){var s=r.size,u=r.fill,h=r.lineWidth,d=r.stroke,p=r.fillOpacity;e.beginPath(),e.globalAlpha=p,e.fillStyle=u,e.strokeStyle=d,e.lineWidth=h,e.arc(t,n,s/2,0,2*Math.PI,!1),e.fill(),h&&e.stroke(),e.closePath()}var cp={rotation:45,spacing:5,opacity:1,backgroundColor:"transparent",strokeOpacity:.5,stroke:"#fff",lineWidth:2};var hI={size:6,padding:1,isStagger:!0,backgroundColor:"transparent",opacity:1,rotation:0,fill:"#fff",fillOpacity:.5,stroke:"transparent",lineWidth:0};function fI(e,r,t,n){var s=r.stroke,u=r.size,h=r.fill,d=r.lineWidth;e.globalAlpha=r.fillOpacity,e.strokeStyle=s,e.lineWidth=d,e.fillStyle=h,e.strokeRect(t-u/2,n-u/2,u,u),e.fillRect(t-u/2,n-u/2,u,u)}function dI(e){var n,t=e.cfg;switch(e.type){case"dot":n=function lI(e){var r=$t({},oI,e),s=r.isStagger,u=r.rotation,h=lp(r.size,r.padding,s),d=oS(h,s),p=ho(h,h),y=p.getContext("2d");ff(y,r,h);for(var x=0,w=d;x<w.length;x++){var M=w[x];sI(y,r,M[0],M[1])}var R=y.createPattern(p,"repeat");if(R){var k=up(pu(),u);R.setTransform(k)}return R}(t);break;case"line":n=function cI(e){var r=$t({},cp,e),t=r.spacing,n=r.rotation,s=r.lineWidth,u=t+s||1,h=t+s||1,d="\n            M 0 0 L ".concat(u," 0\n            M 0 ").concat(h," L ").concat(u," ").concat(h,"\n            "),p=ho(u,h),y=p.getContext("2d");ff(y,r,u,h),function uI(e,r,t){var n=r.stroke,s=r.lineWidth,u=r.strokeOpacity,h=new Path2D(t);e.globalAlpha=u,e.lineCap="square",e.strokeStyle=s?n:"transparent",e.lineWidth=s,e.stroke(h)}(y,r,d);var x=y.createPattern(p,"repeat");if(x){var M=up(pu(),n);x.setTransform(M)}return x}(t);break;case"square":n=function lm(e){var r=$t({},hI,e),s=r.isStagger,u=r.rotation,h=lp(r.size,r.padding,s),d=oS(h,s),p=ho(h,h),y=p.getContext("2d");ff(y,r,h);for(var x=0,w=d;x<w.length;x++){var M=w[x];fI(y,r,M[0],M[1])}var R=y.createPattern(p,"repeat");if(R){var k=up(pu(),u);R.setTransform(k)}return R}(t)}return n}function la(e){var r=this;return function(t){var n,s=t.options,u=t.chart,h=s.pattern;return h?$t({},t,{options:(n={},n[e]=function(p){for(var y,x,w,M=[],T=1;T<arguments.length;T++)M[T-1]=arguments[T];var L=u.getTheme().defaultColor,R=L,D=null===(x=null===(y=u.geometries)||void 0===y?void 0:y[0])||void 0===x?void 0:x.getAttribute("color");if(D){var k=D.getFields()[0],z=(0,S.U2)(p,k);R=sa.getMappingValue(D,z,(null===(w=D.values)||void 0===w?void 0:w[0])||L)}var G=h;"function"==typeof h&&(G=h.call(r,p,R)),G instanceof CanvasPattern||(G=dI($t({},{cfg:{backgroundColor:R}},G)));var U=s[e];return(0,E.pi)((0,E.pi)({},"function"==typeof U?U.call.apply(U,(0,E.ev)([r,p],M,!1)):U||{}),{fill:G||R})},n)}):t}}function gu(e){var r=e.chart,t=e.options,n=t.legend,s=t.colorField,u=t.seriesField;return!1===n?r.legend(!1):(s||u)&&r.legend(s||u,n),e}function Yn(e){var n=e.options.tooltip;return void 0!==n&&e.chart.tooltip(n),e}function vn(e){var r=e.chart;return(0,S.S6)(e.options.interactions,function(s){!1===s.enable?r.removeInteraction(s.type):r.interaction(s.type,s.cfg||{})}),e}function Ur(e){return hf(e.chart,e.options.animation),e}function Gr(e){var n=e.options.theme;return n&&e.chart.theme(n),e}function fl(e){var n=e.options.state;return n&&(0,S.S6)(e.chart.geometries,function(s){s.state(n)}),e}function df(e){return e.chart.option("slider",e.options.slider),e}function vf(e){return e.chart.option("scrollbar",e.options.scrollbar),e}function Sn(e,r){return function(t){var n=t.chart,s=t.options,u={};return(0,S.S6)(e,function(h,d){u[d]=jr(h,ki)}),u=$t({},r,s.meta,u),n.scale(u),t}}function yn(e){return function(r){var n=r.options,s=r.chart.getController("annotation");return(0,S.S6)((0,E.ev)((0,E.ev)([],n.annotations||[],!0),e||[],!0),function(u){s.annotation(u)}),r}}function dl(e){var r=e.chart,t=e.options,n=t.yAxis,s=t.limitInPlot,u=s;return(0,S.Kn)(n)&&(0,S.UM)(s)&&(u=!!Object.values(jr(n,["min","max","minLimit","maxLimit"])).some(function(h){return!(0,S.UM)(h)})),r.limitInPlot=u,e}function sS(e){return void 0===e&&(e="rect"),function(r){var t=r.chart,u=Array.from(r.options.coordinate||[]).map(function(h){return"reflectX"===h.type?["reflect","x"]:"reflectY"===h.type?["reflect","y"]:"transpose"===h.type?["transpose"]:null}).filter(function(h){return!!h});return 0!==u.length&&t.coordinate({type:e,actions:u}),r}}var lS={locale:"en-US"},hp={};function cS(e,r){hp[e]=r}function fp(e){return{get:function(r,t){return iS((0,S.U2)(hp[e],r)||(0,S.U2)(hp[lS.locale],r)||(0,S.U2)(hp["en-US"],r)||r,t)}}}function ua(e,r){if(!1===e)return{fields:!1};var t=(0,S.U2)(e,"fields"),n=(0,S.U2)(e,"formatter");return n&&!t&&(t=r),{fields:t,formatter:n}}function vl(e,r){var t=e.type,n=e.xField,s=e.yField,u=e.colorField,h=e.shapeField,d=e.sizeField,p=e.styleField,y=e.rawFields,x=[];if(y=((0,S.mf)(y)?y(t,r):y)||[],"color"===r)x=(0,E.ev)([u||n],y,!0);else if("shape"===r)x=(0,E.ev)([h||n],y,!0);else if("size"===r)x=(0,E.ev)([d||n],y,!0);else{x=(0,E.ev)([n,s,u,h,d,p],y,!0);var w=["x","y","color","shape","size","style"].indexOf(r),M=x[w];x.splice(w,1),x.unshift(M)}var T=(0,S.jj)(x.filter(function(R){return!!R})),L="line"===t&&[n,s].includes(T.join("*"))?"":T.join("*");return{mappingFields:T,tileMappingField:L}}function yu(e,r){if(r)return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var s={};return e.forEach(function(u,h){s[u]=t[h]}),delete s.undefined,r(s)}}function Bi(e){var r=e.chart,t=e.options,u=t.mapping,h=t.xField,d=t.yField,p=t.colorField,y=t.shapeField,x=t.sizeField,w=t.tooltipFields,M=t.label,T=t.state,L=t.customInfo;if(!u)return e;var R=u.color,D=u.shape,k=u.size,z=u.style,G=u.tooltip,U=r[t.type](t.args).position("".concat(h,"*").concat(d));if((0,S.HD)(R))p?U.color(p,R):U.color(R);else if((0,S.mf)(R)){var q=vl(t,"color");U.color(q.tileMappingField,yu(q.mappingFields,R))}else p&&U.color(p,R);if((0,S.HD)(D))y?U.shape(y,[D]):U.shape(D);else if((0,S.mf)(D)){var i=vl(t,"shape");U.shape(i.tileMappingField,yu(i.mappingFields,D))}else y&&U.shape(y,D);if((0,S.hj)(k))x?U.size(x,k):U.size(k);else if((0,S.mf)(k)){var l=vl(t,"size");U.size(l.tileMappingField,yu(l.mappingFields,k))}else x&&U.size(x,k);if((0,S.mf)(z)){var c=vl(t,"style");U.style(c.tileMappingField,yu(c.mappingFields,z))}else(0,S.Kn)(z)&&U.style(z);if(!1===w?U.tooltip(!1):(0,S.xb)(w)||U.tooltip(w.join("*"),yu(w,G)),!1===M)U.label(!1);else if(M){var f=M.callback,v=M.fields,g=(0,E._T)(M,["callback","fields"]);U.label({fields:v||[d],callback:f,cfg:Jn(g)})}return T&&U.state(T),L&&U.customInfo(L),[h,d].filter(function(m){return m!==p}).forEach(function(m){r.legend(m,!1)}),(0,E.pi)((0,E.pi)({},e),{ext:{geometry:U}})}function dp(e){var r=e.options,t=r.area,u=r.seriesField,h=r.smooth,p=r.useDeferredLabel,y=ua(r.tooltip,[r.xField,r.yField,u]);return t?Bi($t({},e,{options:{type:"area",colorField:u,tooltipFields:y.fields,mapping:(0,S.b$)({shape:h?"smooth":"area",tooltip:y.formatter},t),args:{useDeferredLabel:p}}})):e}function hS(e){var r=e.options,t=r.edge,u=r.seriesField,d=r.useDeferredLabel,p=ua(r.tooltip,[r.xField,r.yField,u]);return t?Bi($t({},e,{options:{type:"edge",colorField:u,tooltipFields:p.fields,mapping:(0,E.pi)({tooltip:p.formatter},t),args:{useDeferredLabel:d}}})):e}function ai(e){var r=e.options,s=r.interval,u=r.seriesField,d=r.minColumnWidth,p=r.maxColumnWidth,y=r.columnBackground,x=r.dodgePadding,w=r.intervalPadding,M=r.useDeferredLabel,T=ua(r.tooltip,[r.xField,r.yField,u]),D=(s?Bi($t({},e,{options:{type:"interval",colorField:u,tooltipFields:T.fields,mapping:(0,E.pi)({tooltip:T.formatter},s),args:{dodgePadding:x,intervalPadding:w,minColumnWidth:d,maxColumnWidth:p,background:y,useDeferredLabel:M}}})):e).ext;return function gI(e){var r=e.chart,t=e.options,n=e.ext,s=t.seriesField,h=t.isStack,d=t.marginRatio,p=t.widthRatio,x=t.theme,w=[];if(s&&(t.isGroup&&w.push({type:"dodge",dodgeBy:t.groupField||s,marginRatio:d}),h&&w.push({type:"stack",marginRatio:d})),w.length&&n?.geometry){var M=n?.geometry;M.adjust(w)}return(0,S.UM)(p)||r.theme($t({},(0,S.Kn)(x)?x:uc(x),{columnWidthRatio:p})),e}((0,E.pi)((0,E.pi)({},e),{ext:D}))}function bc(e){var r=e.options,t=r.line,n=r.stepType,h=r.seriesField,d=r.smooth,p=r.connectNulls,x=r.useDeferredLabel,w=ua(r.tooltip,[r.xField,r.yField,h]);return t?Bi($t({},e,{options:{type:"line",colorField:h,tooltipFields:w.fields,mapping:(0,S.b$)({shape:n||(d?"smooth":"line"),tooltip:w.formatter},t),args:{connectNulls:p,useDeferredLabel:x}}})):e}function ca(e){var r=e.options,t=r.point,u=r.seriesField,d=r.shapeField,y=r.useDeferredLabel,x=ua(r.tooltip,[r.xField,r.yField,u,r.sizeField,d]);return t?Bi($t({},e,{options:{type:"point",colorField:u,shapeField:d,tooltipFields:x.fields,mapping:(0,E.pi)({tooltip:x.formatter},t),args:{useDeferredLabel:y}}})):e}function Tc(e){var r=e.options,t=r.polygon,u=r.seriesField,d=r.useDeferredLabel,p=ua(r.tooltip,[r.xField,r.yField,u]);return t?Bi($t({},e,{options:{type:"polygon",colorField:u,tooltipFields:p.fields,mapping:(0,E.pi)({tooltip:p.formatter},t),args:{useDeferredLabel:d}}})):e}function pf(e){var r=e.options,t=r.schema,u=r.seriesField,d=r.useDeferredLabel,p=ua(r.tooltip,[r.xField,r.yField,u]);return t?Bi($t({},e,{options:{type:"schema",colorField:u,tooltipFields:p.fields,mapping:(0,E.pi)({tooltip:p.formatter},t),args:{useDeferredLabel:d}}})):e}var mI=ut(1909),fS="data-chart-source-type",dS=["padding","appendPadding","renderer","pixelRatio","syncViewPadding","supportCSSTransform","limitInPlot"],Mr=function(e){function r(t,n){var s=e.call(this)||this;return s.container="string"==typeof t?document.getElementById(t):t,s.options=$t({},s.getDefaultOptions(),n),s.createG2(),s.bindEvents(),s}return(0,E.ZT)(r,e),r.getDefaultOptions=function(){return{renderer:"canvas",xAxis:{nice:!0,label:{autoRotate:!1,autoHide:{type:"equidistance",cfg:{minGap:6}}}},yAxis:{nice:!0,label:{autoHide:!0,autoRotate:!1}},animation:!0}},r.prototype.createG2=function(){var t=this.options,u=t.defaultInteractions;this.chart=new N3((0,E.pi)((0,E.pi)((0,E.pi)((0,E.pi)({container:this.container,autoFit:!1},this.getChartSize(t.width,t.height)),{localRefresh:!1}),jr(this.options,dS)),{defaultInteractions:u})),this.container.setAttribute(fS,"G2Plot")},r.prototype.getChartSize=function(t,n){var s=nm(this.container);return{width:t||s.width||400,height:n||s.height||400}},r.prototype.bindEvents=function(){var t=this;this.chart&&this.chart.on("*",function(n){n?.type&&t.emit(n.type,n)})},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.render=function(){this.chart.clear(),this.chart.options={data:[],animate:!0},this.chart.views=[],this.execAdaptor(),this.chart.render(),this.bindSizeSensor()},r.prototype.update=function(t){this.updateOption(t),this.render()},r.prototype.updateOption=function(t){this.options=$t({},this.options,t)},r.prototype.setState=function(t,n,s){void 0===s&&(s=!0);var u=cf(this.chart);(0,S.S6)(u,function(h){n(h.getData())&&h.setState(t,s)})},r.prototype.getStates=function(){var t=cf(this.chart),n=[];return(0,S.S6)(t,function(s){var u=s.getData(),h=s.getStates();(0,S.S6)(h,function(d){n.push({data:u,state:d,geometry:s.geometry,element:s})})}),n},r.prototype.changeData=function(t){this.update({data:t})},r.prototype.changeSize=function(t,n){this.chart.changeSize(t,n)},r.prototype.addAnnotations=function(t,n){n=n||this.chart;var s=(0,E.ev)([],t,!0),u=n.getController("annotation"),h=u.getComponents().map(function(y){return y.extra});u.clear(!0);for(var d=function(y){var x=h[y],w=s.findIndex(function(M){return M.id&&M.id===x.id});-1!==w&&(x=$t({},x,s[w]),s.splice(w,1)),u.annotation(x)},p=0;p<h.length;p++)d(p);s.forEach(function(y){return u.annotation(y)}),n.render(!0)},r.prototype.removeAnnotations=function(t){var n=this.chart.getController("annotation"),s=n.getComponents().map(function(d){return d.extra});n.clear(!0);for(var u=function(d){var p=s[d];t.find(function(y){return y.id&&y.id===p.id})||n.annotation(p)},h=0;h<s.length;h++)u(h);this.chart.render(!0)},r.prototype.destroy=function(){this.unbindSizeSensor(),this.chart.destroy(),this.off(),this.container.removeAttribute(fS)},r.prototype.execAdaptor=function(){var t=this.getSchemaAdaptor(),n=this.options,u=n.appendPadding;this.chart.padding=n.padding,this.chart.appendPadding=u,t({chart:this.chart,options:this.options})},r.prototype.triggerResize=function(){this.chart.forceFit()},r.prototype.bindSizeSensor=function(){var t=this;if(!this.unbind){var n=this.options.autoFit;(void 0===n||n)&&(this.unbind=(0,mI.ak)(this.container,function(){var u=nm(t.container);(u.width!==t.chart.width||u.height!==t.chart.height)&&t.triggerResize()}))}},r.prototype.unbindSizeSensor=function(){this.unbind&&(this.unbind(),this.unbind=void 0)},r}(D0.Z);function vS(e,r,t,n){var s=(0,S.u4)(e,function(u,h){var d=h[t],p=u.has(d)?u.get(d):0,y=h[r];return p=du(y)?p+y:p,u.set(d,p),u},new Map);return(0,S.UI)(e,function(u){var h,d=u[r],p=u[t],y=du(d)&&0!==s.get(p)?d/s.get(p):0;return(0,E.pi)((0,E.pi)({},u),((h={})[n]=y,h))})}function gf(e,r,t,n,s){return s?vS(e,r,t,n):e}function CI(e){var t=e.options,s=t.color,u=t.lineStyle,h=t.lineShape,d=t.point,p=t.area,y=t.seriesField,x=d?.state,w=p?.state;e.chart.data(t.data);var M=$t({},e,{options:{shapeField:y,line:{color:s,style:u,shape:h},point:d&&(0,E.pi)({color:s,shape:"circle"},d),area:p&&(0,E.pi)({color:s},p),label:void 0}}),T=$t({},M,{options:{tooltip:!1,state:x}}),L=$t({},M,{options:{tooltip:!1,state:w}});return bc(M),ca(T),dp(L),e}function vp(e){var r,t,n=e.options,u=n.yAxis,h=n.xField,d=n.yField,p=n.data;return vr(Sn(((r={})[h]=n.xAxis,r[d]=u,r),((t={})[h]={type:"cat"},t[d]=tm(p,d),t)))(e)}function wI(e){var r=e.chart,n=e.options.reflect;if(n){var s=n;(0,S.kJ)(s)||(s=[s]);var u=s.map(function(h){return["reflect",h]});r.coordinate({type:"rect",actions:u})}return e}function pS(e){var r=e.chart,t=e.options,n=t.xAxis,s=t.yAxis,h=t.yField;return r.axis(t.xField,!1!==n&&n),r.axis(h,!1!==s&&s),e}function gS(e){var r=e.chart,t=e.options,n=t.legend,s=t.seriesField;return n&&s?r.legend(s,n):!1===n&&r.legend(!1),e}function um(e){var t=e.options,n=t.label,s=t.yField,u=mi(e.chart,"line");if(n){var h=n.callback,d=(0,E._T)(n,["callback"]);u.label({fields:[s],callback:h,cfg:(0,E.pi)({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},Jn(d))})}else u.label(!1);return e}function _I(e){return e.options.isStack&&(0,S.S6)(e.chart.geometries,function(s){s.adjust("stack")}),e}function yS(e){return vr(CI,vp,_I,Gr,wI,pS,gS,Yn,um,df,vf,vn,Ur,yn(),dl)(e)}function mS(e){var r=e.chart,t=e.options,s=t.areaStyle,u=t.areaShape,h=t.color,d=t.point,p=t.line,y=t.isPercent,x=t.xField,w=t.yField,M=t.tooltip,T=t.seriesField,L=t.startOnZero,R=d?.state,D=gf(t.data,w,x,w,y);r.data(D);var k=y?(0,E.pi)({formatter:function(q){return{name:q[T]||q[x],value:(100*Number(q[w])).toFixed(2)+"%"}}},M):M,z=$t({},e,{options:{area:{color:h,style:s,shape:u},point:d&&(0,E.pi)({color:h},d),tooltip:k,label:void 0,args:{startOnZero:L}}}),G={chart:r,options:$t({line:{size:2}},(0,S.CE)(t,["state"]),{line:p&&(0,E.pi)({color:h},p),sizeField:T,state:p?.state,tooltip:!1,label:void 0,args:{startOnZero:L}})},U=$t({},z,{options:{tooltip:!1,state:R}});return dp(z),bc(G),ca(U),e}function SI(e){var t=e.options,n=t.label,s=t.yField,u=mi(e.chart,"area");if(n){var h=n.callback,d=(0,E._T)(n,["callback"]);u.label({fields:[s],callback:h,cfg:(0,E.pi)({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},Jn(d))})}else u.label(!1);return e}function MI(e){var t=e.options;return(t.isPercent||t.isStack)&&t.seriesField&&(0,S.S6)(e.chart.geometries,function(h){h.adjust("stack")}),e}function xS(e){return vr(Gr,la("areaStyle"),sS("rect"),mS,vp,MI,pS,gS,Yn,SI,df,yn(),vn,Ur,dl)(e)}var bI=$t({},Mr.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},isStack:!0,line:{},legend:{position:"top-left",radio:{}}}),cm=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="area",t}return(0,E.ZT)(r,e),r.getDefaultOptions=function(){return bI},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.changeData=function(t){this.updateOption({data:t});var n=this.options,s=n.isPercent,u=n.xField,h=n.yField;vp({chart:this.chart,options:this.options}),this.chart.changeData(gf(t,h,u,h,s))},r.prototype.getSchemaAdaptor=function(){return xS},r}(Mr),fm={padding:[8,10],text:"reset",textStyle:{default:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"}},buttonStyle:{default:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},active:{fill:"#e6e6e6"}}},AI=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.buttonGroup=null,t.buttonCfg=(0,E.pi)({name:"button"},fm),t}return(0,E.ZT)(r,e),r.prototype.getButtonCfg=function(){var n=(0,S.U2)(this.context.view,["interactions","filter-action","cfg","buttonConfig"]);return $t(this.buttonCfg,n,this.cfg)},r.prototype.drawButton=function(){var t=this.getButtonCfg(),n=this.context.view.foregroundGroup.addGroup({name:t.name}),s=this.drawText(n);this.drawBackground(n,s.getBBox()),this.buttonGroup=n},r.prototype.drawText=function(t){var n,s=this.getButtonCfg();return t.addShape({type:"text",name:"button-text",attrs:(0,E.pi)({text:s.text},null===(n=s.textStyle)||void 0===n?void 0:n.default)})},r.prototype.drawBackground=function(t,n){var s,u=this.getButtonCfg(),h=hl(u.padding),d=t.addShape({type:"rect",name:"button-rect",attrs:(0,E.pi)({x:n.x-h[3],y:n.y-h[0],width:n.width+h[1]+h[3],height:n.height+h[0]+h[2]},null===(s=u.buttonStyle)||void 0===s?void 0:s.default)});return d.toBack(),t.on("mouseenter",function(){var p;d.attr(null===(p=u.buttonStyle)||void 0===p?void 0:p.active)}),t.on("mouseleave",function(){var p;d.attr(null===(p=u.buttonStyle)||void 0===p?void 0:p.default)}),d},r.prototype.resetPosition=function(){var s=this.context.view.getCoordinate().convert({x:1,y:1}),u=this.buttonGroup,h=u.getBBox(),d=sa.transform(null,[["t",s.x-h.width-10,s.y+h.height+5]]);u.setMatrix(d)},r.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},r.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},r.prototype.destroy=function(){var t=this.buttonGroup;t&&t.remove(),e.prototype.destroy.call(this)},r}(cn);function Go(e){return e.isInPlot()}function pl(e,r,t){var n=t||{},s=n.mask,u=n.isStartEnable,h=r||"rect";switch(e){case"brush":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:u||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:u||Go,action:["brush:start","".concat(h,"-mask:start"),"".concat(h,"-mask:show")],arg:[null,{maskStyle:s?.style}]}],processing:[{trigger:"mousemove",isEnable:Go,action:["".concat(h,"-mask:resize")]}],end:[{trigger:"mouseup",isEnable:Go,action:["brush:filter","brush:end","".concat(h,"-mask:end"),"".concat(h,"-mask:hide"),"brush-reset-button:show"]}],rollback:[{trigger:"brush-reset-button:click",action:["brush:reset","brush-reset-button:hide","cursor:crosshair"]}]};case"brush-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:u||function(){return!0}},{trigger:"plot:mousemove",action:"cursor:crosshair",isEnable:u||function(){return!0}},{trigger:"plot:mousemove",action:"cursor:default",isEnable:function(d){return!!u&&!u(d)}},{trigger:"mask:mouseenter",action:"cursor:move",isEnable:u||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:u||function(d){return!d.isInShape("mask")},action:["".concat(h,"-mask:start"),"".concat(h,"-mask:show")],arg:[{maskStyle:s?.style}]},{trigger:"mask:dragstart",action:["".concat(h,"-mask:moveStart")]}],processing:[{trigger:"plot:mousemove",action:["".concat(h,"-mask:resize")]},{trigger:"mask:drag",action:["".concat(h,"-mask:move")]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["".concat(h,"-mask:end")]},{trigger:"mask:dragend",action:["".concat(h,"-mask:moveEnd")]},{trigger:"document:mouseup",isEnable:function(d){return!d.isInPlot()},action:["element-range-highlight:clear","".concat(h,"-mask:end"),"".concat(h,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","".concat(h,"-mask:hide")]}]};case"brush-x":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:u||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:u||Go,action:["brush-x:start","".concat(h,"-mask:start"),"".concat(h,"-mask:show")],arg:[null,{maskStyle:s?.style}]}],processing:[{trigger:"mousemove",isEnable:Go,action:["".concat(h,"-mask:resize")]}],end:[{trigger:"mouseup",isEnable:Go,action:["brush-x:filter","brush-x:end","".concat(h,"-mask:end"),"".concat(h,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]};case"brush-x-highlight":case"brush-y-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:u||function(){return!0}},{trigger:"mask:mouseenter",action:"cursor:move",isEnable:u||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:u||function(d){return!d.isInShape("mask")},action:["".concat(h,"-mask:start"),"".concat(h,"-mask:show")],arg:[{maskStyle:s?.style}]},{trigger:"mask:dragstart",action:["".concat(h,"-mask:moveStart")]}],processing:[{trigger:"plot:mousemove",action:["".concat(h,"-mask:resize")]},{trigger:"mask:drag",action:["".concat(h,"-mask:move")]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["".concat(h,"-mask:end")]},{trigger:"mask:dragend",action:["".concat(h,"-mask:moveEnd")]},{trigger:"document:mouseup",isEnable:function(d){return!d.isInPlot()},action:["element-range-highlight:clear","".concat(h,"-mask:end"),"".concat(h,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","".concat(h,"-mask:hide")]}]};case"brush-y":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:u||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:u||Go,action:["brush-y:start","".concat(h,"-mask:start"),"".concat(h,"-mask:show")],arg:[null,{maskStyle:s?.style}]}],processing:[{trigger:"mousemove",isEnable:Go,action:["".concat(h,"-mask:resize")]}],end:[{trigger:"mouseup",isEnable:Go,action:["brush-y:filter","brush-y:end","".concat(h,"-mask:end"),"".concat(h,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["brush-y:reset"]}]};default:return{}}}rr("brush-reset-button",AI,{name:"brush-reset-button"}),wr("filter-action",{}),wr("brush",pl("brush")),wr("brush-highlight",pl("brush-highlight")),wr("brush-x",pl("brush-x","x-rect")),wr("brush-y",pl("brush-y","y-rect")),wr("brush-x-highlight",pl("brush-x-highlight","x-rect")),wr("brush-y-highlight",pl("brush-y-highlight","y-rect"));var dm=["brush","brush-x","brush-y","brush-highlight","brush-x-highlight","brush-y-highlight"];function CS(e){var r=e.options,t=r.brush,n=(0,S.hX)(r.interactions||[],function(s){return-1===dm.indexOf(s.type)});return t?.enabled&&(dm.forEach(function(s){var u=!1;switch(t.type){case"x-rect":u=s===("highlight"===t.action?"brush-x-highlight":"brush-x");break;case"y-rect":u=s===("highlight"===t.action?"brush-y-highlight":"brush-y");break;default:u=s===("highlight"===t.action?"brush-highlight":"brush")}var h={type:s,enable:u};t&&(h.cfg=pl(s,t.type,t)),n.push(h)}),"highlight"!==t?.action&&n.push({type:"filter-action",cfg:{buttonConfig:t.button}})),$t({},e,{options:{interactions:n}})}var gl={hover:"__interval-connected-area-hover__",click:"__interval-connected-area-click__"},pp=function(e,r){return"hover"===e?[{trigger:"interval:mouseenter",action:["element-highlight-by-color:highlight","element-link-by-color:link"],arg:[null,{style:r}]}]:[{trigger:"interval:click",action:["element-highlight-by-color:clear","element-highlight-by-color:highlight","element-link-by-color:clear","element-link-by-color:unlink","element-link-by-color:link"],arg:[null,null,null,null,{style:r}]}]};function wS(e,r){return!(0,S.hj)(e)||!(0,S.hj)(r)||0===e&&0===r?"-":e===r?"100%":0===e?"\u221e":"".concat((100*r/e).toFixed(2),"%")}function LI(e,r){return $t({size:r?32:80,spacing:r?8:12,offset:r?32:0,arrow:!1!==e.arrow&&{headSize:12,style:{fill:"rgba(0, 0, 0, 0.05)"}},text:!1!==e.text&&{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.85)",textAlign:"center",textBaseline:"middle"},formatter:wS}},e)}function yf(e,r){return(0,S.UI)(r.getModel().points,function(t){return e.convertPoint(t)})}function RI(e){var r=e.options,t=r.legend;return r.seriesField?!1!==t&&(t=(0,E.pi)({position:r.isStack?"right-top":"top-left"},t)):t=!1,e.options.legend=t,e}function FI(e){var r=e.chart,t=e.options,n=t.data,s=t.columnStyle,u=t.color,h=t.columnWidthRatio,d=t.isPercent,p=t.isGroup,y=t.isStack,x=t.xField,w=t.yField,M=t.seriesField,T=t.groupField,L=t.tooltip,R=t.shape,D=d&&p&&y?function xI(e,r,t,n){var s=(0,S.u4)(e,function(u,h){var d=(0,S.u4)(t,function(x,w){return"".concat(x).concat(h[w])},""),p=u.has(d)?u.get(d):0,y=h[r];return p=du(y)?p+y:p,u.set(d,p),u},new Map);return(0,S.UI)(e,function(u){var h,d=u[r],p=(0,S.u4)(t,function(x,w){return"".concat(x).concat(u[w])},""),y=du(d)&&0!==s.get(p)?d/s.get(p):0;return(0,E.pi)((0,E.pi)({},u),((h={})[n]=y,h))})}(n,w,[x,T],w):gf(n,w,x,w,d),k=[];y&&M&&!p?D.forEach(function(U){var q=k.find(function(a){return a[x]===U[x]&&a[M]===U[M]});q?q[w]+=U[w]||0:k.push((0,E.pi)({},U))}):k=D,r.data(k);var z=d?(0,E.pi)({formatter:function(U){var q;return{name:p&&y?"".concat(U[M]," - ").concat(U[T]):null!==(q=U[M])&&void 0!==q?q:U[x],value:(100*Number(U[w])).toFixed(2)+"%"}}},L):L,G=$t({},e,{options:{data:k,widthRatio:h,tooltip:z,interval:{shape:R,style:s,color:u}}});return ai(G),G}function vm(e){var r,t,n=e.options,u=n.yAxis,h=n.xField,d=n.yField,p=n.data,x=n.isPercent?{max:1,min:0,minLimit:0,maxLimit:1}:{};return vr(Sn(((r={})[h]=n.xAxis,r[d]=u,r),((t={})[h]={type:"cat"},t[d]=(0,E.pi)((0,E.pi)({},tm(p,d)),x),t)))(e)}function DI(e){var r=e.chart,t=e.options,n=t.xAxis,s=t.yAxis,h=t.yField;return r.axis(t.xField,!1!==n&&n),r.axis(h,!1!==s&&s),e}function kI(e){var r=e.chart,t=e.options,n=t.legend,s=t.seriesField;return n&&s?r.legend(s,n):!1===n&&r.legend(!1),e}function BI(e){var t=e.options,n=t.label,s=t.yField,u=t.isRange,h=mi(e.chart,"interval");if(n){var d=n.callback,p=(0,E._T)(n,["callback"]);h.label({fields:[s],callback:d,cfg:(0,E.pi)({layout:p?.position?void 0:[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}]},Jn(u?(0,E.pi)({content:function(y){var x;return null===(x=y[s])||void 0===x?void 0:x.join("-")}},p):p))})}else h.label(!1);return e}function PI(e){var r=e.chart,t=e.options,n=t.tooltip,s=t.isGroup,u=t.isStack,h=t.groupField,d=t.data,p=t.xField,y=t.yField,x=t.seriesField;if(!1===n)r.tooltip(!1);else{var w=n;if(s&&u){var M=w.customItems,T=w?.formatter||function(L){return{name:"".concat(L[x]," - ").concat(L[h]),value:L[y]}};w=(0,E.pi)((0,E.pi)({},w),{customItems:function(L){var R=[];return(0,S.S6)(L,function(D){(0,S.hX)(d,function(z){return(0,S.BD)(z,jr(D.data,[p,x]))}).forEach(function(z){R.push((0,E.pi)((0,E.pi)((0,E.pi)({},D),{value:z[y],data:z,mappingData:{_origin:z}}),T(z)))})}),M?M(R):R}})}r.tooltip(w)}return e}function yp(e,r){void 0===r&&(r=!1);var t=e.options,n=t.seriesField;return vr(RI,Gr,la("columnStyle"),fl,sS("rect"),FI,vm,DI,kI,PI,df,vf,BI,CS,vn,Ur,yn(),function gp(e,r,t){return void 0===r&&(r=!0),void 0===t&&(t=!1),function(n){var s=n.options,u=n.chart,h=s.conversionTag,d=s.theme;return h&&!t&&(u.theme($t({},(0,S.Kn)(d)?d:uc(d),{columnWidthRatio:1/3})),u.annotation().shape({render:function(p,y){var x=p.addGroup({id:"".concat(u.id,"-conversion-tag-group"),name:"conversion-tag-group"}),w=(0,S.sE)(u.geometries,function(L){return"interval"===L.type}),M={view:y,geometry:w,group:x,field:e,horizontal:r,options:LI(h,r)},T=w.elements;(0,S.S6)(T,function(L,R){R>0&&function OI(e,r,t){(function II(e,r,t){var n=e.view,s=e.geometry,u=e.group,h=e.options,d=e.horizontal,p=h.offset,y=h.size,x=h.arrow,w=n.getCoordinate(),M=yf(w,r)[3],T=yf(w,t)[0],L=T.y-M.y,R=T.x-M.x;if("boolean"!=typeof x){var z,D=x.headSize,k=h.spacing;d?(R-D)/2<k?(k=Math.max(1,(R-D)/2),z=[[M.x+k,M.y-p],[M.x+k,M.y-p-y],[T.x-k,T.y-p-y/2]]):z=[[M.x+k,M.y-p],[M.x+k,M.y-p-y],[T.x-k-D,T.y-p-y],[T.x-k,T.y-p-y/2],[T.x-k-D,T.y-p]]:(L-D)/2<k?(k=Math.max(1,(L-D)/2),z=[[M.x+p,M.y+k],[M.x+p+y,M.y+k],[T.x+p+y/2,T.y-k]]):z=[[M.x+p,M.y+k],[M.x+p+y,M.y+k],[T.x+p+y,T.y-k-D],[T.x+p+y/2,T.y-k],[T.x+p,T.y-k-D]],u.addShape("polygon",{id:"".concat(n.id,"-conversion-tag-arrow-").concat(s.getElementId(r.getModel().mappingData)),name:"conversion-tag-arrow",origin:{element:r,nextElement:t},attrs:(0,E.pi)((0,E.pi)({},x.style||{}),{points:z})})}})(e,r,t),function Ac(e,r,t){var n,s,u,h=e.view,d=e.geometry,p=e.group,y=e.options,x=e.field,w=e.horizontal,M=y.offset,T=y.size;if("boolean"!=typeof y.text){var L=h.getCoordinate(),R=(null===(n=y.text)||void 0===n?void 0:n.formatter)&&(null===(s=y.text)||void 0===s?void 0:s.formatter(r.getData()[x],t.getData()[x])),D=yf(L,r)[w?3:0],k=yf(L,t)[w?0:3],z=p.addShape("text",{id:"".concat(h.id,"-conversion-tag-text-").concat(d.getElementId(r.getModel().mappingData)),name:"conversion-tag-text",origin:{element:r,nextElement:t},attrs:(0,E.pi)((0,E.pi)({},(null===(u=y.text)||void 0===u?void 0:u.style)||{}),{text:R,x:w?(D.x+k.x)/2:D.x+M+T/2,y:w?D.y-M-T/2:(D.y+k.y)/2})});if(w){var G=k.x-D.x,U=z.getBBox().width;if(U>G){var a=Math.max(1,Math.ceil(G/(U/R.length))-1),o="".concat(R.slice(0,a),"...");z.attr("text",o)}}}}(e,r,t)}(M,T[R-1],L)})}})),n}}(t.yField,!r,!!n),function EI(e){return void 0===e&&(e=!1),function(r){var t=r.chart,s=r.options.connectedArea,u=function(){t.removeInteraction(gl.hover),t.removeInteraction(gl.click)};if(!e&&s){var h=s.trigger||"hover";u(),t.interaction(gl[h],{start:pp(h,s.style)})}else u();return r}}(!t.isStack),dl)(e)}function zI(e){var r=e.options,t=r.xField,n=r.yField,s=r.xAxis,u=r.yAxis,h={left:"bottom",right:"top",top:"left",bottom:"right"},d=!1!==u&&(0,E.pi)({position:h[u?.position||"left"]},u),p=!1!==s&&(0,E.pi)({position:h[s?.position||"bottom"]},s);return(0,E.pi)((0,E.pi)({},e),{options:(0,E.pi)((0,E.pi)({},r),{xField:n,yField:t,xAxis:d,yAxis:p})})}function pm(e){var t=e.options.label;return t&&!t.position&&(t.position="left",t.layout||(t.layout=[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}])),$t({},e,{options:{label:t}})}function _S(e){var r=e.options,s=r.legend;return r.seriesField?!1!==s&&(s=(0,E.pi)({position:r.isStack?"top-left":"right-top"},s||{})):s=!1,$t({},e,{options:{legend:s}})}function NI(e){var t=[{type:"transpose"},{type:"reflectY"}].concat(e.options.coordinate||[]);return $t({},e,{options:{coordinate:t}})}function gm(e){var t=e.options,n=t.barStyle,s=t.barWidthRatio,u=t.minBarWidth,h=t.maxBarWidth,d=t.barBackground;return yp({chart:e.chart,options:(0,E.pi)((0,E.pi)({},t),{columnStyle:n,columnWidthRatio:s,minColumnWidth:u,maxColumnWidth:h,columnBackground:d})},!0)}function SS(e){return vr(zI,pm,_S,Yn,NI,gm)(e)}wr(gl.hover,{start:pp(gl.hover),end:[{trigger:"interval:mouseleave",action:["element-highlight-by-color:reset","element-link-by-color:unlink"]}]}),wr(gl.click,{start:pp(gl.click),end:[{trigger:"document:mousedown",action:["element-highlight-by-color:clear","element-link-by-color:clear"]}]});var mp,HI=$t({},Mr.getDefaultOptions(),{barWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},legend:{radio:{}},interactions:[{type:"active-region"}]}),ym=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="bar",t}return(0,E.ZT)(r,e),r.getDefaultOptions=function(){return HI},r.prototype.changeData=function(t){var n,s;this.updateOption({data:t});var h=this.chart,d=this.options,p=d.isPercent,y=d.xField,x=d.yField,w=d.xAxis,M=d.yAxis;y=(n=[x,y])[0],x=n[1],w=(s=[M,w])[0],M=s[1],vm({chart:h,options:(0,E.pi)((0,E.pi)({},d),{xField:y,yField:x,yAxis:M,xAxis:w})}),h.changeData(gf(t,y,x,y,p))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return SS},r}(Mr),GI=$t({},Mr.getDefaultOptions(),{columnWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},legend:{radio:{}},interactions:[{type:"active-region"}]}),mm=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="column",t}return(0,E.ZT)(r,e),r.getDefaultOptions=function(){return GI},r.prototype.changeData=function(t){this.updateOption({data:t});var n=this.options,s=n.yField,u=n.xField,h=n.isPercent;vm({chart:this.chart,options:this.options}),this.chart.changeData(gf(t,s,u,s,h))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return yp},r}(Mr),yl="$$percentage$$",ml="$$mappingValue$$",As="$$conversion$$",xm="$$totalPercentage$$",Ec="$$x$$",mu="$$y$$",MS={appendPadding:[0,80],minSize:0,maxSize:1,meta:(mp={},mp[ml]={min:0,max:1,nice:!1},mp),label:{style:{fill:"#fff",fontSize:12}},tooltip:{showTitle:!1,showMarkers:!1,shared:!1},conversionTag:{offsetX:10,offsetY:0,style:{fontSize:12,fill:"rgba(0,0,0,0.45)"}}},bS="CONVERSION_TAG_NAME";function Cm(e,r,t){var s=t.yField,u=t.maxSize,h=t.minSize,d=(0,S.U2)((0,S.UT)(r,s),[s]),p=(0,S.hj)(u)?u:1,y=(0,S.hj)(h)?h:0;return(0,S.UI)(e,function(x,w){var M=(x[s]||0)/d;return x[yl]=M,x[ml]=(p-y)*M+y,x[As]=[(0,S.U2)(e,[w-1,s]),x[s]],x})}function wm(e){return function(r){var t=r.chart,n=r.options,s=n.conversionTag,h=n.filteredData||t.getOptions().data;if(s){var d=s.formatter;h.forEach(function(p,y){if(!(y<=0||Number.isNaN(p[ml]))){var x=e(p,y,h,{top:!0,name:bS,text:{content:(0,S.mf)(d)?d(p,h):d,offsetX:s.offsetX,offsetY:s.offsetY,position:"end",autoRotate:!1,style:(0,E.pi)({textAlign:"start",textBaseline:"middle"},s.style)}});t.annotation().line(x)}})}return r}}function WI(e){var r=e.chart,t=e.options,n=t.data,s=void 0===n?[]:n,p=Cm(s,s,{yField:t.yField,maxSize:t.maxSize,minSize:t.minSize});return r.data(p),e}function UI(e){var r=e.chart,t=e.options,n=t.xField,u=t.color,d=t.label,p=t.shape,y=void 0===p?"funnel":p,x=t.funnelStyle,w=t.state,M=ua(t.tooltip,[n,t.yField]),T=M.fields,L=M.formatter;return Bi({chart:r,options:{type:"interval",xField:n,yField:ml,colorField:n,tooltipFields:(0,S.kJ)(T)&&T.concat([yl,As]),mapping:{shape:y,tooltip:L,color:u,style:x},label:d,state:w}}),mi(e.chart,"interval").adjust("symmetric"),e}function YI(e){return e.chart.coordinate({type:"rect",actions:e.options.isTransposed?[]:[["transpose"],["scale",1,-1]]}),e}function _m(e){var t=e.chart,n=e.options.maxSize,s=(0,S.U2)(t,["geometries","0","dataArray"],[]),u=(0,S.U2)(t,["options","data","length"]),h=(0,S.UI)(s,function(p){return(0,S.U2)(p,["0","nextPoints","0","x"])*u-.5});return wm(function(p,y,x,w){var M=n-(n-p[ml])/2;return(0,E.pi)((0,E.pi)({},w),{start:[h[y-1]||y-.5,M],end:[h[y-1]||y-.5,M+.05]})})(e),e}function TS(e){return vr(WI,UI,YI,_m)(e)}function VI(e){var r,t=e.chart,n=e.options,s=n.data,h=n.yField;return t.data(void 0===s?[]:s),t.scale(((r={})[h]={sync:!0},r)),e}function XI(e){var t=e.options,n=t.data,s=t.xField,u=t.yField,h=t.color,d=t.compareField,p=t.isTransposed,y=t.tooltip,x=t.maxSize,w=t.minSize,M=t.label,T=t.funnelStyle,L=t.state;return e.chart.facet("mirror",{fields:[d],transpose:!p,padding:p?0:[32,0,0,0],showTitle:t.showFacetTitle,eachView:function(D,k){var z=p?k.rowIndex:k.columnIndex;p||D.coordinate({type:"rect",actions:[["transpose"],["scale",0===z?-1:1,-1]]});var G=Cm(k.data,n,{yField:u,maxSize:x,minSize:w});D.data(G);var U=ua(y,[s,u,d]),q=U.fields,a=U.formatter,o=p?{offset:0===z?10:-23,position:0===z?"bottom":"top"}:{offset:10,position:"left",style:{textAlign:0===z?"end":"start"}};Bi({chart:D,options:{type:"interval",xField:s,yField:ml,colorField:s,tooltipFields:(0,S.kJ)(q)&&q.concat([yl,As]),mapping:{shape:"funnel",tooltip:a,color:h,style:T},label:!1!==M&&$t({},o,M),state:L}})}}),e}function AS(e){var r=e.chart,t=e.index,n=e.options,s=n.conversionTag,u=n.isTransposed;((0,S.hj)(t)?[r]:r.views).forEach(function(h,d){var p=(0,S.U2)(h,["geometries","0","dataArray"],[]),y=(0,S.U2)(h,["options","data","length"]),x=(0,S.UI)(p,function(M){return(0,S.U2)(M,["0","nextPoints","0","x"])*y-.5});wm(function(M,T,L,R){return $t({},R,{start:[x[T-1]||T-.5,M[ml]],end:[x[T-1]||T-.5,M[ml]+.05],text:u?{style:{textAlign:"start"}}:{offsetX:!1!==s?(0===(t||d)?-1:1)*s.offsetX:0,style:{textAlign:0===(t||d)?"end":"start"}}})})($t({},{chart:h,options:n}))})}function Sm(e){return e.chart.once("beforepaint",function(){return AS(e)}),e}function ZI(e){var r=e.chart,t=e.options,n=t.data,s=void 0===n?[]:n,u=t.yField,h=(0,S.u4)(s,function(y,x){return y+(x[u]||0)},0),d=(0,S.UT)(s,u)[u],p=(0,S.UI)(s,function(y,x){var w=[],M=[];if(y[xm]=(y[u]||0)/h,x){var T=s[x-1][Ec],L=s[x-1][mu];w[0]=T[3],M[0]=L[3],w[1]=T[2],M[1]=L[2]}else w[0]=-.5,M[0]=1,w[1]=.5,M[1]=1;return M[2]=M[1]-y[xm],w[2]=(M[2]+1)/4,M[3]=M[2],w[3]=-w[2],y[Ec]=w,y[mu]=M,y[yl]=(y[u]||0)/d,y[As]=[(0,S.U2)(s,[x-1,u]),y[u]],y});return r.data(p),e}function qI(e){var r=e.chart,t=e.options,n=t.xField,u=t.color,d=t.label,p=t.funnelStyle,y=t.state,x=ua(t.tooltip,[n,t.yField]),w=x.fields,M=x.formatter;return Bi({chart:r,options:{type:"polygon",xField:Ec,yField:mu,colorField:n,tooltipFields:(0,S.kJ)(w)&&w.concat([yl,As]),label:d,state:y,mapping:{tooltip:M,color:u,style:p}}}),e}function jI(e){return e.chart.coordinate({type:"rect",actions:e.options.isTransposed?[["transpose"],["reflect","x"]]:[]}),e}function JI(e){return wm(function(t,n,s,u){return(0,E.pi)((0,E.pi)({},u),{start:[t[Ec][1],t[mu][1]],end:[t[Ec][1]+.05,t[mu][1]]})})(e),e}function QI(e){var r,t=e.chart,n=e.options,s=n.data,h=n.yField;return t.data(void 0===s?[]:s),t.scale(((r={})[h]={sync:!0},r)),e}function ES(e){var t=e.options;return e.chart.facet("rect",{fields:[t.seriesField],padding:[t.isTransposed?0:32,10,0,10],showTitle:t.showFacetTitle,eachView:function(h,d){TS($t({},e,{chart:h,options:{data:d.data}}))}}),e}var Lc=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendering=!1,t}return(0,E.ZT)(r,e),r.prototype.change=function(t){var n=this;if(!this.rendering){var u=t.compareField,h=u?AS:_m,d=this.context.view;(0,S.UI)(t.seriesField||u?d.views:[d],function(y,x){var w=y.getController("annotation"),M=(0,S.hX)((0,S.U2)(w,["option"],[]),function(L){return L.name!==bS});w.clear(!0),(0,S.S6)(M,function(L){"object"==typeof L&&y.annotation()[L.type](L)});var T=(0,S.U2)(y,["filteredData"],y.getOptions().data);h({chart:y,index:x,options:(0,E.pi)((0,E.pi)({},t),{filteredData:Cm(T,T,t)})}),y.filterData(T),n.rendering=!0,y.render(!0)})}this.rendering=!1},r}(cn),LS="funnel-conversion-tag",Mm="funnel-afterrender",IS={trigger:"afterrender",action:"".concat(LS,":change")};function eO(e){var x,r=e.options,t=r.compareField,n=r.xField,s=r.yField,h=r.funnelStyle,d=r.data,p=fp(r.locale);return(t||h)&&(x=function(w){return $t({},t&&{lineWidth:1,stroke:"#fff"},(0,S.mf)(h)?h(w):h)}),$t({options:{label:t?{fields:[n,s,t,yl,As],formatter:function(w){return"".concat(w[s])}}:{fields:[n,s,yl,As],offset:0,position:"middle",formatter:function(w){return"".concat(w[n]," ").concat(w[s])}},tooltip:{title:n,formatter:function(w){return{name:w[n],value:w[s]}}},conversionTag:{formatter:function(w){return"".concat(p.get(["conversionTag","label"]),": ").concat(wS.apply(void 0,w[As]))}}}},e,{options:{funnelStyle:x,data:(0,S.d9)(d)}})}function rO(e){var r=e.options,t=r.compareField,n=r.dynamicHeight;return r.seriesField?function tO(e){return vr(QI,ES)(e)}(e):t?function $I(e){return vr(VI,XI,Sm)(e)}(e):n?function KI(e){return vr(ZI,qI,jI,JI)(e)}(e):TS(e)}function OS(e){var r,t=e.options,s=t.yAxis,h=t.yField;return vr(Sn(((r={})[t.xField]=t.xAxis,r[h]=s,r)))(e)}function xu(e){return e.chart.axis(!1),e}function nO(e){var n=e.options.legend;return e.chart.legend(!1!==n&&n),e}function iO(e){var r=e.chart,t=e.options,s=t.dynamicHeight;return(0,S.S6)(t.interactions,function(u){!1===u.enable?r.removeInteraction(u.type):r.interaction(u.type,u.cfg||{})}),s?r.removeInteraction(Mm):r.interaction(Mm,{start:[(0,E.pi)((0,E.pi)({},IS),{arg:t})]}),e}function RS(e){return vr(eO,rO,OS,xu,Yn,iO,nO,Ur,Gr,yn())(e)}rr(LS,Lc),wr(Mm,{start:[IS]});var xp,FS=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="funnel",t}return(0,E.ZT)(r,e),r.getDefaultOptions=function(){return MS},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return RS},r.prototype.setState=function(t,n,s){void 0===s&&(s=!0);var u=cf(this.chart);(0,S.S6)(u,function(h){n(h.getData())&&h.setState(t,s)})},r.prototype.getStates=function(){var t=cf(this.chart),n=[];return(0,S.S6)(t,function(s){var u=s.getData(),h=s.getStates();(0,S.S6)(h,function(d){n.push({data:u,state:d,geometry:s.geometry,element:s})})}),n},r.CONVERSATION_FIELD=As,r.PERCENT_FIELD=yl,r.TOTAL_PERCENT_FIELD=xm,r}(Mr),bm="range",DS="type",Es="percent",aO="#f0f0f0",kS="indicator-view",BS="range-view",Tm={percent:0,range:{ticks:[]},innerRadius:.9,radius:.95,startAngle:-7/6*Math.PI,endAngle:1/6*Math.PI,syncViewPadding:!0,axis:{line:null,label:{offset:-24,style:{textAlign:"center",textBaseline:"middle"}},subTickLine:{length:-8},tickLine:{length:-12},grid:null},indicator:{pointer:{style:{lineWidth:5,lineCap:"round"}},pin:{style:{r:9.75,lineWidth:4.5,fill:"#fff"}}},statistic:{title:!1},meta:(xp={},xp[bm]={sync:"v"},xp[Es]={sync:"v",tickCount:5,tickInterval:.2},xp),animation:!1};function PS(e){var r;return[(r={},r[Es]=(0,S.uZ)(e,0,1),r)]}function Am(e,r){var t=(0,S.U2)(r,["ticks"],[]),n=(0,S.dp)(t)?(0,S.jj)(t):[0,(0,S.uZ)(e,0,1),1];return n[0]||n.shift(),function oO(e,r){return e.map(function(t,n){var s;return(s={})[bm]=t-(e[n-1]||0),s[DS]="".concat(n),s[Es]=r,s})}(n,e)}function sO(e){var r=e.chart,t=e.options,n=t.percent,s=t.range,u=t.radius,h=t.innerRadius,d=t.startAngle,p=t.endAngle,y=t.axis,x=t.indicator,w=t.gaugeStyle,M=t.type,T=t.meter,L=s.color,R=s.width;if(x){var D=PS(n),k=r.createView({id:kS});k.data(D),k.point().position("".concat(Es,"*1")).shape(x.shape||"gauge-indicator").customInfo({defaultColor:r.getTheme().defaultColor,indicator:x}),k.coordinate("polar",{startAngle:d,endAngle:p,radius:h*u}),k.axis(Es,y),k.scale(Es,jr(y,ki))}var z=Am(n,t.range),G=r.createView({id:BS});G.data(z);var U=(0,S.HD)(L)?[L,aO]:L;return ai({chart:G,options:{xField:"1",yField:bm,seriesField:DS,rawFields:[Es],isStack:!0,interval:{color:U,style:w,shape:"meter"===M?"meter-gauge":null},args:{zIndexReversed:!0,sortZIndex:!0},minColumnWidth:R,maxColumnWidth:R}}).ext.geometry.customInfo({meter:T}),G.coordinate("polar",{innerRadius:h,radius:u,startAngle:d,endAngle:p}).transpose(),e}function lO(e){var r;return vr(Sn(((r={range:{min:0,max:1,maxLimit:1,minLimit:0}})[Es]={},r)))(e)}function mf(e,r){var t=e.chart,n=e.options,s=n.statistic,u=n.percent;if(t.getController("annotation").clear(!0),s){var h=s.content,d=void 0;h&&(d=$t({},{content:"".concat((100*u).toFixed(2),"%"),style:{opacity:.75,fontSize:"30px",lineHeight:1,textAlign:"center",color:"rgba(44,53,66,0.85)"}},h)),nS(t,{statistic:(0,E.pi)((0,E.pi)({},s),{content:d})},{percent:u})}return r&&t.render(!0),e}function uO(e){var n=e.options.tooltip;return e.chart.tooltip(!!n&&$t({showTitle:!1,showMarkers:!1,containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',domStyles:{"g2-tooltip":{padding:"4px 8px",fontSize:"10px"}},customContent:function(s,u){var h=(0,S.U2)(u,[0,"data",Es],0);return"".concat((100*h).toFixed(2),"%")}},n)),e}function cO(e){return e.chart.legend(!1),e}function zS(e){return vr(Gr,Ur,sO,lO,uO,mf,vn,yn(),cO)(e)}Xr("point","gauge-indicator",{draw:function(e,r){var t=e.customInfo,n=t.indicator,s=t.defaultColor,h=n.pointer,d=n.pin,p=r.addGroup(),y=this.parsePoint({x:0,y:0});return h&&p.addShape("line",{name:"pointer",attrs:(0,E.pi)({x1:y.x,y1:y.y,x2:e.x,y2:e.y,stroke:s},h.style)}),d&&p.addShape("circle",{name:"pin",attrs:(0,E.pi)({x:y.x,y:y.y,stroke:s},d.style)}),p}}),Xr("interval","meter-gauge",{draw:function(e,r){var t=e.customInfo.meter,n=void 0===t?{}:t,s=n.steps,u=void 0===s?50:s,h=n.stepRatio,d=void 0===h?.5:h;u=u<1?1:u,d=(0,S.uZ)(d,0,1);var p=this.coordinate,y=p.startAngle,w=0;d>0&&d<1&&(w=(p.endAngle-y)/u/(d/(1-d)+1-1/u));for(var T=w/(1-d)*d,L=r.addGroup(),R=this.coordinate.getCenter(),D=this.coordinate.getRadius(),k=sa.getAngle(e,this.coordinate),G=k.endAngle,U=k.startAngle;U<G;){var q=void 0,a=(U-y)%(T+w);q=a<T?U+(T-a):(U+=T+w-a)+T;var o=sa.getSectorPath(R.x,R.y,D,U,Math.min(q,G),D*this.coordinate.innerRadius);L.addShape("path",{name:"meter-gauge",attrs:{path:o,fill:e.color,stroke:e.color,lineWidth:.5}}),U=q+w}return L}});var xf=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="gauge",t}return(0,E.ZT)(r,e),r.getDefaultOptions=function(){return Tm},r.prototype.changeData=function(t){this.chart.emit(Er.BEFORE_CHANGE_DATA,sn.fromData(this.chart,Er.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t});var n=this.chart.views.find(function(u){return u.id===kS});n&&n.data(PS(t));var s=this.chart.views.find(function(u){return u.id===BS});s&&s.data(Am(t,this.options.range)),mf({chart:this.chart,options:this.options},!0),this.chart.emit(Er.AFTER_CHANGE_DATA,sn.fromData(this.chart,Er.AFTER_CHANGE_DATA,null))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return zS},r}(Mr);function NS(e,r,t){if(1===t)return[0,r];var n=Math.floor(e/r);return[r*n,r*(n+1)]}function HS(e,r,t,n,s){var u=(0,S.d9)(e);(0,S.MR)(u,r);var h=(0,S.I)(u,r),d=(0,S.rx)(h),p=d.max-d.min,y=t;if(!t&&n&&(y=n>1?p/(n-1):d.max),!t&&!n){var x=function hO(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1}(h);y=p/x}var w={},M=(0,S.vM)(u,s);(0,S.xb)(M)?(0,S.S6)(u,function(L){var D=NS(L[r],y,n),k="".concat(D[0],"-").concat(D[1]);(0,S.wH)(w,k)||(w[k]={range:D,count:0}),w[k].count+=1}):Object.keys(M).forEach(function(L){(0,S.S6)(M[L],function(R){var k=NS(R[r],y,n),z="".concat(k[0],"-").concat(k[1]),G="".concat(z,"-").concat(L);(0,S.wH)(w,G)||(w[G]={range:k,count:0},w[G][s]=L),w[G].count+=1})});var T=[];return(0,S.S6)(w,function(L){T.push(L)}),T}var Cp="range",Cf="count",fO=$t({},Mr.getDefaultOptions(),{columnStyle:{stroke:"#FFFFFF"},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]});function Cu(e){var r=e.chart,t=e.options,d=t.color,p=t.stackField,y=t.legend,x=t.columnStyle,w=HS(t.data,t.binField,t.binWidth,t.binNumber,p);return r.data(w),ai($t({},e,{options:{xField:Cp,yField:Cf,seriesField:p,isStack:!0,interval:{color:d,style:x}}})),y&&p?r.legend(p,y):r.legend(!1),e}function dO(e){var r,t=e.options,s=t.yAxis;return vr(Sn(((r={})[Cp]=t.xAxis,r[Cf]=s,r)))(e)}function vO(e){var r=e.chart,t=e.options,n=t.xAxis,s=t.yAxis;return r.axis(Cp,!1!==n&&n),r.axis(Cf,!1!==s&&s),e}function pO(e){var n=e.options.label,s=mi(e.chart,"interval");if(n){var u=n.callback,h=(0,E._T)(n,["callback"]);s.label({fields:[Cf],callback:u,cfg:Jn(h)})}else s.label(!1);return e}function GS(e){return vr(Gr,la("columnStyle"),Cu,dO,vO,fl,pO,Yn,vn,Ur)(e)}var WS=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="histogram",t}return(0,E.ZT)(r,e),r.getDefaultOptions=function(){return fO},r.prototype.changeData=function(t){this.updateOption({data:t});var n=this.options;this.chart.changeData(HS(t,n.binField,n.binWidth,n.binNumber,n.stackField))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return GS},r}(Mr),gO=$t({},Mr.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},legend:{position:"top-left",radio:{}},isStack:!1}),yO=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.active=function(){var t=this.getView(),n=this.context.event;if(n.data){var s=n.data.items,u=t.geometries.filter(function(h){return"point"===h.type});(0,S.S6)(u,function(h){(0,S.S6)(h.elements,function(d){var p=-1!==(0,S.cx)(s,function(y){return y.data===d.data});d.setState("active",p)})})}},r.prototype.reset=function(){var n=this.getView().geometries.filter(function(s){return"point"===s.type});(0,S.S6)(n,function(s){(0,S.S6)(s.elements,function(u){u.setState("active",!1)})})},r.prototype.getView=function(){return this.context.view},r}(cn);rr("marker-active",yO),wr("marker-active",{start:[{trigger:"tooltip:show",action:"marker-active:active"}],end:[{trigger:"tooltip:hide",action:"marker-active:reset"}]});var Em=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="line",t}return(0,E.ZT)(r,e),r.getDefaultOptions=function(){return gO},r.prototype.changeData=function(t){this.updateOption({data:t}),vp({chart:this.chart,options:this.options}),this.chart.changeData(t)},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return yS},r}(Mr),US=$t({},Mr.getDefaultOptions(),{legend:{position:"right",radio:{}},tooltip:{shared:!1,showTitle:!1,showMarkers:!1},label:{layout:{type:"limit-in-plot",cfg:{action:"ellipsis"}}},pieStyle:{stroke:"white",lineWidth:1},statistic:{title:{style:{fontWeight:300,color:"#4B535E",textAlign:"center",fontSize:"20px",lineHeight:1}},content:{style:{fontWeight:"bold",color:"rgba(44,53,66,0.85)",textAlign:"center",fontSize:"32px",lineHeight:1}}},theme:{components:{annotation:{text:{animate:!1}}}}}),mO=[1,0,0,0,1,0,0,0,1];function Lm(e,r){var t=(0,E.ev)([],r||mO,!0);return sa.transform(t,e)}var Im=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getActiveElements=function(){var t=sa.getDelegationObject(this.context);if(t){var n=this.context.view,u=t.item,h=t.component.get("field");if(h)return n.geometries[0].elements.filter(function(p){return p.getModel().data[h]===u.value})}return[]},r.prototype.getActiveElementLabels=function(){var t=this.context.view,n=this.getActiveElements();return t.geometries[0].labelsContainer.getChildren().filter(function(u){return n.find(function(h){return(0,S.Xy)(h.getData(),u.get("data"))})})},r.prototype.transfrom=function(t){void 0===t&&(t=7.5);var n=this.getActiveElements(),s=this.getActiveElementLabels();n.forEach(function(u,h){var d=s[h],p=u.geometry.coordinate;if(p.isPolar&&p.isTransposed){var y=sa.getAngle(u.getModel(),p),M=(y.startAngle+y.endAngle)/2,T=t,L=T*Math.cos(M),R=T*Math.sin(M);u.shape.setMatrix(Lm([["t",L,R]])),d.setMatrix(Lm([["t",L,R]]))}})},r.prototype.active=function(){this.transfrom()},r.prototype.reset=function(){this.transfrom(0)},r}(cn),CO=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getAnnotations=function(t){return(t||this.context.view).getController("annotation").option},r.prototype.getInitialAnnotation=function(){return this.initialAnnotation},r.prototype.init=function(){var t=this,n=this.context.view;n.removeInteraction("tooltip"),n.on("afterchangesize",function(){var s=t.getAnnotations(n);t.initialAnnotation=s})},r.prototype.change=function(t){var n=this.context,s=n.view,u=n.event;this.initialAnnotation||(this.initialAnnotation=this.getAnnotations());var h=(0,S.U2)(u,["data","data"]);if(u.type.match("legend-item")){var d=sa.getDelegationObject(this.context),p=s.getGroupedFields()[0];if(d&&p){var y=d.item;h=s.getData().find(function(T){return T[p]===y.value})}}if(h){var x=(0,S.U2)(t,"annotations",[]),w=(0,S.U2)(t,"statistic",{});s.getController("annotation").clear(!0),(0,S.S6)(x,function(T){"object"==typeof T&&s.annotation()[T.type](T)}),sp(s,{statistic:w,plotType:"pie"},h),s.render(!0)}var M=function xO(e){var t,n=e.event.target;return n&&(t=n.get("element")),t}(this.context);M&&M.shape.toFront()},r.prototype.reset=function(){var t=this.context.view;t.getController("annotation").clear(!0);var s=this.getInitialAnnotation();(0,S.S6)(s,function(u){t.annotation()[u.type](u)}),t.render(!0)},r}(cn),wf="pie-statistic";function _O(e,r){var t;switch(e){case"inner":return t="-30%",(0,S.HD)(r)&&r.endsWith("%")?.01*parseFloat(r)>0?t:r:r<0?r:t;case"outer":return t=12,(0,S.HD)(r)&&r.endsWith("%")?.01*parseFloat(r)<0?t:r:r>0?r:t;default:return r}}function wp(e,r){return(0,S.yW)(fu(e,r),function(t){return 0===t[r]})}function SO(e){var r=e.chart,t=e.options,s=t.angleField,u=t.colorField,h=t.color,d=t.pieStyle,p=t.shape,y=fu(t.data,s);if(wp(y,s)){var x="$$percentage$$";y=y.map(function(M){var T;return(0,E.pi)((0,E.pi)({},M),((T={})[x]=1/y.length,T))}),r.data(y),ai($t({},e,{options:{xField:"1",yField:x,seriesField:u,isStack:!0,interval:{color:h,shape:p,style:d},args:{zIndexReversed:!0,sortZIndex:!0}}}))}else r.data(y),ai($t({},e,{options:{xField:"1",yField:s,seriesField:u,isStack:!0,interval:{color:h,shape:p,style:d},args:{zIndexReversed:!0,sortZIndex:!0}}}));return e}function MO(e){var r,t=e.chart,n=e.options,u=n.colorField,h=$t({},n.meta);return t.scale(h,((r={})[u]={type:"cat"},r)),e}function bO(e){var t=e.options;return e.chart.coordinate({type:"theta",cfg:{radius:t.radius,innerRadius:t.innerRadius,startAngle:t.startAngle,endAngle:t.endAngle}}),e}function YS(e){var r=e.chart,t=e.options,n=t.label,s=t.colorField,u=t.angleField,h=r.geometries[0];if(n){var d=n.callback,y=Jn((0,E._T)(n,["callback"]));if(y.content){var x=y.content;y.content=function(L,R,D){var k=L[s],z=L[u],U=r.getScaleByField(u)?.scale(z);return(0,S.mf)(x)?x((0,E.pi)((0,E.pi)({},L),{percent:U}),R,D):(0,S.HD)(x)?iS(x,{value:z,name:k,percentage:(0,S.hj)(U)&&!(0,S.UM)(z)?"".concat((100*U).toFixed(2),"%"):null}):x}}var M=y.type?{inner:"",outer:"pie-outer",spider:"pie-spider"}[y.type]:"pie-outer",T=y.layout?(0,S.kJ)(y.layout)?y.layout:[y.layout]:[];y.layout=(M?[{type:M}]:[]).concat(T),h.label({fields:s?[u,s]:[u],callback:d,cfg:(0,E.pi)((0,E.pi)({},y),{offset:_O(y.type,y.offset),type:"pie"})})}else h.label(!1);return e}function VS(e){var r=e.innerRadius,t=e.statistic,n=e.angleField,s=e.colorField,u=e.meta,d=fp(e.locale);if(r&&t){var p=$t({},US.statistic,t),y=p.title,x=p.content;return!1!==y&&(y=$t({},{formatter:function(w){var M=w?w[s]:(0,S.UM)(y.content)?d.get(["statistic","total"]):y.content;return((0,S.U2)(u,[s,"formatter"])||function(L){return L})(M)}},y)),!1!==x&&(x=$t({},{formatter:function(w,M){var T=w?w[n]:function wO(e,r){var t=null;return(0,S.S6)(e,function(n){"number"==typeof n[r]&&(t+=n[r])}),t}(M,n),L=(0,S.U2)(u,[n,"formatter"])||function(R){return R};return w||(0,S.UM)(x.content)?L(T):x.content}},x)),$t({},{statistic:{title:y,content:x}},e)}return e}function XS(e){var r=e.chart,n=VS(e.options),s=n.innerRadius,u=n.statistic;return r.getController("annotation").clear(!0),vr(yn())(e),s&&u&&sp(r,{statistic:u,plotType:"pie"}),e}function TO(e){var r=e.chart,t=e.options,n=t.tooltip,s=t.colorField,u=t.angleField,h=t.data;if(!1===n)r.tooltip(n);else if(r.tooltip($t({},n,{shared:!1})),wp(h,u)){var d=(0,S.U2)(n,"fields"),p=(0,S.U2)(n,"formatter");(0,S.xb)((0,S.U2)(n,"fields"))&&(d=[s,u],p=p||function(y){return{name:y[s],value:(0,S.BB)(y[u])}}),r.geometries[0].tooltip(d.join("*"),yu(d,p))}return e}function $S(e){var r=e.chart,n=VS(e.options),u=n.statistic,h=n.annotations;return(0,S.S6)(n.interactions,function(d){var p,y;if(!1===d.enable)r.removeInteraction(d.type);else if("pie-statistic-active"===d.type){var x=[];!(null===(p=d.cfg)||void 0===p)&&p.start||(x=[{trigger:"element:mouseenter",action:"".concat(wf,":change"),arg:{statistic:u,annotations:h}}]),(0,S.S6)(null===(y=d.cfg)||void 0===y?void 0:y.start,function(w){x.push((0,E.pi)((0,E.pi)({},w),{arg:{statistic:u,annotations:h}}))}),r.interaction(d.type,$t({},d.cfg,{start:x}))}else r.interaction(d.type,d.cfg||{})}),e}function ZS(e){return vr(la("pieStyle"),SO,MO,Gr,bO,gu,TO,YS,fl,XS,$S,Ur)(e)}rr(wf,CO),wr("pie-statistic-active",{start:[{trigger:"element:mouseenter",action:"pie-statistic:change"}],end:[{trigger:"element:mouseleave",action:"pie-statistic:reset"}]}),rr("pie-legend",Im),wr("pie-legend-active",{start:[{trigger:"legend-item:mouseenter",action:"pie-legend:active"}],end:[{trigger:"legend-item:mouseleave",action:"pie-legend:reset"}]});var Om=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="pie",t}return(0,E.ZT)(r,e),r.getDefaultOptions=function(){return US},r.prototype.changeData=function(t){this.chart.emit(Er.BEFORE_CHANGE_DATA,sn.fromData(this.chart,Er.BEFORE_CHANGE_DATA,null));var s=this.options.angleField,u=fu(this.options.data,s),h=fu(t,s);wp(u,s)||wp(h,s)?this.update({data:t}):(this.updateOption({data:t}),this.chart.data(h),XS({chart:this.chart,options:this.options}),this.chart.render(!0)),this.chart.emit(Er.AFTER_CHANGE_DATA,sn.fromData(this.chart,Er.AFTER_CHANGE_DATA,null))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return ZS},r}(Mr),qS=["#FAAD14","#E8EDF3"],AO={percent:.2,color:qS,animation:{}};function Rm(e){var r=(0,S.uZ)(du(e)?e:0,0,1);return[{current:"".concat(r),type:"current",percent:r},{current:"".concat(r),type:"target",percent:1}]}function jS(e){var r=e.chart,t=e.options,s=t.progressStyle,u=t.color,h=t.barWidthRatio;return r.data(Rm(t.percent)),ai($t({},e,{options:{xField:"current",yField:"percent",seriesField:"type",widthRatio:h,interval:{style:s,color:(0,S.HD)(u)?[u,qS[1]]:u},args:{zIndexReversed:!0,sortZIndex:!0}}})),r.tooltip(!1),r.axis(!1),r.legend(!1),e}function EO(e){return e.chart.coordinate("rect").transpose(),e}function JS(e){return vr(jS,Sn({}),EO,Ur,Gr,yn())(e)}var KS=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="process",t}return(0,E.ZT)(r,e),r.getDefaultOptions=function(){return AO},r.prototype.changeData=function(t){this.updateOption({percent:t}),this.chart.changeData(Rm(t))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return JS},r}(Mr);function LO(e){var t=e.options;return e.chart.coordinate("theta",{innerRadius:t.innerRadius,radius:t.radius}),e}function QS(e,r){var t=e.chart,n=e.options,s=n.innerRadius,u=n.statistic,h=n.percent,d=n.meta;if(t.getController("annotation").clear(!0),s&&u){var p=(0,S.U2)(d,["percent","formatter"])||function(x){return"".concat((100*x).toFixed(2),"%")},y=u.content;y&&(y=$t({},y,{content:(0,S.UM)(y.content)?p(h):y.content})),sp(t,{statistic:(0,E.pi)((0,E.pi)({},u),{content:y}),plotType:"ring-progress"},{percent:h})}return r&&t.render(!0),e}function tM(e){return vr(jS,Sn({}),LO,QS,Ur,Gr,yn())(e)}var eM={percent:.2,innerRadius:.8,radius:.98,color:["#FAAD14","#E8EDF3"],statistic:{title:!1,content:{style:{fontSize:"14px",fontWeight:300,fill:"#4D4D4D",textAlign:"center",textBaseline:"middle"}}},animation:{}},IO=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="ring-process",t}return(0,E.ZT)(r,e),r.getDefaultOptions=function(){return eM},r.prototype.changeData=function(t){this.chart.emit(Er.BEFORE_CHANGE_DATA,sn.fromData(this.chart,Er.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t}),this.chart.data(Rm(t)),QS({chart:this.chart,options:this.options},!0),this.chart.emit(Er.AFTER_CHANGE_DATA,sn.fromData(this.chart,Er.AFTER_CHANGE_DATA,null))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return tM},r}(Mr),wu=ut(5066),OO={exp:wu.regressionExp,linear:wu.regressionLinear,loess:wu.regressionLoess,log:wu.regressionLog,poly:wu.regressionPoly,pow:wu.regressionPow,quad:wu.regressionQuad},FO=function(e,r){var t=r.view,n=r.options,u=n.yField,h=t.getScaleByField(n.xField),d=t.getScaleByField(u);return function sm(e,r,t){var n=[],s=e[0],u=null;if(e.length<=2)return function om(e,r){var t=[];if(e.length){t.push(["M",e[0].x,e[0].y]);for(var n=1,s=e.length;n<s;n+=1){var u=e[n];t.push(["L",u.x,u.y])}r&&t.push(["Z"])}return t}(e,r);for(var h=0,d=e.length;h<d;h++){var p=e[h];(!u||u.x!==p.x||u.y!==p.y)&&(n.push(p.x),n.push(p.y),u=p)}var x=function aI(e,r,t){for(var n=!!r,s=[],u=0,h=e.length;u<h;u+=2)s.push([e[u],e[u+1]]);var x,w,M,d=iI(s,.4,n,t),p=s.length,y=[];for(u=0;u<p-1;u++)y.push(["C",(x=d[2*u])[0],x[1],(w=d[2*u+1])[0],w[1],(M=s[u+1])[0],M[1]]);return n&&y.push(["C",(x=d[p])[0],x[1],(w=d[p+1])[0],w[1],(M=s[0])[0],M[1]]),y}(n,r,t||[[0,0],[1,1]]);return x.unshift(["M",s.x,s.y]),x}(e.map(function(y){return t.getCoordinate().convert({x:h.scale(y[0]),y:d.scale(y[1])})}),!1)},DO=function(e){var x,r=e.options,t=r.xField,n=r.yField,s=r.data,u=r.regressionLine,h=u.type,d=void 0===h?"linear":h,p=u.algorithm,y=u.equation,w=null;return p?(x=(0,S.kJ)(p)?p:p(s),w=y):w=function kO(e,r){var t,n,s,h=function(y){return Number.isFinite(y)?function(y,x){return void 0===x&&(x=4),Math.round(y*Math.pow(10,x))/Math.pow(10,x)}(y):"?"};switch(e){case"linear":return"y = ".concat(h(r.a),"x + ").concat(h(r.b),", R^2 = ").concat(h(r.rSquared));case"exp":return"y = ".concat(h(r.a),"e^(").concat(h(r.b),"x), R^2 = ").concat(h(r.rSquared));case"log":return"y = ".concat(h(r.a),"ln(x) + ").concat(h(r.b),", R^2 = ").concat(h(r.rSquared));case"quad":return"y = ".concat(h(r.a),"x^2 + ").concat(h(r.b),"x + ").concat(h(r.c),", R^2 = ").concat(h(r.rSquared));case"poly":for(var d="y = ".concat(h(null===(t=r.coefficients)||void 0===t?void 0:t[0])," + ").concat(h(null===(n=r.coefficients)||void 0===n?void 0:n[1]),"x + ").concat(h(null===(s=r.coefficients)||void 0===s?void 0:s[2]),"x^2"),p=3;p<r.coefficients.length;++p)d+=" + ".concat(h(r.coefficients[p]),"x^").concat(p);return"".concat(d,", R^2 = ").concat(h(r.rSquared));case"pow":return"y = ".concat(h(r.a),"x^").concat(h(r.b),", R^2 = ").concat(h(r.rSquared))}return null}(d,x=OO[d]().x(function(T){return T[t]}).y(function(T){return T[n]})(s)),[FO(x,e),w]},rM=function(e){var r,t=e.meta,n=void 0===t?{}:t,s=e.xField,u=e.yField,h=e.data,d=h[0][s],p=h[0][u],y=d>0,x=p>0;function w(M,T){var L=(0,S.U2)(n,[M]);function R(k){return(0,S.U2)(L,k)}var D={};return"x"===T?((0,S.hj)(d)&&((0,S.hj)(R("min"))||(D.min=y?0:2*d),(0,S.hj)(R("max"))||(D.max=y?2*d:0)),D):((0,S.hj)(p)&&((0,S.hj)(R("min"))||(D.min=x?0:2*p),(0,S.hj)(R("max"))||(D.max=x?2*p:0)),D)}return(0,E.pi)((0,E.pi)({},n),((r={})[s]=(0,E.pi)((0,E.pi)({},n[s]),w(s,"x")),r[u]=(0,E.pi)((0,E.pi)({},n[u]),w(u,"y")),r))};function Fm(e){var r=e.data,t=void 0===r?[]:r,n=e.xField,s=e.yField;if(t.length){for(var u=!0,h=!0,d=t[0],p=void 0,y=1;y<t.length&&(d[n]!==(p=t[y])[n]&&(u=!1),d[s]!==p[s]&&(h=!1),u||h);y++)d=p;var x=[];u&&x.push(n),h&&x.push(s);var w=jr(rM(e),x);return $t({},e,{meta:w})}return e}function BO(e){var r=e.chart,t=e.options,n=t.data,s=t.type,u=t.color,h=t.shape,d=t.pointStyle,p=t.shapeField,y=t.colorField,x=t.xField,w=t.yField,M=t.sizeField,T=t.size,L=t.tooltip;M&&(T||(T=[2,8]),(0,S.hj)(T)&&(T=[T,T])),L&&!L.fields&&(L=(0,E.pi)((0,E.pi)({},L),{fields:[x,w,y,M,p]})),r.data(n),ca($t({},e,{options:{seriesField:y,point:{color:u,shape:h,size:T,style:d},tooltip:L}}));var R=mi(r,"point");return s&&R.adjust(s),e}function _p(e){var r,t=e.options,n=t.xAxis,s=t.yAxis,u=t.xField,h=t.yField,d=Fm(t);return vr(Sn(((r={})[u]=n,r[h]=s,r)))($t({},e,{options:d}))}function PO(e){var r=e.chart,t=e.options,s=t.yAxis,h=t.yField;return r.axis(t.xField,t.xAxis),r.axis(h,s),e}function nM(e){var r=e.chart,t=e.options,n=t.legend,s=t.colorField,u=t.shapeField,h=t.sizeField,d=t.shapeLegend,p=t.sizeLegend,y=!1!==n;return s&&r.legend(s,!!y&&n),u&&r.legend(u,d||!1!==d&&n),h&&r.legend(h,p||!1),!y&&!d&&!p&&r.legend(!1),e}function zO(e){var t=e.options,n=t.label,s=t.yField,u=mi(e.chart,"point");if(n){var h=n.callback,d=(0,E._T)(n,["callback"]);u.label({fields:[s],callback:h,cfg:Jn(d)})}else u.label(!1);return e}function NO(e){var t=e.options.quadrant,n=[];if(t){var s=t.xBaseline,u=void 0===s?0:s,h=t.yBaseline,d=void 0===h?0:h,p=t.labels,y=t.regionStyle,x=t.lineStyle,w=function RO(e,r){var t=10;return{regionStyle:[{position:{start:[e,"max"],end:["max",r]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:["min","max"],end:[e,r]},style:{fill:"#a3dda1",opacity:.4}},{position:{start:["min",r],end:[e,"min"]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:[e,r],end:["max","min"]},style:{fill:"#a3dda1",opacity:.4}}],lineStyle:{stroke:"#9ba29a",lineWidth:1},labelStyle:[{position:["max",r],offsetX:-t,offsetY:-t,style:{textAlign:"right",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",r],offsetX:t,offsetY:-t,style:{textAlign:"left",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",r],offsetX:t,offsetY:t,style:{textAlign:"left",textBaseline:"top",fontSize:14,fill:"#ccc"}},{position:["max",r],offsetX:-t,offsetY:t,style:{textAlign:"right",textBaseline:"top",fontSize:14,fill:"#ccc"}}]}}(u,d);new Array(4).join(",").split(",").forEach(function(T,L){n.push((0,E.pi)((0,E.pi)({type:"region",top:!1},w.regionStyle[L].position),{style:$t({},w.regionStyle[L].style,y?.[L])}),(0,E.pi)({type:"text",top:!0},$t({},w.labelStyle[L],p?.[L])))}),n.push({type:"line",top:!1,start:["min",d],end:["max",d],style:$t({},w.lineStyle,x)},{type:"line",top:!1,start:[u,"min"],end:[u,"max"],style:$t({},w.lineStyle,x)})}return vr(yn(n))(e)}function HO(e){var r=e.options,t=e.chart,n=r.regressionLine;if(n){var s=n.style,u=n.equationStyle,h=void 0===u?{}:u,d=n.top,p=void 0!==d&&d,y=n.showEquation,x=void 0!==y&&y,w={stroke:"#9ba29a",lineWidth:2,opacity:.5},M={x:20,y:20,textAlign:"left",textBaseline:"middle",fontSize:14,fillOpacity:.5};t.annotation().shape({top:p,render:function(T,L){var R=T.addGroup({id:"".concat(t.id,"-regression-line"),name:"regression-line-group"}),D=DO({view:L,options:r}),z=D[1];R.addShape("path",{name:"regression-line",attrs:(0,E.pi)((0,E.pi)({path:D[0]},w),s)}),x&&R.addShape("text",{name:"regression-equation",attrs:(0,E.pi)((0,E.pi)((0,E.pi)({},M),h),{text:z})})}})}return e}function GO(e){var r=e.chart,n=e.options.tooltip;return n?r.tooltip(n):!1===n&&r.tooltip(!1),e}function iM(e){return vr(BO,_p,PO,nM,GO,zO,CS,df,vf,vn,NO,Ur,Gr,HO)(e)}var Dm=$t({},Mr.getDefaultOptions(),{size:4,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!0,crosshairs:{type:"xy"}}});wr("drag-move",{start:[{trigger:"plot:mousedown",action:"scale-translate:start"}],processing:[{trigger:"plot:mousemove",action:"scale-translate:translate",throttle:{wait:100,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseup",action:"scale-translate:end"}]});var km=function(e){function r(t,n){var s=e.call(this,t,n)||this;return s.type="scatter",s.on(Er.BEFORE_RENDER,function(u){var h,d,y=s.options,x=s.chart;if((null===(h=u.data)||void 0===h?void 0:h.source)===Zi.FILTER){var w=s.chart.filterData(s.chart.getData());_p({chart:x,options:(0,E.pi)((0,E.pi)({},y),{data:w})})}(null===(d=u.data)||void 0===d?void 0:d.source)===Zi.RESET&&_p({chart:x,options:y})}),s}return(0,E.ZT)(r,e),r.getDefaultOptions=function(){return Dm},r.prototype.changeData=function(t){this.updateOption(Fm($t({},this.options,{data:t}))),_p({chart:this.chart,options:this.options}),this.chart.changeData(t)},r.prototype.getSchemaAdaptor=function(){return iM},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r}(Mr),_f="$$stock-range$$",Sp="trend",aM="up",oM="down",Mp=$t({},Mr.getDefaultOptions(),{tooltip:{showMarkers:!1,showCrosshairs:!0,shared:!0,crosshairs:{type:"xy",follow:!0,text:function(e,r,t){var n;if("x"===e){var s=t[0];n=s?s.title:r}else n=r;return{position:"y"===e?"start":"end",content:n,style:{fill:"#dfdfdf"}}},textBackground:{padding:[2,4],style:{fill:"#666"}}}},interactions:[{type:"tooltip"}],legend:{position:"top-left"},risingFill:"#ef5350",fallingFill:"#26a69a"});function sM(e,r){return(0,S.UI)(e,function(t){var n=t&&(0,E.pi)({},t);if((0,S.kJ)(r)&&n){var s=r[0],u=r[1],h=r[2],d=r[3];n[Sp]=n[s]<=n[u]?aM:oM,n[_f]=[n[s],n[u],n[h],n[d]]}return n})}function UO(e){var t=e.options,n=t.yField,u=t.risingFill,h=t.fallingFill,d=t.tooltip,p=t.stockStyle;e.chart.data(sM(t.data,n));var y=d;return!1!==y&&(y=$t({},{fields:n},y)),pf($t({},e,{options:{schema:{shape:"candle",color:[u,h],style:p},yField:_f,seriesField:Sp,rawFields:n,tooltip:y}})),e}function lM(e){var r,t,n=e.chart,s=e.options,u=s.meta,h=s.xAxis,d=s.yAxis,p=s.xField,y=((r={})[p]={type:"timeCat",tickCount:6},r[Sp]={values:[aM,oM]},r),x=$t(y,u,((t={})[p]=jr(h,ki),t[_f]=jr(d,ki),t));return n.scale(x),e}function YO(e){var r=e.chart,t=e.options,n=t.xAxis,s=t.yAxis;return r.axis(t.xField,!1!==n&&n),r.axis(_f,!1!==s&&s),e}function VO(e){var n=e.options.tooltip;return e.chart.tooltip(!1!==n&&n),e}function Bm(e){var r=e.chart,n=e.options.legend;return n?r.legend(Sp,n):!1===n&&r.legend(!1),e}function Ic(e){vr(Gr,UO,lM,YO,VO,Bm,vn,Ur,yn(),df)(e)}var XO=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="stock",t}return(0,E.ZT)(r,e),r.getDefaultOptions=function(){return Mp},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return Ic},r.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(sM(t,this.options.yField))},r}(Mr);function Ls(e){return(0,S.UI)(e||[],function(r,t){return{x:"".concat(t),y:r}})}var Sf="x",Oc="y",uM={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(e,r){return"".concat((0,S.U2)(r,[0,"data","y"],0))},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}},showCrosshairs:!0,crosshairs:{type:"x"}},cM={appendPadding:2,tooltip:(0,E.pi)({},uM),animation:{}};function Pm(e){var r=e.chart,t=e.options,s=t.color,u=t.areaStyle,h=t.point,d=t.line,p=h?.state,y=Ls(t.data);r.data(y);var x=$t({},e,{options:{xField:Sf,yField:Oc,area:{color:s,style:u},line:d,point:h}}),w=$t({},x,{options:{tooltip:!1}}),M=$t({},x,{options:{tooltip:!1,state:p}});return dp(x),bc(w),ca(M),r.axis(!1),r.legend(!1),e}function Rc(e){var r,t,n=e.options,s=n.xAxis,u=n.yAxis,d=Ls(n.data);return vr(Sn(((r={})[Sf]=s,r[Oc]=u,r),((t={})[Sf]={type:"cat"},t[Oc]=tm(d,Oc),t)))(e)}function hM(e){return vr(la("areaStyle"),Pm,Rc,Yn,Gr,Ur,yn())(e)}var fM={appendPadding:2,tooltip:(0,E.pi)({},uM),color:"l(90) 0:#E5EDFE 1:#ffffff",areaStyle:{fillOpacity:.6},line:{size:1,color:"#5B8FF9"},animation:{}},$O=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="tiny-area",t}return(0,E.ZT)(r,e),r.getDefaultOptions=function(){return fM},r.prototype.changeData=function(t){this.updateOption({data:t});var s=this.chart;Rc({chart:s,options:this.options}),s.changeData(Ls(t))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return hM},r}(Mr);function Mf(e){var r=e.chart,t=e.options,s=t.color,u=t.columnStyle,h=t.columnWidthRatio,d=Ls(t.data);return r.data(d),ai($t({},e,{options:{xField:Sf,yField:Oc,widthRatio:h,interval:{style:u,color:s}}})),r.axis(!1),r.legend(!1),r.interaction("element-active"),e}function dM(e){return vr(Gr,la("columnStyle"),Mf,Rc,Yn,Ur,yn())(e)}var pM={appendPadding:2,tooltip:(0,E.pi)({},{showTitle:!1,shared:!0,showMarkers:!1,customContent:function(e,r){return"".concat((0,S.U2)(r,[0,"data","y"],0))},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}}}),animation:{}},zm=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="tiny-column",t}return(0,E.ZT)(r,e),r.getDefaultOptions=function(){return pM},r.prototype.changeData=function(t){this.updateOption({data:t});var s=this.chart;Rc({chart:s,options:this.options}),s.changeData(Ls(t))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return dM},r}(Mr);function ZO(e){var r=e.chart,t=e.options,s=t.color,u=t.lineStyle,h=t.point,d=h?.state,p=Ls(t.data);r.data(p);var y=$t({},e,{options:{xField:Sf,yField:Oc,line:{color:s,style:u},point:h}}),x=$t({},y,{options:{tooltip:!1,state:d}});return bc(y),ca(x),r.axis(!1),r.legend(!1),e}function gM(e){return vr(ZO,Rc,Gr,Yn,Ur,yn())(e)}var qO=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="tiny-line",t}return(0,E.ZT)(r,e),r.getDefaultOptions=function(){return cM},r.prototype.changeData=function(t){this.updateOption({data:t});var s=this.chart;Rc({chart:s,options:this.options}),s.changeData(Ls(t))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return gM},r}(Mr),jO={line:yS,pie:ZS,column:yp,bar:SS,area:xS,gauge:zS,"tiny-line":gM,"tiny-column":dM,"tiny-area":hM,"ring-progress":tM,progress:JS,scatter:iM,histogram:GS,funnel:RS,stock:Ic},JO={line:Em,pie:Om,column:mm,bar:ym,area:cm,gauge:xf,"tiny-line":qO,"tiny-column":zm,"tiny-area":$O,"ring-progress":IO,progress:KS,scatter:km,histogram:WS,funnel:FS,stock:XO},KO={pie:{label:!1},column:{tooltip:{showMarkers:!1}},bar:{tooltip:{showMarkers:!1}}};function Nm(e,r,t){var n=JO[e];n?(0,jO[e])({chart:r,options:$t({},n.getDefaultOptions(),(0,S.U2)(KO,e,{}),t)}):console.error("could not find ".concat(e," plot"))}function QO(e){var r=e.chart,t=e.options,s=t.legend;return(0,S.S6)(t.views,function(u){var d=u.data,p=u.meta,y=u.axes,x=u.coordinate,w=u.interactions,M=u.annotations,T=u.tooltip,L=u.geometries,R=r.createView({region:u.region});R.data(d);var D={};y&&(0,S.S6)(y,function(k,z){D[z]=jr(k,ki)}),D=$t({},p,D),R.scale(D),y?(0,S.S6)(y,function(k,z){R.axis(z,k)}):R.axis(!1),R.coordinate(x),(0,S.S6)(L,function(k){var z=Bi({chart:R,options:k}).ext,G=k.adjust;G&&z.geometry.adjust(G)}),(0,S.S6)(w,function(k){!1===k.enable?R.removeInteraction(k.type):R.interaction(k.type,k.cfg)}),(0,S.S6)(M,function(k){R.annotation()[k.type]((0,E.pi)({},k))}),"boolean"==typeof u.animation?R.animate(!1):(R.animate(!0),(0,S.S6)(R.geometries,function(k){k.animate(u.animation)})),T&&(R.interaction("tooltip"),R.tooltip(T))}),s?(0,S.S6)(s,function(u,h){r.legend(h,u)}):r.legend(!1),r.tooltip(t.tooltip),e}function tR(e){var r=e.chart,t=e.options,s=t.data,u=void 0===s?[]:s;return(0,S.S6)(t.plots,function(h){var d=h.type,p=h.region,y=h.options,x=void 0===y?{}:y,M=x.tooltip;if(h.top)Nm(d,r,(0,E.pi)((0,E.pi)({},x),{data:u}));else{var T=r.createView((0,E.pi)({region:p},jr(x,dS)));M&&T.interaction("tooltip"),Nm(d,T,(0,E.pi)({data:u},x))}}),e}function eR(e){return e.chart.option("slider",e.options.slider),e}function rR(e){return vr(Ur,QO,tR,vn,Ur,Gr,Yn,eR,yn())(e)}var iR=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getAssociationItems=function(t,n){var s,u=this.context.event,h=n||{},d=h.linkField,p=h.dim,y=[];if(null!==(s=u.data)&&void 0!==s&&s.data){var x=u.data.data;(0,S.S6)(t,function(w){var M,T,L=d;if("x"===p?L=w.getXScale().field:"y"===p?L=null===(M=w.getYScales().find(function(D){return D.field===L}))||void 0===M?void 0:M.field:L||(L=null===(T=w.getGroupScales()[0])||void 0===T?void 0:T.field),L){var R=(0,S.UI)(ap(w),function(D){var k=!1,z=!1,G=(0,S.kJ)(x)?(0,S.U2)(x[0],L):(0,S.U2)(x,L);return function yM(e,r){var n=e.getModel().data;return(0,S.kJ)(n)?n[0][r]:n[r]}(D,L)===G?k=!0:z=!0,{element:D,view:w,active:k,inactive:z}});y.push.apply(y,R)}})}return y},r.prototype.showTooltip=function(t){var n=aS(this.context.view),s=this.getAssociationItems(n,t);(0,S.S6)(s,function(u){if(u.active){var h=u.element.shape.getCanvasBBox();u.view.showTooltip({x:h.minX+h.width/2,y:h.minY+h.height/2})}})},r.prototype.hideTooltip=function(){var t=aS(this.context.view);(0,S.S6)(t,function(n){n.hideTooltip()})},r.prototype.active=function(t){var n=vu(this.context.view),s=this.getAssociationItems(n,t);(0,S.S6)(s,function(u){u.active&&u.element.setState("active",!0)})},r.prototype.selected=function(t){var n=vu(this.context.view),s=this.getAssociationItems(n,t);(0,S.S6)(s,function(u){u.active&&u.element.setState("selected",!0)})},r.prototype.highlight=function(t){var n=vu(this.context.view),s=this.getAssociationItems(n,t);(0,S.S6)(s,function(u){u.inactive&&u.element.setState("inactive",!0)})},r.prototype.reset=function(){var t=vu(this.context.view);(0,S.S6)(t,function(n){!function nR(e){var r=ap(e);(0,S.S6)(r,function(t){t.hasState("active")&&t.setState("active",!1),t.hasState("selected")&&t.setState("selected",!1),t.hasState("inactive")&&t.setState("inactive",!1)})}(n)})},r}(cn);rr("association",iR),wr("association-active",{start:[{trigger:"element:mouseenter",action:"association:active"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),wr("association-selected",{start:[{trigger:"element:mouseenter",action:"association:selected"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),wr("association-highlight",{start:[{trigger:"element:mouseenter",action:"association:highlight"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),wr("association-tooltip",{start:[{trigger:"element:mousemove",action:"association:showTooltip"}],end:[{trigger:"element:mouseleave",action:"association:hideTooltip"}]});var aR=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="mix",t}return(0,E.ZT)(r,e),r.prototype.getSchemaAdaptor=function(){return rR},r}(Mr),_u=(()=>(function(e){e.DEV="DEV",e.BETA="BETA",e.STABLE="STABLE"}(_u||(_u={})),_u))();Object.defineProperty(function e(){},"MultiView",{get:function(){return function oR(e,r){console.warn(e===_u.DEV?"Plot '".concat(r,"' is in DEV stage, just give us issues."):e===_u.BETA?"Plot '".concat(r,"' is in BETA stage, DO NOT use it in production env."):e===_u.STABLE?"Plot '".concat(r,"' is in STABLE stage, import it by \"import { ").concat(r," } from '@antv/g2plot'\"."):"invalid Stage type.")}(_u.STABLE,"MultiView"),aR},enumerable:!1,configurable:!0});var xi="first-axes-view",Wo="second-axes-view",Su="series-field-key";function mM(e,r,t,n,s){var u=[];r.forEach(function(w){n.forEach(function(M){var T,L=((T={})[e]=M[e],T[t]=w,T[w]=M[w],T);u.push(L)})});var h=Object.values((0,S.vM)(u,t)),d=h[0],p=void 0===d?[]:d,y=h[1],x=void 0===y?[]:y;return s?[p.reverse(),x.reverse()]:[p,x]}function Is(e){return"vertical"!==e}function sR(e,r,t){var x,n=r[0],s=r[1],u=n.autoPadding,h=s.autoPadding,d=e.__axisPosition,p=d.layout,y=d.position;Is(p)&&"top"===y&&(n.autoPadding=t.instance(u.top,0,u.bottom,u.left),s.autoPadding=t.instance(h.top,u.left,h.bottom,0)),Is(p)&&"bottom"===y&&(n.autoPadding=t.instance(u.top,u.right/2+5,u.bottom,u.left),s.autoPadding=t.instance(h.top,h.right,h.bottom,u.right/2+5)),Is(p)||"bottom"!==y||(n.autoPadding=t.instance(u.top,u.right,u.bottom/2+5,x=u.left>=h.left?u.left:h.left),s.autoPadding=t.instance(u.bottom/2+5,h.right,h.bottom,x)),Is(p)||"top"!==y||(n.autoPadding=t.instance(u.top,u.right,0,x=u.left>=h.left?u.left:h.left),s.autoPadding=t.instance(0,h.right,u.top,x))}function lR(e){var r=e.chart,t=e.options,s=t.xField,u=t.yField,h=t.color,d=t.barStyle,p=t.widthRatio,y=t.legend,x=t.layout,w=mM(s,u,Su,t.data,Is(x));y?r.legend(Su,y):!1===y&&r.legend(!1);var M,T,L=w[0],R=w[1];return Is(x)?((M=r.createView({region:{start:{x:0,y:0},end:{x:.5,y:1}},id:xi})).coordinate().transpose().reflect("x"),(T=r.createView({region:{start:{x:.5,y:0},end:{x:1,y:1}},id:Wo})).coordinate().transpose(),M.data(L),T.data(R)):(M=r.createView({region:{start:{x:0,y:0},end:{x:1,y:.5}},id:xi}),(T=r.createView({region:{start:{x:0,y:.5},end:{x:1,y:1}},id:Wo})).coordinate().reflect("y"),M.data(L),T.data(R)),ai($t({},e,{chart:M,options:{widthRatio:p,xField:s,yField:u[0],seriesField:Su,interval:{color:h,style:d}}})),ai($t({},e,{chart:T,options:{xField:s,yField:u[1],seriesField:Su,widthRatio:p,interval:{color:h,style:d}}})),e}function Uo(e){var r,t,n,s=e.options,u=e.chart,h=s.xAxis,d=s.yAxis,p=s.xField,y=s.yField,x=Lr(u,xi),w=Lr(u,Wo),M={};return(0,S.XP)(s?.meta||{}).map(function(T){(0,S.U2)(s?.meta,[T,"alias"])&&(M[T]=s.meta[T].alias)}),u.scale(((r={})[Su]={sync:!0,formatter:function(T){return(0,S.U2)(M,T,T)}},r)),Sn(((t={})[p]=h,t[y[0]]=d[y[0]],t))($t({},e,{chart:x})),Sn(((n={})[p]=h,n[y[1]]=d[y[1]],n))($t({},e,{chart:w})),e}function xM(e){var r=e.chart,t=e.options,n=t.xAxis,s=t.yAxis,u=t.xField,h=t.yField,d=t.layout,p=Lr(r,xi),y=Lr(r,Wo);return y.axis(u,"bottom"===n?.position&&(0,E.pi)((0,E.pi)({},n),{label:{formatter:function(){return""}}})),p.axis(u,!1!==n&&(0,E.pi)({position:Is(d)?"top":"bottom"},n)),!1===s?(p.axis(h[0],!1),y.axis(h[1],!1)):(p.axis(h[0],s[h[0]]),y.axis(h[1],s[h[1]])),r.__axisPosition={position:p.getOptions().axes[u].position,layout:d},e}function uR(e){var r=e.chart;return vn($t({},e,{chart:Lr(r,xi)})),vn($t({},e,{chart:Lr(r,Wo)})),e}function cR(e){var r=e.chart,t=e.options,n=t.yField,s=t.yAxis;return dl($t({},e,{chart:Lr(r,xi),options:{yAxis:s[n[0]]}})),dl($t({},e,{chart:Lr(r,Wo),options:{yAxis:s[n[1]]}})),e}function hR(e){var r=e.chart;return Gr($t({},e,{chart:Lr(r,xi)})),Gr($t({},e,{chart:Lr(r,Wo)})),Gr(e),e}function Hm(e){var r=e.chart;return Ur($t({},e,{chart:Lr(r,xi)})),Ur($t({},e,{chart:Lr(r,Wo)})),e}function fR(e){var t,n,r=this,s=e.chart,u=e.options,h=u.label,d=u.yField,p=u.layout,y=Lr(s,xi),x=Lr(s,Wo),w=mi(y,"interval"),M=mi(x,"interval");if(h){var T=h.callback,L=(0,E._T)(h,["callback"]);L.position||(L.position="middle"),void 0===L.offset&&(L.offset=2);var R=(0,E.pi)({},L);if(Is(p)){var D=(null===(t=R.style)||void 0===t?void 0:t.textAlign)||("middle"===L.position?"center":"left");L.style=$t({},L.style,{textAlign:D}),R.style=$t({},R.style,{textAlign:{left:"right",right:"left",center:"center"}[D]})}else{var z={top:"bottom",bottom:"top",middle:"middle"};"string"==typeof L.position?L.position=z[L.position]:"function"==typeof L.position&&(L.position=function(){for(var q=[],a=0;a<arguments.length;a++)q[a]=arguments[a];return z[L.position.apply(r,q)]});var G=(null===(n=R.style)||void 0===n?void 0:n.textBaseline)||"bottom";R.style=$t({},R.style,{textBaseline:G}),L.style=$t({},L.style,{textBaseline:{top:"bottom",bottom:"top",middle:"middle"}[G]})}w.label({fields:[d[0]],callback:T,cfg:Jn(R)}),M.label({fields:[d[1]],callback:T,cfg:Jn(L)})}else w.label(!1),M.label(!1);return e}function Gm(e){return vr(lR,Uo,xM,cR,hR,fR,Yn,uR,Hm)(e)}!function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="bidirectional-bar",t}(0,E.ZT)(r,e),r.getDefaultOptions=function(){return $t({},e.getDefaultOptions.call(this),{syncViewPadding:sR})},r.prototype.changeData=function(t){void 0===t&&(t=[]),this.chart.emit(Er.BEFORE_CHANGE_DATA,sn.fromData(this.chart,Er.BEFORE_CHANGE_DATA,null)),this.updateOption({data:t});var n=this.options,d=mM(n.xField,n.yField,Su,t,Is(n.layout)),p=d[0],y=d[1],x=Lr(this.chart,xi),w=Lr(this.chart,Wo);x.data(p),w.data(y),this.chart.render(!0),this.chart.emit(Er.AFTER_CHANGE_DATA,sn.fromData(this.chart,Er.AFTER_CHANGE_DATA,null))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return Gm},r.SERIES_FIELD_KEY=Su}(Mr);var bp,Fc="$$range$$",pR="$$y_outliers$$",CM="outliers_view",gR=$t({},Mr.getDefaultOptions(),{meta:(bp={},bp[Fc]={min:0,alias:"low-q1-median-q3-high"},bp),interactions:[{type:"active-region"}],tooltip:{showMarkers:!1,shared:!0},boxStyle:{lineWidth:1}}),wM=function(e,r){var t=e;if(Array.isArray(r)){var n=r[0],s=r[1],u=r[2],h=r[3],d=r[4];t=(0,S.UI)(e,function(p){return p[Fc]=[p[n],p[s],p[u],p[h],p[d]],p})}return t};function yR(e){var t=e.options,n=t.xField,s=t.yField,u=t.groupField,h=t.color,d=t.tooltip,p=t.boxStyle;e.chart.data(wM(t.data,s));var y=(0,S.kJ)(s)?Fc:s,x=s?(0,S.kJ)(s)?s:[s]:[],w=d;!1!==w&&(w=$t({},{fields:(0,S.kJ)(s)?s:[]},w));var M=pf($t({},e,{options:{xField:n,yField:y,seriesField:u,tooltip:w,rawFields:x,label:!1,schema:{shape:"box",color:h,style:p}}})).ext;return u&&M.geometry.adjust("dodge"),e}function mR(e){var t=e.options,n=t.xField,s=t.data,u=t.outliersField,h=t.outliersStyle,p=t.label;if(!u)return e;var y=e.chart.createView({padding:t.padding,id:CM}),x=s.reduce(function(w,M){return M[u].forEach(function(L){var R;return w.push((0,E.pi)((0,E.pi)({},M),((R={})[u]=L,R)))}),w},[]);return y.data(x),ca({chart:y,options:{xField:n,yField:u,point:{shape:"circle",style:h},label:p}}),y.axis(!1),e}function xR(e){var r,t,n=e.chart,s=e.options,u=s.meta,h=s.xAxis,d=s.yAxis,p=s.xField,y=s.yField,x=s.outliersField,w=Array.isArray(y)?Fc:y,M={};if(x){var T=pR;(r={})[x]={sync:T,nice:!0},r[w]={sync:T,nice:!0},M=r}var L=$t(M,u,((t={})[p]=jr(h,ki),t[w]=jr(d,ki),t));return n.scale(L),e}function CR(e){var r=e.chart,t=e.options,n=t.xAxis,s=t.yAxis,u=t.xField,h=t.yField,d=Array.isArray(h)?Fc:h;return r.axis(u,!1!==n&&n),!1===s?r.axis(Fc,!1):r.axis(d,s),e}function wR(e){var r=e.chart,t=e.options,s=t.groupField;return s?r.legend(s,t.legend||{position:"bottom"}):r.legend(!1),e}function _R(e){return vr(yR,mR,xR,CR,wR,Yn,yn(),vn,Ur,Gr)(e)}function SM(e,r,t){return e.length>1?"".concat(r,"_").concat(t):"".concat(r)}function MM(e){var t=e.xField,n=e.measureField,s=e.rangeField,u=e.targetField,h=e.layout,d=[],p=[];e.data.forEach(function(w,M){var T=[w[s]].flat();T.sort(function(D,k){return D-k}),T.forEach(function(D,k){var z,G=0===k?D:T[k]-T[k-1];d.push(((z={rKey:"".concat(s,"_").concat(k)})[t]=t?w[t]:String(M),z[s]=G,z))});var L=[w[n]].flat();L.forEach(function(D,k){var z;d.push(((z={mKey:SM(L,n,k)})[t]=t?w[t]:String(M),z[n]=D,z))});var R=[w[u]].flat();R.forEach(function(D,k){var z;d.push(((z={tKey:SM(R,u,k)})[t]=t?w[t]:String(M),z[u]=D,z))}),p.push(w[s],w[n],w[u])});var y=Math.min.apply(Math,p.flat(1/0)),x=Math.max.apply(Math,p.flat(1/0));return y=y>0?0:y,"vertical"===h&&d.reverse(),{min:y,max:x,ds:d}}function SR(e){var r=e.chart,t=e.options,n=t.bulletStyle,s=t.targetField,u=t.rangeField,h=t.measureField,d=t.xField,p=t.color,y=t.layout,x=t.size,w=t.label,M=MM(t),T=M.min,L=M.max;return r.data(M.ds),ai($t({},e,{options:{xField:d,yField:u,seriesField:"rKey",isStack:!0,label:(0,S.U2)(w,"range"),interval:{color:(0,S.U2)(p,"range"),style:(0,S.U2)(n,"range"),size:(0,S.U2)(x,"range")}}})),r.geometries[0].tooltip(!1),ai($t({},e,{options:{xField:d,yField:h,seriesField:"mKey",isStack:!0,label:(0,S.U2)(w,"measure"),interval:{color:(0,S.U2)(p,"measure"),style:(0,S.U2)(n,"measure"),size:(0,S.U2)(x,"measure")}}})),ca($t({},e,{options:{xField:d,yField:s,seriesField:"tKey",label:(0,S.U2)(w,"target"),point:{color:(0,S.U2)(p,"target"),style:(0,S.U2)(n,"target"),size:(0,S.mf)((0,S.U2)(x,"target"))?function(G){return(0,S.U2)(x,"target")(G)/2}:(0,S.U2)(x,"target")/2,shape:"horizontal"===y?"line":"hyphen"}}})),"horizontal"===y&&r.coordinate().transpose(),(0,E.pi)((0,E.pi)({},e),{ext:{data:{min:T,max:L}}})}function bM(e){var r,t,n=e.options,h=n.yAxis,d=n.targetField,p=n.rangeField,y=n.measureField,w=e.ext.data;return vr(Sn(((r={})[n.xField]=n.xAxis,r[y]=h,r),((t={})[y]={min:w?.min,max:w?.max,sync:!0},t[d]={sync:"".concat(y)},t[p]={sync:"".concat(y)},t)))(e)}function MR(e){var r=e.chart,t=e.options,n=t.xAxis,s=t.yAxis,u=t.xField,h=t.measureField,p=t.targetField;return r.axis("".concat(t.rangeField),!1),r.axis("".concat(p),!1),r.axis("".concat(u),!1!==n&&n),r.axis("".concat(h),!1!==s&&s),e}function bR(e){var r=e.chart,n=e.options.legend;return r.removeInteraction("legend-filter"),r.legend(n),r.legend("rKey",!1),r.legend("mKey",!1),r.legend("tKey",!1),e}function TR(e){var t=e.options,n=t.label,s=t.measureField,u=t.targetField,h=t.rangeField,d=e.chart.geometries,p=d[0],y=d[1],x=d[2];return(0,S.U2)(n,"range")?p.label("".concat(h),(0,E.pi)({layout:[{type:"limit-in-plot"}]},Jn(n.range))):p.label(!1),(0,S.U2)(n,"measure")?y.label("".concat(s),(0,E.pi)({layout:[{type:"limit-in-plot"}]},Jn(n.measure))):y.label(!1),(0,S.U2)(n,"target")?x.label("".concat(u),(0,E.pi)({layout:[{type:"limit-in-plot"}]},Jn(n.target))):x.label(!1),e}function Tp(e){vr(SR,bM,MR,bR,Gr,TR,Yn,vn,Ur)(e)}!function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="box",t}(0,E.ZT)(r,e),r.getDefaultOptions=function(){return gR},r.prototype.changeData=function(t){this.updateOption({data:t});var n=this.options.yField,s=this.chart.views.find(function(u){return u.id===CM});s&&s.data(t),this.chart.changeData(wM(t,n))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return _R}}(Mr);var TM=$t({},Mr.getDefaultOptions(),{layout:"horizontal",size:{range:30,measure:20,target:20},xAxis:{tickLine:!1,line:null},bulletStyle:{range:{fillOpacity:.5}},label:{measure:{position:"right"}},tooltip:{showMarkers:!1}}),AR=(function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="bullet",t}(0,E.ZT)(r,e),r.getDefaultOptions=function(){return TM},r.prototype.changeData=function(t){this.updateOption({data:t});var n=MM(this.options),h=n.ds;bM({options:this.options,ext:{data:{min:n.min,max:n.max}},chart:this.chart}),this.chart.changeData(h)},r.prototype.getSchemaAdaptor=function(){return Tp},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()}}(Mr),{y:0,nodeWidthRatio:.05,weight:!1,nodePaddingRatio:.1,id:function(e){return e.id},source:function(e){return e.source},target:function(e){return e.target},sourceWeight:function(e){return e.value||1},targetWeight:function(e){return e.value||1},sortBy:null});var _r="x",Pi="y",Ap="name",Ir="source",Yo={nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.5,lineWidth:2},label:{fields:["x","name"],callback:function(e,r){return{offsetX:(e[0]+e[1])/2>.5?-4:4,content:r}},labelEmit:!0,style:{fill:"#8c8c8c"}},tooltip:{showTitle:!1,showMarkers:!1,fields:["source","target","value","isNode"],showContent:function(e){return!(0,S.U2)(e,[0,"data","isNode"])},formatter:function(e){var t=e.target,n=e.value;return{name:"".concat(e.source," -> ").concat(t),value:n}}},interactions:[{type:"element-active"}],weight:!0,nodePaddingRatio:.1,nodeWidthRatio:.05};function en(e){var r=e.options,p=r.rawFields,y=void 0===p?[]:p,w=function Bn(e,r){var t=function IR(e){return(0,S.f0)({},AR,e)}(e),n={},s=r.nodes,u=r.links;s.forEach(function(p){var y=t.id(p);n[y]=p}),function ER(e,r,t){(0,S.U5)(e,function(n,s){n.inEdges=r.filter(function(u){return"".concat(t.target(u))==="".concat(s)}),n.outEdges=r.filter(function(u){return"".concat(t.source(u))==="".concat(s)}),n.edges=n.outEdges.concat(n.inEdges),n.frequency=n.edges.length,n.value=0,n.inEdges.forEach(function(u){n.value+=t.targetWeight(u)}),n.outEdges.forEach(function(u){n.value+=t.sourceWeight(u)})})}(n,u,t),function LR(e,r){var n={weight:function(s,u){return u.value-s.value},frequency:function(s,u){return u.frequency-s.frequency},id:function(s,u){return"".concat(r.id(s)).localeCompare("".concat(r.id(u)))}}[r.sortBy];!n&&(0,S.mf)(r.sortBy)&&(n=r.sortBy),n&&e.sort(n)}(s,t);var h=function ur(e,r){var t=e.length;if(!t)throw new TypeError("Invalid nodes: it's empty!");if(r.weight){var n=r.nodePaddingRatio;if(n<0||n>=1)throw new TypeError("Invalid nodePaddingRatio: it must be in range [0, 1)!");var s=n/(2*t),u=r.nodeWidthRatio;if(u<=0||u>=1)throw new TypeError("Invalid nodeWidthRatio: it must be in range (0, 1)!");var h=0;e.forEach(function(p){h+=p.value}),e.forEach(function(p){p.weight=p.value/h,p.width=p.weight*(1-n),p.height=u}),e.forEach(function(p,y){for(var x=0,w=y-1;w>=0;w--)x+=e[w].width+2*s;var M=p.minX=s+x,T=p.maxX=p.minX+p.width,L=p.minY=r.y-u/2,R=p.maxY=L+u;p.x=[M,T,T,M],p.y=[L,L,R,R]})}else{var d=1/t;e.forEach(function(p,y){p.x=(y+.5)*d,p.y=r.y})}return e}(s,t),d=function pn(e,r,t){if(t.weight){var n={};(0,S.U5)(e,function(s,u){n[u]=s.value}),r.forEach(function(s){var u=t.source(s),h=t.target(s),d=e[u],p=e[h];if(d&&p){var y=n[u],x=t.sourceWeight(s),w=d.minX+(d.value-y)/d.value*d.width,M=w+x/d.value*d.width;n[u]-=x;var T=n[h],L=t.targetWeight(s),R=p.minX+(p.value-T)/p.value*p.width,D=R+L/p.value*p.width;n[h]-=L;var k=t.y;s.x=[w,M,R,D],s.y=[k,k,k,k],s.source=d,s.target=p}})}else r.forEach(function(s){var u=e[t.source(s)],h=e[t.target(s)];u&&h&&(s.x=[u.x,h.x],s.y=[u.y,h.y],s.source=u,s.target=h)});return r}(n,u,t);return{nodes:h,links:d}}({weight:!0,nodePaddingRatio:r.nodePaddingRatio,nodeWidthRatio:r.nodeWidthRatio},J_(r.data,r.sourceField,r.targetField,r.weightField)),T=w.links,L=w.nodes.map(function(D){return(0,E.pi)((0,E.pi)({},jr(D,(0,E.ev)(["id","x","y","name"],y,!0))),{isNode:!0})}),R=T.map(function(D){return(0,E.pi)((0,E.pi)({source:D.source.name,target:D.target.name,name:D.source.name||D.target.name},jr(D,(0,E.ev)(["x","y","value"],y,!0))),{isNode:!1})});return(0,E.pi)((0,E.pi)({},e),{ext:(0,E.pi)((0,E.pi)({},e.ext),{chordData:{nodesData:L,edgesData:R}})})}function ln(e){var r;return e.chart.scale(((r={x:{sync:!0,nice:!0},y:{sync:!0,nice:!0,max:1}})[Ap]={sync:"color"},r[Ir]={sync:"color"},r)),e}function OR(e){return e.chart.axis(!1),e}function RR(e){return e.chart.legend(!1),e}function FR(e){return e.chart.tooltip(e.options.tooltip),e}function DR(e){return e.chart.coordinate("polar").reflect("y"),e}function kR(e){var t=e.options,n=e.ext.chordData.nodesData,s=t.nodeStyle,u=t.label,h=t.tooltip,d=e.chart.createView();return d.data(n),Tc({chart:d,options:{xField:_r,yField:Pi,seriesField:Ap,polygon:{style:s},label:u,tooltip:h}}),e}function BR(e){var t=e.options,n=e.ext.chordData.edgesData,s=t.edgeStyle,u=t.tooltip,h=e.chart.createView();return h.data(n),hS({chart:h,options:{xField:_r,yField:Pi,seriesField:Ir,edge:{style:s,shape:"arc"},tooltip:u}}),e}function PR(e){var r=e.chart;return hf(r,e.options.animation,function eI(e){return(0,S.U2)(e,["views","length"],0)<=0?e.geometries:(0,S.u4)(e.views,function(r,t){return r.concat(t.geometries)},e.geometries)}(r)),e}function zR(e){return vr(Gr,en,DR,ln,OR,RR,FR,BR,kR,vn,fl,PR)(e)}var NR=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="chord",t}return(0,E.ZT)(r,e),r.getDefaultOptions=function(){return Yo},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return zR},r}(Mr),HR=["x","y","r","name","value","path","depth"],GR={colorField:"name",autoFit:!0,pointStyle:{lineWidth:0,stroke:"#fff"},legend:!1,hierarchyConfig:{size:[1,1],padding:0},label:{fields:["name"],layout:{type:"limit-in-shape"}},tooltip:{showMarkers:!1,showTitle:!1},drilldown:{enabled:!1}},EM="drilldown-bread-crumb",UR={position:"top-left",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeTextStyle:{fill:"#87B5FF"}},Dc="hierarchy-data-transform-params",LM=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="drill-down",t.historyCache=[],t.breadCrumbGroup=null,t.breadCrumbCfg=UR,t}return(0,E.ZT)(r,e),r.prototype.click=function(){var t=(0,S.U2)(this.context,["event","data","data"]);if(!t)return!1;this.drill(t),this.drawBreadCrumb()},r.prototype.resetPosition=function(){if(this.breadCrumbGroup){var t=this.context.view.getCoordinate(),n=this.breadCrumbGroup,s=n.getBBox(),u=this.getButtonCfg().position,h={x:t.start.x,y:t.end.y-(s.height+10)};t.isPolar&&(h={x:0,y:0}),"bottom-left"===u&&(h={x:t.start.x,y:t.start.y});var d=sa.transform(null,[["t",h.x+0,h.y+s.height+5]]);n.setMatrix(d)}},r.prototype.back=function(){(0,S.dp)(this.historyCache)&&this.backTo(this.historyCache.slice(0,-1))},r.prototype.reset=function(){this.historyCache[0]&&this.backTo(this.historyCache.slice(0,1)),this.historyCache=[],this.hideCrumbGroup()},r.prototype.drill=function(t){var n=this.context.view,s=(0,S.U2)(n,["interactions","drill-down","cfg","transformData"],function(y){return y}),u=s((0,E.pi)({data:t.data},t[Dc]));n.changeData(u);for(var h=[],d=t;d;){var p=d.data;h.unshift({id:"".concat(p.name,"_").concat(d.height,"_").concat(d.depth),name:p.name,children:s((0,E.pi)({data:p},t[Dc]))}),d=d.parent}this.historyCache=(this.historyCache||[]).slice(0,-1).concat(h)},r.prototype.backTo=function(t){if(t&&!(t.length<=0)){var n=this.context.view,s=(0,S.Z$)(t).children;n.changeData(s),t.length>1?(this.historyCache=t,this.drawBreadCrumb()):(this.historyCache=[],this.hideCrumbGroup())}},r.prototype.getButtonCfg=function(){var n=(0,S.U2)(this.context.view,["interactions","drill-down","cfg","drillDownConfig"]);return $t(this.breadCrumbCfg,n?.breadCrumb,this.cfg)},r.prototype.drawBreadCrumb=function(){this.drawBreadCrumbGroup(),this.resetPosition(),this.breadCrumbGroup.show()},r.prototype.drawBreadCrumbGroup=function(){var t=this,n=this.getButtonCfg(),s=this.historyCache;this.breadCrumbGroup?this.breadCrumbGroup.clear():this.breadCrumbGroup=this.context.view.foregroundGroup.addGroup({name:EM});var u=0;s.forEach(function(h,d){var p=t.breadCrumbGroup.addShape({type:"text",id:h.id,name:"".concat(EM,"_").concat(h.name,"_text"),attrs:(0,E.pi)((0,E.pi)({text:0!==d||(0,S.UM)(n.rootText)?h.name:n.rootText},n.textStyle),{x:u,y:0})}),y=p.getBBox();if(u+=y.width+4,p.on("click",function(M){var T,L=M.target.get("id");if(L!==(null===(T=(0,S.Z$)(s))||void 0===T?void 0:T.id)){var R=s.slice(0,s.findIndex(function(D){return D.id===L})+1);t.backTo(R)}}),p.on("mouseenter",function(M){var T;M.target.get("id")!==(null===(T=(0,S.Z$)(s))||void 0===T?void 0:T.id)?p.attr(n.activeTextStyle):p.attr({cursor:"default"})}),p.on("mouseleave",function(){p.attr(n.textStyle)}),d<s.length-1){var w=t.breadCrumbGroup.addShape({type:"text",name:"".concat(n.name,"_").concat(h.name,"_divider"),attrs:(0,E.pi)((0,E.pi)({text:n.dividerText},n.textStyle),{x:u,y:0})}).getBBox();u+=w.width+4}})},r.prototype.hideCrumbGroup=function(){this.breadCrumbGroup&&this.breadCrumbGroup.hide()},r.prototype.destroy=function(){this.breadCrumbGroup&&this.breadCrumbGroup.remove(),e.prototype.destroy.call(this)},r}(cn);function Ep(e){for(var s,u,r=0,t=(e=function IM(e){for(var t,n,r=e.length;r;)n=Math.random()*r--|0,t=e[r],e[r]=e[n],e[n]=t;return e}(Array.from(e))).length,n=[];r<t;)s=e[r],u&&RM(u,s)?++r:(u=VR(n=OM(n,s)),r=0);return u}function OM(e,r){var t,n;if(Um(r,e))return[r];for(t=0;t<e.length;++t)if(bf(r,e[t])&&Um(kc(e[t],r),e))return[e[t],r];for(t=0;t<e.length-1;++t)for(n=t+1;n<e.length;++n)if(bf(kc(e[t],e[n]),r)&&bf(kc(e[t],r),e[n])&&bf(kc(e[n],r),e[t])&&Um(FM(e[t],e[n],r),e))return[e[t],e[n],r];throw new Error}function bf(e,r){var t=e.r-r.r,n=r.x-e.x,s=r.y-e.y;return t<0||t*t<n*n+s*s}function RM(e,r){var t=e.r-r.r+1e-9*Math.max(e.r,r.r,1),n=r.x-e.x,s=r.y-e.y;return t>0&&t*t>n*n+s*s}function Um(e,r){for(var t=0;t<r.length;++t)if(!RM(e,r[t]))return!1;return!0}function VR(e){switch(e.length){case 1:return function XR(e){return{x:e.x,y:e.y,r:e.r}}(e[0]);case 2:return kc(e[0],e[1]);case 3:return FM(e[0],e[1],e[2])}}function kc(e,r){var t=e.x,n=e.y,s=e.r,u=r.x,h=r.y,d=r.r,p=u-t,y=h-n,x=d-s,w=Math.sqrt(p*p+y*y);return{x:(t+u+p/w*x)/2,y:(n+h+y/w*x)/2,r:(w+s+d)/2}}function FM(e,r,t){var n=e.x,s=e.y,u=e.r,h=r.x,d=r.y,p=r.r,y=t.x,x=t.y,w=t.r,M=n-h,T=n-y,L=s-d,R=s-x,D=p-u,k=w-u,z=n*n+s*s-u*u,G=z-h*h-d*d+p*p,U=z-y*y-x*x+w*w,q=T*L-M*R,a=(L*U-R*G)/(2*q)-n,o=(R*D-L*k)/q,i=(T*G-M*U)/(2*q)-s,l=(M*k-T*D)/q,c=o*o+l*l-1,f=2*(u+a*o+i*l),v=a*a+i*i-u*u,g=-(c?(f+Math.sqrt(f*f-4*c*v))/(2*c):v/f);return{x:n+a+o*g,y:s+i+l*g,r:g}}function DM(e,r,t){var s,u,d,p,n=e.x-r.x,h=e.y-r.y,y=n*n+h*h;y?(u=r.r+t.r,p=e.r+t.r,(u*=u)>(p*=p)?(s=(y+p-u)/(2*y),d=Math.sqrt(Math.max(0,p/y-s*s)),t.x=e.x-s*n-d*h,t.y=e.y-s*h+d*n):(s=(y+u-p)/(2*y),d=Math.sqrt(Math.max(0,u/y-s*s)),t.x=r.x+s*n-d*h,t.y=r.y+s*h+d*n)):(t.x=r.x+t.r,t.y=r.y)}function Lp(e,r){var t=e.r+r.r-1e-6,n=r.x-e.x,s=r.y-e.y;return t>0&&t*t>n*n+s*s}function kM(e){var r=e._,t=e.next._,n=r.r+t.r,s=(r.x*t.r+t.x*r.r)/n,u=(r.y*t.r+t.y*r.r)/n;return s*s+u*u}function Ip(e){this._=e,this.next=null,this.previous=null}function BM(e){if(!(s=(e=function YR(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}(e)).length))return 0;var r,t,n,s,u,h,d,p,y,x,w;if((r=e[0]).x=0,r.y=0,!(s>1))return r.r;if(r.x=-(t=e[1]).r,t.x=r.r,t.y=0,!(s>2))return r.r+t.r;DM(t,r,n=e[2]),r=new Ip(r),t=new Ip(t),n=new Ip(n),r.next=n.previous=t,t.next=r.previous=n,n.next=t.previous=r;t:for(d=3;d<s;++d){DM(r._,t._,n=e[d]),n=new Ip(n),p=t.next,y=r.previous,x=t._.r,w=r._.r;do{if(x<=w){if(Lp(p._,n._)){r.next=t=p,t.previous=r,--d;continue t}x+=p._.r,p=p.next}else{if(Lp(y._,n._)){(r=y).next=t,t.previous=r,--d;continue t}w+=y._.r,y=y.previous}}while(p!==y.next);for(n.previous=r,n.next=t,r.next=t.previous=t=n,u=kM(r);(n=n.next)!==t;)(h=kM(n))<u&&(r=n,u=h);t=r.next}for(r=[t._],n=t;(n=n.next)!==t;)r.push(n._);for(n=Ep(r),d=0;d<s;++d)(r=e[d]).x-=n.x,r.y-=n.y;return n.r}function $R(e){return BM(e),e}function Op(e){if("function"!=typeof e)throw new Error;return e}function Mu(){return 0}function zi(e){return function(){return e}}function qR(e){return Math.sqrt(e.value)}function PM(){var e=null,r=1,t=1,n=Mu;function s(u){return u.x=r/2,u.y=t/2,e?u.eachBefore(zM(e)).eachAfter(Rp(n,.5)).eachBefore(Fp(1)):u.eachBefore(zM(qR)).eachAfter(Rp(Mu,1)).eachAfter(Rp(n,u.r/Math.min(r,t))).eachBefore(Fp(Math.min(r,t)/(2*u.r))),u}return s.radius=function(u){return arguments.length?(e=function ZR(e){return null==e?null:Op(e)}(u),s):e},s.size=function(u){return arguments.length?(r=+u[0],t=+u[1],s):[r,t]},s.padding=function(u){return arguments.length?(n="function"==typeof u?u:zi(+u),s):n},s}function zM(e){return function(r){r.children||(r.r=Math.max(0,+e(r)||0))}}function Rp(e,r){return function(t){if(n=t.children){var n,s,d,u=n.length,h=e(t)*r||0;if(h)for(s=0;s<u;++s)n[s].r+=h;if(d=BM(n),h)for(s=0;s<u;++s)n[s].r-=h;t.r=d+h}}}function Fp(e){return function(r){var t=r.parent;r.r*=e,t&&(r.x=t.x+e*r.x,r.y=t.y+e*r.y)}}function Dp(e){var r=0,t=e.children,n=t&&t.length;if(n)for(;--n>=0;)r+=t[n].value;else r=1;e.value=r}function Bc(e,r){e instanceof Map?(e=[void 0,e],void 0===r&&(r=oi)):void 0===r&&(r=Xm);for(var n,u,h,d,p,t=new Pc(e),s=[t];n=s.pop();)if((h=r(n.data))&&(p=(h=Array.from(h)).length))for(n.children=h,d=p-1;d>=0;--d)s.push(u=h[d]=new Pc(h[d])),u.parent=n,u.depth=n.depth+1;return t.eachBefore($m)}function Xm(e){return e.children}function oi(e){return Array.isArray(e)?e[1]:null}function r8(e){void 0!==e.data.value&&(e.value=e.data.value),e.data=e.data.data}function $m(e){var r=0;do{e.height=r}while((e=e.parent)&&e.height<++r)}function Pc(e){this.data=e,this.depth=this.height=0,this.parent=null}Pc.prototype=Bc.prototype={constructor:Pc,count:function jR(){return this.eachAfter(Dp)},each:function HB(e,r){let t=-1;for(const n of this)e.call(r,n,++t,this);return this},eachAfter:function WB(e,r){for(var u,h,d,t=this,n=[t],s=[],p=-1;t=n.pop();)if(s.push(t),u=t.children)for(h=0,d=u.length;h<d;++h)n.push(u[h]);for(;t=s.pop();)e.call(r,t,++p,this);return this},eachBefore:function GB(e,r){for(var s,u,t=this,n=[t],h=-1;t=n.pop();)if(e.call(r,t,++h,this),s=t.children)for(u=s.length-1;u>=0;--u)n.push(s[u]);return this},find:function Kn(e,r){let t=-1;for(const n of this)if(e.call(r,n,++t,this))return n},sum:function NM(e){return this.eachAfter(function(r){for(var t=+e(r.data)||0,n=r.children,s=n&&n.length;--s>=0;)t+=n[s].value;r.value=t})},sort:function Ym(e){return this.eachBefore(function(r){r.children&&r.children.sort(e)})},path:function JR(e){for(var r=this,t=function KR(e,r){if(e===r)return e;var t=e.ancestors(),n=r.ancestors(),s=null;for(e=t.pop(),r=n.pop();e===r;)s=e,e=t.pop(),r=n.pop();return s}(r,e),n=[r];r!==t;)n.push(r=r.parent);for(var s=n.length;e!==t;)n.splice(s,0,e),e=e.parent;return n},ancestors:function UB(){for(var e=this,r=[e];e=e.parent;)r.push(e);return r},descendants:function HM(){return Array.from(this)},leaves:function QR(){var e=[];return this.eachBefore(function(r){r.children||e.push(r)}),e},links:function t8(){var e=this,r=[];return e.each(function(t){t!==e&&r.push({source:t.parent,target:t})}),r},copy:function Vm(){return Bc(this).eachBefore(r8)},[Symbol.iterator]:function*e8(){var r,n,s,u,e=this,t=[e];do{for(r=t.reverse(),t=[];e=r.pop();)if(yield e,n=e.children)for(s=0,u=n.length;s<u;++s)t.push(n[s])}while(t.length)}};var GM="nodeIndex",si="childNodeCount",kp="nodeAncestor",xl="Invalid field: it must be a string!";function Zm(e,r){var t=e.field,n=e.fields;if((0,S.HD)(t))return t;if((0,S.kJ)(t))return console.warn(xl),t[0];if(console.warn("".concat(xl," will try to get fields instead.")),(0,S.HD)(n))return n;if((0,S.kJ)(n)&&n.length)return n[0];if(r)return r;throw new TypeError(xl)}function Tf(e){var t,n,r=[];return e&&e.each?e.each(function(s){var u,h;s.parent!==t?(t=s.parent,n=0):n+=1;var d=(0,S.hX)(((null===(u=s.ancestors)||void 0===u?void 0:u.call(s))||[]).map(function(p){return r.find(function(y){return y.name===p.name})||p}),function(p){var y=p.depth;return y>0&&y<s.depth});s[kp]=d,s[si]=(null===(h=s.children)||void 0===h?void 0:h.length)||0,s[GM]=n,r.push(s)}):e&&e.eachNode&&e.eachNode(function(s){r.push(s)}),r}var WM={field:"value",as:["x","y","r"],sort:function(e,r){return r.value-e.value}};function Bp(e){var t=e.hierarchyConfig,n=e.rawFields,s=void 0===n?[]:n,u=e.enableDrillDown,h=function qm(e,r){var n,t=(r=(0,S.f0)({},WM,r)).as;if(!(0,S.kJ)(t)||3!==t.length)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "r" ])!');try{n=Zm(r)}catch(y){console.warn(y)}var y,u=(y=e,PM().size(r.size).padding(r.padding)(Bc(y).sum(function(x){return x[n]}).sort(r.sort))),h=t[0],d=t[1],p=t[2];return u.each(function(y){y[h]=y.x,y[d]=y.y,y[p]=y.r}),Tf(u)}(e.data,(0,E.pi)((0,E.pi)({},t),{field:"value",as:["x","y","r"]})),d=[];return h.forEach(function(p){for(var y,x=p.data.name,w=(0,E.pi)({},p);w.depth>1;)x="".concat(null===(y=w.parent.data)||void 0===y?void 0:y.name," / ").concat(x),w=w.parent;if(u&&p.depth>2)return null;var M=$t({},p.data,(0,E.pi)((0,E.pi)((0,E.pi)({},jr(p.data,s)),{path:x}),p));M.ext=t,M[Dc]={hierarchyConfig:t,rawFields:s,enableDrillDown:u},d.push(M)}),d}function UM(e,r,t){var n=am([e,r]),s=n[0],u=n[1],h=n[2],d=n[3],x=t.width-(d+u),w=t.height-(s+h),M=Math.min(x,w),T=(x-M)/2,L=(w-M)/2;return{finalPadding:[s+L,u+T,h+L,d+T],finalSize:M<0?0:M}}function YM(e){var r=e.chart,t=Math.min(r.viewBBox.width,r.viewBBox.height);return $t({options:{size:function(n){return n.r*t}}},e)}function n8(e){var r=e.options,t=e.chart,n=t.viewBBox,s=r.padding,u=r.appendPadding,h=r.drilldown,d=u;h?.enabled&&(d=am([op(t.appendPadding,(0,S.U2)(h,["breadCrumb","position"])),u]));var y=UM(s,d,n).finalPadding;return t.padding=y,t.appendPadding=0,e}function i8(e){var r=e.chart,t=e.options,n=r.padding,s=r.appendPadding,u=t.color,h=t.colorField,d=t.pointStyle,y=t.sizeField,x=t.rawFields,w=void 0===x?[]:x,T=Bp({data:t.data,hierarchyConfig:t.hierarchyConfig,enableDrillDown:t.drilldown?.enabled,rawFields:w});r.data(T);var R=UM(n,s,r.viewBBox).finalSize,D=function(k){return k.r*R};return y&&(D=function(k){return k[y]*R}),ca($t({},e,{options:{xField:"x",yField:"y",seriesField:h,sizeField:y,rawFields:(0,E.ev)((0,E.ev)([],HR,!0),w,!0),point:{color:u,style:d,shape:"circle",size:D}}})),e}function a8(e){return vr(Sn({},{x:{min:0,max:1,minLimit:0,maxLimit:1,nice:!0},y:{min:0,max:1,minLimit:0,maxLimit:1,nice:!0}}))(e)}function Os(e){var r=e.chart,n=e.options.tooltip;if(!1===n)r.tooltip(!1);else{var s=n;(0,S.U2)(n,"fields")||(s=$t({},{customItems:function(u){return u.map(function(h){var d=(0,S.U2)(r.getOptions(),"scales"),p=(0,S.U2)(d,["name","formatter"],function(x){return x}),y=(0,S.U2)(d,["value","formatter"],function(x){return x});return(0,E.pi)((0,E.pi)({},h),{name:p(h.data.name),value:y(h.data.value)})})}},s)),r.tooltip(s)}return e}function o8(e){return e.chart.axis(!1),e}function s8(e){var r=e.drilldown,t=e.interactions;return r?.enabled?$t({},e,{interactions:(0,E.ev)((0,E.ev)([],void 0===t?[]:t,!0),[{type:"drill-down",cfg:{drillDownConfig:r,transformData:Bp,enableDrillDown:!0}}],!1)}):e}function l8(e){return vn({chart:e.chart,options:s8(e.options)}),e}function u8(e){return vr(la("pointStyle"),YM,n8,Gr,a8,i8,o8,gu,Os,l8,Ur,yn())(e)}function VM(e){var r=(0,S.U2)(e,["event","data","data"],{});return(0,S.kJ)(r.children)&&r.children.length>0}function XM(e){var r=e.view.getCoordinate(),t=r.innerRadius;if(t){var n=e.event,s=n.x,u=n.y,h=r.center,d=h.x,p=h.y,y=r.getRadius()*t;return Math.sqrt(Math.pow(d-s,2)+Math.pow(p-u,2))<y}return!1}rr("drill-down-action",LM),wr("drill-down",{showEnable:[{trigger:"element:mouseenter",action:"cursor:pointer",isEnable:VM},{trigger:"element:mouseleave",action:"cursor:default"},{trigger:"element:mouseleave",action:"cursor:pointer",isEnable:XM}],start:[{trigger:"element:click",isEnable:VM,action:["drill-down-action:click"]},{trigger:"afterchangesize",action:["drill-down-action:resetPosition"]},{trigger:"click",isEnable:XM,action:["drill-down-action:back"]}]}),function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="circle-packing",t}(0,E.ZT)(r,e),r.getDefaultOptions=function(){return GR},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return u8},r.prototype.triggerResize=function(){this.chart.destroyed||(this.chart.forceFit(),this.chart.clear(),this.execAdaptor(),this.chart.render(!0))}}(Mr);var Ta="left-axes-view",Aa="right-axes-view",$M={nice:!0,label:{autoHide:!0,autoRotate:!1}},c8=(0,E.pi)((0,E.pi)({},$M),{position:"left"}),h8=(0,E.pi)((0,E.pi)({},$M),{position:"right",grid:null}),bu=(()=>(function(e){e.Left="Left",e.Right="Right"}(bu||(bu={})),bu))(),Cl=(()=>(function(e){e.Line="line",e.Column="column"}(Cl||(Cl={})),Cl))();function jm(e){return(0,S.U2)(e,"geometry")===Cl.Line}function Jm(e){return(0,S.U2)(e,"geometry")===Cl.Column}function ZM(e,r,t){return Jm(t)?$t({},{geometry:Cl.Column,label:t.label&&t.isRange?{content:function(n){var s;return null===(s=n[r])||void 0===s?void 0:s.join("-")}}:void 0},t):(0,E.pi)({geometry:Cl.Line},t)}function qM(e,r){var t=e[0],n=e[1];return(0,S.kJ)(r)?[r[0],r[1]]:[(0,S.U2)(r,t),(0,S.U2)(r,n)]}function jM(e,r){return r===bu.Left?!1!==e&&$t({},c8,e):r===bu.Right?!1!==e&&$t({},h8,e):e}function Km(e){var r=e.view,t=e.geometryOption,n=e.yField,u=(0,S.U2)(e.legend,"marker"),h=mi(r,jm(t)?"line":"interval");if(!t.seriesField){var d=(0,S.U2)(r,"options.scales.".concat(n,".alias"))||n,p=h.getAttribute("color"),y=r.getTheme().defaultColor;return p&&(y=sa.getMappingValue(p,d,(0,S.U2)(p,["values",0],y))),[{value:n,name:d,marker:((0,S.mf)(u)?u:!(0,S.xb)(u)&&$t({},{style:{stroke:y,fill:y}},u))||(jm(t)?{symbol:function(M,T,L){return[["M",M-L,T],["L",M+L,T]]},style:{lineWidth:2,r:6,stroke:y}}:{symbol:"square",style:{fill:y}}),isGeometry:!0,viewId:r.id}]}var w=h.getGroupAttributes();return(0,S.u4)(w,function(M,T){var L=sa.getLegendItems(r,h,T,r.getTheme(),u);return M.concat(L)},[])}var Qm=function(e,r){var t=r[0],n=r[1],s=e.getOptions().data,u=e.getXScale(),h=(0,S.dp)(s);if(u&&h){var y=(0,S.I)(s,u.field),x=(0,S.dp)(y),w=Math.floor(t*(x-1)),M=Math.floor(n*(x-1));e.filter(u.field,function(T){var L=y.indexOf(T);return!(L>-1)||function nI(e,r,t){var n=Math.min(r,t),s=Math.max(r,t);return e>=n&&e<=s}(L,w,M)}),e.getRootView().render(!0)}};function JM(e){var r,t=e.options,n=t.geometryOptions,s=void 0===n?[]:n,u=t.xField,h=t.yField,d=(0,S.yW)(s,function(p){var y=p.geometry;return y===Cl.Line||void 0===y});return $t({},{options:{geometryOptions:[],meta:(r={},r[u]={type:"cat",sync:!0,range:d?[0,1]:void 0},r),tooltip:{showMarkers:d,showCrosshairs:d,shared:!0,crosshairs:{type:"x"}},interactions:d?[{type:"legend-visible-filter"}]:[{type:"legend-visible-filter"},{type:"active-region"}],legend:{position:"top-left"}}},e,{options:{yAxis:qM(h,t.yAxis),geometryOptions:[ZM(0,h[0],s[0]),ZM(0,h[1],s[1])],annotations:qM(h,t.annotations)}})}function d8(e){var r,t,n=e.chart,u=e.options.geometryOptions,h={line:0,column:1};return[{type:null===(r=u[0])||void 0===r?void 0:r.geometry,id:Ta},{type:null===(t=u[1])||void 0===t?void 0:t.geometry,id:Aa}].sort(function(p,y){return-h[p.type]+h[y.type]}).forEach(function(p){return n.createView({id:p.id})}),e}function KM(e){var r=e.chart,t=e.options,n=t.xField,s=t.yField,u=t.geometryOptions,h=t.data,d=t.tooltip;return[(0,E.pi)((0,E.pi)({},u[0]),{id:Ta,data:h[0],yField:s[0]}),(0,E.pi)((0,E.pi)({},u[1]),{id:Aa,data:h[1],yField:s[1]})].forEach(function(y){var x=y.id,w=y.data,M=y.yField,T=Jm(y)&&y.isPercent,L=T?vS(w,M,n,M):w,R=Lr(r,x).data(L),D=T?(0,E.pi)({formatter:function(k){return{name:k[y.seriesField]||M,value:(100*Number(k[M])).toFixed(2)+"%"}}},d):d;!function f8(e){var r=e.options,t=e.chart,n=r.geometryOption,s=n.isStack,u=n.color,h=n.seriesField,d=n.groupField,p=n.isGroup,y=["xField","yField"];if(jm(n)){bc($t({},e,{options:(0,E.pi)((0,E.pi)((0,E.pi)({},jr(r,y)),n),{line:{color:n.color,style:n.lineStyle}})})),ca($t({},e,{options:(0,E.pi)((0,E.pi)((0,E.pi)({},jr(r,y)),n),{point:n.point&&(0,E.pi)({color:u,shape:"circle"},n.point)})}));var x=[];p&&x.push({type:"dodge",dodgeBy:d||h,customOffset:0}),s&&x.push({type:"stack"}),x.length&&(0,S.S6)(t.geometries,function(w){w.adjust(x)})}Jm(n)&&yp($t({},e,{options:(0,E.pi)((0,E.pi)((0,E.pi)({},jr(r,y)),n),{widthRatio:n.columnWidthRatio,interval:(0,E.pi)((0,E.pi)({},jr(n,["color"])),{style:n.columnStyle})})}))}({chart:R,options:{xField:n,yField:M,tooltip:D,geometryOption:y}})}),e}function QM(e){var r,t=e.chart,s=e.options.geometryOptions,u=(null===(r=t.getTheme())||void 0===r?void 0:r.colors10)||[],h=0;return t.once("beforepaint",function(){(0,S.S6)(s,function(d,p){var y=Lr(t,0===p?Ta:Aa);if(!d.color){var x=y.getGroupScales(),w=(0,S.U2)(x,[0,"values","length"],1),M=u.slice(h,h+w).concat(0===p?[]:u);y.geometries.forEach(function(T){d.seriesField?T.color(d.seriesField,M):T.color(M[0])}),h+=w}}),t.render(!0)}),e}function tb(e){var r,t,n=e.chart,s=e.options,u=s.xAxis,h=s.yAxis,d=s.xField,p=s.yField;return Sn(((r={})[d]=u,r[p[0]]=h[0],r))($t({},e,{chart:Lr(n,Ta)})),Sn(((t={})[d]=u,t[p[1]]=h[1],t))($t({},e,{chart:Lr(n,Aa)})),e}function Af(e){var r=e.chart,t=e.options,n=Lr(r,Ta),s=Lr(r,Aa),u=t.xField,h=t.yField,d=t.xAxis,p=t.yAxis;return r.axis(u,!1),r.axis(h[0],!1),r.axis(h[1],!1),n.axis(u,d),n.axis(h[0],jM(p[0],bu.Left)),s.axis(u,!1),s.axis(h[1],jM(p[1],bu.Right)),e}function Pn(e){var r=e.chart,n=e.options.tooltip,s=Lr(r,Ta),u=Lr(r,Aa);return r.tooltip(n),s.tooltip({shared:!0}),u.tooltip({shared:!0}),e}function Tu(e){var r=e.chart;return vn($t({},e,{chart:Lr(r,Ta)})),vn($t({},e,{chart:Lr(r,Aa)})),e}function Ea(e){var r=e.chart,n=e.options.annotations,s=(0,S.U2)(n,[0]),u=(0,S.U2)(n,[1]);return yn(s)($t({},e,{chart:Lr(r,Ta),options:{annotations:s}})),yn(u)($t({},e,{chart:Lr(r,Aa),options:{annotations:u}})),e}function v8(e){var r=e.chart;return Gr($t({},e,{chart:Lr(r,Ta)})),Gr($t({},e,{chart:Lr(r,Aa)})),Gr(e),e}function Pp(e){var r=e.chart;return Ur($t({},e,{chart:Lr(r,Ta)})),Ur($t({},e,{chart:Lr(r,Aa)})),e}function eb(e){var r=e.chart,n=e.options.yAxis;return dl($t({},e,{chart:Lr(r,Ta),options:{yAxis:n[0]}})),dl($t({},e,{chart:Lr(r,Aa),options:{yAxis:n[1]}})),e}function p8(e){var r=e.chart,t=e.options,n=t.legend,s=t.geometryOptions,u=t.yField,h=t.data,d=Lr(r,Ta),p=Lr(r,Aa);if(!1===n)r.legend(!1);else if((0,S.Kn)(n)&&!0===n.custom)r.legend(n);else{var y=(0,S.U2)(s,[0,"legend"],n),x=(0,S.U2)(s,[1,"legend"],n);r.once("beforepaint",function(){var w=h[0].length?Km({view:d,geometryOption:s[0],yField:u[0],legend:y}):[],M=h[1].length?Km({view:p,geometryOption:s[1],yField:u[1],legend:x}):[];r.legend($t({},n,{custom:!0,items:w.concat(M)}))}),s[0].seriesField&&d.legend(s[0].seriesField,y),s[1].seriesField&&p.legend(s[1].seriesField,x),r.on("legend-item:click",function(w){var M=(0,S.U2)(w,"gEvent.delegateObject",{});if(M&&M.item){var T=M.item,L=T.value,D=T.viewId;if(T.isGeometry){if((0,S.cx)(u,function(U){return U===L})>-1){var z=(0,S.U2)(Lr(r,D),"geometries");(0,S.S6)(z,function(U){U.changeVisible(!M.item.unchecked)})}}else{var G=(0,S.U2)(r.getController("legend"),"option.items",[]);(0,S.S6)(r.views,function(U){var q=U.getGroupScales();(0,S.S6)(q,function(a){a.values&&a.values.indexOf(L)>-1&&U.filter(a.field,function(o){return!(0,S.sE)(G,function(l){return l.value===o}).unchecked})}),r.render(!0)})}}})}return e}function rb(e){var r=e.chart,n=e.options.slider,s=Lr(r,Ta),u=Lr(r,Aa);return n&&(s.option("slider",n),s.on("slider:valuechanged",function(h){var d=h.event,p=d.value;(0,S.Xy)(p,d.originValue)||Qm(u,p)}),r.once("afterpaint",function(){if(!(0,S.jn)(n)){var h=n.start,d=n.end;(h||d)&&Qm(u,[h,d])}})),e}function zc(e){return vr(JM,d8,v8,KM,tb,Af,eb,Pn,Tu,Ea,Pp,QM,p8,rb)(e)}function Au(e){var r=e.chart,t=e.options,n=t.type,s=t.data,u=t.fields,h=t.eachView,d=(0,S.CE)(t,["type","data","fields","eachView","axes","meta","tooltip","coordinate","theme","legend","interactions","annotations"]);return r.data(s),r.facet(n,(0,E.pi)((0,E.pi)({},d),{fields:u,eachView:function(p,y){var x=h(p,y);if(x.geometries)!function ib(e,r){var t=r.data,n=r.coordinate,s=r.interactions,u=r.annotations,h=r.animation,d=r.tooltip,p=r.axes,y=r.meta,x=r.geometries;t&&e.data(t);var w={};p&&(0,S.S6)(p,function(M,T){w[T]=jr(M,ki)}),w=$t({},y,w),e.scale(w),n&&e.coordinate(n),!1===p?e.axis(!1):(0,S.S6)(p,function(M,T){e.axis(T,M)}),(0,S.S6)(x,function(M){var T=Bi({chart:e,options:M}).ext,L=M.adjust;L&&T.geometry.adjust(L)}),(0,S.S6)(s,function(M){!1===M.enable?e.removeInteraction(M.type):e.interaction(M.type,M.cfg)}),(0,S.S6)(u,function(M){e.annotation()[M.type]((0,E.pi)({},M))}),hf(e,h),d?(e.interaction("tooltip"),e.tooltip(d)):!1===d&&e.removeInteraction("tooltip")}(p,x);else{var w=x,M=w.options;M.tooltip&&p.interaction("tooltip"),Nm(w.type,p,M)}}})),e}function Eu(e){var r=e.chart,t=e.options,n=t.axes,s=t.meta,u=t.tooltip,h=t.coordinate,d=t.theme,p=t.legend,y=t.interactions,x=t.annotations,w={};return n&&(0,S.S6)(n,function(M,T){w[T]=jr(M,ki)}),w=$t({},s,w),r.scale(w),r.coordinate(h),n?(0,S.S6)(n,function(M,T){r.axis(T,M)}):r.axis(!1),u?(r.interaction("tooltip"),r.tooltip(u)):!1===u&&r.removeInteraction("tooltip"),r.legend(p),d&&r.theme(d),(0,S.S6)(y,function(M){!1===M.enable?r.removeInteraction(M.type):r.interaction(M.type,M.cfg)}),(0,S.S6)(x,function(M){r.annotation()[M.type]((0,E.pi)({},M))}),e}function zp(e){return vr(Gr,Au,Eu)(e)}!function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="dual-axes",t}(0,E.ZT)(r,e),r.prototype.getDefaultOptions=function(){return $t({},e.prototype.getDefaultOptions.call(this),{yAxis:[],syncViewPadding:!0})},r.prototype.getSchemaAdaptor=function(){return zc}}(Mr);var Ef={title:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}},rowTitle:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}},columnTitle:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}}};function g8(e){var r=e.chart,t=e.options,n=t.data,s=t.type,u=t.xField,h=t.yField,d=t.colorField,p=t.sizeField,y=t.sizeRatio,x=t.shape,w=t.color,M=t.tooltip,T=t.heatmapStyle,L=t.meta;r.data(n);var R="polygon";"density"===s&&(R="heatmap");var D=ua(M,[u,h,d]),k=D.fields,z=D.formatter,G=1;return(y||0===y)&&(x||p?y<0||y>1?console.warn("sizeRatio is not in effect: It must be a number in [0,1]"):G=y:console.warn("sizeRatio is not in effect: Must define shape or sizeField first")),Bi($t({},e,{options:{type:R,colorField:d,tooltipFields:k,shapeField:p||"",label:void 0,mapping:{tooltip:z,shape:x&&(p?function(U){var q=n.map(function(l){return l[p]}),a=L?.[p]||{},o=a.min,i=a.max;return o=(0,S.hj)(o)?o:Math.min.apply(Math,q),i=(0,S.hj)(i)?i:Math.max.apply(Math,q),[x,((0,S.U2)(U,p)-o)/(i-o),G]}:function(){return[x,1,G]}),color:w||d&&r.getTheme().sequenceColors.join("-"),style:T}}})),e}function wl(e){var r,t=e.options,s=t.yAxis,h=t.yField;return vr(Sn(((r={})[t.xField]=t.xAxis,r[h]=s,r)))(e)}function t1(e){var r=e.chart,t=e.options,n=t.xAxis,s=t.yAxis,h=t.yField;return r.axis(t.xField,!1!==n&&n),r.axis(h,!1!==s&&s),e}function y8(e){var r=e.chart,t=e.options,n=t.legend,s=t.colorField,u=t.sizeField,h=t.sizeLegend,d=!1!==n;return s&&r.legend(s,!!d&&n),u&&r.legend(u,void 0===h?n:h),!d&&!h&&r.legend(!1),e}function m8(e){var t=e.options,n=t.label,s=t.colorField,h=mi(e.chart,"density"===t.type?"heatmap":"polygon");if(n){if(s){var d=n.callback,p=(0,E._T)(n,["callback"]);h.label({fields:[s],callback:d,cfg:Jn(p)})}}else h.label(!1);return e}function x8(e){var r,t,n=e.chart,s=e.options,h=s.reflect,d=$t({actions:[]},s.coordinate??{type:"rect"});return h&&(null===(t=null===(r=d.actions)||void 0===r?void 0:r.push)||void 0===t||t.call(r,["reflect",h])),n.coordinate(d),e}function C8(e){return vr(Gr,la("heatmapStyle"),wl,x8,g8,t1,y8,Yn,m8,yn(),vn,Ur,fl)(e)}!function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="area",t}(0,E.ZT)(r,e),r.getDefaultOptions=function(){return Ef},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return zp}}(Mr);var w8=$t({},Mr.getDefaultOptions(),{type:"polygon",legend:!1,coordinate:{type:"rect"},xAxis:{tickLine:null,line:null,grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}},yAxis:{grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}}});Xr("polygon","circle",{draw:function(e,r){var t,n,s=e.x,u=e.y,h=this.parsePoints(e.points),d=Math.abs(h[2].x-h[1].x),p=Math.abs(h[1].y-h[0].y),y=Math.min(d,p)/2,x=Number(e.shape[1]),w=Number(e.shape[2]),T=y*Math.sqrt(w)*Math.sqrt(x),L=(null===(t=e.style)||void 0===t?void 0:t.fill)||e.color||(null===(n=e.defaultStyle)||void 0===n?void 0:n.fill);return r.addShape("circle",{attrs:(0,E.pi)((0,E.pi)((0,E.pi)({x:s,y:u,r:T},e.defaultStyle),e.style),{fill:L})})}}),Xr("polygon","square",{draw:function(e,r){var t,n,s=e.x,u=e.y,h=this.parsePoints(e.points),d=Math.abs(h[2].x-h[1].x),p=Math.abs(h[1].y-h[0].y),y=Math.min(d,p),x=Number(e.shape[1]),w=Number(e.shape[2]),T=y*Math.sqrt(w)*Math.sqrt(x),L=(null===(t=e.style)||void 0===t?void 0:t.fill)||e.color||(null===(n=e.defaultStyle)||void 0===n?void 0:n.fill);return r.addShape("rect",{attrs:(0,E.pi)((0,E.pi)((0,E.pi)({x:s-T/2,y:u-T/2,width:T,height:T},e.defaultStyle),e.style),{fill:L})})}}),function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="heatmap",t}(0,E.ZT)(r,e),r.getDefaultOptions=function(){return w8},r.prototype.getSchemaAdaptor=function(){return C8},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()}}(Mr);var ob="liquid";function ja(e){return[{percent:e,type:ob}]}function _8(e){var r=e.chart,t=e.options,n=t.percent,s=t.liquidStyle,u=t.radius,h=t.outline,d=t.wave,p=t.shape,y=t.shapeStyle,x=t.animation;r.scale({percent:{min:0,max:1}}),r.data(ja(n));var w=t.color||r.getTheme().defaultColor,L=ai($t({},e,{options:{xField:"type",yField:"percent",widthRatio:u,interval:{color:w,style:s,shape:"liquid-fill-gauge"}}})).ext.geometry,R=r.getTheme().background;return L.customInfo({percent:n,radius:u,outline:h,wave:d,shape:p,shapeStyle:y,background:R,animation:x}),r.legend(!1),r.axis(!1),r.tooltip(!1),e}function sb(e,r){var t=e.chart,n=e.options,s=n.statistic,u=n.percent,h=n.meta;t.getController("annotation").clear(!0);var d=(0,S.U2)(h,["percent","formatter"])||function(y){return"".concat((100*y).toFixed(2),"%")},p=s.content;return p&&(p=$t({},p,{content:(0,S.UM)(p.content)?d(u):p.content})),sp(t,{statistic:(0,E.pi)((0,E.pi)({},s),{content:p}),plotType:"liquid"},{percent:u}),r&&t.render(!0),e}function Lu(e){return vr(Gr,la("liquidStyle"),_8,sb,Sn({}),Ur,vn)(e)}var Lf={radius:.9,statistic:{title:!1,content:{style:{opacity:.75,fontSize:"30px",lineHeight:"30px",textAlign:"center"}}},outline:{border:2,distance:0},wave:{count:3,length:192},shape:"circle"};function ub(e,r,t){return e+(r-e)*t}function r1(e,r,t,n){return 0===r?[[e+.5*t/Math.PI/2,n/2],[e+.5*t/Math.PI,n],[e+t/4,n]]:1===r?[[e+.5*t/Math.PI/2*(Math.PI-2),n],[e+.5*t/Math.PI/2*(Math.PI-1),n/2],[e+t/4,0]]:2===r?[[e+.5*t/Math.PI/2,-n/2],[e+.5*t/Math.PI,-n],[e+t/4,-n]]:[[e+.5*t/Math.PI/2*(Math.PI-2),-n],[e+.5*t/Math.PI/2*(Math.PI-1),-n/2],[e+t/4,0]]}function n1(e,r,t,n,s,u,h){for(var d=4*Math.ceil(2*e/t*4),p=[],y=n;y<2*-Math.PI;)y+=2*Math.PI;for(;y>0;)y-=2*Math.PI;var x=u-e+(y=y/Math.PI/2*t)-2*e;p.push(["M",x,r]);for(var w=0,M=0;M<d;++M){var L=r1(M*t/4,M%4,t,s);p.push(["C",L[0][0]+x,-L[0][1]+r,L[1][0]+x,-L[1][1]+r,L[2][0]+x,-L[2][1]+r]),M===d-1&&(w=L[2][0])}return p.push(["L",w+x,h+e]),p.push(["L",x,h+e]),p.push(["Z"]),p}var i1={pin:function cb(e,r,t,n){var s=2*t/3,u=Math.max(s,n),h=s/2,d=e,p=h+r-u/2,y=Math.asin(h/(.85*(u-h))),x=Math.sin(y)*h,w=Math.cos(y)*h,M=d-w,T=p+x,L=e,R=p+h/Math.sin(y);return"\n      M ".concat(M," ").concat(T,"\n      A ").concat(h," ").concat(h," 0 1 1 ").concat(M+2*w," ").concat(T,"\n      Q ").concat(L," ").concat(R," ").concat(e," ").concat(r+u/2,"\n      Q ").concat(L," ").concat(R," ").concat(M," ").concat(T,"\n      Z \n    ")},circle:function M8(e,r,t,n){var s=t/2,u=n/2;return"\n      M ".concat(e," ").concat(r-u," \n      a ").concat(s," ").concat(u," 0 1 0 0 ").concat(2*u,"\n      a ").concat(s," ").concat(u," 0 1 0 0 ").concat(2*-u,"\n      Z\n    ")},diamond:function hb(e,r,t,n){var s=n/2,u=t/2;return"\n      M ".concat(e," ").concat(r-s,"\n      L ").concat(e+u," ").concat(r,"\n      L ").concat(e," ").concat(r+s,"\n      L ").concat(e-u," ").concat(r,"\n      Z\n    ")},triangle:function fb(e,r,t,n){var s=n/2,u=t/2;return"\n      M ".concat(e," ").concat(r-s,"\n      L ").concat(e+u," ").concat(r+s,"\n      L ").concat(e-u," ").concat(r+s,"\n      Z\n    ")},rect:function b8(e,r,t,n){var u=n/2,h=t/2*.618;return"\n      M ".concat(e-h," ").concat(r-u,"\n      L ").concat(e+h," ").concat(r-u,"\n      L ").concat(e+h," ").concat(r+u,"\n      L ").concat(e-h," ").concat(r+u,"\n      Z\n    ")}};function Nc(e){var t=e.options,s=t.lineStyle,u=t.color,h=t.point,d=t.area;e.chart.data(t.data);var p=$t({},e,{options:{line:{style:s,color:u},point:h&&(0,E.pi)({color:u},h),area:d&&(0,E.pi)({color:u},d),label:void 0}}),y=$t({},p,{options:{tooltip:!1}}),w=$t({},p,{options:{tooltip:!1,state:h?.state||t.state}});return bc(p),ca(w),dp(y),e}function _l(e){var r,t=e.options,s=t.yAxis,h=t.yField;return vr(Sn(((r={})[t.xField]=t.xAxis,r[h]=s,r)))(e)}function ha(e){var t=e.options;return e.chart.coordinate("polar",{radius:t.radius,startAngle:t.startAngle,endAngle:t.endAngle}),e}function T8(e){var r=e.chart,t=e.options,u=t.yField,h=t.yAxis;return r.axis(t.xField,t.xAxis),r.axis(u,h),e}function A8(e){var t=e.options,n=t.label,s=t.yField,u=mi(e.chart,"line");if(n){var h=n.callback,d=(0,E._T)(n,["callback"]);u.label({fields:[s],callback:h,cfg:Jn(d)})}else u.label(!1);return e}function db(e){return vr(Nc,_l,Gr,ha,T8,gu,Yn,A8,vn,Ur,yn())(e)}Xr("interval","liquid-fill-gauge",{draw:function(e,r){var s=e.customInfo,h=s.percent,d=s.radius,p=s.shape,y=s.shapeStyle,x=s.background,w=s.animation,M=s.outline,T=s.wave,L=M.border,R=M.distance,D=T.count,k=T.length,z=(0,S.u4)(e.points,function(m,_){return Math.min(m,_.x)},1/0),G=this.parsePoint({x:.5,y:.5}),U=this.parsePoint({x:z,y:.5}),a=Math.min(G.x-U.x,U.y*d),o=function e1(e){var r=(0,E.pi)({opacity:1},e.style);return e.color&&!r.fill&&(r.fill=e.color),r}(e),i=function If(e){var t=(0,S.CD)({},{fill:"#fff",fillOpacity:0,lineWidth:4},e.style);return e.color&&!t.stroke&&(t.stroke=e.color),(0,S.hj)(e.opacity)&&(t.opacity=t.strokeOpacity=e.opacity),t}((0,S.CD)({},e,M)),l=a-L/2,f=("function"==typeof p?p:i1[p]||i1.circle)(G.x,G.y,2*l,2*l);if(y&&r.addShape("path",{name:"shape",attrs:(0,E.pi)({path:f},y)}),h>0){var v=r.addGroup({name:"waves"}),g=v.setClip({type:"path",attrs:{path:f}});!function S8(e,r,t,n,s,u,h,d,p,y){for(var x=s.fill,w=s.opacity,M=h.getBBox(),T=M.maxX-M.minX,L=M.maxY-M.minY,R=0;R<n;R++){var D=n<=1?1:R/(n-1),k=u.addShape("path",{name:"waterwave-path",attrs:{path:n1(d,M.minY+L*t,p,0,T/32,e,r),fill:x,opacity:ub(.2,.9,D)*w}});try{if(!1===y)return;var z=Lm([["t",p,0]]);k.stopAnimate(),k.animate({matrix:z},{duration:ub(2500,5e3,D),repeat:!0})}catch{console.warn("off-screen group animate error!")}}}(G.x,G.y,1-e.points[1].y,D,o,v,g,2*a,k,w)}return r.addShape("path",{name:"distance",attrs:{path:f,fill:"transparent",lineWidth:L+2*R,stroke:"transparent"===x?"#fff":x}}),r.addShape("path",{name:"wrap",attrs:(0,S.CD)(i,{path:f,fill:"transparent",lineWidth:L})}),r}}),function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="liquid",t}(0,E.ZT)(r,e),r.getDefaultOptions=function(){return Lf},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.changeData=function(t){this.chart.emit(Er.BEFORE_CHANGE_DATA,sn.fromData(this.chart,Er.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t}),this.chart.data(ja(t)),sb({chart:this.chart,options:this.options},!0),this.chart.emit(Er.AFTER_CHANGE_DATA,sn.fromData(this.chart,Er.AFTER_CHANGE_DATA,null))},r.prototype.getSchemaAdaptor=function(){return Lu}}(Mr);var Iu=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),Object.defineProperty(r.prototype,"name",{get:function(){return"radar-tooltip"},enumerable:!1,configurable:!0}),r.prototype.getTooltipItems=function(t){var n=this.getTooltipCfg(),s=n.shared,u=n.title,h=e.prototype.getTooltipItems.call(this,t);if(h.length>0){var d=this.view.geometries[0],y=h[0].name,x=[];return d.dataArray.forEach(function(w){w.forEach(function(M){var L=sa.getTooltipItems(M,d)[0];if(!s&&L&&L.name===y){var R=(0,S.UM)(u)?y:u;x.push((0,E.pi)((0,E.pi)({},L),{name:L.title,title:R}))}else s&&L&&(R=(0,S.UM)(u)?L.name||y:u,x.push((0,E.pi)((0,E.pi)({},L),{name:L.title,title:R})))})}),x}return[]},r}(Wh);Eo("radar-tooltip",Iu);var li=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.init=function(){this.context.view.removeInteraction("tooltip")},r.prototype.show=function(){var t=this.context.event;this.getTooltipController().showTooltip({x:t.x,y:t.y})},r.prototype.hide=function(){this.getTooltipController().hideTooltip()},r.prototype.getTooltipController=function(){return this.context.view.getController("radar-tooltip")},r}(cn);rr("radar-tooltip",li),wr("radar-tooltip",{start:[{trigger:"plot:mousemove",action:"radar-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"radar-tooltip:hide"}]});var fa=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="radar",t}return(0,E.ZT)(r,e),r.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(t)},r.prototype.getDefaultOptions=function(){return $t({},e.prototype.getDefaultOptions.call(this),{xAxis:{label:{offset:15},grid:{line:{type:"line"}}},yAxis:{grid:{line:{type:"circle"}}},legend:{position:"top"},tooltip:{shared:!0,showCrosshairs:!0,showMarkers:!0,crosshairs:{type:"xy",line:{style:{stroke:"#565656",lineDash:[4]}},follow:!0}}})},r.prototype.getSchemaAdaptor=function(){return db},r}(Mr);function VB(e,r,t){var n=t.map(function(h){return h[r]}).filter(function(h){return void 0!==h}),s=n.length>0?Math.max.apply(Math,n):0,u=Math.abs(e)%360;return u?360*s/u:s}function a1(e){var r=e.chart,t=e.options,n=t.barStyle,s=t.color,u=t.tooltip,h=t.colorField,d=t.type,p=t.xField,y=t.yField,w=t.shape,M=fu(t.data,y);return r.data(M),ai($t({},e,{options:{tooltip:u,seriesField:h,interval:{style:n,color:s,shape:w||("line"===d?"line":"intervel")},minColumnWidth:t.minBarWidth,maxColumnWidth:t.maxBarWidth,columnBackground:t.barBackground}})),"line"===d&&ca({chart:r,options:{xField:p,yField:y,seriesField:h,point:{shape:"circle",color:s}}}),e}function o1(e){var r,t=e.options,n=t.yField,u=t.data,y=t.maxAngle,x=t.isStack&&!t.isGroup&&t.colorField?function XB(e,r,t){var n=[];return e.forEach(function(s){var u=n.find(function(h){return h[r]===s[r]});u?u[t]+=s[t]||null:n.push((0,E.pi)({},s))}),n}(u,t.xField,n):u,w=fu(x,n);return vr(Sn(((r={})[n]={min:0,max:VB(y,n,w)},r)))(e)}function s1(e){var t=e.options;return e.chart.coordinate({type:"polar",cfg:{radius:t.radius,innerRadius:t.innerRadius,startAngle:t.startAngle,endAngle:t.endAngle}}).transpose(),e}function E8(e){var t=e.options;return e.chart.axis(t.xField,t.xAxis),e}function L8(e){var t=e.options,n=t.label,s=t.yField,u=mi(e.chart,"interval");if(n){var h=n.callback,d=(0,E._T)(n,["callback"]);u.label({fields:[s],callback:h,cfg:(0,E.pi)((0,E.pi)({},Jn(d)),{type:"polar"})})}else u.label(!1);return e}function I8(e){return vr(la("barStyle"),a1,o1,E8,s1,vn,Ur,Gr,Yn,gu,yn(),L8)(e)}var O8=$t({},Mr.getDefaultOptions(),{interactions:[{type:"element-active"}],legend:!1,tooltip:{showMarkers:!1},xAxis:{grid:null,tickLine:null,line:null},maxAngle:240}),vb=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="radial-bar",t}return(0,E.ZT)(r,e),r.getDefaultOptions=function(){return O8},r.prototype.changeData=function(t){this.updateOption({data:t}),o1({chart:this.chart,options:this.options}),this.chart.changeData(t)},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return I8},r}(Mr);function R8(e){var t=e.options,s=t.sectorStyle,u=t.shape,h=t.color;return e.chart.data(t.data),vr(ai)($t({},e,{options:{marginRatio:1,interval:{style:s,color:h,shape:u}}})),e}function F8(e){var t=e.options,n=t.label,s=t.xField,u=mi(e.chart,"interval");if(!1===n)u.label(!1);else if((0,S.Kn)(n)){var h=n.callback,d=n.fields,p=(0,E._T)(n,["callback","fields"]),y=p.offset,x=p.layout;(void 0===y||y>=0)&&(x=x?(0,S.kJ)(x)?x:[x]:[],p.layout=(0,S.hX)(x,function(w){return"limit-in-shape"!==w.type}),p.layout.length||delete p.layout),u.label({fields:d||[s],callback:h,cfg:Jn(p)})}else fn(qa.WARN,null===n,"the label option must be an Object."),u.label({fields:[s]});return e}function D8(e){var r=e.chart,t=e.options,n=t.legend,s=t.seriesField;return!1===n?r.legend(!1):s&&r.legend(s,n),e}function k8(e){var t=e.options;return e.chart.coordinate({type:"polar",cfg:{radius:t.radius,innerRadius:t.innerRadius,startAngle:t.startAngle,endAngle:t.endAngle}}),e}function B8(e){var r,t=e.options,s=t.yAxis,h=t.yField;return vr(Sn(((r={})[t.xField]=t.xAxis,r[h]=s,r)))(e)}function P8(e){var r=e.chart,t=e.options,s=t.yAxis,h=t.yField;return r.axis(t.xField,t.xAxis||!1),r.axis(h,s||!1),e}function z8(e){vr(la("sectorStyle"),R8,B8,F8,k8,P8,D8,Yn,vn,Ur,Gr,yn(),fl)(e)}var pb=$t({},Mr.getDefaultOptions(),{xAxis:!1,yAxis:!1,legend:{position:"right",radio:{}},sectorStyle:{stroke:"#fff",lineWidth:1},label:{layout:{type:"limit-in-shape"}},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]}),gb=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="rose",t}return(0,E.ZT)(r,e),r.getDefaultOptions=function(){return pb},r.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(t)},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return z8},r}(Mr),l1="x",Of="y",Hc="name",Hp="nodes",Gp="edges";function H8(e,r,t){if(!(0,S.kJ)(e))return[];var n=[],s=function Rs(e,r,t){var n=[];return e.forEach(function(s){var u=s[r],h=s[t];n.includes(u)||n.push(u),n.includes(h)||n.push(h)}),n}(e,r,t),u=function N8(e,r,t,n){var s={};return r.forEach(function(u){s[u]={},r.forEach(function(h){s[u][h]=0})}),e.forEach(function(u){s[u[t]][u[n]]=1}),s}(e,s,r,t),h={};function d(p){h[p]=1,s.forEach(function(y){if(0!=u[p][y])if(1==h[y])n.push("".concat(p,"_").concat(y));else{if(-1==h[y])return;d(y)}}),h[p]=-1}return s.forEach(function(p){h[p]=0}),s.forEach(function(p){-1!=h[p]&&d(p)}),0!==n.length&&console.warn("sankey data contains circle, ".concat(n.length," records removed."),n),e.filter(function(p){return n.findIndex(function(y){return y==="".concat(p[r],"_").concat(p[t])})<0})}function yb(e){return e.target.depth}function Sl(e,r){return e.sourceLinks.length?e.depth:r-1}function Wp(e){return function(){return e}}function xb(e,r){for(var t=0,n=0;n<e.length;n++)t+=r(e[n]);return t}function u1(e,r){for(var t=-1/0,n=0;n<e.length;n++)t=Math.max(r(e[n]),t);return t}function Cb(e,r){return Up(e.source,r.source)||e.index-r.index}function Ou(e,r){return Up(e.target,r.target)||e.index-r.index}function Up(e,r){return e.y0-r.y0}function c1(e){return e.value}function h1(e){return e.index}function wb(e){return e.nodes}function _b(e){return e.links}function Yp(e,r){var t=e.get(r);if(!t)throw new Error("missing: "+r);return t}function Sb(e){for(var t=0,n=e.nodes;t<n.length;t++){for(var s=n[t],u=s.y0,h=u,d=0,p=s.sourceLinks;d<p.length;d++)(y=p[d]).y0=u+y.width/2,u+=y.width;for(var x=0,w=s.targetLinks;x<w.length;x++){var y;(y=w[x]).y1=h+y.width/2,h+=y.width}}}var Ml={left:function mb(e){return e.depth},right:function $B(e,r){return r-1-e.height},center:function ZB(e){return e.targetLinks.length?e.depth:e.sourceLinks.length?(0,S.F)(e.sourceLinks,yb)-1:0},justify:Sl},f1={nodeId:function(e){return e.index},nodeAlign:"justify",nodeWidth:.008,nodePadding:.03,nodeSort:void 0};function Ff(e,r){var t=function W8(e){return(0,S.f0)({},f1,e)}(e),n=t.nodeId,s=t.nodeSort,u=t.nodeAlign,h=t.nodeWidth,d=t.nodePadding,p=t.nodeDepth,y=function Rf(){var h,y,x,w,e=0,r=0,t=1,n=1,s=24,u=8,d=h1,p=Sl,M=wb,T=_b,L=6;function R(b){var A={nodes:M(b),links:T(b)};return function D(b){var A=b.nodes,I=b.links;A.forEach(function(V,j){V.index=j,V.sourceLinks=[],V.targetLinks=[]});var O=new Map(A.map(function(V){return[d(V),V]}));if(I.forEach(function(V,j){V.index=j;var yt=V.source,Lt=V.target;"object"!=typeof yt&&(yt=V.source=Yp(O,yt)),"object"!=typeof Lt&&(Lt=V.target=Yp(O,Lt)),yt.sourceLinks.push(V),Lt.targetLinks.push(V)}),null!=w)for(var F=0,B=A;F<B.length;F++){var P=B[F],Y=P.targetLinks;P.sourceLinks.sort(w),Y.sort(w)}}(A),function k(b){for(var I=0,O=b.nodes;I<O.length;I++){var F=O[I];F.value=void 0===F.fixedValue?Math.max(xb(F.sourceLinks,c1),xb(F.targetLinks,c1)):F.fixedValue}}(A),function z(b){for(var A=b.nodes,I=A.length,O=new Set(A),F=new Set,B=0;O.size;){if(O.forEach(function(V){V.depth=B;for(var j=0,yt=V.sourceLinks;j<yt.length;j++)F.add(yt[j].target)}),++B>I)throw new Error("circular link");O=F,F=new Set}if(y)for(var P=Math.max(u1(A,function(V){return V.depth})+1,0),H=void 0,Y=0;Y<A.length;Y++)(H=A[Y]).depth=y.call(null,H,P)}(A),function G(b){for(var A=b.nodes,I=A.length,O=new Set(A),F=new Set,B=0;O.size;){if(O.forEach(function(P){P.height=B;for(var H=0,Y=P.targetLinks;H<Y.length;H++)F.add(Y[H].source)}),++B>I)throw new Error("circular link");O=F,F=new Set}}(A),function a(b){var A=function U(b){for(var A=b.nodes,I=Math.max(u1(A,function(Lt){return Lt.depth})+1,0),O=(t-e-s)/(I-1),F=new Array(I).fill(0).map(function(){return[]}),B=0,P=A;B<P.length;B++){var H=P[B],Y=Math.max(0,Math.min(I-1,Math.floor(p.call(null,H,I))));H.layer=Y,H.x0=e+Y*O,H.x1=H.x0+s,F[Y]?F[Y].push(H):F[Y]=[H]}if(x)for(var V=0,j=F;V<j.length;V++)j[V].sort(x);return F}(b);h=Math.min(u,(n-r)/(u1(A,function(B){return B.length})-1)),function q(b){for(var A=function G8(e,r){for(var t=1/0,n=0;n<e.length;n++)t=Math.min(r(e[n]),t);return t}(b,function(Pt){return(n-r-(Pt.length-1)*h)/xb(Pt,c1)}),I=0,O=b;I<O.length;I++){for(var F=O[I],B=r,P=0,H=F;P<H.length;P++){(Y=H[P]).y0=B,Y.y1=B+Y.value*A,B=Y.y1+h;for(var V=0,j=Y.sourceLinks;V<j.length;V++){var yt=j[V];yt.width=yt.value*A}}B=(n-B+h)/(F.length+1);for(var Lt=0;Lt<F.length;++Lt){var Y;(Y=F[Lt]).y0+=B*(Lt+1),Y.y1+=B*(Lt+1)}g(F)}}(A);for(var I=0;I<L;++I){var O=Math.pow(.99,I),F=Math.max(1-O,(I+1)/L);i(A,O,F),o(A,O,F)}}(A),Sb(A),A}function o(b,A,I){for(var O=1,F=b.length;O<F;++O){for(var B=b[O],P=0,H=B;P<H.length;P++){for(var Y=H[P],V=0,j=0,yt=0,Lt=Y.targetLinks;yt<Lt.length;yt++){var Pt=Lt[yt],ge=Pt.source,Ie=Pt.value*(Y.layer-ge.layer);V+=m(ge,Y)*Ie,j+=Ie}if(j>0){var Pe=(V/j-Y.y0)*A;Y.y0+=Pe,Y.y1+=Pe,v(Y)}}void 0===x&&B.sort(Up),B.length&&l(B,I)}}function i(b,A,I){for(var F=b.length-2;F>=0;--F){for(var B=b[F],P=0,H=B;P<H.length;P++){for(var Y=H[P],V=0,j=0,yt=0,Lt=Y.sourceLinks;yt<Lt.length;yt++){var Pt=Lt[yt],ge=Pt.target,Ie=Pt.value*(ge.layer-Y.layer);V+=_(Y,ge)*Ie,j+=Ie}if(j>0){var Pe=(V/j-Y.y0)*A;Y.y0+=Pe,Y.y1+=Pe,v(Y)}}void 0===x&&B.sort(Up),B.length&&l(B,I)}}function l(b,A){var I=b.length>>1,O=b[I];f(b,O.y0-h,I-1,A),c(b,O.y1+h,I+1,A),f(b,n,b.length-1,A),c(b,r,0,A)}function c(b,A,I,O){for(;I<b.length;++I){var F=b[I],B=(A-F.y0)*O;B>1e-6&&(F.y0+=B,F.y1+=B),A=F.y1+h}}function f(b,A,I,O){for(;I>=0;--I){var F=b[I],B=(F.y1-A)*O;B>1e-6&&(F.y0-=B,F.y1-=B),A=F.y0-h}}function v(b){var A=b.sourceLinks;if(void 0===w){for(var O=0,F=b.targetLinks;O<F.length;O++)F[O].source.sourceLinks.sort(Ou);for(var P=0,H=A;P<H.length;P++)H[P].target.targetLinks.sort(Cb)}}function g(b){if(void 0===w)for(var A=0,I=b;A<I.length;A++){var O=I[A],B=O.targetLinks;O.sourceLinks.sort(Ou),B.sort(Cb)}}function m(b,A){for(var I=b.y0-(b.sourceLinks.length-1)*h/2,O=0,F=b.sourceLinks;O<F.length;O++){var B=F[O],H=B.width;if(B.target===A)break;I+=H+h}for(var Y=0,V=A.targetLinks;Y<V.length;Y++){var j=V[Y];if(H=j.width,j.source===b)break;I-=H}return I}function _(b,A){for(var I=A.y0-(A.targetLinks.length-1)*h/2,O=0,F=A.targetLinks;O<F.length;O++){var B=F[O],H=B.width;if(B.source===b)break;I+=H+h}for(var Y=0,V=b.sourceLinks;Y<V.length;Y++){var j=V[Y];if(H=j.width,j.target===A)break;I-=H}return I}return R.update=function(b){return Sb(b),b},R.nodeId=function(b){return arguments.length?(d="function"==typeof b?b:Wp(b),R):d},R.nodeAlign=function(b){return arguments.length?(p="function"==typeof b?b:Wp(b),R):p},R.nodeDepth=function(b){return arguments.length?(y=b,R):y},R.nodeSort=function(b){return arguments.length?(x=b,R):x},R.nodeWidth=function(b){return arguments.length?(s=+b,R):s},R.nodePadding=function(b){return arguments.length?(u=h=+b,R):u},R.nodes=function(b){return arguments.length?(M="function"==typeof b?b:Wp(b),R):M},R.links=function(b){return arguments.length?(T="function"==typeof b?b:Wp(b),R):T},R.linkSort=function(b){return arguments.length?(w=b,R):w},R.size=function(b){return arguments.length?(e=r=0,t=+b[0],n=+b[1],R):[t-e,n-r]},R.extent=function(b){return arguments.length?(e=+b[0][0],t=+b[1][0],r=+b[0][1],n=+b[1][1],R):[[e,r],[t,n]]},R.iterations=function(b){return arguments.length?(L=+b,R):L},R}().nodeSort(s).nodeWidth(h).nodePadding(d).nodeDepth(p).nodeAlign(function Mb(e){return((0,S.HD)(e)?Ml[e]:(0,S.mf)(e)?e:null)||Sl}(u)).extent([[0,0],[1,1]]).nodeId(n),x=y(r);return{nodes:x.nodes.map(function(T){var L=T.x0,R=T.x1,D=T.y0,k=T.y1;return T.x=[L,R,R,L],T.y=[D,D,k,k],T}).filter(function(T){return null!==T.name}),links:x.links.map(function(T){var D=T.source.x1,k=T.target.x0;T.x=[D,D,k,k];var z=T.width/2;return T.y=[T.y0+z,T.y0-z,T.y1+z,T.y1-z],T}).filter(function(T){return null!==T.source.name&&null!==T.target.name})}}function bb(e,r,t){return du(e)?e/t:r}function U8(e,r,t){return du(e)?e/t:r}function Tb(e,r,t){var k,s=e.data,u=e.sourceField,h=e.targetField,d=e.weightField,p=e.nodeAlign,y=e.nodeSort,x=e.nodePadding,w=e.nodePaddingRatio,M=e.nodeWidth,T=e.nodeWidthRatio,L=e.nodeDepth,R=e.rawFields,D=void 0===R?[]:R;k=function Vp(e){return"node-link"===e}(e.dataType)?s:J_(H8(s,u,h),u,h,d,D);var z=Ff({nodeAlign:p,nodePadding:U8(x,w,t),nodeWidth:bb(M,T,r),nodeSort:y,nodeDepth:L},k),U=z.links;return{nodes:z.nodes.map(function(q){return(0,E.pi)((0,E.pi)({},jr(q,(0,E.ev)(["x","y","name"],D,!0))),{isNode:!0})}),edges:U.map(function(q){return(0,E.pi)((0,E.pi)({source:q.source.name,target:q.target.name,name:q.source.name||q.target.name},jr(q,(0,E.ev)(["x","y","value"],D,!0))),{isNode:!1})})}}function Xp(e){var t=e.options.rawFields,n=void 0===t?[]:t;return $t({},{options:{tooltip:{fields:(0,S.jj)((0,E.ev)(["name","source","target","value","isNode"],n,!0))},label:{fields:(0,S.jj)((0,E.ev)(["x","name"],n,!0))}}},e)}function Y8(e){var r=e.chart,t=e.options,n=t.color,s=t.nodeStyle,u=t.edgeStyle,h=t.label,d=t.tooltip,p=t.nodeState,y=t.edgeState,x=t.rawFields,w=void 0===x?[]:x;r.legend(!1),r.tooltip(d),r.axis(!1),r.coordinate().reflect("y");var M=Tb(t,r.width,r.height),T=M.nodes,L=M.edges,R=r.createView({id:Gp});R.data(L),hS({chart:R,options:{xField:l1,yField:Of,seriesField:Hc,rawFields:(0,E.ev)(["source","target"],w,!0),edge:{color:n,style:u,shape:"arc"},tooltip:d,state:y}});var D=r.createView({id:Hp});return D.data(T),Tc({chart:D,options:{xField:l1,yField:Of,seriesField:Hc,polygon:{color:n,style:s},label:h,tooltip:d,state:p}}),r.interaction("element-active"),r.scale({x:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},y:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},name:{sync:"color",type:"cat"}}),e}function V8(e){var r=e.chart;return hf(r,e.options.animation,(0,E.ev)((0,E.ev)([],r.views[0].geometries,!0),r.views[1].geometries,!0)),e}function Df(e){var r=e.chart,s="sankey-node-draggable";return e.options.nodeDraggable?r.interaction(s):r.removeInteraction(s),e}function X8(e){var r=e.chart,t=e.options,n=t.interactions,s=void 0===n?[]:n,u=[].concat(s,t.nodeInteractions||[]),h=[].concat(s,t.edgeInteractions||[]),d=Lr(r,Hp),p=Lr(r,Gp);return u.forEach(function(y){!1===y?.enable?d.removeInteraction(y.type):d.interaction(y.type,y.cfg||{})}),h.forEach(function(y){!1===y?.enable?p.removeInteraction(y.type):p.interaction(y.type,y.cfg||{})}),e}function $8(e){return vr(Xp,Y8,X8,Df,V8,Gr)(e)}var Ab=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.isDragging=!1,t}return(0,E.ZT)(r,e),r.prototype.isNodeElement=function(){var t=(0,S.U2)(this.context,"event.target");if(t){var n=t.get("element");return n&&n.getModel().data.isNode}return!1},r.prototype.getNodeView=function(){return Lr(this.context.view,Hp)},r.prototype.getEdgeView=function(){return Lr(this.context.view,Gp)},r.prototype.getCurrentDatumIdx=function(t){return this.getNodeView().geometries[0].elements.indexOf(t)},r.prototype.start=function(){if(this.isNodeElement()){this.prevPoint={x:(0,S.U2)(this.context,"event.x"),y:(0,S.U2)(this.context,"event.y")};var t=this.context.event.target.get("element"),n=this.getCurrentDatumIdx(t);if(-1===n)return;this.currentElementIdx=n,this.context.isDragging=!0,this.isDragging=!0,this.prevNodeAnimateCfg=this.getNodeView().getOptions().animate,this.prevEdgeAnimateCfg=this.getEdgeView().getOptions().animate,this.getNodeView().animate(!1),this.getEdgeView().animate(!1)}},r.prototype.translate=function(){if(this.isDragging){var t=this.context.view,n={x:(0,S.U2)(this.context,"event.x"),y:(0,S.U2)(this.context,"event.y")},s=n.x-this.prevPoint.x,u=n.y-this.prevPoint.y,h=this.getNodeView(),d=h.geometries[0].elements[this.currentElementIdx];if(d&&d.getModel()){var p=d.getModel().data,y=h.getOptions().data,x=h.getCoordinate(),w={x:s/x.getWidth(),y:u/x.getHeight()},M=(0,E.pi)((0,E.pi)({},p),{x:p.x.map(function(k){return k+w.x}),y:p.y.map(function(k){return k+w.y})}),T=(0,E.ev)([],y,!0);T[this.currentElementIdx]=M,h.data(T);var L=p.name,R=this.getEdgeView(),D=R.getOptions().data;D.forEach(function(k){k.source===L&&(k.x[0]+=w.x,k.x[1]+=w.x,k.y[0]+=w.y,k.y[1]+=w.y),k.target===L&&(k.x[2]+=w.x,k.x[3]+=w.x,k.y[2]+=w.y,k.y[3]+=w.y)}),R.data(D),this.prevPoint=n,t.render(!0)}}},r.prototype.end=function(){this.isDragging=!1,this.context.isDragging=!1,this.prevPoint=null,this.currentElementIdx=null,this.getNodeView().animate(this.prevNodeAnimateCfg),this.getEdgeView().animate(this.prevEdgeAnimateCfg)},r}(cn);rr("sankey-node-drag",Ab),wr("sankey-node-draggable",{showEnable:[{trigger:"polygon:mouseenter",action:"cursor:pointer"},{trigger:"polygon:mouseleave",action:"cursor:default"}],start:[{trigger:"polygon:mousedown",action:"sankey-node-drag:start"}],processing:[{trigger:"plot:mousemove",action:"sankey-node-drag:translate"},{isEnable:function(e){return e.isDragging},trigger:"plot:mousemove",action:"cursor:move"}],end:[{trigger:"plot:mouseup",action:"sankey-node-drag:end"}]});var d1=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="sankey",t}return(0,E.ZT)(r,e),r.getDefaultOptions=function(){return{appendPadding:8,syncViewPadding:!0,nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.3,lineWidth:0},edgeState:{active:{style:{opacity:.8,lineWidth:0}}},label:{formatter:function(t){return t.name},callback:function(t){var n=1===t[1];return{style:{fill:"#545454",textAlign:n?"end":"start"},offsetX:n?-8:8}},layout:[{type:"hide-overlap"}]},tooltip:{showTitle:!1,showMarkers:!1,shared:!1,showContent:function(t){return!(0,S.U2)(t,[0,"data","isNode"])},formatter:function(t){return{name:t.source+" -> "+t.target,value:t.value}}},nodeWidthRatio:.008,nodePaddingRatio:.01,animation:{appear:{animation:"wave-in"},enter:{animation:"wave-in"}}}},r.prototype.changeData=function(t){this.updateOption({data:t});var n=Tb(this.options,this.chart.width,this.chart.height),s=n.nodes,u=n.edges,h=Lr(this.chart,Hp),d=Lr(this.chart,Gp);h.changeData(s),d.changeData(u)},r.prototype.getSchemaAdaptor=function(){return $8},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r}(Mr),Ru="ancestor-node",mn="value",kf="path",Z8=[kf,GM,kp,si,"name","depth","height"],Eb=$t({},Mr.getDefaultOptions(),{innerRadius:0,radius:.85,hierarchyConfig:{field:"value"},tooltip:{shared:!0,showMarkers:!1,offset:20,showTitle:!1},legend:!1,sunburstStyle:{lineWidth:.5,stroke:"#FFF"},drilldown:{enabled:!0}});function q8(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function ui(e,r,t,n,s){for(var h,u=e.children,d=-1,p=u.length,y=e.value&&(n-r)/e.value;++d<p;)(h=u[d]).y0=t,h.y1=s,h.x0=r,h.x1=r+=h.value*y}function Bf(){var e=1,r=1,t=0,n=!1;function s(h){var d=h.height+1;return h.x0=h.y0=t,h.x1=e,h.y1=r/d,h.eachBefore(function u(h,d){return function(p){p.children&&ui(p,p.x0,h*(p.depth+1)/d,p.x1,h*(p.depth+2)/d);var y=p.x0,x=p.y0,w=p.x1-t,M=p.y1-t;w<y&&(y=w=(y+w)/2),M<x&&(x=M=(x+M)/2),p.x0=y,p.y0=x,p.x1=w,p.y1=M}}(r,d)),n&&h.eachBefore(q8),h}return s.round=function(h){return arguments.length?(n=!!h,s):n},s.size=function(h){return arguments.length?(e=+h[0],r=+h[1],s):[e,r]},s.padding=function(h){return arguments.length?(t=+h,s):t},s}var Lb={field:"value",size:[1,1],round:!1,padding:0,sort:function(e,r){return r.value-e.value},as:["x","y"],ignoreParentValue:!0};function j8(e,r){var n,t=(r=(0,S.f0)({},Lb,r)).as;if(!(0,S.kJ)(t)||2!==t.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{n=Zm(r)}catch(p){console.warn(p)}var p,u=(p=e,Bf().size(r.size).round(r.round).padding(r.padding)(Bc(p).sum(function(y){return(0,S.dp)(y.children)?r.ignoreParentValue?0:y[n]-(0,S.u4)(y.children,function(x,w){return x+w[n]},0):y[n]}).sort(r.sort))),h=t[0],d=t[1];return u.each(function(p){var y,x;p[h]=[p.x0,p.x1,p.x1,p.x0],p[d]=[p.y1,p.y1,p.y0,p.y0],p.name=p.name||(null===(y=p.data)||void 0===y?void 0:y.name)||(null===(x=p.data)||void 0===x?void 0:x.label),p.data.name=p.name,["x0","x1","y0","y1"].forEach(function(w){-1===t.indexOf(w)&&delete p[w]})}),Tf(u)}function J8(e,r){return e.parent===r.parent?1:2}function Ib(e,r){return e+r.x}function tF(e,r){return Math.max(e,r.y)}function $p(){var e=J8,r=1,t=1,n=!1;function s(u){var h,d=0;u.eachAfter(function(M){var T=M.children;T?(M.x=function K8(e){return e.reduce(Ib,0)/e.length}(T),M.y=function Q8(e){return 1+e.reduce(tF,0)}(T)):(M.x=h?d+=e(M,h):0,M.y=0,h=M)});var p=function Ob(e){for(var r;r=e.children;)e=r[0];return e}(u),y=function eF(e){for(var r;r=e.children;)e=r[r.length-1];return e}(u),x=p.x-e(p,y)/2,w=y.x+e(y,p)/2;return u.eachAfter(n?function(M){M.x=(M.x-u.x)*r,M.y=(u.y-M.y)*t}:function(M){M.x=(M.x-x)/(w-x)*r,M.y=(1-(u.y?M.y/u.y:1))*t})}return s.separation=function(u){return arguments.length?(e=u,s):e},s.size=function(u){return arguments.length?(n=!1,r=+u[0],t=+u[1],s):n?null:[r,t]},s.nodeSize=function(u){return arguments.length?(n=!0,r=+u[0],t=+u[1],s):n?[r,t]:null},s}var rF={depth:-1},Rb={};function Fb(e){return e.id}function qB(e){return e.parentId}function nF(){var e=Fb,r=qB;function t(n){var h,d,p,y,x,w,M,s=Array.from(n),u=s.length,T=new Map;for(d=0;d<u;++d)x=s[d]=new Pc(h=s[d]),null!=(w=e(h,d,n))&&(w+="")&&(M=x.id=w,T.set(M,T.has(M)?Rb:x)),null!=(w=r(h,d,n))&&(w+="")&&(x.parent=w);for(d=0;d<u;++d)if(w=(x=s[d]).parent){if(!(y=T.get(w)))throw new Error("missing: "+w);if(y===Rb)throw new Error("ambiguous: "+w);y.children?y.children.push(x):y.children=[x],x.parent=y}else{if(p)throw new Error("multiple roots");p=x}if(!p)throw new Error("no root");if(p.parent=rF,p.eachBefore(function(L){L.depth=L.parent.depth+1,--u}).eachBefore($m),p.parent=null,u>0)throw new Error("cycle");return p}return t.id=function(n){return arguments.length?(e=Op(n),t):e},t.parentId=function(n){return arguments.length?(r=Op(n),t):r},t}function iF(e,r){return e.parent===r.parent?1:2}function v1(e){var r=e.children;return r?r[0]:e.t}function p1(e){var r=e.children;return r?r[r.length-1]:e.t}function aF(e,r,t){var n=t/(r.i-e.i);r.c-=n,r.s+=t,e.c+=n,r.z+=t,r.m+=t}function sF(e,r,t){return e.a.parent===r.parent?e.a:t}function Zp(e,r){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=r}function uF(){var e=iF,r=1,t=1,n=null;function s(y){var x=function lF(e){for(var t,s,u,h,d,r=new Zp(e,0),n=[r];t=n.pop();)if(u=t._.children)for(t.children=new Array(d=u.length),h=d-1;h>=0;--h)n.push(s=t.children[h]=new Zp(u[h],h)),s.parent=t;return(r.parent=new Zp(null,0)).children=[r],r}(y);if(x.eachAfter(u),x.parent.m=-x.z,x.eachBefore(h),n)y.eachBefore(p);else{var w=y,M=y,T=y;y.eachBefore(function(z){z.x<w.x&&(w=z),z.x>M.x&&(M=z),z.depth>T.depth&&(T=z)});var L=w===M?1:e(w,M)/2,R=L-w.x,D=r/(M.x+L+R),k=t/(T.depth||1);y.eachBefore(function(z){z.x=(z.x+R)*D,z.y=z.depth*k})}return y}function u(y){var x=y.children,w=y.parent.children,M=y.i?w[y.i-1]:null;if(x){!function oF(e){for(var u,r=0,t=0,n=e.children,s=n.length;--s>=0;)(u=n[s]).z+=r,u.m+=r,r+=u.s+(t+=u.c)}(y);var T=(x[0].z+x[x.length-1].z)/2;M?(y.z=M.z+e(y._,M._),y.m=y.z-T):y.z=T}else M&&(y.z=M.z+e(y._,M._));y.parent.A=function d(y,x,w){if(x){for(var U,M=y,T=y,L=x,R=M.parent.children[0],D=M.m,k=T.m,z=L.m,G=R.m;L=p1(L),M=v1(M),L&&M;)R=v1(R),(T=p1(T)).a=y,(U=L.z+z-M.z-D+e(L._,M._))>0&&(aF(sF(L,y,w),y,U),D+=U,k+=U),z+=L.m,D+=M.m,G+=R.m,k+=T.m;L&&!p1(T)&&(T.t=L,T.m+=z-k),M&&!v1(R)&&(R.t=M,R.m+=D-G,w=y)}return w}(y,M,y.parent.A||w[0])}function h(y){y._.x=y.z+y.parent.m,y.m+=y.parent.m}function p(y){y.x*=r,y.y=y.depth*t}return s.separation=function(y){return arguments.length?(e=y,s):e},s.size=function(y){return arguments.length?(n=!1,r=+y[0],t=+y[1],s):n?null:[r,t]},s.nodeSize=function(y){return arguments.length?(n=!0,r=+y[0],t=+y[1],s):n?[r,t]:null},s}function bl(e,r,t,n,s){for(var h,u=e.children,d=-1,p=u.length,y=e.value&&(s-t)/e.value;++d<p;)(h=u[d]).x0=r,h.x1=n,h.y0=t,h.y1=t+=h.value*y}Zp.prototype=Object.create(Pc.prototype);var g1=(1+Math.sqrt(5))/2;function Db(e,r,t,n,s,u){for(var p,y,T,L,D,k,z,G,U,q,a,h=[],d=r.children,x=0,w=0,M=d.length,R=r.value;x<M;){T=s-t,L=u-n;do{D=d[w++].value}while(!D&&w<M);for(k=z=D,a=D*D*(q=Math.max(L/T,T/L)/(R*e)),U=Math.max(z/a,a/k);w<M;++w){if(D+=y=d[w].value,y<k&&(k=y),y>z&&(z=y),a=D*D*q,(G=Math.max(z/a,a/k))>U){D-=y;break}U=G}h.push(p={value:D,dice:T<L,children:d.slice(x,w)}),p.dice?ui(p,t,n,s,R?n+=L*D/R:u):bl(p,t,n,R?t+=T*D/R:s,u),R-=D,x=w}return h}const kb=function e(r){function t(n,s,u,h,d){Db(r,n,s,u,h,d)}return t.ratio=function(n){return e((n=+n)>1?n:1)},t}(g1);function cF(){var e=kb,r=!1,t=1,n=1,s=[0],u=Mu,h=Mu,d=Mu,p=Mu,y=Mu;function x(M){return M.x0=M.y0=0,M.x1=t,M.y1=n,M.eachBefore(w),s=[0],r&&M.eachBefore(q8),M}function w(M){var T=s[M.depth],L=M.x0+T,R=M.y0+T,D=M.x1-T,k=M.y1-T;D<L&&(L=D=(L+D)/2),k<R&&(R=k=(R+k)/2),M.x0=L,M.y0=R,M.x1=D,M.y1=k,M.children&&(T=s[M.depth+1]=u(M)/2,L+=y(M)-T,R+=h(M)-T,(D-=d(M)-T)<L&&(L=D=(L+D)/2),(k-=p(M)-T)<R&&(R=k=(R+k)/2),e(M,L,R,D,k))}return x.round=function(M){return arguments.length?(r=!!M,x):r},x.size=function(M){return arguments.length?(t=+M[0],n=+M[1],x):[t,n]},x.tile=function(M){return arguments.length?(e=Op(M),x):e},x.padding=function(M){return arguments.length?x.paddingInner(M).paddingOuter(M):x.paddingInner()},x.paddingInner=function(M){return arguments.length?(u="function"==typeof M?M:zi(+M),x):u},x.paddingOuter=function(M){return arguments.length?x.paddingTop(M).paddingRight(M).paddingBottom(M).paddingLeft(M):x.paddingTop()},x.paddingTop=function(M){return arguments.length?(h="function"==typeof M?M:zi(+M),x):h},x.paddingRight=function(M){return arguments.length?(d="function"==typeof M?M:zi(+M),x):d},x.paddingBottom=function(M){return arguments.length?(p="function"==typeof M?M:zi(+M),x):p},x.paddingLeft=function(M){return arguments.length?(y="function"==typeof M?M:zi(+M),x):y},x}function hF(e,r,t,n,s){var h,p,u=e.children,d=u.length,y=new Array(d+1);for(y[0]=p=h=0;h<d;++h)y[h+1]=p+=u[h].value;!function x(w,M,T,L,R,D,k){if(w>=M-1){var z=u[w];return z.x0=L,z.y0=R,z.x1=D,void(z.y1=k)}for(var G=y[w],U=T/2+G,q=w+1,a=M-1;q<a;){var o=q+a>>>1;y[o]<U?q=o+1:a=o}U-y[q-1]<y[q]-U&&w+1<q&&--q;var i=y[q]-G,l=T-i;if(D-L>k-R){var c=T?(L*l+D*i)/T:D;x(w,q,i,L,R,c,k),x(q,M,l,c,R,D,k)}else{var f=T?(R*l+k*i)/T:k;x(w,q,i,L,R,D,f),x(q,M,l,L,f,D,k)}}(0,d,e.value,r,t,n,s)}function fF(e,r,t,n,s){(1&e.depth?bl:ui)(e,r,t,n,s)}const dF=function e(r){function t(n,s,u,h,d){if((p=n._squarify)&&p.ratio===r)for(var p,y,x,w,T,M=-1,L=p.length,R=n.value;++M<L;){for(x=(y=p[M]).children,w=y.value=0,T=x.length;w<T;++w)y.value+=x[w].value;y.dice?ui(y,s,u,h,R?u+=(d-u)*y.value/R:d):bl(y,s,u,R?s+=(h-s)*y.value/R:h,d),R-=y.value}else n._squarify=p=Db(r,n,s,u,h,d),p.ratio=r}return t.ratio=function(n){return e((n=+n)>1?n:1)},t}(g1);var vF={field:"value",tile:"treemapSquarify",size:[1,1],round:!1,ignoreParentValue:!0,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,as:["x","y"],sort:function(e,r){return r.value-e.value},ratio:.5*(1+Math.sqrt(5))};function y1(e,r){var n,t=(r=(0,S.f0)({},vF,r)).as;if(!(0,S.kJ)(t)||2!==t.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{n=Zm(r)}catch(y){console.warn(y)}var y,s=function pF(e,r){return"treemapSquarify"===e?Ot[e].ratio(r):Ot[e]}(r.tile,r.ratio),h=(y=e,cF().tile(s).size(r.size).round(r.round).padding(r.padding).paddingInner(r.paddingInner).paddingOuter(r.paddingOuter).paddingTop(r.paddingTop).paddingRight(r.paddingRight).paddingBottom(r.paddingBottom).paddingLeft(r.paddingLeft)(Bc(y).sum(function(x){return r.ignoreParentValue&&x.children?0:x[n]}).sort(r.sort))),d=t[0],p=t[1];return h.each(function(y){y[d]=[y.x0,y.x1,y.x1,y.x0],y[p]=[y.y1,y.y1,y.y0,y.y0],["x0","x1","y0","y1"].forEach(function(x){-1===t.indexOf(x)&&delete y[x]})}),Tf(h)}function Bb(e){var t=e.colorField,n=e.rawFields,s=e.hierarchyConfig,u=void 0===s?{}:s,h=u.activeDepth,p=e.seriesField,y=e.type||"partition",x={partition:j8,treemap:y1}[y](e.data,(0,E.pi)((0,E.pi)({field:p||"value"},(0,S.CE)(u,["activeDepth"])),{type:"hierarchy.".concat(y),as:["x","y"]})),w=[];return x.forEach(function(M){var T,L,R,D,k,z;if(0===M.depth||h>0&&M.depth>h)return null;for(var G=M.data.name,U=(0,E.pi)({},M);U.depth>1;)G="".concat(null===(L=U.parent.data)||void 0===L?void 0:L.name," / ").concat(G),U=U.parent;var q=(0,E.pi)((0,E.pi)((0,E.pi)({},jr(M.data,(0,E.ev)((0,E.ev)([],n||[],!0),[u.field],!1))),((T={})[kf]=G,T[Ru]=U.data.name,T)),M);p&&(q[p]=M.data[p]||(null===(D=null===(R=M.parent)||void 0===R?void 0:R.data)||void 0===D?void 0:D[p])),t&&(q[t]=M.data[t]||(null===(z=null===(k=M.parent)||void 0===k?void 0:k.data)||void 0===z?void 0:z[t])),q.ext=u,q[Dc]={hierarchyConfig:u,colorField:t,rawFields:n},w.push(q)}),w}function gF(e){var w,r=e.chart,t=e.options,n=t.color,s=t.colorField,u=void 0===s?Ru:s,h=t.sunburstStyle,d=t.rawFields,p=void 0===d?[]:d,y=t.shape,x=Bb(t);return r.data(x),h&&(w=function(M){return $t({},{fillOpacity:Math.pow(.85,M.depth)},(0,S.mf)(h)?h(M):h)}),Tc($t({},e,{options:{xField:"x",yField:"y",seriesField:u,rawFields:(0,S.jj)((0,E.ev)((0,E.ev)([],Z8,!0),p,!0)),polygon:{color:n,style:w,shape:y}}})),e}function Pb(e){return e.chart.axis(!1),e}function yF(e){var n=e.options.label,s=mi(e.chart,"polygon");if(n){var u=n.fields,h=void 0===u?["name"]:u,d=n.callback,p=(0,E._T)(n,["fields","callback"]);s.label({fields:h,callback:d,cfg:Jn(p)})}else s.label(!1);return e}function mF(e){var t=e.options,u=t.reflect,h=e.chart.coordinate({type:"polar",cfg:{innerRadius:t.innerRadius,radius:t.radius}});return u&&h.reflect(u),e}function jB(e){var r,t=e.options;return vr(Sn({},((r={})[mn]=(0,S.U2)(t.meta,(0,S.U2)(t.hierarchyConfig,["field"],"value")),r)))(e)}function JB(e){var r=e.chart,n=e.options.tooltip;if(!1===n)r.tooltip(!1);else{var s=n;(0,S.U2)(n,"fields")||(s=$t({},{customItems:function(u){return u.map(function(h){var d=(0,S.U2)(r.getOptions(),"scales"),p=(0,S.U2)(d,[kf,"formatter"],function(x){return x}),y=(0,S.U2)(d,[mn,"formatter"],function(x){return x});return(0,E.pi)((0,E.pi)({},h),{name:p(h.data[kf]),value:y(h.data.value)})})}},s)),r.tooltip(s)}return e}function m1(e){var r=e.drilldown,t=e.interactions;return r?.enabled?$t({},e,{interactions:(0,E.ev)((0,E.ev)([],void 0===t?[]:t,!0),[{type:"drill-down",cfg:{drillDownConfig:r,transformData:Bb}}],!1)}):e}function zb(e){var r=e.chart,t=e.options,n=t.drilldown;return vn({chart:r,options:m1(t)}),n?.enabled&&(r.appendPadding=op(r.appendPadding,(0,S.U2)(n,["breadCrumb","position"]))),e}function xF(e){return vr(Gr,la("sunburstStyle"),gF,Pb,jB,gu,mF,JB,yF,zb,Ur,yn())(e)}function x1(e,r){if((0,S.kJ)(e))return e.find(function(t){return t.type===r})}function Tl(e,r){var t=x1(e,r);return t&&!1!==t.enable}function Gc(e){var r=e.interactions;return(0,S.U2)(e.drilldown,"enabled")||Tl(r,"treemap-drill-down")}function Pf(e){var r=e.data,t=e.colorField,n=e.enableDrillDown,s=e.hierarchyConfig,u=y1(r,(0,E.pi)((0,E.pi)({},s),{type:"hierarchy.treemap",field:"value",as:["x","y"]})),h=[];return u.forEach(function(d){if(0===d.depth||n&&1!==d.depth||!n&&d.children)return null;var p=d.ancestors().map(function(M){return{data:M.data,height:M.height,value:M.value}}),y=n&&(0,S.kJ)(r.path)?p.concat(r.path.slice(1)):p,x=Object.assign({},d.data,(0,E.pi)({x:d.x,y:d.y,depth:d.depth,value:d.value,path:y},d));if(!d.data[t]&&d.parent){var w=d.ancestors().find(function(M){return M.data[t]});x[t]=w?.data[t]}else x[t]=d.data[t];x[Dc]={hierarchyConfig:s,colorField:t,enableDrillDown:n},h.push(x)}),h}function wF(e){return $t({options:{rawFields:["value"],tooltip:{fields:["name","value",e.options.colorField,"path"],formatter:function(n){return{name:n.name,value:n.value}}}}},e)}function _F(e){var r=e.chart,t=e.options,n=t.color,s=t.colorField,u=t.rectStyle,h=t.hierarchyConfig,d=t.rawFields,p=Pf({data:t.data,colorField:t.colorField,enableDrillDown:Gc(t),hierarchyConfig:h});return r.data(p),Tc($t({},e,{options:{xField:"x",yField:"y",seriesField:s,rawFields:d,polygon:{color:n,style:u}}})),r.coordinate().reflect("y"),e}function SF(e){return e.chart.axis(!1),e}function MF(e){var r=e.drilldown,t=e.interactions,n=void 0===t?[]:t;return Gc(e)?$t({},e,{interactions:(0,E.ev)((0,E.ev)([],n,!0),[{type:"drill-down",cfg:{drillDownConfig:r,transformData:Pf}}],!1)}):e}function Al(e){var r=e.chart,t=e.options,n=t.interactions,s=t.drilldown;vn({chart:r,options:MF(t)});var u=x1(n,"view-zoom");return u&&(!1!==u.enable?r.getCanvas().on("mousewheel",function(d){d.preventDefault()}):r.getCanvas().off("mousewheel")),Gc(t)&&(r.appendPadding=op(r.appendPadding,(0,S.U2)(s,["breadCrumb","position"]))),e}function bF(e){return vr(wF,Gr,la("rectStyle"),_F,SF,gu,Yn,Al,Ur,yn())(e)}!function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="sunburst",t}(0,E.ZT)(r,e),r.getDefaultOptions=function(){return Eb},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return xF},r.SUNBURST_ANCESTOR_FIELD=Ru,r.SUNBURST_PATH_FIELD=kf,r.NODE_ANCESTORS_FIELD=kp}(Mr);var TF={colorField:"name",rectStyle:{lineWidth:1,stroke:"#fff"},hierarchyConfig:{tile:"treemapSquarify"},label:{fields:["name"],layout:{type:"limit-in-shape"}},tooltip:{showMarkers:!1,showTitle:!1},drilldown:{enabled:!1,breadCrumb:{position:"bottom-left",rootText:"\u521d\u59cb",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeTextStyle:{fill:"#87B5FF"}}}},Fs=(function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="treemap",t}(0,E.ZT)(r,e),r.getDefaultOptions=function(){return TF},r.prototype.changeData=function(t){var n=this.options,s=n.colorField,u=n.interactions,h=n.hierarchyConfig;this.updateOption({data:t});var d=Pf({data:t,colorField:s,enableDrillDown:Tl(u,"treemap-drill-down"),hierarchyConfig:h});this.chart.changeData(d),function CF(e){var r=e.interactions["drill-down"];r&&r.context.actions.find(function(n){return"drill-down-action"===n.name}).reset()}(this.chart)},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return bF}}(Mr),"id"),C1="path",AF={appendPadding:[10,0,20,0],blendMode:"multiply",tooltip:{showTitle:!1,showMarkers:!1,fields:["id","size"],formatter:function(e){return{name:e.id,value:e.size}}},legend:{position:"top-left"},label:{style:{textAlign:"center",fill:"#fff"}},interactions:[{type:"legend-filter",enable:!1}],state:{active:{style:{stroke:"#000"}},selected:{style:{stroke:"#000",lineWidth:2}},inactive:{style:{fillOpacity:.3,strokeOpacity:.3}}},defaultInteractions:["tooltip","venn-legend-active"]};function qp(e){e&&e.geometries[0].elements.forEach(function(t){t.shape.toFront()})}var EF=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.syncElementsPos=function(){qp(this.context.view)},r.prototype.active=function(){e.prototype.active.call(this),this.syncElementsPos()},r.prototype.toggle=function(){e.prototype.toggle.call(this),this.syncElementsPos()},r.prototype.reset=function(){e.prototype.reset.call(this),this.syncElementsPos()},r}(ac("element-active")),LF=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.syncElementsPos=function(){qp(this.context.view)},r.prototype.highlight=function(){e.prototype.highlight.call(this),this.syncElementsPos()},r.prototype.toggle=function(){e.prototype.toggle.call(this),this.syncElementsPos()},r.prototype.clear=function(){e.prototype.clear.call(this),this.syncElementsPos()},r.prototype.reset=function(){e.prototype.reset.call(this),this.syncElementsPos()},r}(ac("element-highlight")),IF=ac("element-selected"),OF=ac("element-single-selected"),QB=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.syncElementsPos=function(){qp(this.context.view)},r.prototype.selected=function(){e.prototype.selected.call(this),this.syncElementsPos()},r.prototype.toggle=function(){e.prototype.toggle.call(this),this.syncElementsPos()},r.prototype.reset=function(){e.prototype.reset.call(this),this.syncElementsPos()},r}(IF),RF=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.syncElementsPos=function(){qp(this.context.view)},r.prototype.selected=function(){e.prototype.selected.call(this),this.syncElementsPos()},r.prototype.toggle=function(){e.prototype.toggle.call(this),this.syncElementsPos()},r.prototype.reset=function(){e.prototype.reset.call(this),this.syncElementsPos()},r}(OF);rr("venn-element-active",EF),rr("venn-element-highlight",LF),rr("venn-element-selected",QB),rr("venn-element-single-selected",RF),wr("venn-element-active",{start:[{trigger:"element:mouseenter",action:"venn-element-active:active"}],end:[{trigger:"element:mouseleave",action:"venn-element-active:reset"}]}),wr("venn-element-highlight",{start:[{trigger:"element:mouseenter",action:"venn-element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"venn-element-highlight:reset"}]}),wr("venn-element-selected",{start:[{trigger:"element:click",action:"venn-element-selected:toggle"}],rollback:[{trigger:"dblclick",action:["venn-element-selected:reset"]}]}),wr("venn-element-single-selected",{start:[{trigger:"element:click",action:"venn-element-single-selected:toggle"}],rollback:[{trigger:"dblclick",action:["venn-element-single-selected:reset"]}]}),wr("venn-legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","venn-element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","venn-element-active:reset"]}]}),wr("venn-legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","venn-element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","venn-element-highlight:reset"]}]});var Wb=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getLabelPoint=function(t,n,s){var u=t.data,p=t.customLabelInfo;return{content:t.content[s],x:u.x+p.offsetX,y:u.y+p.offsetY}},r}(mv);Ma("venn",Wb);const Ub=Array.isArray;var Fu="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",DF=new RegExp("([a-z])["+Fu+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+Fu+"]*,?["+Fu+"]*)+)","ig"),kF=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+Fu+"]*,?["+Fu+"]*","ig");Math,Xr("schema","venn",{draw:function(e,r){var n=function Yb(e){if(!e)return null;if(Ub(e))return e;var r={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},t=[];return String(e).replace(DF,function(n,s,u){var h=[],d=s.toLowerCase();if(u.replace(kF,function(p,y){y&&h.push(+y)}),"m"===d&&h.length>2&&(t.push([s].concat(h.splice(0,2))),d="l",s="m"===s?"l":"L"),"o"===d&&1===h.length&&t.push([s,h[0]]),"r"===d)t.push([s].concat(h));else for(;h.length>=r[d]&&(t.push([s].concat(h.splice(0,r[d]))),r[d]););return""}),t}(e.data[C1]),s=function Jb(e){return $t({},e.defaultStyle,{fill:e.color},e.style)}(e),u=r.addGroup({name:"venn-shape"});u.addShape("path",{attrs:(0,E.pi)((0,E.pi)({},s),{path:n}),name:"venn-path"});var h=e.customInfo,y=sa.transform(null,[["t",h.offsetX,h.offsetY]]);return u.setMatrix(y),u},getMarker:function(e){var r=e.color;return{symbol:"circle",style:{lineWidth:0,stroke:r,fill:r,r:4}}}});var Hf={normal:function(e){return e},multiply:function(e,r){return e*r/255},screen:function(e,r){return 255*(1-(1-e/255)*(1-r/255))},overlay:function(e,r){return r<128?2*e*r/255:255*(1-2*(1-e/255)*(1-r/255))},darken:function(e,r){return e>r?r:e},lighten:function(e,r){return e>r?e:r},dodge:function(e,r){return 255===e||(e=r/255*255/(1-e/255))>255?255:e},burn:function(e,r){return 255===r?255:0===e?0:255*(1-Math.min(1,(1-r/255)/(e/255)))}};function Qp(e){var t,r=e.replace("/s+/g","");return"string"!=typeof r||r.startsWith("rgba")||r.startsWith("#")?(r.startsWith("rgba")&&(t=r.replace("rgba(","").replace(")","").split(",")),r.startsWith("#")&&(t=is.rgb2arr(r).concat([1])),t.map(function(n,s){return 3===s?Number(n):0|n})):t=is.rgb2arr(is.toRGB(r)).concat([1])}var Ci=ut(6948),Kb=1e-10;function t0(e,r){var h,t=function WF(e){for(var r=[],t=0;t<e.length;++t)for(var n=t+1;n<e.length;++n)for(var s=Qb(e[t],e[n]),u=0;u<s.length;++u){var h=s[u];h.parentIndex=[t,n],r.push(h)}return r}(e),n=t.filter(function(o){return function GF(e,r){for(var t=0;t<r.length;++t)if(fo(e,r[t])>r[t].radius+Kb)return!1;return!0}(o,e)}),s=0,u=0,d=[];if(n.length>1){var p=tT(n);for(h=0;h<n.length;++h){var y=n[h];y.angle=Math.atan2(y.x-p.x,y.y-p.y)}n.sort(function(o,i){return i.angle-o.angle});var x=n[n.length-1];for(h=0;h<n.length;++h){var w=n[h];u+=(x.x+w.x)*(w.y-x.y);for(var M={x:(w.x+x.x)/2,y:(w.y+x.y)/2},T=null,L=0;L<w.parentIndex.length;++L)if(x.parentIndex.indexOf(w.parentIndex[L])>-1){var R=e[w.parentIndex[L]],D=Math.atan2(w.x-R.x,w.y-R.y),k=Math.atan2(x.x-R.x,x.y-R.y),z=k-D;z<0&&(z+=2*Math.PI);var G=k-z/2,U=fo(M,{x:R.x+R.radius*Math.sin(G),y:R.y+R.radius*Math.cos(G)});U>2*R.radius&&(U=2*R.radius),(null===T||T.width>U)&&(T={circle:R,width:U,p1:w,p2:x})}null!==T&&(d.push(T),s+=A1(T.circle.radius,T.width),x=w)}}else{var q=e[0];for(h=1;h<e.length;++h)e[h].radius<q.radius&&(q=e[h]);var a=!1;for(h=0;h<e.length;++h)if(fo(e[h],q)>Math.abs(q.radius-e[h].radius)){a=!0;break}a?s=u=0:(s=q.radius*q.radius*Math.PI,d.push({circle:q,p1:{x:q.x,y:q.y+q.radius},p2:{x:q.x-Kb,y:q.y+q.radius},width:2*q.radius}))}return u/=2,r&&(r.area=s+u,r.arcArea=s,r.polygonArea=u,r.arcs=d,r.innerPoints=n,r.intersectionPoints=t),s+u}function A1(e,r){return e*e*Math.acos(1-r/e)-(e-r)*Math.sqrt(r*(2*e-r))}function fo(e,r){return Math.sqrt((e.x-r.x)*(e.x-r.x)+(e.y-r.y)*(e.y-r.y))}function E1(e,r,t){if(t>=e+r)return 0;if(t<=Math.abs(e-r))return Math.PI*Math.min(e,r)*Math.min(e,r);var s=r-(t*t-e*e+r*r)/(2*t);return A1(e,e-(t*t-r*r+e*e)/(2*t))+A1(r,s)}function Qb(e,r){var t=fo(e,r),n=e.radius,s=r.radius;if(t>=n+s||t<=Math.abs(n-s))return[];var u=(n*n-s*s+t*t)/(2*t),h=Math.sqrt(n*n-u*u),d=e.x+u*(r.x-e.x)/t,p=e.y+u*(r.y-e.y)/t,y=h/t*-(r.y-e.y),x=h/t*-(r.x-e.x);return[{x:d+y,y:p-x},{x:d-y,y:p+x}]}function tT(e){for(var r={x:0,y:0},t=0;t<e.length;++t)r.x+=e[t].x,r.y+=e[t].y;return r.x/=e.length,r.y/=e.length,r}function L1(e,r,t){var s,u,n=r[0].radius-fo(r[0],e);for(s=1;s<r.length;++s)(u=r[s].radius-fo(r[s],e))<=n&&(n=u);for(s=0;s<t.length;++s)(u=fo(t[s],e)-t[s].radius)<=n&&(n=u);return n}function I1(e,r){var n,t=[];for(n=0;n<e.length;++n){var s=e[n];t.push({x:s.x,y:s.y}),t.push({x:s.x+s.radius/2,y:s.y}),t.push({x:s.x-s.radius/2,y:s.y}),t.push({x:s.x,y:s.y+s.radius/2}),t.push({x:s.x,y:s.y-s.radius/2})}var u=t[0],h=L1(t[0],e,r);for(n=1;n<t.length;++n){var d=L1(t[n],e,r);d>=h&&(u=t[n],h=d)}var p=(0,Ci.nelderMead)(function(M){return-1*L1({x:M[0],y:M[1]},e,r)},[u.x,u.y],{maxIterations:500,minErrorDelta:1e-10}).x,y={x:p[0],y:p[1]},x=!0;for(n=0;n<e.length;++n)if(fo(y,e[n])>e[n].radius){x=!1;break}for(n=0;n<r.length;++n)if(fo(y,r[n])<r[n].radius){x=!1;break}if(!x)if(1==e.length)y={x:e[0].x,y:e[0].y};else{var w={};t0(e,w),y=0===w.arcs.length?{x:0,y:-1e3,disjoint:!0}:1==w.arcs.length?{x:w.arcs[0].circle.x,y:w.arcs[0].circle.y}:r.length?I1(e,[]):tT(w.arcs.map(function(M){return M.p1}))}return y}var rT=1e-10;function e0(e,r,t){return Math.min(e,r)*Math.min(e,r)*Math.PI<=t+rT?Math.abs(e-r):(0,Ci.bisect)(function(n){return E1(e,r,n)-t},0,e+r)}function ZF(e,r){var t=function qF(e,r){for(var u,t=r&&r.lossFunction?r.lossFunction:Yc,n={},s={},h=0;h<e.length;++h){var d=e[h];1==d.sets.length&&(n[u=d.sets[0]]={x:1e10,y:1e10,rowid:Object.keys(n).length,size:d.size,radius:Math.sqrt(d.size/Math.PI)},s[u]=[])}for(e=e.filter(function(b){return 2==b.sets.length}),h=0;h<e.length;++h){var p=e[h],y=p.hasOwnProperty("weight")?p.weight:1,x=p.sets[0],w=p.sets[1];p.size+rT>=Math.min(n[x].size,n[w].size)&&(y=0),s[x].push({set:w,size:p.size,weight:y}),s[w].push({set:x,size:p.size,weight:y})}var M=[];for(u in s)if(s.hasOwnProperty(u)){var T=0;for(h=0;h<s[u].length;++h)T+=s[u][h].size*s[u][h].weight;M.push({set:u,size:T})}function L(b,A){return A.size-b.size}M.sort(L);var R={};function D(b){return b.set in R}function k(b,A){n[A].x=b.x,n[A].y=b.y,R[A]=!0}for(k({x:0,y:0},M[0].set),h=1;h<M.length;++h){var z=M[h].set,G=s[z].filter(D);if(u=n[z],G.sort(L),0===G.length)throw"ERROR: missing pairwise overlap information";for(var U=[],q=0;q<G.length;++q){var a=n[G[q].set],o=e0(u.radius,a.radius,G[q].size);U.push({x:a.x+o,y:a.y}),U.push({x:a.x-o,y:a.y}),U.push({y:a.y+o,x:a.x}),U.push({y:a.y-o,x:a.x});for(var i=q+1;i<G.length;++i)for(var l=n[G[i].set],c=e0(u.radius,l.radius,G[i].size),f=Qb({x:a.x,y:a.y,radius:o},{x:l.x,y:l.y,radius:c}),v=0;v<f.length;++v)U.push(f[v])}var g=1e50,m=U[0];for(q=0;q<U.length;++q){n[z].x=U[q].x,n[z].y=U[q].y;var _=t(n,e);_<g&&(g=_,m=U[q])}k(m,z)}return n}(e,r),n=r.lossFunction||Yc;if(e.length>=8){var s=function iT(e,r){var u,t=(r=r||{}).restarts||10,n=[],s={};for(u=0;u<e.length;++u){var h=e[u];1==h.sets.length&&(s[h.sets[0]]=n.length,n.push(h))}var d=function $F(e,r,t){var n=(0,Ci.zerosM)(r.length,r.length),s=(0,Ci.zerosM)(r.length,r.length);return e.filter(function(u){return 2==u.sets.length}).map(function(u){var h=t[u.sets[0]],d=t[u.sets[1]],x=e0(Math.sqrt(r[h].size/Math.PI),Math.sqrt(r[d].size/Math.PI),u.size);n[h][d]=n[d][h]=x;var w=0;u.size+1e-10>=Math.min(r[h].size,r[d].size)?w=1:u.size<=1e-10&&(w=-1),s[h][d]=s[d][h]=w}),{distances:n,constraints:s}}(e,n,s),p=d.distances,y=d.constraints,x=(0,Ci.norm2)(p.map(Ci.norm2))/p.length;p=p.map(function(z){return z.map(function(G){return G/x})});var M,T,w=function(z,G){return function nT(e,r,t,n){var u,s=0;for(u=0;u<r.length;++u)r[u]=0;for(u=0;u<t.length;++u)for(var h=e[2*u],d=e[2*u+1],p=u+1;p<t.length;++p){var y=e[2*p],x=e[2*p+1],w=t[u][p],M=n[u][p],T=(y-h)*(y-h)+(x-d)*(x-d),L=Math.sqrt(T),R=T-w*w;M>0&&L<=w||M<0&&L>=w||(s+=2*R*R,r[2*u]+=4*R*(h-y),r[2*u+1]+=4*R*(d-x),r[2*p]+=4*R*(y-h),r[2*p+1]+=4*R*(x-d))}return s}(z,G,p,y)};for(u=0;u<t;++u){var L=(0,Ci.zeros)(2*p.length).map(Math.random);T=(0,Ci.conjugateGradient)(w,L,r),(!M||T.fx<M.fx)&&(M=T)}var R=M.x,D={};for(u=0;u<n.length;++u){var k=n[u];D[k.sets[0]]={x:R[2*u]*x,y:R[2*u+1]*x,radius:Math.sqrt(k.size/Math.PI)}}if(r.history)for(u=0;u<r.history.length;++u)(0,Ci.scale)(r.history[u].x,x);return D}(e,r);n(s,e)+1e-8<n(t,e)&&(t=s)}return t}function Yc(e,r){for(var t=0,s=0;s<r.length;++s){var u=r[s],h=void 0;if(1!=u.sets.length){if(2==u.sets.length){var d=e[u.sets[0]],p=e[u.sets[1]];h=E1(d.radius,p.radius,fo(d,p))}else h=t0(u.sets.map(function(w){return e[w]}));t+=(u.hasOwnProperty("weight")?u.weight:1)*(h-u.size)*(h-u.size)}}return t}var O1=(0,S.HP)(function(e,r,t,n){var s=new Map,u=e.length;return r.forEach(function(h,d){if(1===h[n].length)s.set(h[Fs],e[(d+u)%u]);else{var p=h[n].map(function(y){return s.get(y)});s.set(h[Fs],p.slice(1).reduce(function(y,x){return function Kp(e,r,t){void 0===t&&(t="normal");var n=function(e){return function(r,t){var n=[];return n[0]=e(r[0],t[0]),n[1]=e(r[1],t[1]),n[2]=e(r[2],t[2]),n}}(function(e){if(!Hf[e])throw new Error("unknown blend mode "+e);return Hf[e]}(t))(Qp(e),Qp(r)),s=Qp(e),u=s[0],h=s[1],d=s[2],p=s[3],y=Qp(r),x=y[0],w=y[1],M=y[2],T=y[3],L=Number((p+T*(1-p)).toFixed(2)),R=Math.round((p*(1-T)*(u/255)+p*T*(n[0]/255)+(1-p)*T*(x/255))/L*255),D=Math.round((p*(1-T)*(h/255)+p*T*(n[1]/255)+(1-p)*T*(w/255))/L*255),k=Math.round((p*(1-T)*(d/255)+p*T*(n[2]/255)+(1-p)*T*(M/255))/L*255);return"rgba(".concat(R,", ").concat(D,", ").concat(k,", ").concat(L,")")}(y,x,t)},p[0]))}}),s},function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return JSON.stringify(e)});function JF(e,r,t,n){void 0===n&&(n=0);var s=e.data,u=e.setsField,h=e.sizeField;if(0===s.length)return fn(qa.WARN,!1,"warn: %s","\u6570\u636e\u4e0d\u80fd\u4e3a\u7a7a"),[];var d=s.map(function(w){var M;return(0,E.pi)((0,E.pi)({},w),((M={sets:w[u]||[],size:w[h]})[C1]="",M[Fs]="",M))});d.sort(function(w,M){return w.sets.length-M.sets.length});var p=function XF(e,r){(r=r||{}).maxIterations=r.maxIterations||500;var t=r.initialLayout||ZF,n=r.lossFunction||Yc;e=function r0(e){e=e.slice();var n,s,u,h,r=[],t={};for(n=0;n<e.length;++n){var d=e[n];1==d.sets.length?r.push(d.sets[0]):2==d.sets.length&&(t[[u=d.sets[0],h=d.sets[1]]]=!0,t[[h,u]]=!0)}for(r.sort(function(p,y){return p>y?1:-1}),n=0;n<r.length;++n)for(u=r[n],s=n+1;s<r.length;++s)[u,h=r[s]]in t||e.push({sets:[u,h],size:0});return e}(e);var d,s=t(e,r),u=[],h=[];for(d in s)s.hasOwnProperty(d)&&(u.push(s[d].x),u.push(s[d].y),h.push(d));for(var y=(0,Ci.nelderMead)(function(w){for(var M={},T=0;T<h.length;++T){var L=h[T];M[L]={x:w[2*T],y:w[2*T+1],radius:s[L].radius}}return n(M,e)},u,r).x,x=0;x<h.length;++x)s[d=h[x]].x=y[2*x],s[d].y=y[2*x+1];return s}(d),y=function jF(e,r,t,n){var s=[],u=[];for(var h in e)e.hasOwnProperty(h)&&(u.push(h),s.push(e[h]));r-=2*n,t-=2*n;var d=function a0(e){var r=function(t){return{max:Math.max.apply(null,e.map(function(u){return u[t]+u.radius})),min:Math.min.apply(null,e.map(function(u){return u[t]-u.radius}))}};return{xRange:r("x"),yRange:r("y")}}(s),p=d.xRange,y=d.yRange;if(p.max==p.min||y.max==y.min)return console.log("not scaling solution: zero size detected"),e;for(var M=Math.min(t/(y.max-y.min),r/(p.max-p.min)),T=(r-(p.max-p.min)*M)/2,L=(t-(y.max-y.min)*M)/2,R={},D=0;D<s.length;++D){var k=s[D];R[u[D]]={radius:M*k.radius,x:n+T+(k.x-p.min)*M,y:n+L+(k.y-y.min)*M}}return R}(p,r,t,n),x=function YF(e,r){for(var t={},n=function UF(e){var r={},t=[];for(var n in e)t.push(n),r[n]=[];for(var s=0;s<t.length;s++)for(var u=e[t[s]],h=s+1;h<t.length;++h){var d=e[t[h]],p=fo(u,d);p+d.radius<=u.radius+1e-10?r[t[h]].push(t[s]):p+u.radius<=d.radius+1e-10&&r[t[s]].push(t[h])}return r}(e),s=0;s<r.length;++s){for(var u=r[s].sets,h={},d={},p=0;p<u.length;++p){h[u[p]]=!0;for(var y=n[u[p]],x=0;x<y.length;++x)d[y[x]]=!0}var w=[],M=[];for(var T in e)T in h?w.push(e[T]):T in d||M.push(e[T]);var L=I1(w,M);t[u]=L,L.disjoint&&r[s].size>0&&console.log("WARNING: area "+u+" not represented on screen")}return t}(y,d);return d.forEach(function(w){var M=w.sets,T=M.join(",");w[Fs]=T;var R=function eT(e){var r={};t0(e,r);var t=r.arcs;if(0===t.length)return"M 0 0";if(1==t.length){var n=t[0].circle;return function VF(e,r,t){var n=[],s=e-t,u=r;return n.push("M",s,u),n.push("A",t,t,0,1,0,s+2*t,u),n.push("A",t,t,0,1,0,s,u),n.join(" ")}(n.x,n.y,n.radius)}for(var s=["\nM",t[0].p2.x,t[0].p2.y],u=0;u<t.length;++u){var h=t[u],d=h.circle.radius;s.push("\nA",d,d,0,h.width>d?1:0,1,h.p1.x,h.p1.y)}return s.join(" ")}(M.map(function(k){return y[k]}));/[zZ]$/.test(R)||(R+=" Z"),w[C1]=R,(0,S.f0)(w,x[T]||{x:0,y:0})}),d}var QF=40;function oT(e,r,t){var s=e.options,u=s.blendMode,h=s.setsField,d=e.chart.getTheme(),p=d.colors10,y=d.colors20,x=t;(0,S.kJ)(x)||(x=r.filter(function(M){return 1===M[h].length}).length<=10?p:y);var w=O1(x,r,u,h);return function(M){return w.get(M)||x[0]}}function R1(e){var r=e.chart,t=e.options,n=t.legend,s=t.appendPadding,u=t.padding,h=hl(s);return!1!==n&&(h=op(s,(0,S.U2)(n,"position"),QF)),r.appendPadding=am([h,u]),e}function sT(e){var t=e.options.data;t||(fn(qa.WARN,!1,"warn: %s","\u6570\u636e\u4e0d\u80fd\u4e3a\u7a7a"),t=[]);var n=t.filter(function(u){return 1===u.sets.length}).map(function(u){return u.sets[0]}),s=t.filter(function(u){return function KF(e,r){for(var t=0;t<r.length;t++)if(!e.includes(r[t]))return!1;return!0}(n,u.sets)});return(0,S.Xy)(s,t)||fn(qa.WARN,!1,"warn: %s","\u4ea4\u96c6\u4e2d\u4e0d\u80fd\u51fa\u73b0\u4e0d\u5b58\u5728\u7684\u96c6\u5408, \u8bf7\u8f93\u5165\u5408\u6cd5\u6570\u636e"),(0,S.b$)({},e,{options:{data:s}})}function tD(e){var r=e.chart,t=e.options,n=t.pointStyle,s=t.setsField,u=t.sizeField,h=hl(r.appendPadding),d=h[0],y=h[2],x=h[3],w={offsetX:x,offsetY:d},M=r.viewBBox,L=M.height,R=JF(t,Math.max(M.width-(h[1]+x),0),Math.max(L-(d+y),0),0);r.data(R);var k=pf($t({},e,{options:{xField:"x",yField:"y",sizeField:u,seriesField:Fs,rawFields:[s,u],schema:{shape:"venn",style:n}}})).ext.geometry;k.customInfo(w);var z=function i7(e,r){var n=e.options.color;if("function"!=typeof n){var u=oT(e,r,"string"==typeof n?[n]:n);return function(h){return u(h[Fs])}}return n}(e,R);return"function"==typeof z&&k.color(Fs,function(G){var U=R.find(function(a){return a[Fs]===G}),q=oT(e,R)(G);return z(U,q)}),e}function eD(e){var r=e.chart,n=e.options.label,s=hl(r.appendPadding),d={offsetX:s[3],offsetY:s[0]},p=mi(r,"schema");if(n){var y=n.callback,x=(0,E._T)(n,["callback"]);p.label({fields:["id"],callback:y,cfg:(0,S.b$)({},Jn(x),{type:"venn",customLabelInfo:d})})}else p.label(!1);return e}function rD(e){var r=e.chart,t=e.options,s=t.sizeField;return r.legend(Fs,t.legend),r.legend(s,!1),e}function ks(e){return e.chart.axis(!1),e}function nD(e){var t=e.chart,n=e.options.interactions;if(n){var s={"legend-active":"venn-legend-active","legend-highlight":"venn-legend-highlight"};vn($t({},e,{options:{interactions:n.map(function(u){return(0,E.pi)((0,E.pi)({},u),{type:s[u.type]||u.type})})}}))}return t.removeInteraction("legend-active"),t.removeInteraction("legend-highlight"),e}function F1(e){return vr(R1,Gr,sT,tD,eD,Sn({}),rD,ks,Yn,nD,Ur)(e)}!function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="venn",t}(0,E.ZT)(r,e),r.getDefaultOptions=function(){return AF},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return F1},r.prototype.triggerResize=function(){this.chart.destroyed||(this.chart.forceFit(),this.chart.clear(),this.execAdaptor(),this.chart.render(!0))}}(Mr);var wi="x",da="violinY",D1="violinSize",Gf="minMax",Wf="quantile",o0="median",s0="violin_view",Bs="min_max_view",Rr="quantile_view",l0="median_view",El=$t({},Mr.getDefaultOptions(),{syncViewPadding:!0,kde:{type:"triangular",sampleSize:32,width:3},violinStyle:{lineWidth:1,fillOpacity:.3,strokeOpacity:.75},xAxis:{grid:{line:null},tickLine:{alignTick:!1}},yAxis:{grid:{line:{style:{lineWidth:.5,lineDash:[4,4]}}}},legend:{position:"top-left"},tooltip:{showMarkers:!1}}),lT=ut(4319),uT=ut.n(lT);function k1(e,r){var t=e.length*r;if(0===e.length)throw new Error("quantile requires at least one data point.");if(r<0||r>1)throw new Error("quantiles must be between 0 and 1");return 1===r?e[e.length-1]:0===r?e[0]:t%1!=0?e[Math.ceil(t)-1]:e.length%2==0?(e[t-1]+e[t])/2:e[t]}function Zn(e,r,t){var n=e[r];e[r]=e[t],e[t]=n}function zn(e,r,t,n){for(t=t||0,n=n||e.length-1;n>t;){if(n-t>600){var s=n-t+1,u=r-t+1,h=Math.log(s),d=.5*Math.exp(2*h/3),p=.5*Math.sqrt(h*d*(s-d)/s);u-s/2<0&&(p*=-1),zn(e,r,Math.max(t,Math.floor(r-u*d/s+p)),Math.min(n,Math.floor(r+(s-u)*d/s+p)))}var w=e[r],M=t,T=n;for(Zn(e,t,r),e[n]>w&&Zn(e,t,n);M<T;){for(Zn(e,M,T),M++,T--;e[M]<w;)M++;for(;e[T]>w;)T--}e[t]===w?Zn(e,t,T):Zn(e,++T,n),T<=r&&(t=T+1),r<=T&&(n=T-1)}}function Uf(e,r){var t=e.slice();if(Array.isArray(r)){!function aD(e,r){for(var t=[0],n=0;n<r.length;n++)t.push(Ja(e.length,r[n]));t.push(e.length-1),t.sort(hT);for(var s=[0,t.length-1];s.length;){var u=Math.ceil(s.pop()),h=Math.floor(s.pop());if(!(u-h<=1)){var d=Math.floor((h+u)/2);cT(e,t[d],Math.floor(t[h]),Math.ceil(t[u])),s.push(h,d,d,u)}}}(t,r);for(var n=[],s=0;s<r.length;s++)n[s]=k1(t,r[s]);return n}return cT(t,Ja(t.length,r),0,t.length-1),k1(t,r)}function cT(e,r,t,n){r%1==0?zn(e,r,t,n):(zn(e,r=Math.floor(r),t,n),zn(e,r+1,r+1,n))}function hT(e,r){return e-r}function Ja(e,r){var t=e*r;return 1===r?e-1:0===r?0:t%1!=0?Math.ceil(t)-1:e%2==0?t-.5:t}var br=function(e){return{low:(0,S.VV)(e),high:(0,S.Fp)(e),q1:Uf(e,.25),q3:Uf(e,.75),median:Uf(e,[.5]),minMax:[(0,S.VV)(e),(0,S.Fp)(e)],quantile:[Uf(e,.25),Uf(e,.75)]}},fT=function(e,r){var t=uT().create(e,r);return{violinSize:t.map(function(n){return n.y}),violinY:t.map(function(n){return n.x})}},dT=function(e){var r=e.xField,t=e.yField,n=e.seriesField,s=e.data,u=e.kde,h={min:u.min,max:u.max,size:u.sampleSize,width:u.width};if(!n){var d=(0,S.vM)(s,r);return Object.keys(d).map(function(x){var M=d[x].map(function(T){return T[t]});return(0,E.pi)((0,E.pi)({x},fT(M,h)),br(M))})}var p=[],y=(0,S.vM)(s,n);return Object.keys(y).forEach(function(x){var w=(0,S.vM)(y[x],r);return Object.keys(w).forEach(function(M){var T,R=w[M].map(function(D){return D[t]});p.push((0,E.pi)((0,E.pi)(((T={x:M})[n]=x,T),fT(R,h)),br(R)))})}),p},Vc=["low","high","q1","q3","median"],Re=[{type:"dodge",marginRatio:1/32}];function _i(e){return e.chart.data(dT(e.options)),e}function va(e){var t=e.options,n=t.seriesField,s=t.color,u=t.shape,h=void 0===u?"violin":u,d=t.violinStyle,p=t.tooltip,y=t.state,x=e.chart.createView({id:s0});return function yI(e){var r=e.options,t=r.violin,u=r.seriesField,p=ua(r.tooltip,[r.xField,r.yField,u,r.sizeField]);t&&Bi($t({},e,{options:{type:"violin",colorField:u,tooltipFields:p.fields,mapping:(0,E.pi)({tooltip:p.formatter},t)}}))}({chart:x,options:{xField:wi,yField:da,seriesField:n||wi,sizeField:D1,tooltip:(0,E.pi)({fields:Vc},p),violin:{style:d,color:s,shape:h},state:y}}),x.geometries[0].adjust(Re),e}function Yf(e){var r=e.chart,t=e.options,n=t.seriesField,s=t.color,u=t.tooltip,h=t.box;if(!1===h)return e;var d=r.createView({id:Bs});ai({chart:d,options:{xField:wi,yField:Gf,seriesField:n||wi,tooltip:(0,E.pi)({fields:Vc},u),state:"object"==typeof h?h.state:{},interval:{color:s,size:1,style:{lineWidth:0}}}}),d.geometries[0].adjust(Re);var p=r.createView({id:Rr});ai({chart:p,options:{xField:wi,yField:Wf,seriesField:n||wi,tooltip:(0,E.pi)({fields:Vc},u),state:"object"==typeof h?h.state:{},interval:{color:s,size:8,style:{fillOpacity:1}}}}),p.geometries[0].adjust(Re);var y=r.createView({id:l0});return ca({chart:y,options:{xField:wi,yField:o0,seriesField:n||wi,tooltip:(0,E.pi)({fields:Vc},u),state:"object"==typeof h?h.state:{},point:{color:s,size:1,style:{fill:"white",lineWidth:0}}}}),y.geometries[0].adjust(Re),p.axis(!1),d.axis(!1),y.axis(!1),y.legend(!1),d.legend(!1),p.legend(!1),e}function u0(e){var r,t=e.chart,n=e.options,h=n.yAxis,p=$t({},n.meta,((r={})[wi]=(0,E.pi)((0,E.pi)({sync:!0},jr(n.xAxis,ki)),{type:"cat"}),r[da]=(0,E.pi)({sync:!0},jr(h,ki)),r[Gf]=(0,E.pi)({sync:da},jr(h,ki)),r[Wf]=(0,E.pi)({sync:da},jr(h,ki)),r[o0]=(0,E.pi)({sync:da},jr(h,ki)),r));return t.scale(p),e}function oD(e){var r=e.chart,t=e.options,n=t.xAxis,s=t.yAxis,u=Lr(r,s0);return u.axis(wi,!1!==n&&n),u.axis(da,!1!==s&&s),r.axis(!1),e}function xn(e){var r=e.chart,t=e.options,n=t.legend,s=t.seriesField,u=t.shape;if(!1===n)r.legend(!1);else{var h=s||wi,d=(0,S.CE)(n,["selected"]);(!u||!u.startsWith("hollow"))&&((0,S.U2)(d,["marker","style","lineWidth"])||(0,S.t8)(d,["marker","style","lineWidth"],0)),r.legend(h,d),(0,S.U2)(n,"selected")&&(0,S.S6)(r.views,function(p){return p.legend(h,n)})}return e}function mr(e){var t=Lr(e.chart,s0);return yn()((0,E.pi)((0,E.pi)({},e),{chart:t})),e}function Xo(e){var n=e.options.animation;return(0,S.S6)(e.chart.views,function(s){hf(s,n)}),e}function c0(e){return vr(Gr,_i,va,Yf,u0,Yn,oD,xn,vn,mr,Xo)(e)}!function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="violin",t}(0,E.ZT)(r,e),r.getDefaultOptions=function(){return El},r.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(dT(this.options))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return c0}}(Mr);var Nn="$$yField$$",Vf="$$diffField$$",$o="$$absoluteField$$",h0="$$isTotal$$",vT={label:{},leaderLine:{style:{lineWidth:1,stroke:"#8c8c8c",lineDash:[4,2]}},total:{style:{fill:"rgba(0, 0, 0, 0.25)"}},interactions:[{type:"element-active"}],risingFill:"#f4664a",fallingFill:"#30bf78",waterfallStyle:{fill:"rgba(0, 0, 0, 0.25)"},yAxis:{grid:{line:{style:{lineDash:[4,2]}}}}};function z1(e,r,t,n){var s=function Ll(e,r,t,n,s){var u,h=[];if((0,S.u4)(e,function(p,y){var x;fn(qa.WARN,(0,S.hj)(y[t]),"".concat(y[t]," is not a valid number"));var w=(0,S.o8)(y[t])?null:y[t];return h.push((0,E.pi)((0,E.pi)({},y),((x={})[n]=[p,p+w],x))),p+w},0),h.length&&s){var d=(0,S.U2)(h,[[e.length-1],n,[1]]);h.push(((u={})[r]=s.label,u[t]=d,u[n]=[0,d],u))}return h}(e,r,t,Nn,n);return s.map(function(u,h){var d;return(0,S.Kn)(u)?(0,E.pi)((0,E.pi)({},u),((d={})[$o]=u[Nn][1],d[Vf]=u[Nn][1]-u[Nn][0],d[h0]=h===e.length,d)):u})}function N1(e){var r=e.options,n=r.total,s=fp(r.locale).get(["waterfall","total"]);return n&&"string"!=typeof n.label&&s&&(e.options.total.label=s),e}function sD(e){var t=e.options,s=t.xField,u=t.yField,h=t.total,d=t.leaderLine,p=t.columnWidthRatio,y=t.waterfallStyle,x=t.risingFill,w=t.fallingFill,M=t.color,T=t.shape,L=t.customInfo;return e.chart.data(z1(t.data,s,u,h)),ai($t({},e,{options:{xField:s,yField:Nn,seriesField:s,rawFields:[u,Vf,h0,Nn],widthRatio:p,interval:{style:y,shape:T||"waterfall",color:M||function(G){return(0,S.U2)(G,[h0])?(0,S.U2)(h,["style","fill"],""):(0,S.U2)(G,[Nn,1])-(0,S.U2)(G,[Nn,0])>0?x:w}}}})).ext.geometry.customInfo((0,E.pi)((0,E.pi)({},L),{leaderLine:d})),e}function lD(e){var r,t,n=e.options,s=n.xAxis,u=n.yAxis,h=n.xField,d=n.yField,p=n.meta,y=$t({},{alias:d},(0,S.U2)(p,d));return vr(Sn(((r={})[h]=s,r[d]=u,r[Nn]=u,r),$t({},p,((t={})[Nn]=y,t[Vf]=y,t[$o]=y,t))))(e)}function Xc(e){var r=e.chart,t=e.options,n=t.xAxis,s=t.yAxis,h=t.yField;return r.axis(t.xField,!1!==n&&n),!1===s?(r.axis(h,!1),r.axis(Nn,!1)):(r.axis(h,s),r.axis(Nn,s)),e}function f0(e){var r=e.chart,t=e.options,n=t.legend,s=t.total,u=t.risingFill,h=t.fallingFill,p=fp(t.locale);if(!1===n)r.legend(!1);else{var y=[{name:p.get(["general","increase"]),value:"increase",marker:{symbol:"square",style:{r:5,fill:u}}},{name:p.get(["general","decrease"]),value:"decrease",marker:{symbol:"square",style:{r:5,fill:h}}}];s&&y.push({name:s.label||"",value:"total",marker:{symbol:"square",style:$t({},{r:5},(0,S.U2)(s,"style"))}}),r.legend($t({},{custom:!0,position:"top",items:y},n)),r.removeInteraction("legend-filter")}return e}function gT(e){var t=e.options,n=t.label,s=t.labelMode,u=t.xField,h=mi(e.chart,"interval");if(n){var d=n.callback,p=(0,E._T)(n,["callback"]);h.label({fields:"absolute"===s?[$o,u]:[Vf,u],callback:d,cfg:Jn(p)})}else h.label(!1);return e}function H1(e){var r=e.chart,t=e.options,n=t.tooltip,s=t.xField,u=t.yField;if(!1!==n){r.tooltip((0,E.pi)({showCrosshairs:!1,showMarkers:!1,shared:!0,fields:[u]},n));var h=r.geometries[0];n?.formatter?h.tooltip("".concat(s,"*").concat(u),n.formatter):h.tooltip(u)}else r.tooltip(!1);return e}function yT(e){return vr(N1,Gr,sD,lD,Xc,f0,H1,gT,fl,vn,Ur,yn())(e)}Xr("interval","waterfall",{draw:function(e,r){var t=e.customInfo,n=e.points,s=e.nextPoints,u=r.addGroup(),h=this.parsePath(function pT(e){for(var r=[],t=0;t<e.length;t++){var n=e[t];n&&r.push([0===t?"M":"L",n.x,n.y])}var u=e[0];return r.push(["L",u.x,u.y]),r.push(["z"]),r}(n)),d=function P1(e){return $t({},e.defaultStyle,e.style,{fill:e.color})}(e);u.addShape("path",{attrs:(0,E.pi)((0,E.pi)({},d),{path:h})});var p=(0,S.U2)(t,"leaderLine");if(p&&s){var y=[["M",n[2].x,n[2].y],["L",s[0].x,s[0].y]];n[2].y===s[1].y&&(y[1]=["L",s[1].x,s[1].y]),y=this.parsePath(y),u.addShape("path",{attrs:(0,E.pi)({path:y},p.style||{})})}return u}});var uD=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="waterfall",t}return(0,E.ZT)(r,e),r.getDefaultOptions=function(){return vT},r.prototype.changeData=function(t){var n=this.options,s=n.xField,u=n.yField,h=n.total;this.updateOption({data:t}),this.chart.changeData(z1(t,s,u,h))},r.prototype.getSchemaAdaptor=function(){return yT},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r}(Mr),G1="color",cD=$t({},Mr.getDefaultOptions(),{timeInterval:2e3,legend:!1,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!1,fields:["text","value",G1],formatter:function(e){return{name:e.text,value:e.value}}},wordStyle:{fontFamily:"Verdana",fontWeight:"normal",padding:1,fontSize:[12,60],rotation:[0,90],rotationSteps:2,rotateRatio:.5}}),hD={font:function(){return"serif"},padding:1,size:[500,500],spiral:"archimedean",timeInterval:3e3};function fD(e,r){return function dD(e,r){var t=function MD(){var e=[256,256],r=pD,t=gD,n=mT,s=yD,u=mD,h=CT,d=Math.random,p=[],y=1/0,x=vD,w=mT,M=_D,T={};function R(D,k,z){for(var i,c,f,G=k.x,U=k.y,q=Math.sqrt(e[0]*e[0]+e[1]*e[1]),a=h(e),o=d()<.5?1:-1,l=-o;(i=a(l+=o))&&(c=~~i[0],f=~~i[1],!(Math.min(Math.abs(c),Math.abs(f))>=q));)if(k.x=G+c,k.y=U+f,!(k.x+k.x0<0||k.y+k.y0<0||k.x+k.x1>e[0]||k.y+k.y1>e[1])&&(!z||!xD(k,D,e[0]))&&(!z||wD(k,z))){for(var v=k.sprite,g=k.width>>5,m=e[0]>>5,_=k.x-(g<<4),b=127&_,A=32-b,I=k.y1-k.y0,O=void 0,F=(k.y+k.y0)*m+(_>>5),B=0;B<I;B++){O=0;for(var P=0;P<=g;P++)D[F+P]|=O<<A|(P<g?(O=v[B*g+P])>>>b:0);F+=m}return delete k.sprite,!0}return!1}return T.start=function(){var D=e[0],k=e[1],z=function L(D){D.width=D.height=1;var k=Math.sqrt(D.getContext("2d",{willReadFrequently:!0}).getImageData(0,0,1,1).data.length>>2);D.width=(Xf<<5)/k,D.height=d0/k;var z=D.getContext("2d",{willReadFrequently:!0});return z.fillStyle=z.strokeStyle="red",z.textAlign="center",{context:z,ratio:k}}(M()),G=T.board?T.board:_T((e[0]>>5)*e[1]),U=p.length,q=[],a=p.map(function(c,f,v){return c.text=x.call(this,c,f,v),c.font=r.call(this,c,f,v),c.style=w.call(this,c,f,v),c.weight=n.call(this,c,f,v),c.rotate=s.call(this,c,f,v),c.size=~~t.call(this,c,f,v),c.padding=u.call(this,c,f,v),c}).sort(function(c,f){return f.size-c.size}),o=-1,i=T.board?[{x:0,y:0},{x:D,y:k}]:null;return function l(){for(var c=Date.now();Date.now()-c<y&&++o<U;){var f=a[o];f.x=D*(d()+.5)>>1,f.y=k*(d()+.5)>>1,xT(z,f,a,o),f.hasText&&R(G,f,i)&&(q.push(f),i?T.hasImage||CD(i,f):i=[{x:f.x+f.x0,y:f.y+f.y0},{x:f.x+f.x1,y:f.y+f.y1}],f.x-=e[0]>>1,f.y-=e[1]>>1)}T._tags=q,T._bounds=i}(),T},T.createMask=function(D){var k=document.createElement("canvas"),z=e[0],G=e[1];if(z&&G){var U=z>>5,q=_T((z>>5)*G);k.width=z,k.height=G;var a=k.getContext("2d");a.drawImage(D,0,0,D.width,D.height,0,0,z,G);for(var o=a.getImageData(0,0,z,G).data,i=0;i<G;i++)for(var l=0;l<z;l++){var f=i*z+l<<2;q[U*i+(l>>5)]|=o[f]>=250&&o[f+1]>=250&&o[f+2]>=250?1<<31-l%32:0}T.board=q,T.hasImage=!0}},T.timeInterval=function(D){y=D??1/0},T.words=function(D){p=D},T.size=function(D){e=[+D[0],+D[1]]},T.font=function(D){r=Zo(D)},T.fontWeight=function(D){n=Zo(D)},T.rotate=function(D){s=Zo(D)},T.spiral=function(D){h=SD[D]||D},T.fontSize=function(D){t=Zo(D)},T.padding=function(D){u=Zo(D)},T.random=function(D){d=Zo(D)},T}();["font","fontSize","fontWeight","padding","rotate","size","spiral","timeInterval","random"].forEach(function(p){(0,S.UM)(r[p])||t[p](r[p])}),t.words(e),r.imageMask&&t.createMask(r.imageMask);var s=t.start()._tags;s.forEach(function(p){p.x+=r.size[0]/2,p.y+=r.size[1]/2});var u=r.size,h=u[0],d=u[1];return s.push({text:"",value:0,x:0,y:0,opacity:0}),s.push({text:"",value:0,x:h,y:d,opacity:0}),s}(e,r=(0,S.f0)({},hD,r))}var W1=Math.PI/180,Xf=64,d0=2048;function vD(e){return e.text}function pD(){return"serif"}function mT(){return"normal"}function gD(e){return e.value}function yD(){return 90*~~(2*Math.random())}function mD(){return 1}function xT(e,r,t,n){if(!r.sprite){var s=e.context,u=e.ratio;s.clearRect(0,0,(Xf<<5)/u,d0/u);var h=0,d=0,p=0,y=t.length;for(--n;++n<y;){r=t[n],s.save(),s.font=r.style+" "+r.weight+" "+~~((r.size+1)/u)+"px "+r.font;var x=s.measureText(r.text+"m").width*u,w=r.size<<1;if(r.rotate){var M=Math.sin(r.rotate*W1),T=Math.cos(r.rotate*W1),L=x*T,R=x*M,D=w*T,k=w*M;x=Math.max(Math.abs(L+k),Math.abs(L-k))+31>>5<<5,w=~~Math.max(Math.abs(R+D),Math.abs(R-D))}else x=x+31>>5<<5;if(w>p&&(p=w),h+x>=Xf<<5&&(h=0,d+=p,p=0),d+w>=d0)break;s.translate((h+(x>>1))/u,(d+(w>>1))/u),r.rotate&&s.rotate(r.rotate*W1),s.fillText(r.text,0,0),r.padding&&(s.lineWidth=2*r.padding,s.strokeText(r.text,0,0)),s.restore(),r.width=x,r.height=w,r.xoff=h,r.yoff=d,r.x1=x>>1,r.y1=w>>1,r.x0=-r.x1,r.y0=-r.y1,r.hasText=!0,h+=x}for(var z=s.getImageData(0,0,(Xf<<5)/u,d0/u).data,G=[];--n>=0;)if((r=t[n]).hasText){for(var U=(x=r.width)>>5,q=(w=r.y1-r.y0,0);q<w*U;q++)G[q]=0;if(null==(h=r.xoff))return;d=r.yoff;for(var a=0,o=-1,i=0;i<w;i++){for(q=0;q<x;q++){var c=z[(d+i)*(Xf<<5)+(h+q)<<2]?1<<31-q%32:0;G[U*i+(q>>5)]|=c,a|=c}a?o=i:(r.y0++,w--,i--,d++)}r.y1=r.y0+o,r.sprite=G.slice(0,(r.y1-r.y0)*U)}}}function xD(e,r,t){for(var x,n=e.sprite,s=e.width>>5,u=e.x-(s<<4),h=127&u,d=32-h,p=e.y1-e.y0,y=(e.y+e.y0)*(t>>=5)+(u>>5),w=0;w<p;w++){x=0;for(var M=0;M<=s;M++)if((x<<d|(M<s?(x=n[w*s+M])>>>h:0))&r[y+M])return!0;y+=t}return!1}function CD(e,r){var t=e[0],n=e[1];r.x+r.x0<t.x&&(t.x=r.x+r.x0),r.y+r.y0<t.y&&(t.y=r.y+r.y0),r.x+r.x1>n.x&&(n.x=r.x+r.x1),r.y+r.y1>n.y&&(n.y=r.y+r.y1)}function wD(e,r){return e.x+e.x1>r[0].x&&e.x+e.x0<r[1].x&&e.y+e.y1>r[0].y&&e.y+e.y0<r[1].y}function CT(e){var r=e[0]/e[1];return function(t){return[r*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function _T(e){for(var r=[],t=-1;++t<e;)r[t]=0;return r}function _D(){return document.createElement("canvas")}function Zo(e){return(0,S.mf)(e)?e:function(){return e}}var SD={archimedean:CT,rectangular:function wT(e){var t=4*e[0]/e[1],n=0,s=0;return function(u){var h=u<0?-1:1;switch(Math.sqrt(1+4*h*u)-h&3){case 0:n+=t;break;case 1:s+=4;break;case 2:n-=t;break;default:s-=4}return[n,s]}}};function ST(e){var r=e.options,t=e.chart,s=t.width,u=t.height,h=t.padding,d=t.appendPadding,p=t.ele,y=r.data,x=r.imageMask,w=r.wordField,M=r.weightField,T=r.colorField,L=r.wordStyle,R=r.timeInterval,D=r.random,k=r.spiral,z=r.autoFit,G=void 0===z||z,U=r.placementStrategy;if(!y||!y.length)return[];var q=L.fontFamily,a=L.fontWeight,o=L.padding,i=L.fontSize,l=function LD(e,r){return e.map(function(t){return t[r]}).filter(function(t){return"number"==typeof t&&!isNaN(t)})}(y,M),c=[RD(l),FD(l)],f=y.map(function(m){return{text:m[w],value:m[M],color:m[T],datum:m}}),v={imageMask:x,font:q,fontSize:ED(i,c),fontWeight:a,size:bD({width:s,height:u,padding:h,appendPadding:d,autoFit:G,container:p}),padding:o,timeInterval:R,random:D,spiral:k,rotate:ID(r)};if((0,S.mf)(U)){var g=f.map(function(m,_,b){return(0,E.pi)((0,E.pi)((0,E.pi)({},m),{hasText:!!m.text,font:Zo(v.font)(m,_,b),weight:Zo(v.fontWeight)(m,_,b),rotate:Zo(v.rotate)(m,_,b),size:Zo(v.fontSize)(m,_,b),style:"normal"}),U.call(t,m,_,b))});return g.push({text:"",value:0,x:0,y:0,opacity:0}),g.push({text:"",value:0,x:v.size[0],y:v.size[1],opacity:0}),g}return fD(f,v)}function bD(e){var r=e.width,t=e.height,u=e.padding,h=e.appendPadding;if(e.autoFit){var d=nm(e.container);r=d.width,t=d.height}r=r||400,t=t||400;var p=function TD(e){var r=hl(e.padding),t=hl(e.appendPadding);return[r[0]+t[0],r[1]+t[1],r[2]+t[2],r[3]+t[3]]}({padding:u,appendPadding:h});return[r-(p[3]+p[1]),t-(p[0]+p[2])]}function ED(e,r){if((0,S.mf)(e))return e;if((0,S.kJ)(e)){var t=e[0],n=e[1];if(!r)return function(){return(n+t)/2};var s=r[0],u=r[1];return u===s?function(){return(n+t)/2}:function(d){return(n-t)/(u-s)*(d.value-s)+t}}return function(){return e}}function ID(e){var r=function OD(e){var r=e.wordStyle.rotationSteps;return r<1&&(fn(qa.WARN,!1,"The rotationSteps option must be greater than or equal to 1."),r=1),{rotation:e.wordStyle.rotation,rotationSteps:r}}(e),t=r.rotation,n=r.rotationSteps;if(!(0,S.kJ)(t))return t;var s=t[0],u=t[1],h=1===n?0:(u-s)/(n-1);return function(){return u===s?u:Math.floor(Math.random()*n)*h}}function RD(e){return Math.min.apply(Math,e)}function FD(e){return Math.max.apply(Math,e)}function DD(e){var r=e.chart,t=e.options,n=t.colorField,s=t.color,u=ST(e);return r.data(u),ca($t({},e,{options:{xField:"x",yField:"y",seriesField:n&&G1,rawFields:(0,S.mf)(s)&&(0,E.ev)((0,E.ev)([],(0,S.U2)(t,"rawFields",[]),!0),["datum"],!1),point:{color:s,shape:"word-cloud"}}})).ext.geometry.label(!1),r.coordinate().reflect("y"),r.axis(!1),e}function kD(e){return vr(Sn({x:{nice:!1},y:{nice:!1}}))(e)}function BD(e){var r=e.chart,t=e.options,n=t.legend,s=t.colorField;return!1===n?r.legend(!1):s&&r.legend(G1,n),e}function PD(e){vr(DD,kD,Yn,BD,vn,Ur,Gr,fl)(e)}function zD(e){return{fontSize:e.data.size,text:e.data.text,textAlign:"center",fontFamily:e.data.font,fontWeight:e.data.weight,fill:e.color||e.defaultStyle.stroke,textBaseline:"alphabetic"}}Xr("point","word-cloud",{draw:function(e,r){var t=e.x,n=e.y,s=r.addShape("text",{attrs:(0,E.pi)((0,E.pi)({},zD(e)),{x:t,y:n})}),u=e.data.rotate;return"number"==typeof u&&sa.rotate(s,u*Math.PI/180),s}});var vo=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="word-cloud",t}return(0,E.ZT)(r,e),r.getDefaultOptions=function(){return cD},r.prototype.changeData=function(t){this.updateOption({data:t}),this.options.imageMask?this.render():this.chart.changeData(ST({chart:this.chart,options:this.options}))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.render=function(){var t=this;return new Promise(function(n){var s=t.options.imageMask;if(!s)return e.prototype.render.call(t),void n();var u=function(h){t.options=(0,E.pi)((0,E.pi)({},t.options),{imageMask:h||null}),e.prototype.render.call(t),n()};(function AD(e){return new Promise(function(r,t){if(e instanceof HTMLImageElement)r(e);else{if((0,S.HD)(e)){var n=new Image;return n.crossOrigin="anonymous",n.src=e,n.onload=function(){r(n)},void(n.onerror=function(){fn(qa.ERROR,!1,"image %s load failed !!!",e),t()})}fn(qa.WARN,void 0===e,"The type of imageMask option must be String or HTMLImageElement."),t()}})})(s).then(u).catch(u)})},r.prototype.getSchemaAdaptor=function(){return PD},r.prototype.triggerResize=function(){var t=this;this.chart.destroyed||(this.execAdaptor(),window.setTimeout(function(){e.prototype.triggerResize.call(t)}))},r}(Mr);!function(e){function r(t,n,s,u){var h=e.call(this,t,$t({},u,n))||this;return h.type="g2-plot",h.defaultOptions=u,h.adaptor=s,h}(0,E.ZT)(r,e),r.prototype.getDefaultOptions=function(){return this.defaultOptions},r.prototype.getSchemaAdaptor=function(){return this.adaptor}}(Mr),cS("en-US",{locale:"en-US",general:{increase:"Increase",decrease:"Decrease",root:"Root"},statistic:{total:"Total"},conversionTag:{label:"Rate"},legend:{},tooltip:{},slider:{},scrollbar:{},waterfall:{total:"Total"}}),cS("zh-CN",{locale:"zh-CN",general:{increase:"\u589e\u52a0",decrease:"\u51cf\u5c11",root:"\u521d\u59cb"},statistic:{total:"\u603b\u8ba1"},conversionTag:{label:"\u8f6c\u5316\u7387"},legend:{},tooltip:{},slider:{},scrollbar:{},waterfall:{total:"\u603b\u8ba1"}});var bT=ut(8345),Zf=ut(174),HD=ut(4913);const TT=["*"];let U1=(()=>{class e{get marginValue(){return-this.gutter/2}constructor(t){t.attach(this,"sg",{gutter:32,col:2})}}return e.\u0275fac=function(t){return new(t||e)(C.Y36(HD.Ri))},e.\u0275cmp=C.Xpm({type:e,selectors:[["sg-container"],["","sg-container",""]],hostVars:8,hostBindings:function(t,n){2&t&&(C.Udp("margin-left",n.marginValue,"px")("margin-right",n.marginValue,"px"),C.ekj("ant-row",!0)("sg__wrap",!0))},inputs:{gutter:"gutter",colInCon:["sg-container","colInCon"],col:"col"},exportAs:["sgContainer"],ngContentSelectors:TT,decls:1,vars:0,template:function(t,n){1&t&&(C.F$t(),C.Hsn(0))},encapsulation:2,changeDetection:0}),(0,E.gn)([(0,Zf.Rn)()],e.prototype,"gutter",void 0),(0,E.gn)([(0,Zf.Rn)(null)],e.prototype,"colInCon",void 0),(0,E.gn)([(0,Zf.Rn)(null)],e.prototype,"col",void 0),e})(),AT=(()=>{class e{get paddingValue(){return this.parent.gutter/2}constructor(t,n,s,u){if(this.ren=n,this.parent=s,this.rep=u,this.clsMap=[],this.inited=!1,this.col=null,null==s)throw new Error("[sg] must include 'sg-container' component");this.el=t.nativeElement}setClass(){const{el:t,ren:n,clsMap:s,col:u,parent:h}=this;return s.forEach(d=>n.removeClass(t,d)),s.length=0,s.push(...this.rep.genCls(u??(h.colInCon||h.col)),"sg__item"),s.forEach(d=>n.addClass(t,d)),this}ngOnChanges(){this.inited&&this.setClass()}ngAfterViewInit(){this.setClass(),this.inited=!0}}return e.\u0275fac=function(t){return new(t||e)(C.Y36(C.SBq),C.Y36(C.Qsj),C.Y36(U1,9),C.Y36(be.kz))},e.\u0275cmp=C.Xpm({type:e,selectors:[["sg"]],hostVars:4,hostBindings:function(t,n){2&t&&C.Udp("padding-left",n.paddingValue,"px")("padding-right",n.paddingValue,"px")},inputs:{col:"col"},exportAs:["sg"],features:[C.TTD],ngContentSelectors:TT,decls:1,vars:0,template:function(t,n){1&t&&(C.F$t(),C.Hsn(0))},encapsulation:2,changeDetection:0}),(0,E.gn)([(0,Zf.Rn)(null)],e.prototype,"col",void 0),e})(),v0=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=C.oAB({type:e}),e.\u0275inj=C.cJS({imports:[St.ez]}),e})();var WD=ut(3353);let p0=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=C.oAB({type:e}),e.\u0275inj=C.cJS({imports:[St.ez]}),e})();const IT=function(e){return{$implicit:e}};function UD(e,r){if(1&e&&C.GkF(0,3),2&e){const t=C.oxw();C.Q6J("ngTemplateOutlet",t.nzValueTemplate)("ngTemplateOutletContext",C.VKq(2,IT,t.nzValue))}}function YD(e,r){if(1&e&&(C.TgZ(0,"span",6),C._uU(1),C.qZA()),2&e){const t=C.oxw(2);C.xp6(1),C.Oqu(t.displayInt)}}function VD(e,r){if(1&e&&(C.TgZ(0,"span",7),C._uU(1),C.qZA()),2&e){const t=C.oxw(2);C.xp6(1),C.Oqu(t.displayDecimal)}}function OT(e,r){if(1&e&&(C.ynx(0),C.YNc(1,YD,2,1,"span",4),C.YNc(2,VD,2,1,"span",5),C.BQk()),2&e){const t=C.oxw();C.xp6(1),C.Q6J("ngIf",t.displayInt),C.xp6(1),C.Q6J("ngIf",t.displayDecimal)}}function XD(e,r){if(1&e&&(C.ynx(0),C._uU(1),C.BQk()),2&e){const t=C.oxw();C.xp6(1),C.Oqu(t.nzTitle)}}function $D(e,r){if(1&e&&(C.ynx(0),C._uU(1),C.BQk()),2&e){const t=C.oxw(2);C.xp6(1),C.Oqu(t.nzPrefix)}}function ZD(e,r){if(1&e&&(C.TgZ(0,"span",6),C.YNc(1,$D,2,1,"ng-container",1),C.qZA()),2&e){const t=C.oxw();C.xp6(1),C.Q6J("nzStringTemplateOutlet",t.nzPrefix)}}function qD(e,r){if(1&e&&(C.ynx(0),C._uU(1),C.BQk()),2&e){const t=C.oxw(2);C.xp6(1),C.Oqu(t.nzSuffix)}}function jD(e,r){if(1&e&&(C.TgZ(0,"span",7),C.YNc(1,qD,2,1,"ng-container",1),C.qZA()),2&e){const t=C.oxw();C.xp6(1),C.Q6J("nzStringTemplateOutlet",t.nzSuffix)}}let Y1=(()=>{class e{constructor(t){this.locale_id=t,this.displayInt="",this.displayDecimal=""}ngOnChanges(){this.formatNumber()}formatNumber(){const t="number"==typeof this.nzValue?".":(0,St.dv)(this.locale_id,St.wE.Decimal),n=String(this.nzValue),[s,u]=n.split(t);this.displayInt=s,this.displayDecimal=u?`${t}${u}`:""}}return e.\u0275fac=function(t){return new(t||e)(C.Y36(C.soG))},e.\u0275cmp=C.Xpm({type:e,selectors:[["nz-statistic-number"]],inputs:{nzValue:"nzValue",nzValueTemplate:"nzValueTemplate"},exportAs:["nzStatisticNumber"],features:[C.TTD],decls:3,vars:2,consts:[[1,"ant-statistic-content-value"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","ant-statistic-content-value-int",4,"ngIf"],["class","ant-statistic-content-value-decimal",4,"ngIf"],[1,"ant-statistic-content-value-int"],[1,"ant-statistic-content-value-decimal"]],template:function(t,n){1&t&&(C.TgZ(0,"span",0),C.YNc(1,UD,1,4,"ng-container",1),C.YNc(2,OT,3,2,"ng-container",2),C.qZA()),2&t&&(C.xp6(1),C.Q6J("ngIf",n.nzValueTemplate),C.xp6(1),C.Q6J("ngIf",!n.nzValueTemplate))},dependencies:[St.O5,St.tP],encapsulation:2,changeDetection:0}),e})(),JD=(()=>{class e{constructor(t,n){this.cdr=t,this.directionality=n,this.nzValueStyle={},this.dir="ltr",this.destroy$=new ye.x}ngOnInit(){this.directionality.change?.pipe((0,ie.R)(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(C.Y36(C.sBO),C.Y36(Ct.Is,8))},e.\u0275cmp=C.Xpm({type:e,selectors:[["nz-statistic"]],hostAttrs:[1,"ant-statistic"],hostVars:2,hostBindings:function(t,n){2&t&&C.ekj("ant-statistic-rtl","rtl"===n.dir)},inputs:{nzPrefix:"nzPrefix",nzSuffix:"nzSuffix",nzTitle:"nzTitle",nzValue:"nzValue",nzValueStyle:"nzValueStyle",nzValueTemplate:"nzValueTemplate"},exportAs:["nzStatistic"],decls:6,vars:6,consts:[[1,"ant-statistic-title"],[4,"nzStringTemplateOutlet"],[1,"ant-statistic-content",3,"ngStyle"],["class","ant-statistic-content-prefix",4,"ngIf"],[3,"nzValue","nzValueTemplate"],["class","ant-statistic-content-suffix",4,"ngIf"],[1,"ant-statistic-content-prefix"],[1,"ant-statistic-content-suffix"]],template:function(t,n){1&t&&(C.TgZ(0,"div",0),C.YNc(1,XD,2,1,"ng-container",1),C.qZA(),C.TgZ(2,"div",2),C.YNc(3,ZD,2,1,"span",3),C._UZ(4,"nz-statistic-number",4),C.YNc(5,jD,2,1,"span",5),C.qZA()),2&t&&(C.xp6(1),C.Q6J("nzStringTemplateOutlet",n.nzTitle),C.xp6(1),C.Q6J("ngStyle",n.nzValueStyle),C.xp6(1),C.Q6J("ngIf",n.nzPrefix),C.xp6(1),C.Q6J("nzValue",n.nzValue)("nzValueTemplate",n.nzValueTemplate),C.xp6(1),C.Q6J("ngIf",n.nzSuffix))},dependencies:[St.O5,St.PC,Yt.f,Y1],encapsulation:2,changeDetection:0}),e})(),QD=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=C.oAB({type:e}),e.\u0275inj=C.cJS({imports:[Ct.vT,St.ez,WD.ud,Yt.T,p0]}),e})();var o7=ut(9805);const tk=["s2t"];let ek=(()=>{class e{constructor(){}ngOnInit(){}ngAfterViewInit(){this.s2=new o7.HZt(this.chartTable.nativeElement,{data:[],fields:{}},null),this.s2.render()}render(t){let n=[],s=[];if(t&&t.length>0)for(let h in t[0])n.push({field:h,name:h}),s.push(h);this.s2.setDataCfg({data:t,fields:{columns:s},meta:n,showDefaultHeaderActionIcon:!0}),this.onResize(),this.s2.setThemeCfg({name:"gray"}),this.s2.render(!0)}onResize(){if(this.s2){let t=this.chartTable.nativeElement;this.s2.changeSheetSize(t.offsetWidth,t.offsetHeight),this.s2.render(!1)}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=C.Xpm({type:e,selectors:[["erupt-chart-table"]],viewQuery:function(t,n){if(1&t&&C.Gf(tk,5),2&t){let s;C.iGM(s=C.CRH())&&(n.chartTable=s.first)}},hostBindings:function(t,n){1&t&&C.NdJ("resize",function(u){return n.onResize(u)},!1,C.Jf7)},decls:2,vars:0,consts:[[2,"width","100%","height","100%"],["s2t",""]],template:function(t,n){1&t&&C._UZ(0,"div",0,1)},styles:["[_nghost-%COMP%]     table{width:100%}[_nghost-%COMP%]     table tr{transition:all .3s,height 0s}[_nghost-%COMP%]     table tr td, [_nghost-%COMP%]     table tr th{padding:8px;color:#000000a6;font-size:14px;line-height:1;border:1px solid #e8e8e8}"]}),e})();const rk=["chartTable"],g0=function(e){return{height:e}};function V1(e,r){if(1&e&&(C.ynx(0),C.TgZ(1,"div",5),C._UZ(2,"i",6),C.qZA(),C.BQk()),2&e){const t=C.oxw();C.xp6(1),C.Q6J("id",t.chart.code)("ngStyle",C.VKq(2,g0,t.chart.height+"px"))}}const nk=function(e){return{height:e,paddingTop:"1px"}};function ik(e,r){if(1&e&&(C.ynx(0),C._UZ(1,"erupt-iframe",10),C.BQk()),2&e){const t=C.oxw(2);C.xp6(1),C.Akn(C.VKq(3,nk,t.chart.height+"px")),C.Q6J("url",t.src)}}function Il(e,r){if(1&e&&(C.ynx(0),C.TgZ(1,"div",11),C._UZ(2,"erupt-chart-table",null,12),C.qZA(),C.BQk()),2&e){const t=C.oxw(2);C.xp6(1),C.Q6J("ngStyle",C.VKq(1,g0,t.chart.height+"px"))}}function X1(e,r){if(1&e&&(C.ynx(0),C.TgZ(1,"sg"),C._UZ(2,"nz-statistic",16),C.qZA(),C.BQk()),2&e){const t=r.$implicit,n=C.oxw(3);C.xp6(2),C.Q6J("nzValue",t[n.dataKeys[0]]||0)("nzTitle",t[n.dataKeys[1]])("nzValueStyle",n.chart.chartOption)}}function FT(e,r){if(1&e&&(C.ynx(0),C.TgZ(1,"div",13)(2,"div",14),C.YNc(3,X1,3,3,"ng-container",15),C.qZA()(),C.BQk()),2&e){const t=C.oxw(2);C.xp6(2),C.s9C("sg-container",t.data.length),C.xp6(1),C.Q6J("ngForOf",t.data)}}function ak(e,r){if(1&e&&(C.ynx(0),C._UZ(1,"div",17),C.BQk()),2&e){const t=C.oxw(2);C.xp6(1),C.Q6J("id",t.chart.code)("ngStyle",C.VKq(2,g0,t.chart.height+"px"))}}function $1(e,r){if(1&e&&(C.ynx(0,7),C.YNc(1,ik,2,5,"ng-container",8),C.YNc(2,Il,4,3,"ng-container",8),C.YNc(3,FT,4,2,"ng-container",8),C.YNc(4,ak,2,4,"ng-container",9),C.BQk()),2&e){const t=C.oxw();C.Q6J("ngSwitch",t.chart.type),C.xp6(1),C.Q6J("ngSwitchCase",t.chartType.tpl),C.xp6(1),C.Q6J("ngSwitchCase",t.chartType.table),C.xp6(1),C.Q6J("ngSwitchCase",t.chartType.Number)}}function qf(e,r){if(1&e){const t=C.EpF();C.ynx(0),C.TgZ(1,"i",19),C.NdJ("click",function(){C.CHM(t);const s=C.oxw(2);return C.KtG(s.downloadChart())}),C.qZA(),C._uU(2," \xa0"),C._UZ(3,"nz-divider",20),C._uU(4,"\xa0 "),C.BQk()}}function DT(e,r){if(1&e){const t=C.EpF();C.YNc(0,qf,5,0,"ng-container",2),C.TgZ(1,"i",18),C.NdJ("click",function(){C.CHM(t);const s=C.oxw();return C.KtG(s.update(!0))}),C.qZA()}if(2&e){const t=C.oxw();C.Q6J("ngIf",t.plot)}}const Z1=function(){return{padding:"0"}};let ok=(()=>{class e{constructor(t,n,s,u){this.ref=t,this.biDataService=n,this.handlerService=s,this.msg=u,this.buildDimParam=new C.vpe,this.chartType=pt,this.ready=!0,this.data=[],this.dataKeys=[]}ngOnInit(){this.chart.chartOption&&(this.chart.chartOption=JSON.parse(this.chart.chartOption)),this.init()}init(){let t=this.handlerService.buildDimParam(this.bi,!1);for(let n of this.bi.dimensions)if(n.notNull&&(!t||null===t[n.code]))return void(this.ready=!1);this.ready=!0,this.chart.type==pt.tpl?this.src=this.biDataService.getChartTpl(this.chart.id,this.bi.code,t):(this.chart.loading=!0,this.biDataService.getBiChart(this.bi.code,this.chart.id,t).subscribe(n=>{this.chart.loading=!1,this.chart.type==pt.Number?(n[0]&&(this.dataKeys=Object.keys(n[0])),this.data=n):this.chart.type==pt.table?this.chartTable.render(n):this.render(n)}))}ngOnDestroy(){this.plot&&this.plot.destroy()}update(t){this.handlerService.buildDimParam(this.bi,!0),this.plot?(t&&(this.chart.loading=!0),this.biDataService.getBiChart(this.bi.code,this.chart.id,this.handlerService.buildDimParam(this.bi)).subscribe(n=>{this.chart.loading&&(this.chart.loading=!1),this.plot.changeData(n)})):this.init()}downloadChart(){this.plot||this.init();let n=this.ref.nativeElement.querySelector("#"+this.chart.code).querySelector("canvas").toDataURL("image/png"),s=document.createElement("a");if("download"in s){s.style.visibility="hidden",s.href=n,s.download=this.chart.name,document.body.appendChild(s);let u=document.createEvent("MouseEvents");u.initEvent("click",!0,!0),s.dispatchEvent(u),document.body.removeChild(s)}else window.open(n)}render(t){this.plot&&(this.plot.destroy(),this.plot=null);let n=Object.keys(t[0]),s=n[0],u=n[1],h=n[2],d=n[3],p={data:t,xField:s,yField:u,slider:{},appendPadding:16,legend:{position:"bottom"}};switch(this.chart.chartOption&&Object.assign(p,this.chart.chartOption),this.chart.type){case pt.Line:this.plot=new Em(this.chart.code,Object.assign(p,{seriesField:h}));break;case pt.StepLine:this.plot=new Em(this.chart.code,Object.assign(p,{seriesField:h,stepType:"vh"}));break;case pt.Bar:this.plot=new ym(this.chart.code,Object.assign(p,{seriesField:h}));break;case pt.PercentStackedBar:this.plot=new ym(this.chart.code,Object.assign(p,{stackField:h,isPercent:!0,isStack:!0}));break;case pt.Waterfall:this.plot=new uD(this.chart.code,Object.assign(p,{legend:!1,label:{style:{fontSize:10},layout:[{type:"interval-adjust-position"}]}}));break;case pt.Column:this.plot=new mm(this.chart.code,Object.assign(p,{isGroup:!0,seriesField:h}));break;case pt.StackedColumn:this.plot=new mm(this.chart.code,Object.assign(p,{isStack:!0,seriesField:h,slider:{}}));break;case pt.Area:this.plot=new cm(this.chart.code,Object.assign(p,{seriesField:h}));break;case pt.PercentageArea:this.plot=new cm(this.chart.code,Object.assign(p,{seriesField:h,isPercent:!0}));break;case pt.Pie:this.plot=new Om(this.chart.code,Object.assign(p,{angleField:u,colorField:s}));break;case pt.Ring:this.plot=new Om(this.chart.code,Object.assign(p,{angleField:u,colorField:s,innerRadius:.6,radius:1}));break;case pt.Rose:this.plot=new gb(this.chart.code,Object.assign(p,{seriesField:h,isGroup:!!h,radius:.9,label:{offset:-15},interactions:[{type:"element-active"}]}));break;case pt.Funnel:this.plot=new FS(this.chart.code,Object.assign(p,{seriesField:h,appendPadding:[12,38],shape:"pyramid"}));break;case pt.Radar:this.plot=new fa(this.chart.code,Object.assign(p,{seriesField:h,point:{size:2},xAxis:{line:null,tickLine:null,grid:{line:{style:{lineDash:null}}}},yAxis:{line:null,tickLine:null,grid:{line:{type:"line",style:{lineDash:null}},alternateColor:"rgba(0, 0, 0, 0.04)"}},area:{}}));break;case pt.Scatter:this.plot=new km(this.chart.code,Object.assign(p,{colorField:h,shape:"circle",brush:{enabled:!0},yAxis:{nice:!0,line:{style:{stroke:"#aaa"}}},xAxis:{line:{style:{stroke:"#aaa"}}}}));break;case pt.Bubble:this.plot=new km(this.chart.code,Object.assign(p,{colorField:h,sizeField:d,size:[3,36],shape:"circle",brush:{enabled:!0}}));break;case pt.WordCloud:this.plot=new vo(this.chart.code,Object.assign(p,{wordField:s,weightField:u,colorField:h,wordStyle:{}}));break;case pt.Sankey:this.plot=new d1(this.chart.code,Object.assign(p,{sourceField:s,weightField:u,targetField:h,nodeDraggable:!0,nodeWidthRatio:.008,nodePaddingRatio:.03}));break;case pt.Chord:this.plot=new NR(this.chart.code,Object.assign(p,{sourceField:s,weightField:u,targetField:h}));break;case pt.RadialBar:this.plot=new vb(this.chart.code,Object.assign(p,{colorField:h,isStack:!0,maxAngle:270}))}this.plot&&this.plot.render()}}return e.\u0275fac=function(t){return new(t||e)(C.Y36(C.SBq),C.Y36(Mt),C.Y36(zt),C.Y36(dt.dD))},e.\u0275cmp=C.Xpm({type:e,selectors:[["bi-chart"]],viewQuery:function(t,n){if(1&t&&C.Gf(rk,5),2&t){let s;C.iGM(s=C.CRH())&&(n.chartTable=s.first)}},inputs:{chart:"chart",bi:"bi"},outputs:{buildDimParam:"buildDimParam"},decls:6,vars:8,consts:[[3,"nzSpinning"],["nzSize","small",2,"margin-bottom","12px",3,"nzTitle","nzBodyStyle","nzHoverable","nzExtra"],[4,"ngIf"],[3,"ngSwitch",4,"ngIf"],["extraTemplate",""],[2,"width","100%","display","flex","flex-direction","column","align-items","center","justify-content","center",3,"id","ngStyle"],["nz-icon","","nzType","pie-chart","nzTheme","twotone",2,"font-size","36px"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"url"],[2,"overflow","auto",3,"ngStyle"],["chartTable",""],[2,"padding","12px","text-align","center"],[3,"sg-container"],[4,"ngFor","ngForOf"],[2,"margin-bottom","16px",3,"nzValue","nzTitle","nzValueStyle"],[2,"width","100%",3,"id","ngStyle"],["nz-icon","","nzType","reload",3,"click"],["nz-icon","","nzType","download",3,"click"],["nzType","vertical"]],template:function(t,n){if(1&t&&(C.TgZ(0,"nz-spin",0)(1,"nz-card",1),C.YNc(2,V1,3,4,"ng-container",2),C.YNc(3,$1,5,4,"ng-container",3),C.qZA(),C.YNc(4,DT,2,1,"ng-template",null,4,C.W1O),C.qZA()),2&t){const s=C.MAs(5);C.Q6J("nzSpinning",n.chart.loading),C.xp6(1),C.Q6J("nzTitle",n.chart.name)("nzBodyStyle",C.DdM(7,Z1))("nzHoverable",!0)("nzExtra",s),C.xp6(1),C.Q6J("ngIf",!n.ready),C.xp6(1),C.Q6J("ngIf",n.ready)}},dependencies:[St.sg,St.O5,St.PC,St.RF,St.n9,St.ED,It.w,Z.Ls,Nt.W,ot.bd,tt.g,bT.M,U1,AT,JD,ek],styles:["@media (min-width: 1600px){[_nghost-%COMP%]     .ant-col-xxl-2{width:16.6666666%!important}}"]}),e})();const kT=["st"],BT=["biChart"],sk=function(){return{rows:10}};function lk(e,r){1&e&&C._UZ(0,"nz-skeleton",4),2&e&&C.Q6J("nzActive",!0)("nzTitle",!0)("nzParagraph",C.DdM(3,sk))}function PT(e,r){if(1&e){const t=C.EpF();C.ynx(0),C.TgZ(1,"button",10),C.NdJ("click",function(){C.CHM(t);const s=C.oxw(2);return C.KtG(s.exportBiData())}),C._UZ(2,"i",11),C._uU(3),C.ALo(4,"translate"),C.qZA(),C.BQk()}if(2&e){const t=C.oxw(2);C.xp6(1),C.Q6J("nzLoading",t.downloading)("disabled",!t.biTable.data||t.biTable.data.length<=0),C.xp6(2),C.hij("",C.lcZ(4,3,"table.download")," ")}}function zT(e,r){1&e&&C._UZ(0,"nz-divider",16)}function uk(e,r){if(1&e){const t=C.EpF();C.TgZ(0,"div",20)(1,"label",21),C.NdJ("ngModelChange",function(s){C.CHM(t);const u=C.oxw().$implicit;return C.KtG(u.show=s)})("ngModelChange",function(){C.CHM(t);const s=C.oxw(5);return C.KtG(s.st.resetColumns())}),C._uU(2),C.qZA()()}if(2&e){const t=C.oxw().$implicit;C.xp6(1),C.Q6J("ngModel",t.show),C.xp6(1),C.Oqu(t.title)}}function y0(e,r){if(1&e&&(C.ynx(0),C.YNc(1,uk,3,2,"div",19),C.BQk()),2&e){const t=r.$implicit;C.xp6(1),C.Q6J("ngIf",t.title&&t.index)}}function q1(e,r){if(1&e&&(C.TgZ(0,"div",17),C.YNc(1,y0,2,1,"ng-container",18),C.qZA()),2&e){const t=C.oxw(3);C.xp6(1),C.Q6J("ngForOf",t.st.columns)}}function ck(e,r){if(1&e&&(C.ynx(0),C.TgZ(1,"button",12),C._UZ(2,"i",13),C._uU(3),C.ALo(4,"translate"),C.qZA(),C.YNc(5,zT,1,0,"nz-divider",14),C.YNc(6,q1,2,1,"ng-template",null,15,C.W1O),C.BQk()),2&e){const t=C.MAs(7),n=C.oxw(2);C.xp6(1),C.Q6J("nzPopoverContent",t),C.xp6(2),C.hij("",C.lcZ(4,3,"table.col.ctrl")," "),C.xp6(2),C.Q6J("ngIf",n.bi.dimensions.length>0)}}function hk(e,r){if(1&e){const t=C.EpF();C.TgZ(0,"button",25),C.NdJ("click",function(){C.CHM(t);const s=C.oxw(3);return C.KtG(s.clearCondition())}),C._UZ(1,"i",26),C._uU(2),C.ALo(3,"translate"),C.qZA()}if(2&e){const t=C.oxw(3);C.Q6J("disabled",t.querying),C.xp6(2),C.hij("",C.lcZ(3,2,"table.reset")," ")}}function NT(e,r){if(1&e){const t=C.EpF();C.ynx(0),C.YNc(1,hk,4,4,"button",22),C.TgZ(2,"button",23),C.NdJ("click",function(){C.CHM(t);const s=C.oxw(2);return C.KtG(s.hideCondition=!s.hideCondition)}),C._UZ(3,"i",24),C.qZA(),C.BQk()}if(2&e){const t=C.oxw(2);C.xp6(1),C.Q6J("ngIf",!t.hideCondition),C.xp6(2),C.Q6J("nzType",t.hideCondition?"caret-down":"caret-up")}}function fk(e,r){if(1&e){const t=C.EpF();C.TgZ(0,"nz-card",27)(1,"bi-dimension",28),C.NdJ("search",function(){C.CHM(t);const s=C.oxw(2);return C.KtG(s.query({pageIndex:1,pageSize:s.biTable.size},!0))}),C.qZA()()}if(2&e){const t=C.oxw(2);C.Q6J("nzHoverable",!0)("hidden",t.hideCondition),C.xp6(1),C.Q6J("bi",t.bi)}}function HT(e,r){if(1&e&&(C.ynx(0),C.TgZ(1,"div",30),C._UZ(2,"bi-chart",31,32),C.qZA(),C.BQk()),2&e){const t=r.$implicit,n=C.oxw(3);C.xp6(1),C.Q6J("nzMd",t.grid)("nzXs",24),C.xp6(1),C.Q6J("chart",t)("bi",n.bi)}}function GT(e,r){if(1&e&&(C.ynx(0),C.TgZ(1,"div",29),C.ynx(2),C.YNc(3,HT,4,4,"ng-container",18),C.BQk(),C.qZA(),C.BQk()),2&e){const t=C.oxw(2);C.xp6(3),C.Q6J("ngForOf",t.bi.charts)}}function dk(e,r){1&e&&C._UZ(0,"i",38)}function vk(e,r){if(1&e){const t=C.EpF();C.ynx(0),C.TgZ(1,"nz-card",33)(2,"nz-result",34)(3,"div",35)(4,"button",36),C.NdJ("click",function(){C.CHM(t);const s=C.oxw(2);return C.KtG(s.query({pageIndex:1,pageSize:s.biTable.size}))}),C._UZ(5,"i",7),C._uU(6),C.ALo(7,"translate"),C.qZA()()(),C.YNc(8,dk,1,0,"ng-template",null,37,C.W1O),C.qZA(),C.BQk()}if(2&e){const t=C.MAs(9),n=C.oxw(2);C.xp6(1),C.Q6J("nzHoverable",!0)("nzBordered",!0),C.xp6(1),C.Q6J("nzIcon",t)("nzTitle","\u8f93\u5165\u67e5\u8be2\u6761\u4ef6\uff0c\u5f00\u542f\u67e5\u8be2\u64cd\u4f5c"),C.xp6(2),C.Q6J("nzLoading",n.querying)("nzGhost",!0),C.xp6(2),C.hij("",C.lcZ(7,7,"table.query")," ")}}function WT(e,r){1&e&&(C.ynx(0),C.TgZ(1,"nz-card"),C._UZ(2,"nz-empty"),C.qZA(),C.BQk())}function UT(e,r){if(1&e&&C._uU(0),2&e){const t=C.oxw(6);C.hij("\u5171",t.biTable.total,"\u6761")}}function pk(e,r){if(1&e){const t=C.EpF();C.ynx(0),C.TgZ(1,"nz-pagination",41),C.NdJ("nzPageSizeChange",function(s){C.CHM(t);const u=C.oxw(5);return C.KtG(u.pageSizeChange(s))})("nzPageIndexChange",function(s){C.CHM(t);const u=C.oxw(5);return C.KtG(u.pageIndexChange(s))}),C.qZA(),C.YNc(2,UT,1,1,"ng-template",null,42,C.W1O),C.BQk()}if(2&e){const t=C.MAs(3),n=C.oxw(5);C.xp6(1),C.Q6J("nzPageIndex",n.biTable.index)("nzPageSize",n.biTable.size)("nzTotal",n.biTable.total)("nzPageSizeOptions",n.biTable.page.pageSizes)("nzSize","small")("nzShowTotal",t)}}const gk=function(e){return{x:e}};function yk(e,r){if(1&e){const t=C.EpF();C.ynx(0),C.TgZ(1,"st",39,40),C.NdJ("change",function(s){C.CHM(t);const u=C.oxw(4);return C.KtG(u.biTableChange(s))}),C.qZA(),C.YNc(3,pk,4,6,"ng-container",3),C.BQk()}if(2&e){const t=C.oxw(4);C.xp6(1),C.Q6J("columns",t.columns)("data",t.biTable.data)("loading",t.querying)("ps",t.biTable.size)("page",t.biTable.page)("scroll",C.VKq(10,gk,(t.clientWidth>768?150*t.columns.length:0)+"px"))("bordered",t.settingSrv.layout.bordered)("resizable",!0)("size","small"),C.xp6(2),C.Q6J("ngIf",t.biTable.pageType==t.pageType.backend)}}function mk(e,r){if(1&e&&(C.ynx(0),C.YNc(1,WT,3,0,"ng-container",3),C.YNc(2,yk,4,12,"ng-container",3),C.BQk()),2&e){const t=C.oxw(3);C.xp6(1),C.Q6J("ngIf",t.columns.length<=0),C.xp6(1),C.Q6J("ngIf",t.columns&&t.columns.length>0)}}function j1(e,r){if(1&e&&(C.ynx(0),C.YNc(1,mk,3,2,"ng-container",3),C.BQk()),2&e){const t=C.oxw(2);C.xp6(1),C.Q6J("ngIf",t.bi.table)}}function xk(e,r){if(1&e){const t=C.EpF();C.ynx(0),C.TgZ(1,"div",5),C.ynx(2),C.TgZ(3,"button",6),C.NdJ("click",function(){C.CHM(t);const s=C.oxw();return C.KtG(s.query({pageIndex:1,pageSize:s.biTable.size},!0))}),C._UZ(4,"i",7),C._uU(5),C.ALo(6,"translate"),C.qZA(),C.BQk(),C.YNc(7,PT,5,5,"ng-container",3),C.TgZ(8,"div",8),C.YNc(9,ck,8,5,"ng-container",3),C.YNc(10,NT,4,2,"ng-container",3),C.qZA()(),C.YNc(11,fk,2,3,"nz-card",9),C.YNc(12,GT,4,1,"ng-container",3),C.YNc(13,vk,10,9,"ng-container",3),C.YNc(14,j1,2,1,"ng-container",3),C.BQk()}if(2&e){const t=C.oxw();C.xp6(3),C.Q6J("nzLoading",t.querying),C.xp6(2),C.hij("",C.lcZ(6,9,"table.query")," "),C.xp6(2),C.Q6J("ngIf",t.bi.export),C.xp6(2),C.Q6J("ngIf",t.columns&&t.columns.length>0),C.xp6(1),C.Q6J("ngIf",t.bi.dimensions.length>0),C.xp6(1),C.Q6J("ngIf",t.bi.dimensions.length>0),C.xp6(1),C.Q6J("ngIf",t.bi.charts.length>0),C.xp6(1),C.Q6J("ngIf",t.haveNotNull&&t.bi.table),C.xp6(1),C.Q6J("ngIf",!t.haveNotNull)}}const Ck=[{path:"",component:(()=>{class e{constructor(t,n,s,u,h,d,p){this.dataService=t,this.route=n,this.handlerService=s,this.settingSrv=u,this.appViewService=h,this.msg=d,this.modal=p,this.haveNotNull=!1,this.querying=!1,this.clientWidth=document.body.clientWidth,this.hideCondition=!1,this.pageType=Jt,this.sort={direction:null},this.biTable={index:1,size:10,total:0,page:{show:!1}},this.columns=[],this.downloading=!1}ngOnInit(){this.router$=this.route.params.subscribe(t=>{this.timer&&clearInterval(this.timer),this.name=t.name,this.biTable.data=null,this.dataService.getBiBuild(this.name).subscribe(n=>{this.bi=n,this.appViewService.setRouterViewDesc(this.bi.remark),this.bi.pageType==Jt.front&&(this.biTable.page={show:!0,front:!0,placement:"center",showSize:!0,showQuickJumper:!0}),this.biTable.size=this.bi.pageSize,this.biTable.page.pageSizes=this.bi.pageSizeOptions;for(let s of n.dimensions)if(s.type===jt.NUMBER_RANGE&&(s.$value=[]),(0,Rt.K0)(s.defaultValue)&&(s.$value=s.defaultValue),s.notNull&&(0,Rt.Ft)(s.$value))return void(this.haveNotNull=!0);this.query({pageIndex:1,pageSize:this.biTable.size}),this.bi.refreshTime&&(this.timer=setInterval(()=>{this.query({pageIndex:this.biTable.index,pageSize:this.biTable.size},!0,!1)},1e3*this.bi.refreshTime))})})}query(t,n,s=!0){let u=this.handlerService.buildDimParam(this.bi);u&&(n&&this.biCharts.forEach(h=>h.update(s)),this.bi.table&&(this.querying=!0,this.biTable.index=t.pageIndex,this.dataService.getBiData(this.bi.code,t.pageIndex,t.pageSize,this.sort.column,this.sort.direction,u).subscribe(h=>{if(this.querying=!1,this.haveNotNull=!1,this.biTable.total=h.total,this.biTable.pageType=this.bi.pageType,h.columns){let d=[];for(let p of h.columns)if(p.display){let y={title:{text:p.name,optional:"   ",optionalHelp:p.remark},index:p.name,width:p.width,className:"text-center",iif:x=>x.show,show:!0};p.sortable&&(y.sort={key:p.name,default:this.sort.column==p.name?this.sort.direction:null}),p.type==Kt.STRING||(p.type==Kt.NUMBER?y.type="number":p.type==Kt.DATE?y.type="date":p.type==Kt.DRILL&&(y.type="link",y.click=x=>{this.modal.create({nzWrapClassName:"modal-lg",nzKeyboard:!0,nzMaskClosable:!1,nzStyle:{top:"30px"},nzTitle:p.name,nzContent:et,nzComponentParams:{drillCode:p.code,bi:this.bi,row:x},nzFooter:null})})),d.push(y)}this.columns=d,this.biTable.data=h.list}else this.biTable.data=[]})))}biTableChange(t){"sort"==t.type&&(this.sort={column:t.sort.column.indexKey},t.sort.value&&(this.sort.direction=t.sort.value),this.query({pageIndex:1,pageSize:this.biTable.size}))}pageIndexChange(t){this.query({pageIndex:t,pageSize:this.biTable.size})}pageSizeChange(t){this.biTable.size=t,this.query({pageIndex:1,pageSize:t})}clearCondition(){for(let t of this.bi.dimensions)t.$value=null,t.$viewValue=null;this.query({pageIndex:1,pageSize:this.biTable.size})}exportBiData(){let t=this.handlerService.buildDimParam(this.bi);t&&(this.downloading=!0,this.dataService.exportExcel(this.bi.id,this.bi.code,t,()=>{this.downloading=!1}))}ngOnDestroy(){this.router$.unsubscribe(),this.timer&&clearInterval(this.timer)}}return e.\u0275fac=function(t){return new(t||e)(C.Y36(Mt),C.Y36(mt.gz),C.Y36(zt),C.Y36(be.gb),C.Y36(ft.O),C.Y36(dt.dD),C.Y36(ct.Sf))},e.\u0275cmp=C.Xpm({type:e,selectors:[["bi-skeleton"]],viewQuery:function(t,n){if(1&t&&(C.Gf(kT,5),C.Gf(BT,5)),2&t){let s;C.iGM(s=C.CRH())&&(n.st=s.first),C.iGM(s=C.CRH())&&(n.biCharts=s)}},decls:4,vars:3,consts:[[2,"padding","16px"],[3,"nzActive","nzTitle","nzParagraph",4,"ngIf"],[3,"id"],[4,"ngIf"],[3,"nzActive","nzTitle","nzParagraph"],[2,"display","flex"],["nz-button","",1,"mb-sm",3,"nzLoading","click"],["nz-icon","","nzType","search","nzTheme","outline"],[2,"margin-left","auto"],["style","margin-bottom: 12px;margin-top: 4px","nzSize","small",3,"nzHoverable","hidden",4,"ngIf"],["nz-button","",1,"mb-sm",3,"nzLoading","disabled","click"],["nz-icon","","nzType","download","nzTheme","outline"],["nz-button","","nzType","default","nz-popover","","nzPopoverTrigger","click",1,"mb-sm","hidden-mobile",3,"nzPopoverContent"],["nz-icon","","nzType","table","nzTheme","outline"],["nzType","vertical",4,"ngIf"],["tableColumnCtrl",""],["nzType","vertical"],["nz-row","",2,"max-width","520px"],[4,"ngFor","ngForOf"],["nz-col","","nzSpan","6","style","min-width: 130px;",4,"ngIf"],["nz-col","","nzSpan","6",2,"min-width","130px"],["nz-checkbox","",2,"width","130px",3,"ngModel","ngModelChange"],["nz-button","","class","mb-sm",3,"disabled","click",4,"ngIf"],["nz-button","",1,"mb-sm",2,"padding","4px 8px",3,"click"],["nz-icon","","nzTheme","outline",3,"nzType"],["nz-button","",1,"mb-sm",3,"disabled","click"],["nz-icon","","nzType","sync","nzTheme","outline"],["nzSize","small",2,"margin-bottom","12px","margin-top","4px",3,"nzHoverable","hidden"],[3,"bi","search"],["nz-row","","nzGutter","12"],["nz-col","",3,"nzMd","nzXs"],[3,"chart","bi"],["biChart",""],[3,"nzHoverable","nzBordered"],[3,"nzIcon","nzTitle"],["nz-result-extra",""],["nz-button","","nzType","primary",1,"mb-sm",3,"nzLoading","nzGhost","click"],["icon",""],["nz-icon","","nzType","rocket","nzTheme","twotone"],[2,"margin-bottom","12px",3,"columns","data","loading","ps","page","scroll","bordered","resizable","size","change"],["st",""],["nzShowSizeChanger","","nzShowQuickJumper","",2,"text-align","center",3,"nzPageIndex","nzPageSize","nzTotal","nzPageSizeOptions","nzSize","nzShowTotal","nzPageSizeChange","nzPageIndexChange"],["totalTemplate",""]],template:function(t,n){1&t&&(C.TgZ(0,"div",0),C.YNc(1,lk,1,4,"nz-skeleton",1),C.TgZ(2,"div",2),C.YNc(3,xk,15,11,"ng-container",3),C.qZA()()),2&t&&(C.xp6(1),C.Q6J("ngIf",!n.bi),C.xp6(1),C.Q6J("id",n.name),C.xp6(1),C.Q6J("ngIf",n.bi))},dependencies:[St.sg,St.O5,Q.JJ,Q.On,ve.A5,bt.ix,It.w,J.dQ,K.t3,K.SK,N.Ie,$.lU,Z.Ls,ot.bd,tt.g,Dt.dE,xt.ng,Hn,Ar,ji.p9,Hu,ok,Rl.C],styles:["[_nghost-%COMP%]     .ant-table{transition:.3s all;border-radius:0}[_nghost-%COMP%]     .ant-table:hover{border-color:#00000017;box-shadow:0 2px 8px #00000017}"]}),e})(),data:{desc:"BI",status:!0}}];let YT=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=C.oAB({type:e}),e.\u0275inj=C.cJS({imports:[mt.Bz.forChild(Ck),mt.Bz]}),e})();var wk=ut(635),po=ut(9002);let _k=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=C.oAB({type:e}),e.\u0275inj=C.cJS({providers:[Mt],imports:[St.ez,YT,wk.m,jo,ji.Xo,v0,QD,ih,po.YS]}),e})()},5066:function(fr,ke){!function(ut){"use strict";function he(Mt,zt){return function te(Mt){if(Array.isArray(Mt))return Mt}(Mt)||function Ee(Mt,zt){var ve=[],Vt=!0,Nt=!1,Dt=void 0;try{for(var at,W=Mt[Symbol.iterator]();!(Vt=(at=W.next()).done)&&(ve.push(at.value),!zt||ve.length!==zt);Vt=!0);}catch(Ht){Nt=!0,Dt=Ht}finally{try{!Vt&&null!=W.return&&W.return()}finally{if(Nt)throw Dt}}return ve}(Mt,zt)||function fe(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function le(Mt,zt,ve,Vt){Mt=Mt.filter(function(ft,Q){var bt=zt(ft,Q),It=ve(ft,Q);return null!=bt&&isFinite(bt)&&null!=It&&isFinite(It)}),Vt&&Mt.sort(function(ft,Q){return zt(ft)-zt(Q)});for(var ue,xe,Fe,Nt=Mt.length,Dt=new Float64Array(Nt),W=new Float64Array(Nt),at=0,Ht=0,et=0;et<Nt;)Dt[et]=ue=+zt(Fe=Mt[et],et,Mt),W[et]=xe=+ve(Fe,et,Mt),at+=(ue-at)/++et,Ht+=(xe-Ht)/et;for(var ct=0;ct<Nt;++ct)Dt[ct]-=at,W[ct]-=Ht;return[Dt,W,at,Ht]}function qt(Mt,zt,ve,Vt){for(var Nt=0,Dt=0,W=Mt.length;Dt<W;Dt++){var at=Mt[Dt],Ht=+zt(at,Dt,Mt),ue=+ve(at,Dt,Mt);null!=Ht&&isFinite(Ht)&&null!=ue&&isFinite(ue)&&Vt(Ht,ue,Nt++)}}function ne(Mt,zt,ve,Vt,Nt){var Dt=0,W=0;return qt(Mt,zt,ve,function(at,Ht){var ue=Ht-Nt(at),xe=Ht-Vt;Dt+=ue*ue,W+=xe*xe}),1-Dt/W}function kt(Mt){return 180*Math.atan2(Mt[1][1]-Mt[0][1],Mt[1][0]-Mt[0][0])/Math.PI}function Ut(Mt){return[(Mt[0][0]+Mt[1][0])/2,(Mt[0][1]+Mt[1][1])/2]}function Ce(Mt,zt,ve){for(var Vt=Math.log(zt-Mt)*Math.LOG10E+1|0,Nt=1*Math.pow(10,-Vt/2-1),W=[Ht(Mt),Ht(zt)],at=0;ue(W)&&at<1e4;);return W;function Ht(xe){return[xe,ve(xe)]}function ue(xe){at++;for(var Fe=xe.length,et=!1,ct=0;ct<Fe-1;ct++){var ft=xe[ct],bt=Ut([ft,xe[ct+1]]),It=Ht(bt[0]),J=kt([ft,bt]),K=kt([ft,It]);Math.abs(J-K)>Nt&&(xe.splice(ct+1,0,It),et=!0)}return et}}function ee(Mt,zt,ve,Vt){var Nt=Vt-Mt*Mt,Dt=Math.abs(Nt)<1e-24?0:(ve-Mt*zt)/Nt;return[zt-Dt*Mt,Dt]}function Ot(){var ve,Mt=function(Dt){return Dt[0]},zt=function(Dt){return Dt[1]};function Vt(Nt){var Dt=0,W=0,at=0,Ht=0,ue=0,xe=ve?+ve[0]:1/0,Fe=ve?+ve[1]:-1/0;qt(Nt,Mt,zt,function(J,K){++Dt,W+=(J-W)/Dt,at+=(K-at)/Dt,Ht+=(J*K-Ht)/Dt,ue+=(J*J-ue)/Dt,ve||(J<xe&&(xe=J),J>Fe&&(Fe=J))});var ct=he(ee(W,at,Ht,ue),2),ft=ct[0],Q=ct[1],bt=function(K){return Q*K+ft},It=[[xe,bt(xe)],[Fe,bt(Fe)]];return It.a=Q,It.b=ft,It.predict=bt,It.rSquared=ne(Nt,Mt,zt,at,bt),It}return Vt.domain=function(Nt){return arguments.length?(ve=Nt,Vt):ve},Vt.x=function(Nt){return arguments.length?(Mt=Nt,Vt):Mt},Vt.y=function(Nt){return arguments.length?(zt=Nt,Vt):zt},Vt}function St(Mt){Mt.sort(function(ve,Vt){return ve-Vt});var zt=Mt.length/2;return zt%1==0?(Mt[zt-1]+Mt[zt])/2:Mt[Math.floor(zt)]}var mt=2,pt=1e-12;function jt(Mt){return(Mt=1-Mt*Mt*Mt)*Mt*Mt}function Kt(Mt,zt,ve){var Vt=Mt[zt],Nt=ve[0],Dt=ve[1]+1;if(!(Dt>=Mt.length))for(;zt>Nt&&Mt[Dt]-Vt<=Vt-Mt[Nt];)ve[0]=++Nt,ve[1]=Dt,++Dt}function C(){var ve,Mt=function(Dt){return Dt[0]},zt=function(Dt){return Dt[1]};function Vt(Nt){var It,J,K,N,W=he(le(Nt,Mt,zt),4),at=W[0],Ht=W[1],ue=W[2],xe=W[3],Fe=at.length,et=0,ct=0,ft=0,Q=0,bt=0;for(It=0;It<Fe;)J=at[It],K=Ht[It++],et+=((N=J*J)-et)/It,ct+=(N*J-ct)/It,ft+=(N*N-ft)/It,Q+=(J*K-Q)/It,bt+=(N*K-bt)/It;var $=0,Z=0,ot=ve?+ve[0]:1/0,tt=ve?+ve[1]:-1/0;qt(Nt,Mt,zt,function(pe,nt){Z++,$+=(nt-$)/Z,ve||(pe<ot&&(ot=pe),pe>tt&&(tt=pe))});var xt=ft-et*et,Ct=et*xt-ct*ct,Yt=(bt*et-Q*ct)/Ct,ye=(Q*xt-bt*ct)/Ct,ie=-Yt*et,Be=function(nt){return Yt*(nt-=ue)*nt+ye*nt+ie+xe},Te=Ce(ot,tt,Be);return Te.a=Yt,Te.b=ye-2*Yt*ue,Te.c=ie-ye*ue+Yt*ue*ue+xe,Te.predict=Be,Te.rSquared=ne(Nt,Mt,zt,$,Be),Te}return Vt.domain=function(Nt){return arguments.length?(ve=Nt,Vt):ve},Vt.x=function(Nt){return arguments.length?(Mt=Nt,Vt):Mt},Vt.y=function(Nt){return arguments.length?(zt=Nt,Vt):zt},Vt}ut.regressionExp=function _e(){var ve,Mt=function(Dt){return Dt[0]},zt=function(Dt){return Dt[1]};function Vt(Nt){var Dt=0,W=0,at=0,Ht=0,ue=0,xe=0,Fe=ve?+ve[0]:1/0,et=ve?+ve[1]:-1/0;qt(Nt,Mt,zt,function(K,N){var $=Math.log(N),Z=K*N;++Dt,W+=(N-W)/Dt,Ht+=(Z-Ht)/Dt,xe+=(K*Z-xe)/Dt,at+=(N*$-at)/Dt,ue+=(Z*$-ue)/Dt,ve||(K<Fe&&(Fe=K),K>et&&(et=K))});var ft=he(ee(Ht/W,at/W,ue/W,xe/W),2),Q=ft[0],bt=ft[1];Q=Math.exp(Q);var It=function(N){return Q*Math.exp(bt*N)},J=Ce(Fe,et,It);return J.a=Q,J.b=bt,J.predict=It,J.rSquared=ne(Nt,Mt,zt,W,It),J}return Vt.domain=function(Nt){return arguments.length?(ve=Nt,Vt):ve},Vt.x=function(Nt){return arguments.length?(Mt=Nt,Vt):Mt},Vt.y=function(Nt){return arguments.length?(zt=Nt,Vt):zt},Vt},ut.regressionLinear=Ot,ut.regressionLoess=function Jt(){var Mt=function(Dt){return Dt[0]},zt=function(Dt){return Dt[1]},ve=.3;function Vt(Nt){for(var W=he(le(Nt,Mt,zt,!0),4),at=W[0],Ht=W[1],ue=W[2],xe=W[3],Fe=at.length,et=Math.max(2,~~(ve*Fe)),ct=new Float64Array(Fe),ft=new Float64Array(Fe),Q=new Float64Array(Fe).fill(1),bt=-1;++bt<=mt;){for(var It=[0,et-1],J=0;J<Fe;++J){for(var K=at[J],N=It[0],$=It[1],ot=0,tt=0,xt=0,Ct=0,Yt=0,ye=1/Math.abs(at[K-at[N]>at[$]-K?N:$]-K||1),ie=N;ie<=$;++ie){var Be=at[ie],Te=Ht[ie],pe=jt(Math.abs(K-Be)*ye)*Q[ie],nt=Be*pe;ot+=pe,tt+=nt,xt+=Te*pe,Ct+=Te*nt,Yt+=Be*nt}var wt=he(ee(tt/ot,xt/ot,Ct/ot,Yt/ot),2);ct[J]=wt[0]+wt[1]*K,ft[J]=Math.abs(Ht[J]-ct[J]),Kt(at,J+1,It)}if(bt===mt)break;var ce=St(ft);if(Math.abs(ce)<pt)break;for(var se,Zt,oe=0;oe<Fe;++oe)Q[oe]=(se=ft[oe]/(6*ce))>=1?pt:(Zt=1-se*se)*Zt}return function Rt(Mt,zt,ve,Vt){for(var ue,Nt=Mt.length,Dt=[],W=0,at=0,Ht=[];W<Nt;++W)Ht[0]===(ue=Mt[W]+ve)?Ht[1]+=(zt[W]-Ht[1])/++at:(at=0,Ht[1]+=Vt,Dt.push(Ht=[ue,zt[W]]));return Ht[1]+=Vt,Dt}(at,ct,ue,xe)}return Vt.bandwidth=function(Nt){return arguments.length?(ve=Nt,Vt):ve},Vt.x=function(Nt){return arguments.length?(Mt=Nt,Vt):Mt},Vt.y=function(Nt){return arguments.length?(zt=Nt,Vt):zt},Vt},ut.regressionLog=function dt(){var Vt,Mt=function(W){return W[0]},zt=function(W){return W[1]},ve=Math.E;function Nt(Dt){var W=0,at=0,Ht=0,ue=0,xe=0,Fe=Vt?+Vt[0]:1/0,et=Vt?+Vt[1]:-1/0,ct=Math.log(ve);qt(Dt,Mt,zt,function(N,$){var Z=Math.log(N)/ct;++W,at+=(Z-at)/W,Ht+=($-Ht)/W,ue+=(Z*$-ue)/W,xe+=(Z*Z-xe)/W,Vt||(N<Fe&&(Fe=N),N>et&&(et=N))});var Q=he(ee(at,Ht,ue,xe),2),bt=Q[0],It=Q[1],J=function($){return It*Math.log($)/ct+bt},K=Ce(Fe,et,J);return K.a=It,K.b=bt,K.predict=J,K.rSquared=ne(Dt,Mt,zt,Ht,J),K}return Nt.domain=function(Dt){return arguments.length?(Vt=Dt,Nt):Vt},Nt.x=function(Dt){return arguments.length?(Mt=Dt,Nt):Mt},Nt.y=function(Dt){return arguments.length?(zt=Dt,Nt):zt},Nt.base=function(Dt){return arguments.length?(ve=Dt,Nt):ve},Nt},ut.regressionPoly=function Bt(){var Vt,Mt=function(W){return W[0]},zt=function(W){return W[1]},ve=3;function Nt(Dt){if(1===ve){var W=Ot().x(Mt).y(zt).domain(Vt)(Dt);return W.coefficients=[W.b,W.a],delete W.a,delete W.b,W}if(2===ve){var at=C().x(Mt).y(zt).domain(Vt)(Dt);return at.coefficients=[at.c,at.b,at.a],delete at.a,delete at.b,delete at.c,at}var Z,ot,tt,xt,Ct,ue=he(le(Dt,Mt,zt),4),xe=ue[0],Fe=ue[1],et=ue[2],ct=ue[3],ft=xe.length,Q=[],bt=[],It=ve+1,J=0,K=0,N=Vt?+Vt[0]:1/0,$=Vt?+Vt[1]:-1/0;for(qt(Dt,Mt,zt,function(Be,Te){++K,J+=(Te-J)/K,Vt||(Be<N&&(N=Be),Be>$&&($=Be))}),Z=0;Z<It;++Z){for(tt=0,xt=0;tt<ft;++tt)xt+=Math.pow(xe[tt],Z)*Fe[tt];for(Q.push(xt),Ct=new Float64Array(It),ot=0;ot<It;++ot){for(tt=0,xt=0;tt<ft;++tt)xt+=Math.pow(xe[tt],Z+ot);Ct[ot]=xt}bt.push(Ct)}bt.push(Q);var Yt=function Se(Mt){var Vt,Nt,Dt,W,at,zt=Mt.length-1,ve=[];for(Vt=0;Vt<zt;++Vt){for(W=Vt,Nt=Vt+1;Nt<zt;++Nt)Math.abs(Mt[Vt][Nt])>Math.abs(Mt[Vt][W])&&(W=Nt);for(Dt=Vt;Dt<zt+1;++Dt)at=Mt[Dt][Vt],Mt[Dt][Vt]=Mt[Dt][W],Mt[Dt][W]=at;for(Nt=Vt+1;Nt<zt;++Nt)for(Dt=zt;Dt>=Vt;Dt--)Mt[Dt][Nt]-=Mt[Dt][Vt]*Mt[Vt][Nt]/Mt[Vt][Vt]}for(Nt=zt-1;Nt>=0;--Nt){for(at=0,Dt=Nt+1;Dt<zt;++Dt)at+=Mt[Dt][Nt]*ve[Dt];ve[Nt]=(Mt[zt][Nt]-at)/Mt[Nt][Nt]}return ve}(bt),ye=function(Te){var pe=ct+Yt[0]+Yt[1]*(Te-=et)+Yt[2]*Te*Te;for(Z=3;Z<It;++Z)pe+=Yt[Z]*Math.pow(Te,Z);return pe},ie=Ce(N,$,ye);return ie.coefficients=function Xt(Mt,zt,ve,Vt){var Dt,W,at,Ht,Nt=Array(Mt);for(Dt=0;Dt<Mt;++Dt)Nt[Dt]=0;for(Dt=Mt-1;Dt>=0;--Dt)for(Ht=1,Nt[Dt]+=at=zt[Dt],W=1;W<=Dt;++W)Ht*=(Dt+1-W)/W,Nt[Dt-W]+=at*Math.pow(ve,W)*Ht;return Nt[0]+=Vt,Nt}(It,Yt,-et,ct),ie.predict=ye,ie.rSquared=ne(Dt,Mt,zt,J,ye),ie}return Nt.domain=function(Dt){return arguments.length?(Vt=Dt,Nt):Vt},Nt.x=function(Dt){return arguments.length?(Mt=Dt,Nt):Mt},Nt.y=function(Dt){return arguments.length?(zt=Dt,Nt):zt},Nt.order=function(Dt){return arguments.length?(ve=Dt,Nt):ve},Nt},ut.regressionPow=function be(){var ve,Mt=function(Dt){return Dt[0]},zt=function(Dt){return Dt[1]};function Vt(Nt){var Dt=0,W=0,at=0,Ht=0,ue=0,xe=0,Fe=ve?+ve[0]:1/0,et=ve?+ve[1]:-1/0;qt(Nt,Mt,zt,function(K,N){var $=Math.log(K),Z=Math.log(N);++Dt,W+=($-W)/Dt,at+=(Z-at)/Dt,Ht+=($*Z-Ht)/Dt,ue+=($*$-ue)/Dt,xe+=(N-xe)/Dt,ve||(K<Fe&&(Fe=K),K>et&&(et=K))});var ft=he(ee(W,at,Ht,ue),2),Q=ft[0],bt=ft[1];Q=Math.exp(Q);var It=function(N){return Q*Math.pow(N,bt)},J=Ce(Fe,et,It);return J.a=Q,J.b=bt,J.predict=It,J.rSquared=ne(Nt,Mt,zt,xe,It),J}return Vt.domain=function(Nt){return arguments.length?(ve=Nt,Vt):ve},Vt.x=function(Nt){return arguments.length?(Mt=Nt,Vt):Mt},Vt.y=function(Nt){return arguments.length?(zt=Nt,Vt):zt},Vt},ut.regressionQuad=C,Object.defineProperty(ut,"__esModule",{value:!0})}(ke)},2260:(fr,ke,ut)=>{"use strict";ut.d(ke,{qY:()=>_e});var he=function(Kt,Rt,dt){if(dt||2===arguments.length)for(var Xt,C=0,Bt=Rt.length;C<Bt;C++)(Xt||!(C in Rt))&&(Xt||(Xt=Array.prototype.slice.call(Rt,0,C)),Xt[C]=Rt[C]);return Kt.concat(Xt||Array.prototype.slice.call(Rt))},te=function Kt(Rt,dt,C){this.name=Rt,this.version=dt,this.os=C,this.type="browser"},Ee=function Kt(Rt){this.version=Rt,this.type="node",this.name="node",this.os=process.platform},fe=function Kt(Rt,dt,C,Bt){this.name=Rt,this.version=dt,this.os=C,this.bot=Bt,this.type="bot-device"},le=function Kt(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},qt=function Kt(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},kt=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Ut=3,Ce=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],ee=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function _e(Kt){return Kt?mt(Kt):typeof document>"u"&&typeof navigator<"u"&&"ReactNative"===navigator.product?new qt:typeof navigator<"u"?mt(navigator.userAgent):function Jt(){return typeof process<"u"&&process.version?new Ee(process.version.slice(1)):null}()}function mt(Kt){var Rt=function Ot(Kt){return""!==Kt&&Ce.reduce(function(Rt,dt){var C=dt[0];if(Rt)return Rt;var Xt=dt[1].exec(Kt);return!!Xt&&[C,Xt]},!1)}(Kt);if(!Rt)return null;var dt=Rt[0],C=Rt[1];if("searchbot"===dt)return new le;var Bt=C[1]&&C[1].split(".").join("_").split("_").slice(0,3);Bt?Bt.length<Ut&&(Bt=he(he([],Bt,!0),function jt(Kt){for(var Rt=[],dt=0;dt<Kt;dt++)Rt.push("0");return Rt}(Ut-Bt.length),!0)):Bt=[];var Xt=Bt.join("."),Se=function pt(Kt){for(var Rt=0,dt=ee.length;Rt<dt;Rt++){var C=ee[Rt],Bt=C[0];if(C[1].exec(Kt))return Bt}return null}(Kt),be=kt.exec(Kt);return be&&be[1]?new fe(dt,Xt,Se,be[1]):new te(dt,Xt,Se)}},6948:function(fr,ke){!function(ut){"use strict";function te(Ot){for(var St=new Array(Ot),mt=0;mt<Ot;++mt)St[mt]=0;return St}function fe(Ot,St){for(var mt=0,pt=0;pt<Ot.length;++pt)mt+=Ot[pt]*St[pt];return mt}function le(Ot){return Math.sqrt(fe(Ot,Ot))}function qt(Ot,St,mt){for(var pt=0;pt<St.length;++pt)Ot[pt]=St[pt]*mt}function ne(Ot,St,mt,pt,Jt){for(var jt=0;jt<Ot.length;++jt)Ot[jt]=St*mt[jt]+pt*Jt[jt]}function Ut(Ot,St,mt,pt,Jt,jt,Kt){var Rt=mt.fx,dt=fe(mt.fxprime,St),C=Rt,Bt=Rt,Xt=dt,Se=0;function be(zt,ve,Vt){for(var Nt=0;Nt<16;++Nt)if(ne(pt.x,1,mt.x,Jt=(zt+ve)/2,St),C=pt.fx=Ot(pt.x,pt.fxprime),Xt=fe(pt.fxprime,St),C>Rt+jt*Jt*dt||C>=Vt)ve=Jt;else{if(Math.abs(Xt)<=-Kt*dt)return Jt;Xt*(ve-zt)>=0&&(ve=zt),zt=Jt,Vt=C}return 0}Jt=Jt||1,jt=jt||1e-6,Kt=Kt||.1;for(var Mt=0;Mt<10;++Mt){if(ne(pt.x,1,mt.x,Jt,St),C=pt.fx=Ot(pt.x,pt.fxprime),Xt=fe(pt.fxprime,St),C>Rt+jt*Jt*dt||Mt&&C>=Bt)return be(Se,Jt,Bt);if(Math.abs(Xt)<=-Kt*dt)return Jt;if(Xt>=0)return be(Jt,Se,C);Bt=C,Se=Jt,Jt*=2}return Jt}ut.bisect=function he(Ot,St,mt,pt){var Jt=(pt=pt||{}).maxIterations||100,jt=pt.tolerance||1e-10,Kt=Ot(St),Rt=Ot(mt),dt=mt-St;if(Kt*Rt>0)throw"Initial bisect points must have opposite signs";if(0===Kt)return St;if(0===Rt)return mt;for(var C=0;C<Jt;++C){var Bt=St+(dt/=2),Xt=Ot(Bt);if(Xt*Kt>=0&&(St=Bt),Math.abs(dt)<jt||0===Xt)return Bt}return St+dt},ut.nelderMead=function kt(Ot,St,mt){var Se,pt=(mt=mt||{}).maxIterations||200*St.length,Jt=mt.nonZeroDelta||1.05,jt=mt.zeroDelta||.001,Kt=mt.minErrorDelta||1e-6,Rt=mt.minErrorDelta||1e-5,dt=void 0!==mt.rho?mt.rho:1,C=void 0!==mt.chi?mt.chi:2,Bt=void 0!==mt.psi?mt.psi:-.5,Xt=void 0!==mt.sigma?mt.sigma:.5,be=St.length,Mt=new Array(be+1);Mt[0]=St,Mt[0].fx=Ot(St),Mt[0].id=0;for(var zt=0;zt<be;++zt){var ve=St.slice();ve[zt]=ve[zt]?ve[zt]*Jt:jt,Mt[zt+1]=ve,Mt[zt+1].fx=Ot(ve),Mt[zt+1].id=zt+1}function Vt(ft){for(var Q=0;Q<ft.length;Q++)Mt[be][Q]=ft[Q];Mt[be].fx=ft.fx}for(var Nt=function(ft,Q){return ft.fx-Q.fx},Dt=St.slice(),W=St.slice(),at=St.slice(),Ht=St.slice(),ue=0;ue<pt;++ue){if(Mt.sort(Nt),mt.history){var xe=Mt.map(function(ft){var Q=ft.slice();return Q.fx=ft.fx,Q.id=ft.id,Q});xe.sort(function(ft,Q){return ft.id-Q.id}),mt.history.push({x:Mt[0].slice(),fx:Mt[0].fx,simplex:xe})}for(Se=0,zt=0;zt<be;++zt)Se=Math.max(Se,Math.abs(Mt[0][zt]-Mt[1][zt]));if(Math.abs(Mt[0].fx-Mt[be].fx)<Kt&&Se<Rt)break;for(zt=0;zt<be;++zt){Dt[zt]=0;for(var Fe=0;Fe<be;++Fe)Dt[zt]+=Mt[Fe][zt];Dt[zt]/=be}var et=Mt[be];if(ne(W,1+dt,Dt,-dt,et),W.fx=Ot(W),W.fx<Mt[0].fx)ne(Ht,1+C,Dt,-C,et),Ht.fx=Ot(Ht),Vt(Ht.fx<W.fx?Ht:W);else if(W.fx>=Mt[be-1].fx){var ct=!1;if(W.fx>et.fx?(ne(at,1+Bt,Dt,-Bt,et),at.fx=Ot(at),at.fx<et.fx?Vt(at):ct=!0):(ne(at,1-Bt*dt,Dt,Bt*dt,et),at.fx=Ot(at),at.fx<W.fx?Vt(at):ct=!0),ct){if(Xt>=1)break;for(zt=1;zt<Mt.length;++zt)ne(Mt[zt],1-Xt,Mt[0],Xt,Mt[zt]),Mt[zt].fx=Ot(Mt[zt])}}else Vt(W)}return Mt.sort(Nt),{fx:Mt[0].fx,x:Mt[0]}},ut.conjugateGradient=function Ce(Ot,St,mt){var Kt,Rt,C,pt={x:St.slice(),fx:0,fxprime:St.slice()},Jt={x:St.slice(),fx:0,fxprime:St.slice()},jt=St.slice(),dt=1;C=(mt=mt||{}).maxIterations||20*St.length,pt.fx=Ot(pt.x,pt.fxprime),qt(Kt=pt.fxprime.slice(),pt.fxprime,-1);for(var Bt=0;Bt<C;++Bt){if(dt=Ut(Ot,Kt,pt,Jt,dt),mt.history&&mt.history.push({x:pt.x.slice(),fx:pt.fx,fxprime:pt.fxprime.slice(),alpha:dt}),dt){ne(jt,1,Jt.fxprime,-1,pt.fxprime);var Xt=fe(pt.fxprime,pt.fxprime);ne(Kt,Math.max(0,fe(jt,Jt.fxprime)/Xt),Kt,-1,Jt.fxprime),Rt=pt,pt=Jt,Jt=Rt}else qt(Kt,pt.fxprime,-1);if(le(pt.fxprime)<=1e-5)break}return mt.history&&mt.history.push({x:pt.x.slice(),fx:pt.fx,fxprime:pt.fxprime.slice(),alpha:dt}),pt},ut.gradientDescent=function ee(Ot,St,mt){for(var pt=(mt=mt||{}).maxIterations||100*St.length,Jt=mt.learnRate||.001,jt={x:St.slice(),fx:0,fxprime:St.slice()},Kt=0;Kt<pt&&(jt.fx=Ot(jt.x,jt.fxprime),mt.history&&mt.history.push({x:jt.x.slice(),fx:jt.fx,fxprime:jt.fxprime.slice()}),ne(jt.x,1,jt.x,-Jt,jt.fxprime),!(le(jt.fxprime)<=1e-5));++Kt);return jt},ut.gradientDescentLineSearch=function _e(Ot,St,mt){mt=mt||{};var Bt,pt={x:St.slice(),fx:0,fxprime:St.slice()},Jt={x:St.slice(),fx:0,fxprime:St.slice()},jt=mt.maxIterations||100*St.length,Kt=mt.learnRate||1,Rt=St.slice(),dt=mt.c1||.001,C=mt.c2||.1,Xt=[];if(mt.history){var Se=Ot;Ot=function(Mt,zt){return Xt.push(Mt.slice()),Se(Mt,zt)}}pt.fx=Ot(pt.x,pt.fxprime);for(var be=0;be<jt&&(qt(Rt,pt.fxprime,-1),Kt=Ut(Ot,Rt,pt,Jt,Kt,dt,C),mt.history&&(mt.history.push({x:pt.x.slice(),fx:pt.fx,fxprime:pt.fxprime.slice(),functionCalls:Xt,learnRate:Kt,alpha:Kt}),Xt=[]),Bt=pt,pt=Jt,Jt=Bt,!(0===Kt||le(pt.fxprime)<1e-5));++be);return pt},ut.zeros=te,ut.zerosM=function Ee(Ot,St){return te(Ot).map(function(){return te(St)})},ut.norm2=le,ut.weightedSum=ne,ut.scale=qt}(ke)},5278:(fr,ke,ut)=>{"use strict";ut.d(ke,{WT:()=>te});var te=typeof Float32Array<"u"?Float32Array:Array;Math,Math,Math.hypot||(Math.hypot=function(){for(var kt=0,Ut=arguments.length;Ut--;)kt+=arguments[Ut]*arguments[Ut];return Math.sqrt(kt)})},7543:(fr,ke,ut)=>{"use strict";function Ut(W,at){var Ht=at[0],ue=at[1],xe=at[2],Fe=at[3],et=at[4],ct=at[5],ft=at[6],Q=at[7],bt=at[8],It=bt*et-ct*Q,J=-bt*Fe+ct*ft,K=Q*Fe-et*ft,N=Ht*It+ue*J+xe*K;return N?(W[0]=It*(N=1/N),W[1]=(-bt*ue+xe*Q)*N,W[2]=(ct*ue-xe*et)*N,W[3]=J*N,W[4]=(bt*Ht-xe*ft)*N,W[5]=(-ct*Ht+xe*Fe)*N,W[6]=K*N,W[7]=(-Q*Ht+ue*ft)*N,W[8]=(et*Ht-ue*Fe)*N,W):null}function _e(W,at,Ht){var ue=at[0],xe=at[1],Fe=at[2],et=at[3],ct=at[4],ft=at[5],Q=at[6],bt=at[7],It=at[8],J=Ht[0],K=Ht[1],N=Ht[2],$=Ht[3],Z=Ht[4],ot=Ht[5],tt=Ht[6],xt=Ht[7],Ct=Ht[8];return W[0]=J*ue+K*et+N*Q,W[1]=J*xe+K*ct+N*bt,W[2]=J*Fe+K*ft+N*It,W[3]=$*ue+Z*et+ot*Q,W[4]=$*xe+Z*ct+ot*bt,W[5]=$*Fe+Z*ft+ot*It,W[6]=tt*ue+xt*et+Ct*Q,W[7]=tt*xe+xt*ct+Ct*bt,W[8]=tt*Fe+xt*ft+Ct*It,W}function pt(W,at){return W[0]=1,W[1]=0,W[2]=0,W[3]=0,W[4]=1,W[5]=0,W[6]=at[0],W[7]=at[1],W[8]=1,W}function Jt(W,at){var Ht=Math.sin(at),ue=Math.cos(at);return W[0]=ue,W[1]=Ht,W[2]=0,W[3]=-Ht,W[4]=ue,W[5]=0,W[6]=0,W[7]=0,W[8]=1,W}function jt(W,at){return W[0]=at[0],W[1]=0,W[2]=0,W[3]=0,W[4]=at[1],W[5]=0,W[6]=0,W[7]=0,W[8]=1,W}ut.d(ke,{Jp:()=>_e,U_:()=>Ut,Us:()=>Jt,vc:()=>pt,xJ:()=>jt})},8235:(fr,ke,ut)=>{"use strict";ut.d(ke,{$X:()=>kt,AK:()=>Se,EU:()=>at,Fp:()=>St,Fv:()=>Xt,I6:()=>xe,IH:()=>ne,TE:()=>jt,VV:()=>Ot,bA:()=>pt,kE:()=>Rt,kK:()=>Nt,lu:()=>ct});var he=ut(5278);function ne(N,$,Z){return N[0]=$[0]+Z[0],N[1]=$[1]+Z[1],N}function kt(N,$,Z){return N[0]=$[0]-Z[0],N[1]=$[1]-Z[1],N}function Ot(N,$,Z){return N[0]=Math.min($[0],Z[0]),N[1]=Math.min($[1],Z[1]),N}function St(N,$,Z){return N[0]=Math.max($[0],Z[0]),N[1]=Math.max($[1],Z[1]),N}function pt(N,$,Z){return N[0]=$[0]*Z,N[1]=$[1]*Z,N}function jt(N,$){return Math.hypot($[0]-N[0],$[1]-N[1])}function Rt(N){return Math.hypot(N[0],N[1])}function Xt(N,$){var Z=$[0],ot=$[1],tt=Z*Z+ot*ot;return tt>0&&(tt=1/Math.sqrt(tt)),N[0]=$[0]*tt,N[1]=$[1]*tt,N}function Se(N,$){return N[0]*$[0]+N[1]*$[1]}function Nt(N,$,Z){var ot=$[0],tt=$[1];return N[0]=Z[0]*ot+Z[3]*tt+Z[6],N[1]=Z[1]*ot+Z[4]*tt+Z[7],N}function at(N,$){var Z=N[0],ot=N[1],tt=$[0],xt=$[1],Ct=Math.sqrt(Z*Z+ot*ot)*Math.sqrt(tt*tt+xt*xt);return Math.acos(Math.min(Math.max(Ct&&(Z*tt+ot*xt)/Ct,-1),1))}function xe(N,$){return N[0]===$[0]&&N[1]===$[1]}var ct=kt;(function te(){var N=new he.WT(2);he.WT!=Float32Array&&(N[0]=0,N[1]=0)})()},6224:fr=>{"use strict";var ke=fr.exports;fr.exports.isNumber=function(ut){return"number"==typeof ut},fr.exports.findMin=function(ut){if(0===ut.length)return 1/0;for(var he=ut[0],te=1;te<ut.length;te++)he=Math.min(he,ut[te]);return he},fr.exports.findMax=function(ut){if(0===ut.length)return-1/0;for(var he=ut[0],te=1;te<ut.length;te++)he=Math.max(he,ut[te]);return he},fr.exports.findMinMulti=function(ut){for(var he=ke.findMin(ut[0]),te=1;te<ut.length;te++)he=Math.min(he,ke.findMin(ut[te]));return he},fr.exports.findMaxMulti=function(ut){for(var he=ke.findMax(ut[0]),te=1;te<ut.length;te++)he=Math.max(he,ke.findMax(ut[te]));return he},fr.exports.inside=function(ut,he,te){return ut<=te&&te<=he}},4319:(fr,ke,ut)=>{"use strict";var Ee=Math.log(2),fe=fr.exports,le=ut(6224);function qt(kt){return 1-Math.abs(kt)}fr.exports.getUnifiedMinMax=function(kt,Ut){return fe.getUnifiedMinMaxMulti([kt],Ut)},fr.exports.getUnifiedMinMaxMulti=function(kt,Ut){var Ce=!1,ee=!1,_e=le.isNumber((Ut=Ut||{}).width)?Ut.width:2,Ot=le.isNumber(Ut.size)?Ut.size:50,St=le.isNumber(Ut.min)?Ut.min:(Ce=!0,le.findMinMulti(kt)),mt=le.isNumber(Ut.max)?Ut.max:(ee=!0,le.findMaxMulti(kt)),Jt=(mt-St)/(Ot-1);return Ce&&(St-=2*_e*Jt),ee&&(mt+=2*_e*Jt),{min:St,max:mt}},fr.exports.create=function(kt,Ut){if(!kt||0===kt.length)return[];var Ce=le.isNumber((Ut=Ut||{}).size)?Ut.size:50,ee=le.isNumber(Ut.width)?Ut.width:2,_e=fe.getUnifiedMinMax(kt,{size:Ce,width:ee,min:Ut.min,max:Ut.max}),Ot=_e.min,mt=_e.max-Ot,pt=mt/(Ce-1);if(0===mt)return[{x:Ot,y:1}];for(var Jt=[],jt=0;jt<Ce;jt++)Jt.push({x:Ot+jt*pt,y:0});var Rt=function ne(kt,Ut){for(var Ce={},ee=0,_e=-Ut;_e<=Ut;_e++)ee+=kt(_e/Ut),Ce[_e]=ee;return Ce}(qt,ee),dt=Rt[ee],C=Rt[ee-1]-Rt[ee-2],Bt=0;kt.forEach(function(Mt){var zt=function(Mt){return Math.floor((Mt-Ot)/pt)}(Mt);if(!(zt+ee<0||zt-ee>=Jt.length)){var ve=Math.max(zt-ee,0),Vt=zt,Nt=Math.min(zt+ee,Jt.length-1),Dt=ve-(zt-ee),ue=dt/(dt-(Rt[-ee-1+Dt]||0)-(Rt[-ee-1+(zt+ee-Nt)]||0));Dt>0&&(Bt+=ue*(Dt-1)*C);var xe=Math.max(0,zt-ee+1);le.inside(0,Jt.length-1,xe)&&(Jt[xe].y+=1*ue*C),le.inside(0,Jt.length-1,Vt+1)&&(Jt[Vt+1].y-=2*ue*C),le.inside(0,Jt.length-1,Nt+1)&&(Jt[Nt+1].y+=1*ue*C)}});var Xt=Bt,Se=0,be=0;return Jt.forEach(function(Mt){Mt.y=Xt+=Se+=Mt.y,be+=Xt}),be>0&&Jt.forEach(function(Mt){Mt.y/=be}),Jt},fr.exports.getExpectedValueFromPdf=function(kt){if(kt&&0!==kt.length){var Ut=0;return kt.forEach(function(Ce){Ut+=Ce.x*Ce.y}),Ut}},fr.exports.getXWithLeftTailArea=function(kt,Ut){if(kt&&0!==kt.length){for(var Ce=0,ee=0,_e=0;_e<kt.length&&(ee=_e,!((Ce+=kt[_e].y)>=Ut));_e++);return kt[ee].x}},fr.exports.getPerplexity=function(kt){if(kt&&0!==kt.length){var Ut=0;return kt.forEach(function(Ce){var ee=Math.log(Ce.y);isFinite(ee)&&(Ut+=Ce.y*ee)}),Ut=-Ut/Ee,Math.pow(2,Ut)}}},8836:(fr,ke)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0}),ke.SizeSensorId=ke.SensorTabIndex=ke.SensorClassName=void 0,ke.SizeSensorId="size-sensor-id",ke.SensorClassName="size-sensor-object",ke.SensorTabIndex="-1"},1920:(fr,ke)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0}),ke.default=void 0,ke.default=function(te){var Ee=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,fe=null;return function(){for(var le=this,qt=arguments.length,ne=new Array(qt),kt=0;kt<qt;kt++)ne[kt]=arguments[kt];clearTimeout(fe),fe=setTimeout(function(){te.apply(le,ne)},Ee)}}},595:(fr,ke)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0}),ke.default=void 0;var ut=1;ke.default=function(){return"".concat(ut++)}},1909:(fr,ke,ut)=>{"use strict";ke.ak=void 0;var te=ut(53);ke.ak=function(ne,kt){var Ut=(0,te.getSensor)(ne);return Ut.bind(kt),function(){Ut.unbind(kt)}}},53:(fr,ke,ut)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0}),ke.removeSensor=ke.getSensor=ke.Sensors=void 0;var he=function fe(Ut){return Ut&&Ut.__esModule?Ut:{default:Ut}}(ut(595)),te=ut(627),Ee=ut(8836),le={};function qt(Ut){Ut&&le[Ut]&&delete le[Ut]}ke.Sensors=le,ke.getSensor=function(Ce){var ee=Ce.getAttribute(Ee.SizeSensorId);if(ee&&le[ee])return le[ee];var _e=(0,he.default)();Ce.setAttribute(Ee.SizeSensorId,_e);var Ot=(0,te.createSensor)(Ce,function(){return qt(_e)});return le[_e]=Ot,Ot},ke.removeSensor=function(Ce){var ee=Ce.element.getAttribute(Ee.SizeSensorId);Ce.destroy(),qt(ee)}},627:(fr,ke,ut)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0}),ke.createSensor=void 0;var he=ut(1463),te=ut(4534),Ee=typeof ResizeObserver<"u"?te.createSensor:he.createSensor;ke.createSensor=Ee},1463:(fr,ke,ut)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0}),ke.createSensor=void 0;var he=function Ee(le){return le&&le.__esModule?le:{default:le}}(ut(1920)),te=ut(8836);ke.createSensor=function(qt,ne){var kt=void 0,Ut=[],ee=(0,he.default)(function(){Ut.forEach(function(mt){mt(qt)})}),Ot=function(){kt&&kt.parentNode&&(kt.contentDocument&&kt.contentDocument.defaultView.removeEventListener("resize",ee),kt.parentNode.removeChild(kt),qt.removeAttribute(te.SizeSensorId),kt=void 0,Ut=[],ne&&ne())};return{element:qt,bind:function(pt){kt||(kt=function(){"static"===getComputedStyle(qt).position&&(qt.style.position="relative");var pt=document.createElement("object");return pt.onload=function(){pt.contentDocument.defaultView.addEventListener("resize",ee),ee()},pt.style.display="block",pt.style.position="absolute",pt.style.top="0",pt.style.left="0",pt.style.height="100%",pt.style.width="100%",pt.style.overflow="hidden",pt.style.pointerEvents="none",pt.style.zIndex="-1",pt.style.opacity="0",pt.setAttribute("class",te.SensorClassName),pt.setAttribute("tabindex",te.SensorTabIndex),pt.type="text/html",qt.appendChild(pt),pt.data="about:blank",pt}()),-1===Ut.indexOf(pt)&&Ut.push(pt)},destroy:Ot,unbind:function(pt){var Jt=Ut.indexOf(pt);-1!==Jt&&Ut.splice(Jt,1),0===Ut.length&&kt&&Ot()}}}},4534:(fr,ke,ut)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0}),ke.createSensor=void 0;var he=ut(8836),te=function Ee(le){return le&&le.__esModule?le:{default:le}}(ut(1920));ke.createSensor=function(qt,ne){var kt=void 0,Ut=[],Ce=(0,te.default)(function(){Ut.forEach(function(mt){mt(qt)})}),Ot=function(){kt.disconnect(),Ut=[],kt=void 0,qt.removeAttribute(he.SizeSensorId),ne&&ne()};return{element:qt,bind:function(pt){kt||(kt=function(){var pt=new ResizeObserver(Ce);return pt.observe(qt),Ce(),pt}()),-1===Ut.indexOf(pt)&&Ut.push(pt)},destroy:Ot,unbind:function(pt){var Jt=Ut.indexOf(pt);-1!==Jt&&Ut.splice(Jt,1),0===Ut.length&&kt&&Ot()}}}}}]);